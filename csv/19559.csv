"本文提出了一种应用于IP/MPLS-OTN-DWDM三层网络的网络保护模型。在该架构之中，明确的将OTN层看成单独的层，同时考虑其本身的技术约束。在网络生存性设计上，在减少保护资源的前提下规定每层只保护常规容量以实现最大化保护效果。同时提出了一种启发式解决方案，将该问题分成三个子问题，降低复杂度，最后通过一个基于多网络参数的仿真实验，以探明其对保护容量和整体开销的影响。 关键词 :多层网络保护，光传输网，网络生存性，网络优化 Copyright © 2017 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"网络的生存性又可称为网络的抗毁性，指的是在网络发生故障的时候，网络能保证业务正常运行的能力 [ 1 ] ，网络生存性能力主要包括恢复技术和保护技术 [ 2 ] ，这两种技术都依赖于网络本身的资源预留，需要网络能提供额外的设备或资源来保障网络的可靠性。最佳的网络生存性技术便是在保证业务能够正常运行的前提下，最小化网络的维护运营成本。 在两层网络中，如IP-WDM，信号恢复机制可以应用于两者之间任一层，该设计包含一个关键的问题：应当将保护机制置于哪一层。放在上层的好处有两个，一是当发生故障时(无论故障出现在上层还是下层)，网络可以完全恢复，二是由于上层经常执行基于不同QoS需求的不同服务 [ 3 ] [ 4 ] ，因此在上层提供不同的可生存性更加简单，然而，将保护机制置于上层存在一些缺点，一是上层的故障恢复速度通常比下层的故障恢复速度慢，这是IP的性质使然，二是当故障发生在下层时，故障将影响大量上层的流量，此时需要上层进行大量恢复进程来使其修复。 若保护机制置于下层，它的恢复速度比将保护机制置于上层更快，因为它的粗颗粒性，它不需要更多的操作。然而置于下层的缺点是有一些故障(如IP路由故障)是下层不能处理的。 尽管当前已经有许多针对多层网络的研究，但是在IP/MPLS-OTN-DWDM网络中特别考虑了OTN层的模型却相对较少，OTN层可以被视作位于物理DWDM层之上的虚拟光层。 对于多层网络的可生存性，目标是做到最大化网络保护的同时，减少网络资源的消耗。对于两层网络的保护机制，最传统的方法便是冗余保护 [ 5 ] [ 6 ] ，在这种情况下，上层的空闲容量将会被保护两次，一次发生在上层，一次发生在下层，很明显，这种方式导致了宝贵的网络资源的低利用率。要降低资源消耗，可以通过设计，使得上层网络的保护容量不被下层机制所保护。 在针对该问题的所有过往的研究工作中，并没有专门对OTN层进行考虑和设计。通过研究同类文献发现当提及OTN层时，都代指的是可重构光骨干网，也就是说，核心路由由电-光交叉连接（OXCs）所连接，其中并没有将OTN视作单独一层来考虑。 本文将讨论一种专为IP/MPLS-OTN-DWDM三层网络设计的可生存性设计。在本结构中，IP/MPLS-OTN-DWDM网络中的标记交换路由器(LSR)连接到部署于光交叉(OXCs)顶端的光传输网，该光交叉由DWDM光纤传输媒介连接。基于这样的配置，提出网络容量(包含常规和保护容量)设计模型以及基于多种网络参数的研究。本文主要贡献有以下几点：明确考虑了网络中的每一层以及其模块化需求，其中包括针对OTN层的考虑。同时本设计将功能器件分布在网络中每一层，这样就避免了对上层性能的二次甚至是三次的重复保护。最后进行了一项基于多网络参数的研究和分析以了解他们对于三层网络的影响。"
"OTN (Optical Transport Network)，光传送网络，是由一组通过光纤链路连接起来的光网元组成的网络，可以提供基于光通道的客户信号的传送、路由、复用、监控、管理以及保护(可生存性)。OTN一个明显特征就是对任何数字客户信号的传送设置和客户特定特性无关，称为客户无关性 [ 7 ] 。 为了支持网络配置以及监督功能，OTN系统是由几个子层构成的分层结构 [ 8 ] 。每个子层负责专门的服务并且在其终端点被激活。本文所涉及的子层光数据单元(ODU)提供(1)联合连接的监控，(2)端到端路径监控，(3)对多种客户端数据的适应，例如SDH，Ethernet，IP/WPLS，T-MPLS等。ODU子层当前定义了5种比特率，即1.25，2.5，10，40以及100 Gbps，分别表示为ODUk (k = 0,1,2,3,4)。在本文剩余部分， 代表ODUk，其中k = 0,1,2,3,4，于是对于复用进程，便有： ， ， 和 。 OTN同时也定义了ODUk时分复用子层，该层支持复用，能够将若干低比特率的信号转化成高比特率的信号，与此同时，还能为低比特率信号保持端到端的路径，这种情况通常发生在客户端信号没有占用一整条波长信道时。 有两个额外的特殊规格：ODU2e和ODUflex。ODU2e是为适应10GE LAN的传送需求而产生的，是将10GE LAN映射进OTN的过程中所用的容器。为了达到容量规划建模的目的，ODU2e可以被等效地看做ODU2。ODUflex是在ODU1之上的任何比特率，ODUflex可以有大于ODU1速率的任何速率，而且它始终是映射到一个给定所需最少分路数的高阶ODUk。为了达到建模的目的，可以将其视作一个有着较低带宽的真实变量。因此在上文所述模型中，任何ODU模块化变量可以被粗略地视作是真实的变量。  资源保护可以在多层网络中不同层中执行。在本架构中，IP/MPLS层在低层OTN层中得到保护，而OTN层被DWDM层保护。在这种状况下，上层无法看见下层的故障，如IP/MPLS层是无法看见OTN层的故障的。该应用何种方式配置网络依赖于ISP的需求以及使用的方式在技术上是否有意义。在本章节中，介绍本文所选择的保护机制，即使用多层网络中每个层对应的保护机制，同时给出选择该保护机制的原因。 在MPLS层可以通过使用隧道提供传输服务。在本文设计的模型中，我们假设每个IP需求可以在单个端至端主要隧道中进行。在这种情况下，从服务提供者的角度来看，合适的保护机制之一是热备份路径保护，在这种保护机制下，业务需求平时只在主要路径中传输，一旦主要路径出现故障，保护路径便取代主要路径，成为当前的传输路径，备份路径和主要路径的数量比是1:1。需要注意的是，对于一个路径的保护容量并不与其他路径的保护容量所共用，另外，每个故障流都只在单个保护路径中得到恢复。 因为每个OTN链路都传输 信号，所以通过使用单个路径上的链路恢复对每个 提供保护。在这样的机制下，整个故障 的容量都可以在故障端点之间的单个路径得到恢复。 对于DWDM层，在集合信号级别提供保护，有一种常用在保护lambda层的方法，即通过使用固定备用路径进行保护。在这种方法中，数据信号的副本将分别在主路径和不相交的保护路径中传输。根据查看信号质量，接收器能决定接收哪一份副本信号。这就是1 + 1保护技术。"
"首先，如图1，IP/MPLS层有常规容量 和保护容量 ，这两种容量都需要由位于其下层的OTN层的常规容量 和保护容量 对应实现，然而，在OTN层中，该层保护容量 只保护用以实现IP/MPLS 图1. IP/MPLS-OTN-DWDM三层网络 常规容量的本层(即OTN层)的常规容量 ，这样做的目的是避免了对IP/MPLS层产生两次保护——一次在IP/MPLS层中，另一次OTN层中。同理，所有OTN层的容量分别由位于其下层的DWDM层容量 、 、 实现，并且DWDM层只有实现OTN常规容量的本层常规容量 得到保护。  因为每层都会提供对该层常规容量的保护，于是层与层之间的容量器件便得以分离。本文将设计两类约束，第一类是容量可行性约束，保证所有通过特殊链路的流不超过链路本身的容量。第二类是需求约束，专门用以描述每个上层链路容量是如何从下层路由链表中挑选出候选路径然后实现的。 首先列出几个约束中将会用到的符号含义： - e：IP/MPLS层的链路 - g：OTN层的链路 - f：DWDM层的链路 - Q：一个IP/MPLS上装载模块的大小 - ：OTN层链路装载模块的大小 - T：一个DWDM层上链路装载模块的大小 - ：为实现IP/MPLS层常规容量而即将要安置在链路e上的Q的个数 - ：链路e上的保护容量 - ：为实现OTN层常规容量而即将要安置在链路g上的 的个数 - ：链路g上的保护容量 - ：承载在链路OTN层的链路g上用以实现IP/MPLS层保护容量的装载模块个数。 - ：为实现DWDM层常规容量而即将要安置在链路f上的T的个数 - ：链路f上的保护DWDM容量 - ：承载在链路DWDM层的链路f上用以实现OTN层保护容量 的装载模块个数 - ：承载在链路DWDM层的链路g上用以实现OTN层容量 的装载模块个数 下文将具体描述为本问题所设计的约束。 1. 一个针对不同需求选择路径对(主要路径，保护路径)的约束。 2. 在链路e中被路由的常规流容量可行性约束。 3. 在链路e中传递的保护流的容量可行性约束。 4. 一个需求约束，该约束详细说明了OTN层中用于实现IP/MPLS层链路e常规容量的OTN流的实现方式，以及OTN层中的路由链表是怎样将候选路径分配给链路e的常规容量的。 5. 一个针对IP/MPLS层保护容量的需求约束。 6. OTN层常规容量可行性约束，该约束保证了在每个OTN层链路g中路由的所有流不超过该链路内分配的 颗粒的大小。 7. OTN层保护容量可行性约束。 8. 确保只有每个链路g的常规容量可以在单个恢复路径中，使用剩余链路 的保护容量。 9. 分别针对OTN over DWDM常规和保护容量的需求约束，该约束详细说明了OTN层链路g的接口容量是如何由DWDM层中的流实现的。 10. 针对实现IP/MPLS的保护容量的OTN容量的OTN over DWDM需求约束。 11. DWDM层容量可行性约束，该约束确保了使用每个物理链路f的流的容量不超过该物理链路的容量。  本设计模型的目标是使得常规和保护空间的总网络计划开销最小。开销由公式(1)得出： (1) 该目标函数将得出三层网络资源的总开销，其中 ， 以及 分别是与三个层相关联的的权值。该开销结构有一个显著优点，即结构允许考虑多种不同的开销结合，这对于理解层层之间的合作是很有帮助的。 对于IP/MPLS层， 是链路e的单元开销，被定义为上层接口 和连接IP/MPLS层结点和OTN层结点结点两端的下层接口 开销的总和。如 。 在OTN层中， 是链接g的单元开销，它等于链接g的 信号接口开销 ，加上复用OTN信号 的开销，如 。 对于DWDM层， 是链接f的开销，它等于链接两端传输物理节点的接口开销 ，光转发器开销 ，OXC端口开销 ，再加上物理链路的传输距离开销 ，如 。 对IP/MPLS-OTN-DWDM多层结构的性能优化问题(P)的目标是使得开销 在满足上文提到的约束的的同时取得最小值。"
"问题(P)有大量不相关的变量以及约束，同时，该问题为NP-hard问题，因为比该问题更简单的网络设计问题，如单路径流量分配或模块化连接设计都是NP-hard问题。即使在一个小型网络里，使用ILP方法如CPLEX去解决问题(P)也是极其困难的，然而将该问题分解成三个子问题，那便可以在一个中型网络中分步解决该问题。因此，我们分三个阶段来解决问题(P)： 阶段一：解决以下设计问题： 取公式(2)的最小值： (2) 该式遵循上文所列出的约束。通过上式， 将作为常量出现在阶段2中。 阶段二：解决以下设计问题： 取公式(3)的最小值： (3) 该式遵循上文所列出的约束。 阶段三：解决以下设计问题： 取公式(4)的最小值： (4) 该式遵循上文所列出的约束。注意在解决了阶段一问题后， 和 都变为常量。 然而，即使是将原始问题分成三个子问题，每个问题仍旧是NP-hard问题，虽然试图去减小问题的复杂度，但是还是无法在大型网络中得到解决。"
"在问题(P)中， 是IP/MPLS层链路的模块一个单元的开销，在本研究中用IP-cost代表。相同的， 是OTN链路g的模块类型 一个性能单元的开销，用 -cost代表，其中，k = 0,1,2,3,4。在DWDM层中， 是DWDM层链路f的模块T的一个性能单元的开销，用W-cost的表示。 根据文献 [ 9 ] ，其中一种未来网络元素开销比例是8，0.5和1，分别代表DWDM转发器，IP/光接口卡，以及OXC光交叉接口。根据章节5.2中的开销模型，IP/MPLS层开销为2 × (0.5 + 1) = 3，而DWDM层的开销，只考虑转发器和OXC接口的开销2 × (8 + 1) = 18，再根据章节5.2的叙述，将DWDM层剩余的开销设为固定开销66。这就意味着当IP/MPLS层的开销是3时，DWDM的开销就是18 + 66 = 84。同理可知，当IP-cost为5时候，W-cost为140。 在整个研究过程中，将W-cost的值固定在140，然后调整其他单元开销，以了解因为开销比例发生改变所造成的影响，例如保持W-cost不变，对IP-cost，从IP-cost = 5开始研究，接着将它的值依次改变为IP-cost = 10，20和40然后研究在不同IP-cost下的影响。 对于OTN层参数值，即 有三种可能的开销场景。 - UK-c1： - UK-c2： - UK-c3： 为了表述上述三种情况，可以分别用2/4/8/16.32，2/5/13/20/50，2/6/18/54/16代表UK-c1，UK-c2，UK-c3。这三种情况的区别在于不同阶的 产生开销的不同，且此处它们真实的值并没有其比例关系重要。同时也要注意避免不真实的开销比例关系，如 或者 。 在本实验中设置多参数能够探寻其对每一层的影响，以及IP/MPLS的变化对其他层的影响，最终得出对整个网络的影响。通过研究，可以得到若干问题的答案，如IP-cost和Q的大小是如何影响每层中所需的保护容量以及整个网络的开销；不同场景下的 开销比例是怎样影响最终所用的 种类以及满足网络需求所需的数目。 在本次论文工作中，选取一个14个结点具有三层结构的小型网络拓扑，见图2。因为篇幅原因，暂时不考虑其他结构的拓扑。在该三层结构网络拓扑中，每层有14个结点，所以总共有42个结点，且光纤条数为21，此处假设IP/MPLS和OTN层的虚拟拓扑遵循其物理层的连接，因此可知一共有63条连接。总需求为91个双向需求，假设每个需求在一对LSR之间实现，需求平均速率为5 Gbps。因此考虑三种速率的Q：2.5,5,10Gbps，用以代表三种情况：低于平均需求，等于平均需求，高于平均需求。LSR之间的需求由文献 [ 10 ] 中的需求模型产生。对于每一个需求，每层中有5个主要路径和5个保护路径可用。 通过使用CPLEX 12.2优化包，解决分为三个阶段的问题(P)，得出的所有结果都是接近最优解的。   为了更方便的阅读，表1将列出容量符号的简明缩写以及其含义。 经过实验模拟，发现了以下的现象。 当IP-cost不变时，在Q = 2.5的情况下，其网络总体开销比Q = 5和Q = 10时更大，这是因为当保持IP-cost不变，Q越大，在没有额外的开销情况下有更多的需求可以得到满足。同时也能够发现当将IP-cost从5提升到40，网络开销在增大。通过以上两个现象，可以得出IP-cost和Q值都是影响网络开销的重要因素，需要同时考虑。例如，在IP = 20、Q = 2.5时的开销比IP = 40、Q = 10时候的开销大，通过这些便可以比较每Gbps下的开销。然而，不应当单单只考虑每Gbps的开销，还要考虑Q的大小对网络下层的影响。当Q和IP-cost不变，UK-c3情况下的开销是最大的，接下来是UK-c2，开销最小的是 图2. 每层14个结点的网络拓扑图 Table 1 符号 缩写 解释 N-IP 常规IP容量 P-IP 保护IP容量 N-OTN 常规OTN容量 P-OTN 保护OTN容量 P-IP-OTN P-IP的OTN容量 N-W 常规光纤容量 P-W 保护光纤容量 P-OTN-W P-OTN的光纤容量 P-IP-OTN-W P-IP-OTN的光纤容量 表1. 网络开销相关符号及其缩写和解释 UK-c1，这是因为不同 之间的花销比例在UK-c3时最大，其中的原因将在章节5.2.4中解释。  接下来设IP-cost = 5，选择方案UK-c1，进行实验。通过观察实验结果，发现保护容量比常规容量要大。进一步来说，保护容量与常规容量的差距随着层的降低而变大，即N-IP和P-IP之间的容量差比N-OTN与P-OTN之间的容量差更小，同样也小于N-W与P-OTN之间的容量差。这是因为低层网络的粒度较高层更大，而且保护通道也比主要通道更长。例如，容量差在DWDM层中达到最大，该层每个波长比特率T = 100 Gbps，远远大于IP/MPLS层的粒度Q = 2.5，5，10 Gbps，当然其保护通道也通常比其主要通道更加长。这种现象出现在不同的IP-cost和UK-cost组合中，在此不再一一举例。  在本小节中，将展示每层所需要的保护容量。通过实验可以发现，Q = 10时比Q = 2.5和5时需要更多的保护容量，Q = 2.5时P-IP可以取得最小值。一个有趣的现象是，当Q = 2.5时，IP-cost的变动并不会对需求容量产生很大影响，如当增大IP-cost，需求容量并未产生较大变化，而当Q = 10的时候，IP-cost的影响却比较明显。 在容量器件中，对保护容量需求最少的情况通常是UK-c1的情况下，而最大需求一般在UK-c2情况下，其中当Q = 2.5时，通常P-OTN取得最小值，这说明当Q值低于平均需求值时，OTN层中所需的保护容量通常取得最小值。 同时也可以发现，当Q = 2.5以及在UK-c3情况下，容量需求最小。而容量需求最大的情况是在Q = 10同时选择UK-c1时。  通过实验可以发现，在UK-c3情况时，只需要使用 和 ，这是因为2 的开销比一个 小，并且当2 承载80 Gbps的波长时，剩余的波长用 承载。同理可得，在UK-c2情况下将使用 ，但使用的量比 的量更少。只有在UK-c1情况时， 的使用量才比 的使用量更多，原因是在该情况下，它们的花销差距并不大。同时可发现，在所有情况中 和 的使用量都不大。最终得出如下结论：IP/MPLS需求在UK-c3下大部分被 和 所承载，或是在UK-c1和UK-c2情况下，使用 和 以及很小数量的 、 和 。 在不同的IP-cost或不同的OTN容量器件下也可以观察到与上文相同的趋势。然而，P-OTN中所使用的 数比N-OTN里使用的 数量多，这同样可以说明P-OTN中需要更大的容量。章节5.2.1中层提到，UK-c3和UK-c2之间的开销差比UK-c2和UK-c1之间的容量差更大，这是因为不同 在不同的开销比例情况下开销不同造成的。试想以下情况，若想要在UK-c1情况下，使用一个OTN链路（100Gbps）的所有容量，那么最优解决方案应该是使用1个 ，其开销是32。当在UK-c2的情况下，一个 的开销是50。在UK-c3下，使用 不再是最优解，因为 ，其中162是 的开销。通过计算可知，UK-c1和UK-c2在该例中的容量差为18，高出56%，而UK-c2和UK-c3之间的容量差为90，近似高出90%。  在章节5.2.1中，当IP-cost不变，Q = 10时，整个网络开销最小，这似乎与章节5.2.3中所说的Q = 10时候需要的保护容量更大，而更大的保护容量会有更多的额外开销这种情况相矛盾，原因是整个网络的开销不仅是取决于保护器件而是取决于整个网络的容量器件。需要注意的是，单位Gbps的开销在IP/MPLS层也扮演着重要的角色。例如当IP-cost = 40，Q = 2.5时，其单位Gbps开销为16，Q = 10时，其单位Gbps开销为4，若在链路中需传送10 Gbps的需求，Q = 2.5时，需要4Q，Q = 10时，需要1Q，开销明显是前者更大。从开销的角度来看，Q越大，开销越小。然而如果从容量的角度看，更大的Q意味着每层中需要更多的容量。"
"本文为IP/MPLS-OTN-DWDM三层网络提出了一种网络保护模型。在该架构这种，明确的将OTN层看成单独的层，并且基于其本身的技术约束而考虑。在网络生存性设计上，提出每层只保护常规容量以实现在减少保护资源的前提下最大化保护效果。同时提出了一种启发式解决方案，将该问题分成三个子问题，降低其复杂度，以便能在一个中型网络中解决该问题。 接着提出了一个基于多网络参数的研究，以探明其对保护容量以及整体开销的影响。最后发现在不同的参数选择下，网络所需的资源和开销都不同，因此在实际操作的过程中，需要根据实际需要，合理得配置网络参数，以最大程度的降低开销。 未来考虑结合更多因素且结合实际网络的状况，得出更加令人信服的结论。"
