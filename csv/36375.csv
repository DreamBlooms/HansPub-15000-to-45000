"分光计的调节与使用是基础物理实验中教师难教，学生难学的一个实验。为了提高该实验的教学效果，我们开发了基于Unity 3D的三维虚拟分光计仿真系统，实现了分光计中最难学习的同轴等高调节的虚拟仿真。学生利用该系统，不仅可在三维空间中直观地认知分光计各部件的构造及其对应的物理原理，也可以模拟操作分光计，练习同轴等高的调节。教师利用该系统，在课堂教学中可以更有效地讲解分光计的调节。仿真系统的虚拟及增强现实功能显著降低了学生学习分光计的难度，大幅提高了预习效果，有利于教师教学及学生课堂实际操作的开展。我们同时开发了移动端版本，进一步方便了学生的使用。 关键词 :Unity 3D，三维虚拟仿真，分光计 Copyright © 2020 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY 4.0). http://creativecommons.org/licenses/by/4.0/"
"分光计的调节与使用是基础物理实验中一个重要且有难度的实验，它不仅体现了巧妙独特的实验仪器设计，包含了大量的光路调整与技巧，而且蕴含了丰富的物理实验思想方法。因此，掌握分光计的调节与使用不仅是学习操作光学仪器的一项基本训练，而且对于锻炼学生思维能力、学习体会实验思想具有重要作用。然而分光计构造精密，部件较多，如JJY-1型分光计的各种控制螺钉就达到14个(5个调节、5个锁紧、4个微调螺钉) [ 1 ]，使得操作繁复，初学者不容易掌握调节要领。此外，分光计主要是利用双面平面镜配合阿贝目镜来完成同轴等高调节，原理及调节都较为复杂。学生预习时，仅凭教材的平面图示和文字叙述，难以充分认识分光计的结构特点及对应的调节方法，往往在有限的课堂学习中感觉难度很大，伴随的是教师的教学难度增大，从而造成学生难学、教师难教的局面，进而没有体现出该实验本身的教学意图。 针对分光计教学中的这两个主要问题，在当前虚拟现实技术高速发展背景下 [ 2 ] [ 3 ]，我们开发了基于Unity 3D的三维虚拟分光计仿真系统，供学生进行课前预习及课后复习。利用该系统，学生不仅可以在三维空间中认知分光计各部件，熟悉其功能，也可以将各部件进一步分解，了解其内部构造以及对应的物理原理，使学生对分光计建立起形象而直观的认识。系统也以最接近真实的状态，实现了最难学习的同轴等高调节的仿真模拟，使学生按照实验流程在三维空间中进行调节练习。经过使用发现，该系统有效弥补了学生抽象思维不足，锻炼了学生操作能力，提高了课堂教学效果。此外，我们开发了移动端版本，进一步方便了学生的使用。"
"三维虚拟实验仪器的优势在于提供实物仪器难以提供的展示方式，例如通过交互操作不仅可即时改变仪器零部件的颜色、透明度、相对位置、旋转角度，还可以透视、剖面等显示方式充分展示仪器内部结构，以及通过快速拆分和组装实现对仪器结构的充分了解。根据这一特点，并结合多年实验教学实践，我们从学生使用的角度出发，对于三维分光计仿真系统的开发思路确定为“知结构”，“懂原理”，“会操作”，如图1所示。 图1. 系统功能框架图 知结构，分光计的结构特点是望远镜、平行光管、载物台、读数装置这四大部分围绕共同的竖直轴旋转，每一部分都有独特的内部及外部结构，且测量时需要借助两个一组的锁紧螺钉进行相对固定。知结构是懂原理的基础，是会操作的前提。懂原理，分光计的调节涉及丰富的几何光学原理，因此需要结合分光计的机械结构特点，掌握分光计光学系统设计所依据的物理原理。会操作，在知结构，懂原理的基础上才能观察、操作融会贯通，这时的操作才是理性的，自然效果和效率都很好。此外，结合光杠杆望远镜、测量显微镜的调节和使用方法，可引导学生归纳总结光学仪器调节的一般方法。因此，三维分光计仿真系统的开发将围绕“知结构”、“懂原理”、“会操作”这三个功能的实现展开。  系统的开发平台为Unity 3D，这是由Unity Technologies公司开发的一个可以创建三维视频游戏、建筑可视化、实时三维动画等类型互动内容的多平台开发工具，近年来逐渐被应用于教育领域进行虚拟仿真教学系统的开发 [ 4 ] [ 5 ] [ 6 ]。Unity 3D的优势在于所有空间模型均为矢量数据，局部放大后依然清晰。本系统采用的建模工具为Blender，它是一款高效的创建三维模型与动画制作软件，作用与3D max相似。系统的交互操作功能由C#编程实现。"
"系统的开发流程如图2所示，首先通过拆解一台备用的分光计，测量每一个零部件的主要几何参数，然后根据数据在Blender中对每个零部件进行相同比例的独立建模。为了展示各部件的内部结构及光路调节原理，对阿贝目镜、望远镜筒、平行光管这三个核心部件采用纵向刨开建模，从而可以看到所有的透镜、棱镜及叉丝分划板。在Blender中建好的三维模型以FBX文件格式导入unity，最后根据分光计原有的机械结构在unity中进行组装。组装时根据教学需要和支撑作用指定模型之间的主从关系，并通过添加恰当的材质和贴图，进一步增强了模型的真实感。  开发出的三维分光计虚拟仿真系统整体效果如图3(a)所示。为了提高人机交互效果，根据学生使用习惯，在开发中对鼠标左右键、滚轮作用进行了定义；同时辅以按钮、下拉选项、滑动条，配以提示语音，文字的引导提示，实现了进一步的交互。当学生将鼠标移到某一部件上时，该部件颜色会突出显示，并标注该部件名称及作用，如图3(a)中阿贝目镜上的紧固螺钉的作用通过文字进行了提示。当学生滑动滚轮可对部件进行放大观察，点击鼠标右键并移动，可从不同角度观察分光计，如图3(b)所示。此外，学生还可通过点击鼠标，上下拖动滑动条观察分光计组装与拆分过程。进一步了解分光计的组成，提高“知结构”效果，如图3(c)所示。 分光计的阿贝目镜、望远镜、平行光管这三个组件中包含独特的机械构造及光学系统，为了便于学生学习，仿真系统通过半透明显示的方式，模拟了这三个核心部件的内部结构。学生移动鼠标点击这几个部件，就可以看到所有的透镜、棱镜、狭缝及叉丝分划板等，如图4所示。对于阿贝目镜及狭缝装置，学生可点击松开上方的锁紧螺钉，然后前后拖动阿贝目镜和狭缝装置，模拟真实操作，进而了解其机械结构。 图2. 系统开发流程 图3. (a) 系统侧视图；(b) 系统俯视图；(c) 系统拆分图 图4. (a) 望远镜及阿贝目镜内部结构仿真；(b) 平行光管及狭缝内部结构仿真  在知结构的基础上，学生要进一步学习各部件中蕴含的物理原理，如阿贝目镜、望远镜、平行光管的光路系统包含着丰富的几何光学知识。为了使学生学习背后的光路调节原理，我们在仿真系统开发中，借助绿色辅助线表征光的传播，从而显示绿十字的形成以及与十字叉丝的关系，如图5所示，光线经过棱镜、分划板，从望远镜筒中射到平面镜上，再反射回望远镜筒，经物镜成像到分划板上，形成绿十字。使学生直观形象地认知绿十字的来源。 阿贝目镜中的光学原理，分别是望远镜调焦和目镜调焦原理。对于望远镜调焦，我们在交互设计中增加滑动条，实现了在松开阿贝目镜上方紧固螺钉时，通过左右拖动滑动条来移动阿贝目镜，观察绿十字像的清晰程度。图6展示了在向外移出阿贝目镜过程中，绿十字像逐渐由模糊、清晰再到模糊的过程，使学生直观地学习望远镜调焦目的是使分划板上十字叉丝调整到焦平面。对于目镜调焦，同样利用互动条，在交互设计中也实现了旋转目镜调焦手轮，使叉丝清晰这一过程的模拟。 图5. 望远镜光路、绿十字模拟仿真 图6. 阿贝目镜工作过程模拟 平行光管中光路模拟如图7所示，紫色虚线表示平行光管的光轴，在系统中，学生可边移动狭缝装置边观察出射光线状态，当狭缝处于前方物镜的焦平面处，出射光即可呈现平行光状态，直观体现了平行光管的工作原理。 图7. 平行光管光路原理模拟仿真  学生操作分光计的难点主要集中在同轴等高的调节和刻度盘的读数。对于同轴等高，多数学生从理解调节原理到实际操作均有难度。如不理解绿十字在调节同轴等高过程中的作用，看不到反射回的绿十字，不了解调节步骤及几个关键螺钉作用。本系统针对同轴等高这个关键进行了细致的交互设计，借助不同颜色的辅助线表示望远镜光轴、平行光管光轴及镜面法线，通过这三种颜色的辅助线来说明同轴等高，如图8所示。 图8. 平行光管轴线(紫色)、镜面法线(蓝色)及望远镜轴线(黄色)的辅助线 在同轴等高调节中，通过转动载物台使双面平面镜转过180˚，在这一过程中观察绿十字的位置，进而判断系统是否达到同轴等高。如没有达到，需要调节载物台、望远镜下的俯仰螺钉，使经双面镜两个镜面反射的绿十字均与望远镜分划板最上方十字叉丝重合。 为了模拟这一判断调节过程，根据实际使用习惯，设定鼠标左键点击俯仰螺钉实现旋进，右键点击俯仰螺钉实现旋退。在系统交互设计中，学生通过鼠标点击游标盘并拖动，可以同步旋转游标盘、载物台、双面镜，实现双面镜旋转180˚。为了真实模拟绿十字位置的变化，我们根据载物台、望远镜下方调节螺钉的螺距，分划板距载物台中心(反射镜表面)距离等数据计算出绿十字位置的改变量。具体来说，对于调节载物台下方螺钉观察绿十字位置的情况，载物台下方三个螺钉的顶点组成等边三角形，设此三角形高为H；螺钉的螺距为s，即调节螺钉旋转一圈，顶点高度变化s；设分划板距载物台中心距离为L，根据几何关系，可得出当调节螺钉旋转一圈，绿十字位置该变量 Δ x 为， Δ x = 2 ⋅ L ⋅ arctan ( s / H ) (1) 调节望远镜下方螺钉观察绿十字位置情况与此相似。通过测出相关数据，并利用C#编程进行交互设计，即可真实模拟绿十字位置的变化。如图9所示，旋进望远镜筒下的俯仰螺钉，绿十字向分划板下方移动直至移出视线，旋退望远镜筒下的俯仰螺钉，绿十字向分划板上方移动直至移出视线，使学生直观了解绿十字位置变化原因。因此在接下来的调节中就能配合双面平面镜，较好地进行同轴等高的调节。 图9. (a) 望远镜俯仰螺钉旋进时系统状态及对应绿十字位置；(b) 望远镜俯仰螺钉旋退时系统状态及对应绿十字位置 对于读数测量的模拟，我们根据游标原理精确设计制作了刻度盘和游标，如图10所示。学生左键点击望远镜支架并拖动，即可移动刻度盘进行观察。为了便于学生学习读数，利用unity自带的脚本编程，动态生成当前位置时的读数，如图10中展示绿色角度，便于学生对比检查。由于在学生通过刻度盘和游标读取角坐标的过程中，经常发生两个问题，一是读数时忽视刻度盘的最小分度是0.5度；二是计算时忘记度、分、秒之间是六十进制。针对这两个常见问题，我们在软件设计中突出显示了读数的过程，通过输入框和显示框考察学生的掌握程度。 图10. 模拟仿真的游标盘、刻度盘及角度测量"
"随着信息技术的发展，虚拟现实技术作为一种新的教学手段正逐步进入教育领域，特别是本次新冠疫情的出现，使得在线教育成为必然选项，而虚拟现实技术正是提高在线教学效果的有力手段。因此开发基于虚拟现实技术的三维虚拟物理教学仿真系统，对保证、提高线上线下的大学物理实验教学都具有重要意义。 通过实践，我们将Blender和Unity两个软件相结合，开发了三维虚拟分光计仿真系统，有效克服了分光计这一经典实验教学中的存在的难题，提高了教学效果。并且在开发过程中，积累了制作实验教学虚拟软件的经验，通过吸引感兴趣的学生参加开发，也促进了学生学习的积极性，发挥了多方面的作用。"
