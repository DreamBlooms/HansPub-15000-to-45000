"城市轨道交通已成为大城市居民出行的主要载体，也是城市发展的重要支撑。为了提供合理的限流意见，建立了城轨交通单一线路乘客限流模型。首先，建立乘客出行OD概率矩阵，以便观察乘客出行的分布状况。其次，通过设定乘客总出行等待时间指标、乘客总在车旅行时间指标、乘客出行延误时间惩罚系数三个指标，建立了单一线路乘客限流模型目标函数。最后，以北京地铁八通线的客流数据为实验数据，基于MATLAB平台运用设计的改进模拟退火算法对模型进行求解，得到八通线早高峰时段最优单线协同限流策略，并提出相对应的限流意见。 关键词 :OD概率矩阵，惩罚系数，改进模拟退火算法 Copyright © 2020 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY 4.0). http://creativecommons.org/licenses/by/4.0/"
"近年来，随着轨道交通的快速发展，乘客选择轨道交通为出行方式的占比也越来越多，与此同时，众多城市提出相对应的限流策略，以便在减小列车超载现象的基础上，尽可能地缩短乘客的出行时间(包括出行时间和滞留时间)。 伴随着城市轨道交通在运营过程中存在拥挤等安全隐患，乘客出行效率不高等问题，客流控制策略的制定引起众多学者的关注。赵鹏等 [ 1 ] 将数学规划方法应用于限流模型中，建立了单一线路条件下协同客流控制模型；姚向明等 [ 2 ] 提出基于网络条件下客流控制方法；刘晓华等 [ 3 ] 基于协同控制的思想提出多站协同控制模型；潘寒川 [ 4 ] 等通过分析了导致拥堵的客流传播规律，建立以受影响乘客数最少为目标的客流控制优化模型；除此之外，不少学者从不同方向建立了限流方案编制模型 [ 5 ] [ 6 ] [ 7 ]。虽然众多学者对限流策略的制定开展了大量的研究，理论性较强，但求解过程复杂，不适合运用在实际轨道运营环境下。 本文通过设定乘客总出行等待时间指标、乘客总在车旅行时间指标、乘客出行延误时间惩罚系数三个指标，建立了单一线路乘客限流模型目标函数，并采用模拟退火算法求解最优的单线协同限流方案。"
"1个OD矩阵对应1次起点至终点间的出行过程，OD矩阵也是路网交通流量分配的其计算方法基于交通小区间的出行OD与路段流量的关系。 根据北京地铁图观察可知，对于下行方向(土桥站–四惠站)上的四惠东站而言，仅有四惠东站至四惠站一个OD区间，且四惠东站为换乘站，与北京地铁1号线换乘连接，因此，导致在四惠东站的进站乘客大多为乘坐1号线或八通线上行方向列车的乘客，乘坐八通线下行方向列车的乘客极少，几乎趋紧于0，可不重点考虑。在八通线早高峰时段全线进站客流量较大，大部分车站15分钟进站客流量超过500人。进站客流量最大值出现在7:30的双桥站，为4498人，平均乘客到达率超过100人/min，车站客流极度拥挤，且双桥站为八通线下行方向的始发车站，其对列车运输能力的占用将直接影响后续车站的拥挤情况。另外，梨园站、果园站、管庄站和传媒大学站的进站客流量也较大，继续改善客流拥挤问题。 为了表示乘客进站后去往各目的站的客流比例，建立乘客出行OD概率矩阵 [ 8 ]，其反应了各车站进站客流的流向结构。选取八通线早高峰时段的乘客OD客流数据，统计后，再根据各车站进站量数据，得到下行方向上乘客出行OD概率矩阵，除四惠东车站外，各站进站乘客均超过85%在四惠东站和四惠站出站或换乘，在中间车站乘客极少下车，迫于列车运输能力的限制，导致了后续车站乘客上车困难，后续车站乘客滞留过多，甚至出现运营瘫痪、危害乘客安全等现象，因此，十分需要制定合理的单线协同限流策略，保证线路的正常运营。 通过查阅相关文献，已知八通线列车车辆的相关数据如下： I) 标准载客能力为256；列车最大满载为1428。 II) 八通线在早高峰时段，下行方向采用3 min/列的固定发车间隔模式因此，本文列车发车间隔取f = 3。 III) 由于八通线列车在早高峰时期停站时间极短，且停站时间不影响模型求解结果，本文忽略列车在车站的停站时间。可列出首班车到达时刻表，后续列车可以找发车间隔时间递推得到。 IV) 车站站台最大聚集人数可由车站站台面积与乘客最小人均占用面积的比值得到，查阅《美国公共交通通行能力和服务质量手册》可知，当车站站台人均占用面积达到0.5 m 2 /人时，乘客会存在各种接触，极其不适，甚至产生集体恐慌等现象。因此本文乘客最小人均占用面积取0.5 m 2 /人；八通线个车站站台面积，本文参照所查文献确定站台面积。 V) 北京地铁八通线除四惠东站及四惠站之外，其他均为侧式站台设置，因此，对于下行方向，不存在上下行方向站台公用的情况，不需要考虑上行方向客流对车站站台能力的占用。"
"乘客总出行等待时间应包括乘客到达站口后，因限流而未能进入车站付费区所产生的延误等待时间、乘客到达站台后的等车时间以及因列车满载而导致乘客留乘所产生的延误等待时间，如下式： T w a i t i n g = T q w + T q t + T q r (1) 式中： T w a i t i n g 为乘客出行的总延误时间，单位：min； T q w 为乘客在站台等车时间，单位：min； T q l 为乘客在进站口因限流造成的延误时间，单位：min； T q r 为乘客在站台因留乘所造成的延误时间，单位：min。 乘客因限流延误时间。城市轨道交通车站拥挤情况大多出现在高峰时段，乘客在各车站聚集人数较高，从车站能力和安全性方面考虑，不得不采取相应的进站口限流措施，阻止乘客进入车站付费区，即产生乘客因限流延误时间 [ 9 ]，计算公式如下： T q l = Q 1 ⋅ T w a i t i n g (2) 式中： T q r = Q d ⋅ T t r a v e l = Q o , d b ⋅ ( t d − d 0 ) 为限流时段内，被限制客流总人数，单位：人； T l w a i t i n g 为因限流导致乘客延误时间，单位：min。 II) 乘客站台等车时间。乘客从车站进站口进入车站付费后，由于列车未到达站台停车，导致乘客不能立即上车，即产生乘客站台等车时间，计算公式如下： T q w = Q b ⋅ T e w a i t i n g (3) 式中： Q b 为限流时段列车到达时，上车乘客总人数，单位：人； T e w a i t i n g 为乘客在站台等车时间，单位：min。 III) 乘客因留乘延误时间。乘客到达车站站台后，因列车能力限制，未能完成上车行为，导致乘客滞留站台，等候下一列车，即产生乘客因留乘延误时间，计算公式如下式： T q r = Q d ⋅ T d w a i t i n g (4) 式中： Q d 为限流时段内，站内留乘乘客总人数，单位：人； T d w a i t i n g 为因留乘导致乘客延误时间，单位：min。  在面对高峰会四段大客流压力时，运营方需使更多乘客尽可能快的离开车站，最大程度的完成运输任务，避免发生因滞留人数过多，影响乘客安全等问题。本文采用O站上车终到D战的乘客人数与其对应在车时间的成绩来表示乘客在车旅行时间，如式所示： T t r a v e l = Q o , d b ⋅ ( t d − t 0 ) (5) 式中： T t r a v e l 为乘客在车旅行时间，单位：min； Q o , d b 为从o站上车终到站为d的乘客人数，单位：人； t d 为列车在终点站d的到达时刻，单位：min； t 0 为列车在车站o的出发时刻，单位：min。 将乘客在车旅行时间延伸至单线多站服务系统中，整条主线上的乘客总在车旅行时间，可转化为对列车在所有去见的载客人数与其对应的列车区间运行时间的乘积求和，如式所示： T t r a v e l = ∑ s = 1 s − 1 Q i n ⋅ Δ T s s + 1 (6) 式中： T t r a v e l 为乘客总在车旅行时间，单位：人∙min；S为车站编号， s = 1 , 2 , 3 ⋯ , S ； Q i n 为列车区间载客人数，单位：人； Δ T s s + 1 为列车在车站s和 s + 1 的区间运行时分，单位：min。 乘客总在车旅行时间在与在车乘客人数成正相关关系，与乘客在车时间成正相关关系，表明乘客总在车旅行时间越长，则在车乘客人数越大。  惩罚系数设置(即限流时间)对模型中乘客因限流延误时间和乘客因留乘延误时间添加一次形式延误时间惩罚系数，且常数项a 2 = 0.6、β = 0.1，具体计算公式如下： θ 1 = q s 1 ( t ) Δ t 2 (7) θ 2 = q s d ( t ) f (8)  模型目标函数表达式如下： T d e l a y = ∑ t = 1 T E ∑ s = 1 S − 1 α 2 [ q s 1 ( t ) Δ t 2 ] 2 + ∑ t = 1 T E ∑ s = 1 S − 1 β [ q s d ( t ) f ] 2 (9)"
"由于问题三需要对地铁八通线(地铁三号线)进行限流，因此我们首先对数据进行预处理筛选出地铁三号线乘客的出行记录，共计35,823组数据。 由于每个数据均使用双精度实型储存，则实际数据实际在MATLAB内存占用是非常大的，在软件中运行是非常慢的，所以根据实际情况可以采用不同数据结构，本文采用MATLAB内建元胞结构。 基于MATLAB平台，运用已建模型及模拟退火算法 [ 10 ]，制定八通线早高峰时段最优单线协同限流策略。并对该限流策略控制下，早高峰后四段八通线乘客总出行延误时间、乘客总出行等待时间、乘客总在车旅行时间、等指标与未采用协同限流策略时进行对比分析，从而对制定的最优单线协同限流策略效果进行评价。 1) 根据北京地铁八通线的客流数据、八通线列车及线路车站相关数据等，我们对高碑店，八里桥、通州北苑、果园、九棵树、梨园以及林河里进行限流，求解最优的单线协同限流方案。通过对限流后的数据进行分析如表1。 Table 1 对比项 总出行时间(秒) 平均出行时间(秒) 限流前 115,927,901 3236 限流后 88,165,829 2929 差值 27,762,072 307 减少百分比 23.95% 9.57% 表1. 八通线不限制限流车站个数 2) 限流效果最好的前1到5个站分别为九棵树、八里桥、高碑店、通州北苑以及林河里，然后我们分别取前1到5个站进行分析，并将限流前与限流后进行比较得表2。 Table 2 对比项 限流车站数量1 限流车站数量2 总出行时间(秒) 平均出行时间(秒) 总出行时间(秒) 平均出行时间(秒) 限流前 115,927,901 3236 115,927,901 3236 限流后 113,129,952 3211 110,420,424 3144 差值 2,977,949 25 5,507,477 92 减少百分比 2.41% 0.77% 4.75% 2.84% 表2. 八通桥限流车站分析 3) 通过对数据进行分析，限流效果最好的两个车站为高碑店、八里桥，首先高碑店位于四惠以及四惠东两个转乘车站后，并且同时下一站为传媒大学，此时，客流量较大，与此时采用限流措施无疑效果较好，而八里桥位于整个出行路线的下游，负载量较大，说明客流量较大，限流效果较好，因此，限流效果最好的两个车站为高碑店、八里桥。"
"通过设定乘客总出行等待时间指标、乘客总在车旅行时间指标、乘客出行延误时间惩罚系数三个指标，建立了单一线路乘客限流模型目标函数。并以北京地铁八通线的客流数据为实验数据，基于MATLAB平台运用设计的改进模拟退火算法对模型进行求解，若八通线不限制限流车站的个数，则限流后平均出行时间减少9.57%；若八通线限制限流车站的个数，经分析知限流效果最好的前1到5个站分别为九棵树、八里桥、高碑店、通州北苑以及林河里，则限流车站个数为5时，总出行时间减少最多，限流效果最好的两个车站为高碑店、八里桥。"
