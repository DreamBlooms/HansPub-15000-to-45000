"零点温度输出是影响应变式传感器精度的主要性能指标，如果不加控制和补偿，很难达到0.02%FS/10℃的精度要求。明确传感器零点温度输出的主要影响因素，提出电路补偿法和算法软件补偿法。通过电路补偿法和算法软件补偿，可以将传感器精度提升至0.02%F.S/10℃，且算法软件补偿可获得更高精度。 关键词 :应变式传感器，零点温度输出，补偿，电路，算法，精度 Copyright © 2019 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"电阻应变式传感器(以下简称传感器)采用电阻应变计作为敏感元件，用于力、质量、重心、位移等多物理量的测量和感知。实际应用中多采用惠斯通电桥组成全桥电路，将物理量转换成电信号，显示或表征物理量的大小，或用于过程控制和检测。当传感器不施加或感受任何物理量时，自由状态输出被称为零点输出，当环境温度发生变化时，零点输出会随之变化，这就是零点稳定度变化。如果不加控制和补偿，将会对传感器带来较大的影响，很难达到0.02%FS/10℃的精度要求 [ 1 ] 。 本文从传感器的温度零点产生的因素、机理进行了分析，对零点温度补偿原理进行了讨论，对零点温度补偿方法进行了探讨。"
"在传感器的实际制作中均会采用温度自补偿应变计组成惠斯通全桥电路。由于敏感栅材料自身不均匀性和工艺差异，温度自补偿应变计的热输出系数会控制在 ≤ 1μm/m/℃，但在一个批次、不同应变计之间会存在分散，弹性体不同位置的线膨胀系数也会存在微小差异，当应变计粘贴到对应补偿材料的传感器弹性体上，同一桥路中的应变计输出(电阻变化)就会存在差异和分散。 根据应变计原理可知 Δ R R = K ε (1) 式中ΔR/R为应变计电阻相对变化量；K为灵敏系数；ε为应变量，单位μm/m。 据应变计温度自补偿原理可知 ε t = 1 K ⋅ α t ⋅ Δ t + ( β s − β g ) ⋅ Δ t (2) 式中ε t 为应变计热输出，单位μm/m；K为应变计灵敏系数；α t 为应变计敏感栅电阻温度系数，单位10 −6 /℃；β s 为弹性体材料线膨胀系数，单位10 −6 /℃；β g 为敏感栅材料线膨胀系数，单位10 −6 /℃；Δt为温度变化量，单位℃。 当温度发生变化，应变计的输出就会发生变化，对应的电阻也就会发生变化。 即将式(1)和(2)结合 Δ R R = K ε t = K ⋅ [ 1 K ⋅ α t + ( β s − β g ) ] ⋅ Δ t (3) 热输出系数为 C t = ε t Δ t (4) 式中C t 为热输出系数。 理论上，当完全温度自补偿时，热输出为0，即ε t = 0，但实际上会存在一定的范围−1~1 μm/m/℃，极限状态下最大和最小之间相差2 μm/m/℃。 图1. 应变计惠斯通全桥电路 对于图1惠斯通电桥，当温度变化Δt时，其桥路输出为： U o = U B − U D = [ ( R 2 + Δ R 2 R 1 + Δ R 1 + R 2 + Δ R 2 ) − ( R 3 + Δ R 3 R 3 + Δ R 3 + R 4 + Δ R 4 ) ] × U (5) 式中，R 1 、R 2 、R 3 、R 4 分别为桥臂应变计电阻，单位Ω；ΔR 1 、ΔR 2 、ΔR 3 、ΔR 4 分别为桥臂应变计电阻变化量，单位Ω；U o 为桥路输出，单位mV；U为供桥电压，单位V。 当 R 1 = R 2 = R 3 = R 4 = R 时，式(5)可简化为 U o = [ ( R + Δ R 2 2 R + Δ R 1 + Δ R 2 ) − ( R + Δ R 3 2 R + Δ R 3 + Δ R 4 ) ] × U (6) 由于ΔR 1 + ΔR 2 ，ΔR 3 + ΔR 4 均远小于2R，分母可简化为2R，式(6)进一步简化为 U o = [ Δ R 2 − Δ R 3 2 R ] × U (7) 分式上下同除以R，则 U o = [ Δ R 2 R − Δ R 3 R ] × U 2 = K U 2 × ( ε t 2 − ε t 3 ) (8) 式中，ε t 2 、ε t 3 为桥臂应变计2和应变计3的热输出，单位μm/m。 假设灵敏系数K = 2，代入式(4)、式(8)，可演化为 U o U = ( C t 2 − C t 3 ) × Δ t (9) 在制作传感器时，极限状态下，C t 2 − C t 3 = 2 μm/m/℃，当Δt = 50℃，则桥路相对输出最大为 U o U = ± 2 × 10 − 6 × 50 = ± 100 × 10 − 6 = ± 100   μ V / V (10) 当然，如果热输出系数控制较差一些，温度下的相对零点输出会更大。 实际应用中，连接桥路中应变计的导线长度和电阻也会存在差异，多数情况下，连接线为漆包线、绝缘镀锡铜线或绝缘镀银铜线等。虽然连线电阻很小，大约在1 Ω以内，但铜线电阻温度系数高达4000 ppm/℃，当环境温度发生变化，其电阻变化相对较大，桥路连接导线之间的电阻差异，也会带来相应的零点温度漂移，其计算方法基本与前述一致，不再赘述。"
"为了减少传感器的零点温度输出，提高传感器精度，需要对传感器的零点温度输出进行补偿。通常情况下，根据零点温度输出的正负，选择在对应桥臂串联零点温度补偿电阻，增加温度下的电阻，使温度零点输出平衡。 图2. 零点温度漂移补偿电路示意图 对于图2(a)通用补偿法，温度零点补偿电阻R t 计算推导如下，通常桥路输出为： U o = U B − U D = R 1 R 3 − R 2 R 4 ( R 1 + R 2 ) ( R 3 + R 4 ) × U (11) 当 R 1 = R 2 = R 3 = R 4 = R ，并将温度零点补偿电阻R t 串入桥臂电阻R 1 中，则 Δ U o = U o t − U o = R ( R + Δ R t ) − R 2 ( R + Δ R t + R ) 2 R × U = Δ R t 4 R + Δ R t × U (12) 式中ΔU o 为温度下的桥路零载荷输出变化，单位mV；U o t为温度下零载荷桥路输出，单位mV；U o 为常温下零载荷桥路输出，单位mV；R t 为温度零点补偿电阻，单位Ω。 Δ R t = 4 R Δ U o U − 2 Δ U o 由于2ΔU o 远小于激励电压U，可忽略不计，则 Δ R t = 4 R Δ U o U (13) 又 Δ R t = R t α Δ t (14) 式中α为零点温度补偿电阻R t 的电阻温度系数；Δt为温差范围。 将式(14)代入式(12) R t = 4 R Δ U o U α Δ t (15) 通常情况下，零点温度补偿电阻R t 采用ϕ0.1~ϕ0.15纯铜漆包线或纯镍漆包线绕制而成，在截面直径确定情况下只需要确定补偿丝的长度即可。以ϕ0.15纯铜漆包线为例，其电阻率位0.0172 mΩ·mm，电阻温度系数为0.004/℃，零点温度输出150 μV，桥路电阻350 Ω，桥路电压5 V，温差范围50℃，则 R t = 4 R Δ U o U α Δ t = 4 × 350 × 150 × 10 − 6 5 × 0.004 × 50 = 0.21   Ω L = R t S ρ = 0.21 × π × 0.075 2 1.72 × 10 - 5 = 215.6   mm (16) 式中L为漆包铜线长度，单位mm；S为截面面积，单位mm 2 ；ρ为电阻率，单位mΩ·mm。 理论计算的R t 电阻值，需要进行修正，在上述基础上乘以修正系数C，获得更高精度零点温度补偿要求。 对于图2(b)的并联电阻补偿法，可以获得更高的精度，一般情况下，R t 为固定阻值的铜电阻或镍电阻，阻值约为0.5~1 Ω任意固定值，通过调整并联精密电阻R tp 的阻值来调整零点温度补偿电阻 [ 2 ] 。严格意义上的补偿电路示意图见图3。 图3. 零点温度补偿实际电路示意图 实际应用中，应用纯铜漆包线或纯镍漆包线时应对其进行稳定化处理，以提升补偿后的零点稳定性；而对于铜电阻或镍电阻，一般采用箔材蚀刻而成，会经过相应的处理，相对稳定性较高。 值得注意的是，由于零点温度补偿电阻大多数处于单一桥臂，相当于1/4桥，它对温度零点补偿输出会带来一定的非线性 [ 3 ] ，在实际应用中应适当考虑，而图3的电路补偿方法会降低非线性。"
"理论上来讲，零点温度输出是线性输出 [ 4 ] ，设初始零位为U o ，温度系数为γ，则零点输出为 U o = a 0 ( 1 + γ Δ t ) (17) 补偿的方案是将一个随温度变化的信号叠加给温度零点输出，抵消a 0 Δt对传感器输出的影响，这个随温度变化信号可以由一个温度传感器获得。设温度传感器测得的信号为 Y o = b 0 ( 1 + β Δ t ) (18) 式中β为温度传感器补偿系数。 零点温度补偿功能的传感器输入的输出简图为图4，具有可调系数λ，可以调整传感器的温度零点输出，其输出为 Y = a 0 ( 1 + γ Δ t ) + λ b 0 ( 1 + β Δ t ) (19) 式(19)是传感器零点温度输出补偿的数学模型。 图4. 零点温度补偿传感器模型示意图 根据线性数学模型，可以采用曲线拟合，最小二乘法、神经网络等算法进行零点温度补偿。不管哪种算法，必须首先设置相应的温度传感器对传感器的表面温度进行采集，作为变量，对应跟随变量修正传感器输出，使应变传感器温度零点输出为零或接近于零，一般情况下均采用铂电阻作为测温传感器。 对于增加铂电阻未补偿的传感器，首先对温度传感器进行标定，形成一组数据，然后在温度变化的环境条件下对传感器的零点进行测试形成一组数据，随后对数据进行标定对应，形成标准曲线，对曲线进行拟合，获得不同的高次项系数，最优用软件算式对曲线拟合，测试输出，再修正高次项系数，获得最佳补偿结果。 分别用ZEMIC公司的BKM2350-3AA(23)T0-C应变计和德国H公司的3/350LT LA13 O应变计各制作8只20 Kg铝双孔平行梁传感器，在传感器中双孔中心外表面粘贴100 Ω铂电阻测温，放置在环境试验箱中，校准铂电阻温度，进行升降温，测试传感器在不同温度下的零点变化，得到相应的零点温度输出曲线图，详见图5和图6。 图5. ZEMIC应变计制作传感器未补偿温度零点输出曲线 图6. H公司应变计制作传感器未补偿温度零点输出曲线 先对ZEMIC和H公司应变计制作的传感器平均温度零点输出曲线进行拟合。可以采用一元多项式拟合，一般情况下，单一曲线可以用式(20)表示。 U o t = a 0 + a 1 t + a 2 t 2 + a 3 t 3 + a 4 t 4 + ⋯ + a n t n (20) 式中U ot 为温度t下的输出；t为标定后的铂电阻温度；a 0 ~a n 为多项式系数。 可以采用线性代数计算，以温度t为变量，则式(20)可演化为不同一元高次方程式，即 a n t n + a ( n − 1 ) t ( n − 1 ) + ⋯ + a 4 t 4 + a 3 t 3 + a 2 t 2 + a 1 t + a 0 − U o t = 0 (21) 根据韦达定理，可得 t 1 + t 2 + ⋯ + t ( n − 1 ) + t n = − a ( n − 1 ) a n t 1 t 2 + t 2 t 3 + ⋯ + t ( n − 1 ) t n = a ( n − 2 ) a n                       ⋮ t 1 t 2 t 3 ⋯ t ( n − 1 ) t n = ( − 1 ) n a 0 − U o t a n (22) 为了降低验算难度和程序的复杂度，一般最多选择5次项进行拟合。针对于ZEMIC应变计和H公司应变计制作的传感器测试数据，各抽取其中4只传感器对典型曲线进行拟合得到的拟合方程式。 编号ZEMIC1、ZEMIC5、ZEMIC6、ZEMIC8、H1、H3、H4、H7的传感器拟合结果为： U Z 1 o t = − 40 − 0.65 t + 0.113 t 2 + 4.79 × 10 − 3 t 3 − 2.36 × 10 − 4 t 4 + 2.39 × 10 − 6 t 5 U Z 5 o t = 34.7 − 1.71 t + 0.014 t 2 − 3.18 × 10 − 5 t 3 − 4.51 × 10 − 5 t 4 + 6.81 × 10 − 7 t 5 U Z 6 o t = 34 + 0.456 t − 0.092 t 2 − 4 × 10 − 3 t 3 + 2.01 × 10 − 4 t 4 − 2.07 × 10 − 6 t 5 U Z 8 o t = − 22.6 + 0.85 t + 0.011 t 2 + 6.8 × 10 − 4 t 3 − 3.1 × 10 − 5 t 4 + 3.09 × 10 − 7 t 5 U H 1 o t = − 37 − t + 0.044 t 2 + 4.98 × 10 − 3 t 3 − 1.71 × 10 − 4 t 4 + 1.49 × 10 − 6 t 5 U H 3 o t = 58.2 − 2.22 t − 0.0356 t 2 − 6.19 × 10 − 4 t 3 + 4.15 × 10 − 5 t 4 − 4.4 × 10 − 7 t 5 U H 4 o t = 17.8 − 0.86 t − 2.31 × 10 − 3 t 2 + 4.32 × 10 − 4 t 3 − 2.48 × 10 − 5 t 4 + 3.02 × 10 − 7 t 5 U H 7 o t = − 9.6 − 0.85 t + 0.0243 t 2 + 1.66 × 10 − 3 t 3 − 4 × 10 − 5 t 4 + 2.7 × 10 − 7 t 5"
"分别采用电路补偿和算法软件补偿方法进行了制作双孔平行梁传感器验证，具体结果如下。  随机抽取10只未做补偿传感器测试高温、低温数据，初试结果见表1。 Table 1 编号 40℃输出U o −10℃输出U o ΔU o 灵敏度S 拱桥电压U 输入电阻R i N0126 −166 −135 −31 2.018 10 V 350.9 N0005 1235 1066 169 2.032 10 V 351.2 N2377 358 405 −47 2.001 10 V 350.5 N2560 129 202 −73 2.01 10 V 350.1 N1003 256 247 9 2.015 10 V 351.0 N0089 −199 −256 57 2.018 10 V 351.5 N1925 −677 −629 −48 2.005 10 V 350.5 N1105 68 170 −102 2.024 10 V 350.2 N0886 −339 −376 37 2.022 10 V 350.0 N0267 172 229 −57 2.005 10 V 350.8 表1. 未补偿传感器测试数据列表 采用ϕ0.15纯铜漆包线进行补偿，其电阻率位0.0172 mΩ·mm，电阻温度系数为0.004/℃，对上表数据用式(15)、式(16)进行计算，得出每只传感器需要补偿的零点温度补偿电阻值和补偿漆包线的线长，根据修正补偿系数C修正，将漆包线补偿进桥路，进行高低温测试，结果过如表2。 Table 2 编号 补偿前输出和精度 补偿后输出和精度 ΔU o %F.S/10℃ ΔU o %F.S/10℃ N0126 −31 −0.031 10 0.01 N0005 169 0.166 15 0.014 N2377 −47 −0.047 -12 -0.012 N2560 −73 −0.073 8 0.0008 N1003 9 0.0008 9 0.0008 N0089 57 0.057 -14 -0.013 N1925 −48 −0.048 20 0.02 N1105 −102 −0.0101 -22 -0.021 N0886 37 0.037 16 0.016 N0267 −57 −0.057 12 0.012 表2. 补偿后的传感器测试结果 经过核算和系数计算后，90%传感器零点温度补偿后ZTC精度可以达到0.02%以内。  为了能够准确反应传感器的零点在温度下的变化，特意对ZEMIC型号BKM2350-3AA(23)T0-C应变计和H公司3/350LT LA13 O应变计的热输出进行了测试，结果如图7。 图7. ZEMIC和H公司应变计热输出测试曲线 从曲线来看，ZEMIC和H公司应变计热输出曲线趋势基本一致，ZEMIC负温段热输出相较H公司偏正，正温段热输出相较H公司偏负，因此制作传感器的ZTC (Zero Temperature Compensation，零点温度补偿)性能应基本一致。图5和图6的曲线结果也验证了前述推断。 根据前述曲线拟合获得的拟合公式和参数对传感器的输出进行算法程序拟合，分别对采用ZEMIC和H公司应变计的铝传感器进行曲线拟合，拟合后的对比曲线详见图8。 根据拟合曲线和系数，编写ZTC补偿拟合算法程序，注入芯片后进行测试，结果拟合补偿后的传感器性能全部达到了0.02%F.S/10℃，甚至90%达到了0.015%F.S/10℃以内，相比电路补偿可以得到更高的精度，且在全温范围内有较好的线性。 图8. 不同应变计制作铝传感器ZTC拟合曲线 目前电路补偿方法已经大批量应用于应变式传感器补偿工序，取得了良好的效果，批量补偿C3级传感器一次合格率可以达到95%以上。曲线拟合和软件修正方法也已经成功应用于数字补偿传感器和智能传感器，正在进行批量推广和应用。"
"通过理论分析，明确应变式传感器零点温度输出的主要影响因素和来源。推导了温度零点电路补偿的理论公式，对电路补偿法进行了介绍和实际验证。明确了算法补偿的主要依据是曲线拟合，也对相应方法和实际应用情况进行了介绍。 结果表明，通过电路补偿法和算法软件补偿，均可以将应变式传感器的ZTC性能提升至0.02%F.S/10℃以内。软件算法补偿相比电路补偿可以获得更高的精度，在全温范围内有较好的线性。"
