"本文针对室内家居环境的监测，设计了基于ATmega328p单片机的温度/湿度/光强多参数测量仪。通过WZP-035型铂热电阻式温度传感器进行温度监测，HS1101型电容式湿度传感器进行湿度监测以及GL5537型光敏传感器进行光照监测，其中温度的监测范围−10℃~40℃，湿度为10%~60% RH，光强为10~1000 lx。通过分析温度、湿度和光强等传感器的基本结构和工作原理，进行了三种传感器的静态特性标定，在此基础上设计、制作信号处理电路，采用单片机进行数据处理，并通过LCD12864液晶显示屏显示信号。结果表明该系统能完成室内温度、湿度和光强的监测，可以稳定的显示数值。 关键词 :温度传感器，湿度传感器，光强传感器，环境参数，舒适度 Copyright © 2018 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"随着传感器技术的发展，已经可以对农业大棚、锅炉系统、智能家居、电力、医疗监护等领域进行环境监测，并根据实际的需求对环境进行控制。例如，在农业大棚中，通过温度、湿度、光强的监测判断是否适应农作物种植和生长；在锅炉报警系统中，需要通过采集室内的环境温度，判断其是否超过了温度上限 [ 1 ] [ 2 ] 。同时在现代电子设备的工作环境中，没有合适的温度/湿度等环境参数，仪器、设备容易出现严重故障等问题 [ 3 ] ，环境监测十分重要。随着科学技术的发展，可以通过网络系统或者是手机在任意时间、任何地点对家中需要的各种用电器进行远程操作，并同时对室内温度/湿度/光强进行监测 [ 4 ] ，环境监测趋向不断智能化，产品在各领域应用也越来越广泛。本文设计的监测系统以单片机为核心，通过传感器采集当前室内环境的实时温度、湿度和光强，设计、制作了硬件电路，并进行了软件程序的编写，可实现了环境温度、湿度、光强同时监测和显示的基本功能。"
"如图1，绕在云母片上的纯铂丝作为铂电阻元件，通过云母片作为绝缘材料，铂丝绕阻的出线端与银丝制成的引出线焊接形成银电极引出线，并用瓷套管做绝缘保护 [ 5 ] 。铂热电阻测温精度较高，测温范围可高达−150℃~+650℃，本文选用WZP-035型铂电阻作为的温度传感器，测温范围为−50℃~+150℃，完全适用于环境监测，并且电阻和温度关系的线性度较好，铂电阻阻值会随着温度的上升而逐渐趋于匀速增长。铂电阻值与温度关系为 [ 6 ] ： 当−200℃ < T < 0℃时 R t = R 0 [ 1 + A T + B T 2 + C ( T − 100 ) T 3 ] (1) 当0℃ < T < 650℃时 R t = R 0 ( 1 + A T + B T 2 ) (2) 图1. 铂热电阻基本结构示意图 其中R t ：铂热电阻在T℃时的电阻值，R 0 ：铂热电阻在0℃时的电阻值，A：3.908 × 10 −3 ℃ −1 ，B：−5.775 × 10 −7 ℃ −2 ，C：−4.183 × 10 −12 ℃ −4 。 在实际的使用过程中，通过实验研究铂电阻的电阻值和温度关系曲线，与理论有一定的偏离，在工程技术应用中需要进行适当补偿。  如图2，湿敏元件主要包括感湿膜和两个电极层(上、下电极)，在玻璃或陶瓷基片上镀一层梳状金电极作为下电极，然后涂上高分子感湿膜作为电介质，在感湿膜上镀另一层透水性能较好的金膜作为上电极，为了延长使用寿命可以在湿度传感器上盖一层多孔的网罩，本文选用的HS1101型电容式湿度传感器 [ 7 ] 。 电容式湿度传感器是利用某种感湿材料吸收水蒸气后，引起感湿材料的电介常数会发生改变，从而改变两个电极间电容值，介电系数随环境相对湿度变化关系为： ε x = ε 0 + k u (3) 式中，ε x 是湿敏材料在不同湿度下的介电系数，ε 0 为0% RH时的介电系数，k是常数，u是相对湿度。 根据传感器形状，本文选用的平板型电容式湿度传感器电容表达式： C x = ε x S d = ε 0 S d + k S d ⋅ u (4) 式中，S为下电极面积，d为感湿膜的厚度，设k 1 = ε 0 S/d，k 2 = kS/d，C x 为不同相对湿度下的电容量。C x 与u呈线性关系可得： C x = k 1 + k 2 u (5) 由(5)式可以看出，C x 随环境相对湿度发生改变且为线性关系，理论分析给出通过传感器电容值可以实现空气环境中相对湿度的测量。  图3给出光敏电阻的基本结构，采用陶瓷片作为绝缘衬底，在两侧的两个金属电极连接成引脚，并形成引线，两片金属电极呈梳齿形状交叉，半导体光敏层均匀的分布在波纹形状的齿梳间隙里面 [ 8 ] 。 本文选用的GL5537型光敏电阻，当无光照时，阻值为4 MΩ，暗电阻大，当光照射时，若光子的能量( h ν )比半导体材料的禁带宽度(E g )大得多，则价带中的电子会跃迁到导带，光敏电阻吸收了光子释放出的能量，引起材料中载流子浓度增加，光敏电阻导电性增强，阻值减小。当没有光照射时，电阻又逐渐恢复到初始值。本系统的光强传感器是根据电阻值随入射光的强弱而改变进行监测，入射的光越强，电阻值就越小 [ 9 ] 。"
"本实验利用高低温试验箱进行了铂热电阻的静态特性标定，高低温试验箱主要由箱体、进口LED 图2. 湿敏电容基本结构示意图 图3. 光敏电阻基本结构示意图 数据显示及镍铬合金电加热式加热器、微电脑集成控制器和法国原装“泰康”全封闭压缩机及多翼式送风机、多叶式离心风轮组成，该仪器主要完成单只或多只传感器的高、低温可靠性试验，检验其各项性能指标，如图4(a)所示。高低温试验箱的温度工作范围为−70℃~150℃，显示精度为±0.01℃；湿度工作范围30%~98% RH，显示精度为±0.1% RH，将铂热电阻式温度传感器放入高低温试验箱中，设置不同的温度点进行监测，所得数据绘制了如图4(b)所示的实验曲线和拟合直线。  本文利用饱和盐溶液法进行HS1101湿敏电容的静态特性标定，在室温条件下，将HS1101电容式湿度传感器分别置于LiBr (6.37%)、CH 3 COOK (22.52%)、MgCl 2 (32.78%)、K 2 CO (43.16%)、NaBr (57.57%)、NaCl (75.29%)、KBr (80.89%)、KCl (84.34%)、KNO 3 (93.58%)以及CuSO 4 (97.69%)等饱和盐溶液中进行测量，测量的装置如图5(a)所示。采用TH2819A高精密LCR数字电桥设置不同的频率 [ 10 ] ，并且分别测出其电容值绘制了湿敏特性曲线如图5(b)。  在避光条件下，首先在没有放入光敏电阻时，打开灯开关将不同位置处(5 cm、10 cm … 100 cm)的光强值记录，然后调整光敏电阻的高度，使它与小灯泡尽量等高，先将无光照时光敏电阻的阻值记录，然后在5 cm~100 cm范围内移动光敏电阻，移动步长为5 cm，测量的装置如图6(a)所示。本实验正、反行程连续重复三次，通过多次测量而取平均值，由此可以得到光敏电阻阻值与光强的实验曲线和拟合直线如图6(b)。"
"本文设计的监测系统总体结构框图如图7所示。由ATmega328p单片机控制前端的温度传感器、湿度传感器和光强传感器对室内环境中的各参数进行采集，并通过相应的信号处理电路，用自带模数转换模块的微处理器将接收到的模拟信号转换为数字信号，并对数据进行处理与计算，最终把处理后的数据传输到液晶显示模块，显示屏显示当前环境的温度/湿度/光强，完成多参数测量仪的基本功能。  图8给出了多参数测量仪整体电路图，通过搭建硬件测量电路与软件编程相结合进行温度/湿度/光强 图4. 温度特性测试：(a) 高低温试验箱；(b) 温度传感器的实验曲线和拟合直线 图5. 湿度特性测试：(a) 饱和盐溶液；(b) 湿敏特性曲线 图6. 光特性测试：(a) 测试装置；(b) 光敏特性曲线和拟合直线 图7. 监测系统设计框图 图8. 多参数测量仪电路原理图 的监测，该系统由环境参数采集部分(温度传感器、湿度传感器、光强传感器)、转换电路、含模数转换模块的微处理器(主机用于温湿度和光强信号采集，从机用于中文液晶显示)和12864LCD中文液晶显示器四个部分组成，图9(a)~(c)分别为温度采集电路、湿度测量电路和光强采集电路，焊制完成后的电路实物如图10所示。  系统控制中心选用的是由Atmel公司设计的ARM和AVR微控制器的Arduino开源平台，基于ATmega328p单片机的程序设计。本文采用Arduino自带的编程软件(IDE)进行程序设计，编译成功的程序可直接使用USB-ISP下载器下载到单片机中运行。软件编程部分包含大量的储存库，可以采用C语言、C++等高级语言 [ 11 ] 。"
"本文采用高低温实验箱对测量仪进行温度测量标定，对温度实际测量值与高低温试验箱设定的温度值进行了对比分析。在室温条件下，将测量仪湿度传感器探头分别置于6.4%的LiBr、22.5%的CH 3 COOK、32.8%的MgCl 2 、43.2%的K 2 CO 3 、57.6%的NaBr、75.3%的NaCl饱和盐溶液中，对饱和盐溶液调节湿度值与本系统监测的湿度值进行了比较分析。在室温下，利用照度计显示的光强与本系统的测量值进行了对比分析。如图11(a)~(c)分别给出温度、湿度和光强测量的校准曲线，实验结果表明标准值和测量值间 图9. 三种不同被测量采集电路：(a) 温度采集电路；(b) 湿度测量电路；(c) 光强采集电路 图10. 多参数测量仪照片 图11. 实验值与标准值关系曲线：(a) 温度；(b) 湿度；(c) 光强 存在一定偏离。结果表明，温度测量的误差主要是电流会使铂电阻略微变热，产生热效应以及外围测量电路中电阻、变阻器和芯片等器件本身的误差影响。影响湿度测量的误差主要有两种，第一种是信号处理电路中电阻阻值的影响；第二种是选用的HS1101湿敏电容元件传感器本身，容易受外界因素所干扰，这是不可避免的测量误差。影响光强测量的误差主要有当电流流过光敏电阻时产生的热效应和光敏电阻本身的灵敏度，同样也包括外围电路中其他器件的影响。"
"本文以室内家居环境监测为背景，搭建温度/湿度/光强采集电路，设计了基于ATmega328p单片机的多参数测量仪，通过分析温度、湿度和光强三种传感器的基本结构和工作原理，进行了传感器的静态特性标定。在此基础上设计并制作信号处理电路，通过单片机做数据处理，采用LCD12864液晶显示屏显示信号，其中温度的测量范围是−10℃~40℃，湿度的测量范围是10%~60% RH，光强的测量范围10~1000 lx。结果表明监测存在一定的误差，主要原因为传感器本身容易受外界因素所干扰以及测量装置引起的误差。该测量仪可实现温度、湿度、光强等环境参数监测的基本功能，能够稳定的显示测量值。"
