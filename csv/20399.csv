"HyperStudy把目前使用最多的CAE仿真软件，HyperMesh及ANSYS完美的结合到了一起。运用HyperStudy能够快速的对出产的新车局部问题进行优化改进，大大缩短了出产新车的时间。内部自带的优化方法能满足目前各种优化分析的需要，用其优化的结果能快速的找到优化最优解，并以最优的方式完成整车的制造。 关键词 :HyperStudy，ANSYS，点焊车，优化设计 Copyright © 2017 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"现代轨道车辆中应用最多的焊接方式有对接焊、搭接焊、点焊等。点焊结构具有质量轻、静强度高、可靠性好和易于实现自动化等优点 [ 1 ] ，被中车各生产厂所接受。对点焊车车体的安全校核，基于有限元方法进行仿真分析，是广泛采用的一种方法。张军等 [ 2 ] 构建出较好的车辆优化数学模型并验证了其可行性；陈勇敢等 [ 3 ] 对车体焊点布置方法及优化软件进行了对比，指出了OptiStruct和ANSYS对焊点布局优化的利弊，并运用这两款软件对应用模态分析对焊点进行了布局优化。谢素明等 [ 4 ] 解释了结构稳定性的算法原理，并运用OptiStruct软件对不锈钢点焊车车体局部运用子结构技术进行了稳定性分析，并通过优化手段解决了某点焊车车体的失稳问题，同时提出可用变密度法来进行焊点的布局优化。潘迪夫等 [ 5 ] 在论文中提出可运用多目标遗传算法对机车部件进行优化。 目前的优化软件较多，HyperStudy可调用各种分析软件进行形状和尺寸优化，吴洪亮 [ 6 ] 运用，HyperStudy与OptiStruct结合对汽车车体进行了尺寸优化，刘磊 [ 7 ] 对航天器结构做了优化，而焦柯 [ 8 ] 的论文中，表明修改某单元内部参数就可以完成尺寸优化，厂内目前的分析软件主要以ANSYS为主，若直接用HyperStudy与ANSYS连接，能大大提高车体研发效率。通过以上论文的启发，焊点在ANSYS中也是以网格形式模拟，若直接修改网格参数，运用HyperStudy的内部优化方法，不断修改网格参数，得到满足优化中目标函数的数据，从而完成对焊点布局的优化操作。本文工作基于HyperStudy优化平台，结合HyperMesh建模和ANSYS分析功能，对新型不锈钢点焊车车体进行分析与优化，包括补强板设计位置、厚度等，局部结构的优化设计能在节省材料的同时大大降低应力值。"
"新型不锈钢点焊车车体钢结构整体由底架、侧墙、车顶、端墙等组成。车体整体外裹不同厚度蒙皮，内为不同尺寸Z型钢焊接而成的骨架。内外部由焊点连接。车体受力后，力通过各焊点遍布整个车体。车体端部底架及枕梁大部分用09CuPCrNi不锈钢，其余部分采用SUS301L系列不锈钢，其力学性能如表1所示。 HyperMesh是一个高质量高效率的有限元前处理软件，它提供了高度交互的可视化环境帮助用户建立产品的有限元模型。HyperMesh高质量高效率的网络划分技术可以完成全面的杆梁、板壳、四面体和六面体网格的自动和半自动划分，大大简化对复杂几何进行仿真建模的过程 [ 9 ] 。基于HyperMesh软件对上述车体进行有限元建模，有限元模型主要以四节点壳单元(ANSYS SHELL181)为主，车体焊点由两点梁单元(ANSYS BEAM188)模拟，设备质量由质量单元(ANSYS MASS21)模拟，连接关系由柔性元(RBE3)和刚性元(CERIG)模拟。车体单元总数为1,745,762个，其中梁单元总数为37,612个，节点总数为1710453个。车体有限元模型分别如图1所示，梁单元分布情况如图2所示。"
"车体静强度分析包括垂向、纵向、扭转等14个工况，其中最为恶劣的是整备状态车钩1500 KN压缩 图1. 车体几何模型 图2. 焊点分布图。 (a) 焊点整体分布图；(b) 焊点局部分布图 Table 1 材料名称 密度 kg/m 3 弹性模量 MPa 泊松比 屈服极限 MPa 09CuPCrNi-A 7.297 210,000 0.3 345 SUS301L-DLT 7.297 183,000 0.3 345 SUS301L-ST 7.297 183,000 0.3 410 SUS301L-MT 7.297 183,000 0.3 480 SUS301L-HT 7.297 183,000 0.3 685 表1. 不锈钢高速动车组车体材料力学性能表 图3. 整备状态下车钩处1500 KN压缩工况加载示意图 工况。对纵截面进行横向位移约束及纵向垂向扭转约束，为模拟真是实验状态，左右车钩处各施加750 KN的纵向压力，车体地板梁处施加151 KN的垂向力，施加状况如图3所示。 提取压缩工况计算结果，车体各窗角附近应力值均在200 MPa以上，最大窗角处应力值到达247 MPa，具体位置如图4所示。  窗角处计算应力值达到较大值247 MPa，超出屈服强度，需要对窗角结构进行修改设计，以优化结构降低应力。为计算方便计算，修改设计过程中采用子模型技术，把窗角处分离出来，引入总体结构中边界条件，对子模型单独进行优化计算。修改设计选定在窗角四周均加入2 mm厚L型补强板，同时在横梁和立柱交叉处焊接2 mm厚十字立板，如图5所示，此时应力值下降到202 MPa。"
"图6是两图对比，说明这块区域应力在整车上，和分离出来应力最大值差不多，所以可用子模型结构来替换整车结构，进行计算分析。虽然增加补强板后，应力值下降到了厂里要求的水平，但从板厚的选择，焊点的布置并不是最优解，在此处可利用HyperStudy平台，对子模型中的5块补强板及与之关联的34个焊点进行优化，优化方法选用序列二次规划法(SQP法)及遗传算法(GA法)，对编程后的cdb文件，运用ANSYS11.0版本求解器优化后使分布达到最优解。补强板结构优化设计过程如图7所示。 图4. 整备状态车钩1500 KN压缩工况应力云图。(a) 车体整体应力云图；(b) 车体局部应力云图 图5. 窗角补强方案模型。(a) 窗角处原结构；(b) 加十字板结构；(c) 加强板结构 图6. 修改结构后应力云图。(a) 子模型应力云图；(b) 整车局部应力云图 4.1. 优化方法介绍 [ 10 ]  序列二次规划法(SQP法)是一种用于求解有约束问题的优化方法。其基本思想是在原有模型的基础上构建一个拉格朗日二阶近似模型，并通过求解该近似模型已确定搜索方向: 在搜索过程中，设计约束被线性化，得： 求解此类二次问题即得优化目标。搜索方向的确定服从以下基本原则：从当前设计点出发，通过搜索得到的新的设计点需要使目标目标函数的取值更优，且满足约束条件。  遗传算法是以进化理论为依托的一类机器学习技术。其实一种群体进化技术，个体通常用二进制来进行编码。在进行适应度(Fitness)计算时，需对个体进行解码。适应度是评价某个解优劣性的指标。按照达尔文的适者生存进化理论，具有高实用度的个体更有可能被选择(Selection)来繁殖下一代。 图7. 车体补强板处优化的流程图 基于所选个体，通过遗传操作算子将繁殖(Reproduction)下一代。一个个体与所选的另一个个体按照一定概率进行交叉(Cross over)和变异(Mutation)。所产生的个体成为下一代的候选解。这一过程将被重复许多代以使种群不断进化，从而获得优化问题的解。   在优化求解器中选择SQP方法，设计变量：单独设置34个beam梁材料的弹性模量值为183,000 MPa，下限为1 MPa，上限为183,000 MPa；设置约束条件：子模型所有节点最大应力值小于等于180 MPa；设置目标函数：弹性模量总和最小。设置好后执行优化，优化结果如图8所示。根据要求，去掉小于1000 MPa弹性模量的beam梁4个，beam梁优化后形状改变图如图9，应力云图如图10，在bottom面，最大值为193.107 MPa。  再对5个补强板进行优化，同理在优化求解器中选择SQP方法，设计变量：单独设置5块板厚度值为4mm，下限为1.5 mm，上限为4 mm；设置约束条件：子模型所有节点最大应力值小于等于180 MPa；设置目标函数：应力值最低。设置好后执行优化，优化结果如图11所示，最大应力值降低到184.6 MPa， 图8. 焊点布局优化历史 图9. beam梁优化后形状改变图 图10. 焊点布局优化后应力分布图 结果表明若想继续降低应力需增加全部板厚。   在优化求解器中选择GA方法，设计变量：单独设置34个beam梁材料的弹性模量值为183,000 MPa，下限为1 MPa，上限为183,000 MPa；设置约束条件：子模型所有节点最大应力值小于等于180 MPa；设置目标函数：弹性模量总和最小。设置好后执行优化，优化结果如图12所示。根据要求，去掉小于1000 MPa弹性模量的beam梁6个。形状改变图如图13所示；得应力云图如图14所示，在bottom面，最大值为193 MPa。  再对5个补强板进行优化，同理在优化求解器中选择GA方法，设计变量：单独设置5块板厚度值为4 mm，下限为1.5 mm，上限为4 mm；设置约束条件：子模型所有节点最大应力值小于等于180 MPa；设置目标函数：应力值最低。设置好后执行优化，优化结果如图15。根据要求，分别改变厚度以降低应力值，最大应力值降低到181.9 MPa，优化结果与用SQP优化结果基本一致。"
"本次对车体补强结构整体进行了优化，解决了直接用HyperMesh导出CDB文件进行优化的难题。使用序列规划法优化，结果显示有4个beam梁的弹性模量值在1000以下，得到优化结果后取出此4个beam梁并去除与之相连的局部补强板；使用遗传算法优化，结果显示有6个beam梁的弹性模量值在1000以下，得到优化结果后取出此6个beam梁并去除与之相连的局部补强板。结构改变后放入ANSYS 图11. 目标约束函数及变量迭代步骤数值变换图 图12. 焊点布局优化迭代历史 图13. Beam梁优化后形状改变图 图14. 焊点优化应力分布图 图15. 目标约束函数及变量迭代步骤数值变换图 重新计算，得到结果与直接优化产生一致，至此表明优化结果能合理的应用到实际中，并能通过优化达到减材减重的效果。"
