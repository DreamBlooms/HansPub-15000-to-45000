"研究刀具半径对3D误差补偿的影响，提高多轴加工复杂自由曲面表面轮廓精度。首先对3D刀具误差产生机理进行分析，推导出了残留高度计算公式和误差补偿的数学模型，使用MATLAB软件分别对刀具半径与残留高度之间的关系以及补偿算法进行了仿真验证。基于五轴双摆台机床的运动学模型，结合刀具误差补偿模型，对叶片零件分别采用四种不同直径的球头铣刀进行后置处理。最后，进行了仿真和真实切削实验，并对实验结果进行了分析。刀具进行半径补偿后所加工零件，其实际加工效果与半径补偿值大小密切相关，且补偿值越小，补偿效果越明显，加工效果与理论结果越接近。f8、f9、f9.5及f10四种尺寸刀具对叶片试件进行仿真加工，与理论f10刀具加工的数据对比，f8、f9、f9.5三种尺寸刀具补偿加工后的最大残留高度值与理论刀具相比分别多0.09、0.07、0.05 mm，超差点数量与理论刀具相比多1055、462、292。刀具3D误差补偿算法，可在刀具尺寸磨损后不需要更换刀具下满足加工要求，大大提高效率，降低生产成本。刀具3D误差补偿算法的实施需在刀具磨损率较小的情况下使用，特别是精加工过程。 关键词 :五轴联动，残留高度，刀具误差，后置处理，表面质量 Copyright © 2020 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY 4.0). http://creativecommons.org/licenses/by/4.0/"
"在五轴加工过程中，零件轮廓精度不仅与刀具姿态相关 [ 1 ] [ 2 ]，还与刀具的参数变化密切相关。若刀具实际参数与理想刀具参数不吻合，刀心运动轨迹线偏离理想轨迹线，刀具与工件表面实际接触点坐标发生变化且其有效切削轮廓发生变化，导致成形件轮廓精度降低。刀具的更换及编制新的加工程序 [ 3 ] 虽然都能解决零件加工精度降低问题，但两种方法都会增加机床待机时间、刀具成本及工艺技术人员的劳动强度。因此，在实际工程应用中，研究刀具磨损误差补偿方法有切实的必要。 目前，在空间刀具误差补偿方面，前人做的相应研究成果主要有：基于平面投影法对五轴侧铣加工进行了刀具误差补偿研究 [ 4 ] [ 5 ] [ 6 ] [ 7 ]；五轴端铣加工中的刀具误差补偿研究 [ 8 ] [ 9 ] [ 10 ] [ 11 ] [ 12 ]；基于数控系统的五轴加工中刀具的RTCP补偿 [ 13 ]。根据文献了解，现有的研究成果大都还处在实验室阶段，并未用于工程实践。 为解决刀具磨损之后导致的零件轮廓精度下降问题，本文拟通过分析刀具半径变化对3D误差补偿的影响规律，对刀具的中心运动轨迹进行修正的方法来提高零件的制造精度。主要包括以下内容：对刀具误差产生机理进行分析，根据残留高度数学模型构建刀具3D误差补偿数学模型；以双摆台机床的基本运动学模型为基础 [ 14 ] [ 15 ]，采用某叶片为试件，通过刀具路径规划 [ 16 ] [ 17 ] [ 18 ]，基于后置处理技术进行不同尺寸的刀具进行仿真和切削实验，对刀具磨损后误差补偿规律进行研究，并提供切实有效的补偿方法。"
"刀具磨损后，由于长度和直径都会发生变化，导致实际运动轨迹就会偏离理论运动轨迹，从而产生刀具误差。如图1所示，S为理论加工轮廓，P为理论刀触点， 为实际加工轮廓， 为实际加工刀触点，其中 就是刀具误差。 图1. 刀具磨损产生误差示意图 图2. 加工带宽与残留高度 当刀具沿某一刀具路径作切削运动时，不仅刀具轴向的切深减小，而且实际的加工带宽也减小(如图2所示)，导致刀具在加工过程中的扫略包络面减小，从而引起残留高度增加且增加了曲面法向的余量。当残留高度超过加工允许的误差时，则会损失表面精度，导致过多的抛光、打磨工序，增加制造成本。因此，研究刀具参数变化对刀具误差补偿的规律有现实意义。  残留高度过大，直接影响成形零件的轮廓精度，残留高度的计算主要分为凹面和凸面两个方面来进行考虑 [ 19 ]。 圆弧 为所加工的曲面，R为曲面曲率半径，r为刀具半径，O 1 、O 2 分别为相邻两行刀具中心，行距ab为D，残留高度cd为h，残留高度计算由图3可知： (1) (2) (3) (4) 图3. 残留高度计算 其中k值对于凸面为1，对于凹面为−1。由公式(4)可知，当行距确定，残留高度不仅与曲面的曲率有关，还与刀具的半径有关。因此，刀具磨损后，刀具的半径减小或影响到零件的加工表面精度。  刀具参数发生变化时，其长度方向可通过变更长度补偿实现，由公式(4)可知，实际影响残留高度的因素主要是半径。为研究刀具半径对残留高度的影响规律，本文采用MATLAB软件作为仿真工具，对刀具半径与残留高度之间的关系做定性分析。针对于凸曲面与凹曲面，分别取曲率半径R为10 mm、20 mm、30 mm、40 mm、50 mm、60 mm、70 mm、80 mm、90 mm、100 mm，加工行距D取值为0.1 mm，球头铣刀的刀具半径r为4 mm至5 mm。使用公式(4)对残留高度值h与刀具半径r之间的关系进行仿真分析。其结果如图4所示。 从仿真分析可得出刀具半径变化与残留高度的规律关系为： 1) 当刀具半径不断减小，残留高度值近似于线性增长； 2) 对于凸曲面，在行距不变的情况下，随着曲面曲率半径的增加，残留高度的值在不断的减小； 3) 对于凹曲面，在行距不变的情况下，随着曲面曲率半径的增加，残留高度的值在不断的增加。 图4. 残留高度仿真分析  刀具磨损以后引起的误差主要由两个方面组成。第一部分是由于刀具长度方向的减小从而引起的法向余量增加；第二部分则是由于直径方向的减小从而引起的残留高度的增加。对刀具磨损误差的补偿，可以通过修改实际刀具刀心点坐标，使得磨损以后的刀具刀触点坐标与理论刀具的刀触点坐标重合，以减小刀具磨损以后引起的误差。根据前期的研究，得到侧铣与端铣的误差补偿公式如下 [ 3 ]：  补偿后的刀具中心点轨迹O t 为： (5) 其中，P t 为刀触点坐标，Q t 为补偿值。  补偿后的刀具中心点轨迹 为： (6) 其中， 为刀触点坐标， 和 分别为磨损后的刀具半径和圆角半径， 为刀具切触点的法向矢量， 为与刀具切触点的法矢 共面且与刀轴矢量垂直的方向矢量。"
"为了验证刀具补偿算法的正确性，采用MATLAB软件作为刀具误差补偿轨迹仿真工具，某汽轮机叶片作为试件。f10 mm的环形刀具作为理论切削刀具进行叶片型面精加工编程，采用f9.5 mm的环形刀具作为补偿刀具，两种刀具的具体参数表1所示。两种方法获得的刀具路径轨迹经过MATLAB软件进行虚拟轨迹仿真，仿真结果如图5所示。 图5. 叶片试件刀具误差补偿对比 Table 1 刀具参数 刀具半径R/mm 圆角半径r/mm 理论尺寸 5 3 实际尺寸 4.75 2.75 表1. 半径补偿实验刀具参数 由表1可知，与理论刀具相比，补偿的刀具轨迹补偿值分别为半径0.25 mm，圆角半径0.25 mm。由图5可以看出，模拟的理论刀心轨迹与补偿后的刀心轨迹趋势一致，为了详细量化两种轨迹的差异，在两种轨迹的相同位置分别取20个数据点放大，如图6所示。由图中可以看出理论刀心轨迹与补偿后的刀心轨迹趋势、方向一致，但位置发生明显改变，差值约为0.2 mm，与圆角半径补偿值相接近，验证了补偿模型的有效性。"
"为了验证刀具半径补偿的实际效果，实验分别采用仿真加工和实际切削实验。仿真加工采用四种不同半径的球头刀，实际切削实验采用两种不同半径的球头刀。 图6. 误差补偿局部示意图  某透平叶片作刀具误差补偿实验试件。该叶片型面由多个截面拟合而成，其中B截面理论尺寸为：进气边的圆角为0.65 mm，出气边圆角为0.35 mm，叶身的最大厚度3.8 mm。具体参数及公差带如表2所示。 Table 2 截面 最大厚度 进汽边轮廓 出汽边轮廓 B 3.80.20 -0.15 0.650.15 -0.15 0.350.15 -0.15 表2. 叶片截面理论尺寸及公差(mm) 叶片毛坯模型采用f80 mm × 220 mm圆柱毛坯(实际切削采用6000系列铝合金，其成分为6061 Mg1%，Si0.6%，Cu0.3%)。叶片采用三种刀具分工序进行粗精加工，软件平台采用UG8.0，根据以往的研究，详细的叶片型面工艺路线规划如下 [ 20 ]： 1) 工序1 (叶片粗加工)。采用三轴联动进行铣削成模型的大致形状； 2) 工序2 (叶片半精加工)。采用五轴径向螺旋铣对叶片型面进行半精加工，留0.5 mm精加工余量； 3) 工序3 (叶片精加工)。采用五轴径向螺旋铣对叶片进行精加工，按照模型理论尺寸铣削到位。 Table 3 工序 刀具类型 刀具直径(mm) 转速(r/min) 残留高度(mm) 容差(mm) 粗加工 立铣刀 32 1000 0.1 1 半精加工 球头刀 20 1600 0.05 0.3 精加工 球头刀 10 3000 0.02 0.03 表3. 刀具误差补偿实验加工工艺参数 根据编制的工艺路线，在UG软件编制刀路轨迹时分别采用f32 mm的镶片立铣刀、f20 mm的球头刀、f10 mm的球头刀对叶片进行粗精加工。刀具及相应的工艺参数如表3所示。 在实验验证中，分别进行了叶片的虚拟加工及实际切削实验，其中仅对叶片精加工刀具程序进行了补偿实验验证。为增加对比效果，虚拟加工中采用了四种程序进行模拟仿真加工对比。f10 mm的球头刀作为理论刀具进行叶片曲面精加工轨迹规划，后置处理时分别采用f8 mm、f9 mm、f9.5 mm、f10 mm四种球头刀进行后置处理，其中f8 mm、f9 mm、f9.5 mm三种刀具后置处理时分别采用了1 mm、0.5 mm、0.25 mm的半径补偿值，其相应的刀具及补偿参数如表4所示。 Table 4 刀具参数 f8 f9 f9.5 f10 补偿值 1 0.5 0.25 0 磨损率 20% 10% 5% 0% 表4. 后置处理半径补偿值及刀具磨损率 后置处理后的四组G代码程序如图7所示。从图中的四组数据对比看，半径补偿后的各组数据与理论刀具程序数据存在以下关系： 1) 程序中的X、Y、Z数值与理论程序均有差异，四组数据中旋转角的幅度值基本一致； 2) 与理论程序对比，X、Y、Z坐标值中f9.5 mm刀具的程序最接近理论值，其次是f9 mm刀具，差别最大的是f8 mm刀具。 由此可知，刀具误差补偿时仅改变了刀心坐标位置，刀轴矢量并未改变。验证了刀心坐标变化大小是跟补偿值大小密切相关，补偿刀具的尺寸越接近理论刀具，获得的刀心坐标与理论刀心坐标差值越小，反之增大。  为对比三种刀具实际补偿效果，经后处理的程序分别导入VERICUT软件中进行虚拟切削加工，通过超差点(残留数)数目对比补偿效果。设置残留高度临界值为0.03 mm，导入的程序分为实际尺寸刀具、补偿刀具、理论刀具三种，对仿真切削结果进行局部放大，获得如图8的效果图。从图中发现，与理论刀具加工结果相比，实际刀具采用补偿后加工，超差点的多少随补偿值大小变化。以残留高度临界值作为判断超差指标，分别列出了三种刀具补偿前与补偿后计算的实际超差点及最大残留高度数与理论刀具的对比，如表5、表6所示。 图7. G代码程序 图8. 刀具虚拟切削结果与理论结果对比 Table 5 刀具参数(mm) f8 f9 f9.5 f10 (理论) 超差点数 4035 3374 2894 1735 最大残留高度(mm) 0.49 0.38 0.33 0.14 表5. 实际刀具与理论刀具超差点数及最大残留值对比 Table 6 刀具参数(mm) f8 (补偿) f9 (补偿) f9.5 (补偿) f10 (理论) 超差点数 2790 2197 2027 1735 最大残留高度(mm) 0.23 0.21 0.19 0.14 表6. 补偿刀具与理论刀具超差点数及最大残留值对比 从表5、表6可以看出最大残留高度值及超差点数随使用刀具的参数不同而变化。其中最大残留高度值变化为： 1) 未补偿时：f8 mm、f9 mm、f9.5 mm三种刀具的最大残留高度值与理论刀具比对分别多为0.35 mm、0.24 mm、0.19 mm；超差点数量与理论刀具相比多2300、1639、1159； 2) 补偿后：f8 mm、f9 mm、f9.5 mm三种刀具的最大残留高度值与理论刀具相比分别多0.09 mm、0.07 mm、0.05 mm。超差点数量与理论刀具相比多1055、462、292。 实验发现，小于理论尺寸的刀具经过半径补偿后，虚拟切削中超差点减少，同时最大残留高度值也减小；同时，刀具半径补偿值越小，超差点数及最大残高度值越接近理想值，越能达到理论编程刀具的切削效果。  在实际的切削验证中，为简化实验过程，切削实验仅采用了两种尺寸的刀具对比实验。其中f10 mm球头刀作为理论刀具编制刀具路径轨迹，后置处理时分别使用f8 mm (补偿，其使用转速变为3600 r/min，残留高度及容差值与f10 mm设置一样)、f10 mm两种刀具进行后置处理，分两次进行切削加工实验。f10 mm刀具的工艺参数见表3所示，f8 mm刀具的补偿值见表4所示。获得的两种NC代码分别对已经进行过粗加工和半精加工的叶片进行精加工处理，两种方法下的叶片切削过程中刀具均过渡平滑，无明显的过切现象，加工过程如图9所示。 两种刀具切削后的叶片与理论仿真结果对比如图10所示，从叶片的外观对比看，并无太大区别，为详细分析差异，经对叶身局部位置放大后，得到图11所示的局部放大对比照片。从局部对比照片看，采用f8 mm刀具经补偿后加工的叶身刀具切削纹路略宽，且波动较大，一致性较差，而采用f10 mm刀具加工的叶身刀具切削纹路均匀性好。 图9. 刀具误差补偿切削实验 图10. 刀具半径补偿对比实验结果 图11. 叶身局部放大对比图 Table 7 名称 最大厚度 轮廓 进汽边轮廓 出汽边轮廓 名义公差带 −0.15~0.20 −0.15~0.15 −0.15~0.15 −0.15~0.15 f8刀具实测值 0.092 0.041~0.15 0.051~0.15 0.067~0.141 f10刀具实测值 0.064 0.032~0.11 0.037~0.121 0.053~0.119 表7. 刀具半径补偿加工测量数据对比(mm) 采用三坐标测量仪对两种方法加工的叶片分别进行了B截面轮廓测量，以叶身最大厚度、叶身轮廓、进出汽边轮廓的名义公差作为判断指标，测得的数据及偏差值如表7所示。 4.4. 实验结果分析 表7中分别列出该叶片B截面位置的名义公差带、两种刀具加工后的叶片实测公差带。从测量的数据看，两种条件下加工的叶片最大厚度、轮廓、进汽边轮廓、出汽边轮廓偏差均在名义公差范围之内， 图12. 残留高度对比图 但f8 mm (补偿)刀具加工后的叶片各个轮廓偏差指标大于f10 mm刀具的轮廓偏差约0.03 mm，并未与标准刀具的偏差值一致。 实验结果表明，刀具进行半径补偿后所加工得零件，其实际加工精度有提高，但并不能完全消除由于尺寸变化带来的加工误差。经分析，进行刀具半径补偿后，刀具实际的接触点坐标与理论坐标高度重合，但刀具磨损后，由于刀具的实际有效切削轮廓减小，使得刀具实际的加工带宽度减小，刀心坐标发生变化仍然会造成残留高度值增加。如图12所示，图中红色部分为理论刀具相邻切削点的残留高度，蓝色部分为补偿刀具相邻切削点的残留高度，可以看出补偿刀具所加工零件的残留高度明显大于理论刀具所加工零件的残留高度。因此，实验结果得到如下结论： 1) 补偿值虽然可以改变刀具偏移量，但随着实际刀具磨损率(磨损尺寸与理论尺寸比值)增大，残留高度仍会增大，补偿效果减弱。 2) 刀具半径补偿有效，但应根据加工精度要求，根据刀具磨损率的大小选择是否有必要进行补偿。"
"本文探讨了刀具3D磨损导致加工误差的机理，建立了刀具半径补偿方法；研究了刀具磨损率与误差补偿效果的关系，通过仿真和实验进行了验证并得出如下结论： 1) 刀具3D半径补偿算法，可在刀具磨损后不需要更换刀具下满足加工要求，从而提高加工效率，降低生产成本。 2) 刀具3D半径补偿算法的实施需在刀具磨损率较小的情况下使用，特别是精加工过程。"
