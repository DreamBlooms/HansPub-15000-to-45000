"将用于系统建模与评估的层次分析法应用于复杂热力系统的模型简化，通过对系统结构层次的分析，将系统各个组成元素在不同水平上分组，构成一个相互关联的有序层次；然后判断系统中每个元素对于研究目标的相对重要程度，并将这些判断用数值量化，在层次分析提供的元素关联信息的基础上构造比较矩阵；最后，根据比较矩阵中蕴含的元素信息，计算分析系统中各元素的相对重要性，通过将系统中一些冗余或者次要的元素舍去，实现模型的有条件简化。 关键词 :模型简化，层次分析，热力系统 Copyright © 2018 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"众所周知，数学模型是解决各类复杂工程问题的有力工具。复杂热力系统建模涉及到大量相互关联、相互制约的复杂问题，模型状态变量多、未知参数多、模型方程阶次高 [ 1 ] [ 2 ] 。从模型使用者的角度来看，当然希望模型的计算精度越高越好，但是由于实际热力系统的结构组成和工作过程都十分复杂，如果过分详细地考虑所有的影响因素，就会使模型变得不必要的复杂；如果将模型写得过于简单，又可能满足不了使用要求。所以在复杂热力系统建模和仿真研究中，我们往往要在较为精确的复杂模型和较不精确的简单模型之间采取某种折衷，也就是对模型进行一些简化。显然，这种折衷或者简化不能够随意进行，其误差必须在可接受的范围内，换句话说模型简化必须满足一定的条件 [ 3 ] [ 4 ] 。 为实现模型的有条件简化，首先必须摸清对象的层次结构，然后才能确定哪些元素(包括系统组成结构、各种影响因素等)在建模时必须保留，而哪些可以有条件地舍弃。 本文基于层次分析法 [ 5 ] 研究复杂热力系统的模型问题。首先，通过对系统关联关系的描述和客观事实的判断，把系统分解为一系列元素，并将这些元素在不同水平上分组，形成一个相互关联的有序层次；然后从下至上地，比较每个元素相对于上一级层次的重要程度，进而确定系统中各元素的重要性并进行排序；最后基于这个排序结果对元素进行取舍，实现模型的简化。"
"热力系统是由不同元素构成并且具有特定功能的有机整体，不同影响水平上的元素相互关联、相互作用，使整个系统表现出一种有序的层次结构。通过对这种层次结构的分析，可以确定系统中不同元素对系统功能的影响，进而确定不同元素的相对重要性。层次分析法的基本思想是通过分析系统中各个元素的关联关系，划分系统层次并使之条理化，然后两两比较各个元素的相对重要程度，通过数学方法量化系统中各元素的重要性，为模型简化提供依据，具体包括以下三部分内容 [ 6 ] 。 1) 系统分解 就是根据研究目的把系统分解成各种元素，并将这些元素在不同水平上分组，形成一个能够描述系统内部结构和元素间关联关系的层次结构。该层次结构是有序的，但不一定是完整的，每一层次不一定是下级层次划分的准则，但是每一层的元素都可以继续向下分解，构成多个与其相关的子层次。 2) 重要性比较 两两比较同层元素相对于上一级层次的重要程度，并将比较结果写成矩阵的形式。这个矩阵被称为比较矩阵，用于元素的重要性分析和排序，比较矩阵的数量和阶数取决于系统的层次划分和复杂程度。 3) 重要性计算 计算比较矩阵的特征值，其中最大特征值所对应的特征向量就反映了对应层次中各元素相对于上一级层次的重要程度。将这个过程沿系统的层次结构从下至上进行，通过各层次间的加权平均，就可以确定系统中每个元素对于系统整体的重要性。  假设有n个元素a 1−n ，其某一方面的属性可以量化为Ф 1−n ，对这n个元素的属性两两比较，形成一个n阶比较矩阵A。 A = ( a 11 a 12 … a 1 n a 21 a 22 … a 2 n ⋮ ⋮ ⋱ ⋮ a n 1 a n 2 … a n n ) = ( ϕ 1 / ϕ 1 ϕ 1 / ϕ 2 … ϕ 1 / ϕ n ϕ 2 / ϕ 1 ϕ 2 / ϕ 2 … ϕ 2 / ϕ n ⋮ ⋮ ⋱ ⋮ ϕ n / ϕ 1 ϕ n / ϕ 2 … ϕ n / ϕ n ) (1) 比较矩阵具有以下四个特性：1) 全部元素非负，即a ij ≥ 0；2) 对角线元素为1，即a ij = 1；3) 满足互反性，即a ij = 1/a ji ；4) 具有完全一致性，即a ij = a jk a jk 。 根据Perrno-Frobenius理论，对于对角线元素为1且满足互反性的n阶矩阵，最大特征值 λ max ≥ n ，而且λ max 对应的特征向量非负。特别地，当矩阵同时具有完全一致性时 λ max = n ，而其余特征值为0。 注意到，对于列向量 Φ = ( Φ 1 , Φ 2 , ⋯ , Φ n ) T 有： A ϕ = A ( ϕ 1 , ϕ 2 , … , ϕ n ) T = n ϕ (2) 可见，n是比较矩阵A的一个特征值，而以各元素属性值为分量的向量Ф恰好为特征值n对应的特征向量。抛开元素属性值已知这一假设，如果我们能够采用某种方法得到比较矩阵A，而且这个矩阵具有完全一致性的话，那么通过解方程AФ = nФ，就可以求出各个元素的属性值Ф 1−n 。 由于客观事物的复杂性和人们认识事物的主观性，构筑的比较矩阵不一定符合实际，也即不具有完全一致性，特别是对于影响因素多、规模大的问题更是如此。为保证层次分析结果的合理性，需要在排序过程中对计算得到的比较矩阵A进行一致性检验。假设比较矩阵A的n个特征值分别为λ 1−n ，不失一般性取 λ 1 = λ max 。根据上文的描述，当比较矩阵A具有完全一致性时， λ 1 = λ max = n ，其余特征值为0；而当比较矩阵A不具有完全一致性时，则有 λ max > n ，其余特征值满足式(3)。 ∑ i = 2 n λ i = n − λ max < 0 (3) 显然， ∑ i = 2 n λ i 越接近0，比较矩阵A的一致性程度就越高，取比较矩阵除最大特征值外的其余特征值的平均值为度量比较矩阵偏离一致性的指标。 I C = ( λ max − n ) / ( n − 1 ) (4) 式中：I C 为比较矩阵的一致性指标，当矩阵具有完全一致性时，I C = 0。 在工程应用中，要让比较矩阵完全符合实际是比较困难的，所以我们退而求其次，只要求矩阵具有满意的一致性即可。为了判断比较矩阵是否具有令人满意的一致性，引入比较矩阵的随机一致性指标I R ，计算方法如下。 Step 1：对于一个n阶比较矩阵，用随机方法构造m (m ≥ 200)个n阶单位矩阵。 Step 2：随机地用1~n标度中的n个整数及其倒数填满各单位矩阵的上三角部分，下三角的转置位置项取上三角对应位置随机数的倒数，构成m个随机样本矩阵。 Step 3：计算各随机样本矩阵的一致性指标I C ，其平均值就是n阶比较矩阵的随机一致性指标I R 。 对于1~9阶比较矩阵，I R 取值如表1所示。 可见，对于1阶和2阶比较矩阵，I R 只具有形式上的意义，因为1阶和2阶比较矩阵总是完全一致的。当矩阵阶数大于2时，取比较矩阵的一致性指标I C 与同阶的随机一致性指标I R 之比为随机一致性比例，记为R C 。 R C = I C / I R (5) 当R C < 0.1时，认为当前比较矩阵比较符合实际，具有令人满意的一致性，否则就要调整比较矩阵，直到获得令人满意的一致性为止。"
"层次分析法的应用大体可分为五个步骤：建立层次结构、构造比较矩阵、同层元素排序、层次总体排序、一致性检验，其中后三个步骤要在整个分析过程中逐层进行。  对某个具体的研究对象进行层次分析，首先要明确对象的范围、包含的元素、元素之间的相互关系、需要解答的问题等。 根据对研究对象的初步分析，我们将对象的所有组成元素进行分组，每一组作为一个层次，然后按目标层、若干中间层和基础元素层的形式排列起来，建立描述对象层次关系的层次结构图。其中，目标层为需要解答的问题，也即层次分析所要达到的目标；中间层位为实现预定目标所涉及的中间环节，根据研究对象的复杂程度可以有多层；基础元素层为中间环节的组成或影响因素等。 在确定各层次后，根据研究对象的结构组成和元素间的关联关系，标明各层次元素之间的联系。如果某个元素与下一层次所有元素均存在联系，则称该元素与下一层次存在完全层次关系，否则为非完全层次关系。  任何分析都要以一定信息为基础，层次分析的信息基础在于人们对每一层次中各个因素相对重要性的主观判断。为便于采用数学方法进行分析，我们将这些判断用数值量化，并写成比较矩阵的形式。 假设层次X中的元素a与层次Y中的元素b 1−n 有联系，那么层次Y中各元素相对于元素a的比较矩阵如式(6)所示。 Table 1 阶数 1 2 3 4 5 6 7 8 9 I R 0 0 0.58 0.90 1.12 1.24 1.32 1.41 1.45 表1. 随机一致性指标I R 取值表 A a − Y = ( 1 a 12 … a 1 n a 12 − 1 1 … a 2 n ⋮ ⋮ ⋱ ⋮ a n 1 − 1 a n 2 − 1 … 1 ) (6) 在式(6)中，a ij 表示对于元素a而言，元素b i 相对元素b j 的重要程度。本文用1~9之间的9个整数对其进行标度，含义如表2所示。 相对重要性的标度是构造比较矩阵并进行下一步元素重要性排序的关键。在明确元素相对重要性的度量标准后，就可以在综合对象资料、专家意见和客观事实的基础上构造比较矩阵。  同层元素排序就是根据比较矩阵，计算相对上一层次的某个元素而言，本层次中所有与之有联系元素的重要性并排序。根据本文第2.2节对层次分析数学基础的介绍可知，同层元素排序可以归结为计算比较矩阵最大特征值及其特征向量的问题。 矩阵特征值和特征向量的计算方法有很多，由于层次分析中涉及的比较矩阵具有非负性、对角线元素为1、互反性等特点，本文采用比较简单的方根法，计算步骤如下。 Step 1：计算矩阵每一行元素的乘积。 Θ i = ∏ j = 1 n a i j ,     ( i = 1 , 2 , ⋯ , n ) (7) Step 2：计算Θ i 的n次方根。 Θ i ¯ = Θ i n (8) Step 3：将 Θ ¯ = ( Θ 1 ¯ , Θ 2 ¯ , ⋯ , Θ n ¯ ) T 正规化，即为所求的最大特征向量 Φ = ( Φ 1 , Φ 2 , ⋯ , Φ n ) T 。 ϕ i = Θ i ¯ / ∑ i = 1 n Θ i ¯ ,     ( i = 1 , 2 , ⋯ , n ) (9) Step 4：计算最大特征值。 λ max = ∑ i = 1 n ( A ϕ ) i n ϕ i ,     ( i = 1 , 2 , ⋯ , n ) (10) 式中：(AФ) i 表示向量AФ的第i个分量。 由本文第1.2节可知，比较矩阵最大特征值对应的特征向量是元素某种属性的度量，所以根据最大特征向量Ф就可以对各层次元素相对于上一层次元素的重要性进行排序。 Table 2 数量 质量 1 对于元素a而言，元素b i 与元素b j 同等重要 3 对于元素a而言，元素b i 与元素b j 略微重要 5 对于元素a而言，元素b i 与元素b j 较为重要 7 对于元素a而言，元素b i 与元素b j 非常重要 9 对于元素a而言，元素b i 与元素b j 特别重要 2, 4, 6, 8 介于上述相邻标度之间的判断 表2. 标准试验系统结果数据  利用同层元素排序的结果，就可以计算不同层次之间所有元素的相对重要性。层次总体排序一般根据研究对象的层次结构图至下而上逐层进行。假设层次X中所有元素a 1 − n 经同层元素排序得到的权值为λ a 1 − an ，而层次Y中与元素a i 有联系的元素为b 1 − n ，且b 1 − m 经同层元素排序得到的权值 λ b i − b m j ，那么元素b i 相对于层次X的重要性可由式(11)计算。 ϕ b i − X = ∑ j = 1 n λ a j λ b i j ,     ( i = 1 , 2 , ⋯ , n ) (11) 单个比较矩阵的一致性通过矩阵的随机一致性比例评判。对于由多个层次组成的对象，其总体排序的一致性指标和随机一致性指标，要通过各层次比较矩阵的一致性指标和随机一致性指标加权平均得到。假设层次X中所有元素a 1 − n 经同层元素排序得到的权值为λ a 1 − an ，而其中元素a i 所对应比较矩阵的一致性指标和随机一致性指标为I Ci 和I Ri ，那么层次总体排序的一致性指标和随机一致性指标可由式(12)计算。 I C * = ∑ i = 1 n λ a i I C i ,     I R * = ∑ i = 1 n λ a i I R i (12) 相应的随机一致性比例由式(13)计算。 R C * = I C * / I R * (13) 与单个比较矩阵一样，当 R C * < 0.1 时，认为层次总体排序结果具有令人满意的一致性。"
"本节以某型船舶蒸汽动力装置的过热蒸汽系统为例，对本文提出的模型简化方法进行验证。该型过热蒸汽系统是由管路、阀门和设备组成的一个串并联系统，通过阀门开关转换不同功能，通过阀门开度调节蒸汽流量，其结构如图1所示。  按照本文第二章的步骤和方法对如图1所示的过热蒸汽系统进行层次分析。发现该系统共有14个节点，标记为p n 1-14 ，综合考虑系统结构组成和流体网络拓扑关系，建立其层次结构如图2所示。 根据表2给出的度量标准构造比较矩阵。 A a − B = ( 1 3 5 1 / 3 1 1 1 / 5 1 1 ) ,     A b 1 − C = ( 1 1 3 3 7 7 3 1 1 3 3 7 7 3 1 / 3 1 / 3 1 1 5 5 1 / 3 1 / 3 1 / 3 1 1 5 5 1 / 3 1 / 7 1 / 7 1 / 5 1 / 5 1 1 1 / 3 1 / 7 1 / 7 1 / 5 1 / 5 1 1 1 / 3 1 / 3 1 / 3 3 3 3 3 1 ) A b 2 − C = ( 1 1 1 1 1 / 3 3 1 1 1 1 1 / 3 3 1 1 1 1 1 / 5 3 1 1 1 1 1 / 5 3 3 3 5 5 1 5 1 / 3 1 / 3 1 / 3 1 / 3 1 / 5 1 ) ,     A b 3 − C = ( 1 5 7 7 7 1 / 5 1 7 7 7 1 / 7 1 / 7 1 1 1 1 / 7 1 / 7 1 1 1 1 / 7 1 / 7 1 1 1 ) (14) 图1. 某型船舶过热蒸汽系统结构图 图2. 某型舰用过热蒸汽系统层次结构图 根据比较矩阵进行同层元素排序，采用方根法计算式(14))所示各比较矩阵的最大特征值及特征向量，结果如表3所示。 由表3可见，式(14)中所有比较矩阵的一致性比例R C 均小于0.1，具有令人满意的一致性。根据图2和表3进行层次总体排序，结果如表4所示。 由表4和式(12)可得系统层次总体排序的一致性指标和随机一致性指标分别为0.0659和1.2522，相应的随机一致性比例为0.0526，说明最终得到的层次总体排序结果符合实际，可以用于指导过热蒸汽系统流体网络模型的简化。 Table 3 矩阵 最大特征值 一致性指标I C 一致性比例I R A a −B 3.0291 0.0146 0.0252<0.1 A b1 −C 7.4294 0.0716 0.0542<0.1 A b2 −C 6.1187 0.0237 0.0191<0.1 A b3 −C 5.3371 0.0843 0.0753<0.1 表3. 式(14)所示比较矩阵的最大特征值和特征向量 Table 4 锅炉供汽 辅机耗汽 主机耗汽 总体重要性 0.5472 0.1897 0.2631 pn 1 0.285 0 0 0.1552 pn 2 0.285 0 0 0.1552 pn 3 0.104 0.132 0 0.0815 pn 4 0.104 0.132 0 0.0815 pn 5 0 0.122 0 0.0230 pn 6 0 0.122 0 0.0230 pn 7 0.032 0 0 0.0174 pn 8 0.032 0 0 0.0174 pn 9 0.167 0.442 0.5686 0.3232 pn 10 0 0 0.2763 0.0723 pn 11 0 0 0.0517 0.0135 pn 12 0 0 0.0517 0.0135 pn 13 0 0 0.0517 0.0135 pn 14 0 0.052 0 0.0098 表4. 某型船舶过热蒸汽系统各节点的总体重要性 模型简化采用相对取舍方案，假设期望维持的总体重要性比例ε = 90%，由表4可以确定在模型简化中需要保留的节点元素共有8个，分别为p n 1 、p n 2 、p n 3 、p n 4 、p n 5 、p n 6 、p n 9 和p n 10 ，这8个节点元素所占的重要性比例总共为91.49%，简化后的过热蒸汽系统如图3所示。 由图2可知，简化后的过热蒸汽系统包含8个节点和1个大气节点，其模型是一个9阶模型；而原系统(如图1所示)包含14个节点和1个大气节点，其模型是一个15阶模型。可见，本文提出的基于层次分析的模型简化方法能够有效减少模型变量，并在保留系统主要元素的前提下大幅降低模型方程的阶次。"
"本文提出了一种基于层次分析的复杂热力系统模型简化方法。该方法通过构造热力系统的层次结构，比较系统中各个元素相对于上一级层次的重要程度，然后通过数学方法量化系统中各元素的重要性并进行排序，最后根据这个排序将模型中一些冗余或者次要的元素舍去，实现简少模型变量、降低阶数的目的，在复杂热力系统建模方面具有一定的工程应用价值。 图3. 简化后的某型船舶过热蒸汽系统拓扑结构图"
