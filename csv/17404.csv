"体操机器人是非线性、强耦合、多状态的欠驱动系统，且在稳摆区域属于自然不稳定系统，这类系统能反映出许多控制领域的关键问题，国内外许多学者投身于体操机器人的控制研究。本文综述了国内外有关欠驱动单杠体操机器人的研究现状，分析和讨论了体操机器人在动力学建模及运动控制研究方面的理论与方法，具体分析了体操机器人的摆起、平衡、加速及大回环运动的主要控制方法，对存在的问题进行了讨论，并对未来的发展趋势进行了展望。 关键词 :体操机器人，欠驱动，控制策略，非线性系统"
"单杠体操机器人是模仿运动员在单杠上运动的机械模型，它同时也是一个多输入、多输出、欠驱动、非线性、强耦合的典型复杂系统，其控制具有高度的复杂性和非线性。生物力学研究表明，人类和其它生物的运动之所以自然、优美、高效，原因是他们极善于利用躯体各部分的动力耦合来实现运动能量的传递，达到整个机体的高度协调。因此，对基于动力学耦合驱动原理的欠驱动机器人展开研究，将会促进机器人从呆板机械的运动向接近人体或生物的动力协调运动发展。 欠驱动机械系统是一类构成系统的广义坐标维数多于控制输入维数的非线性系统 [ 1 ] 。系统欠驱动的原因各异，通常机器人在如下情况下会具有欠驱动特性：仿生机器人、空间机器人、系统本身存在一些运动约束的移动机器人、具有柔性操作臂和柔性操作关节的机器人等 [ 2 ] [ 3 ] 。由于离心力、科里奥利力、重力等作用，欠驱动机器人系统是一种高度非线性系统，并且在控制过程中不可避免的带有漂移项。对于欠驱动系统的控制存在两个难点：一是输入空间维数小于构造空间维数，运动方程中位形变量的速度或加速度受到动力学约束，验证这些约束何时可积是非常困难的，需要用到比较复杂的数学知识，大多数情况，这些约束都是不可积的，称为非完整约束 [ 4 ] ；二是利用微分几何方法可证明，非完整系统不能用连续时不变的状态反馈镇定，因此不能直接应用发展成熟的控制理论成果。欠驱动机器人控制策略的研究在机器人和控制领域都是一个巨大的挑战。 单杠体操机器人正是一类具有非完整约束的欠驱动机械系统。这类系统的共同特点是，具有复杂的内部动态特性，状态变量间的耦合性非常强，而且二阶非完整约束使得它不能够严密反馈线性化 [ 5 ] [ 6 ] 。由于欠驱动机器人系统具有能简化控制、减轻重量、降低能耗及制作成本低等优点，其研究对于欠驱动机械系统、二阶非完整性系统、复杂非线性系统和太空机器人系统的控制是非常有用的。因此,、对欠驱动单杠体操机器人的研究具有重要的理论意义和实际应用价值 [ 7 ] [ 8 ] 。"
"在国内外大部分关于体操机器人的研究中，较常采用Acrobot的欠驱动两杆体操机器人模型 [ 9 ] - [ 12 ] 。 Acrobot是一种具有2个自由度和1个主动关节的二连杆机器人，它能简单的模拟体操运动员在单杆上的摆起、倒立、大回环等体操动作。 Takashima [ 13 ] 和Nakawaki [ 10 ] 均对Acrobot的数学建模问题进行了探讨。Bortoff和Spong [ 14 ] 研究了用伪线性化的方法分析Acrobot在垂直向上不稳定平衡点周围的运动控制问题。Huaser和Murry [ 15 ] 提出将模型在竖直向上不稳定平衡点附近线性化，再将传统的线性控制方法应用于平衡控制。这些方法虽然描述了Acrobot的建模和在不稳定平衡点附近的平衡控制问题，但还没有考虑如何把Acrobot从垂直向下稳定平衡点摆起到垂直向上不稳定平衡点附近。如何从摆起控制过渡到平衡控制，达到快速而平滑地摆起Acorbot，以及使Acorbot在不稳定平衡点快速达到平衡的控制目标。 Dejong和Spong [ 16 ] 提出了一种经验控制方法，并将其发展成为智能控制，但是整个控制过程所用的时间比较长，控制效果却并不理想。随后，Spong [ 17 ] [ 18 ] 提出将Acrobot的摆起倒立控制过程划分为两个阶段：摆起过程采用部分反馈线性化的方法，到达竖直向上的平衡区后，切换为线性二次调节器(LQR)将体操机器人稳定在竖直向上的不稳定平衡点。摆起过程的部分反馈线性化方法把Acorbot第二关节的运动从第一关节的运动中解耦出来，通过近似地选择第二杆的参考轨迹为第一杆角速度的同符号函数，然后再选择输入中间控制规律使第二杆的运动跟踪参考轨迹。根据跟踪控制所得到的中间控制规律和部分反馈线性化所得到的控制规律，可求得驱动装置的控制力矩。这一控制力矩作用在第二杆上，并带动第一杆使其摆动幅度不断加大，这样Acrobot就能成功摆起到不稳定平衡点附近，接着在合理的状态点切换到相应的平衡控制方法，即可实现控制目标。但此控制器吸引域较小，摆动控制器较难使系统状态进入吸引域，完成控制的时间也较长。 Borwn和Passnoi [ 19 ] 提出了基于内部部分反馈线性化的PD控制、状态反馈控制或基于部分反馈线性化的模糊控制来实现Acrobot的摇起控制，基于LQR控制或模糊控制来实现Acrobot的平衡控制、摇起控制和平衡控制都采用遗传算法优化各控制器的参数。这种控制策略非常复杂，摆起区的控制基本上仍然是基于部分反馈线性化方法的思路，而且摆起Acrobot所用的时间相当长。 Xin [ 20 ] - [ 22 ] 提出了一种考虑系统能量控制方法来实现Acrobot的控制目标，采用基于LyaPunov函数的摇起控制器，保证能量趋向期望值，确保机器人能顺利从摇起区进入到平衡区；进入平衡区后，进行控制器的切换，采用基于LQR的平衡控制策略，最终实现Acrobot的控制目标。 国内也有学者对Acrobat进行了大量研究，并提出了一些控制方法，如基于滑模的离散时间变结构控制 [ 23 ] 、基于T-S模型的模糊变结构控制 [ 24 ] 、基于神经网络的控制 [ 25 ] 和基于倒转方法的稳定控制 [ 6 ] 等。赖旭芝等人 [ 26 ] [ 27 ] 把智能控制引入到Aocrbot控制中，提出基于模糊控制和变结构控制的智能集成控制方法，运用数学的方法把它的运动空间划分为摆起区和平衡区两个部分。从Acorbot总能量出发，确立了摆起区的模糊控制策略，确保在摆起过程中能量不断增加。在平衡区，使用局部线性化的方法，基于Takagi-Sugeno(TS)模型来描述Acrobot在不稳定点附近的非线性特性，采用基于TS模型的模糊控制实现了较大范围内的平衡控制。采用模糊变结构控制对第二杆进行控制，使其角度和角速度分别朝着相对于第一杆的角度和角速度为零的趋势运动。但此方法也仍然难以确保Acrobot能较快地由摆起区过渡到平衡区，摆起时间也较长。  通过对体操运动员的运动技巧分析可知，人的行为动作是通过多个关节的互连耦合来实现的，而两杆机器人模型不足以表达人的肢体运动。为了能更好地模拟人在体操运动中的运动控制，体操机器人至少需要三个关节，与两杆机器人Acrobot相比，这类机器人具有更高的实际应用价值和更复杂的非线性特性。 三杆体操机器人具有3个自由度和2个主动关节，是一种典型的欠驱动机器人。该机器人可以有效地模拟体操运动员肩关节和髋关节的主动控制作用，真实地反映体操运动员的肢体运动 [ 28 ] [ 29 ] 。相比于Acrobot，三杆体操机器人具有更强的非线性和耦合性，其控制具有高度的复杂性。 欠驱动三杆体操机器人具有两个驱动力矩，在分析力矩方向和大小对各杆产生的角加速度时，要考虑三个关节角度以及三个杆之间的夹角，使得控制关系变得非常复杂，很难选取合适的力矩将三杆体操机器人摇起并进入平衡区。Mettin [ 30 ] 针对欠驱动三杆机器人，提出了一种基于虚拟约束的方法来规划机器人的运动轨迹，建立了驱动关节与被动关节之间的运动约束关系，以实现机器人像人一样运动。然而，该策略很难找到驱动关节与被动关节的约束关系，对其进行摆起控制，从而无法通过规划机器人运动轨迹的方法，来实现三杆体操机器人的摇起控制目标。 Xin [ 31 ] 提出了一种基于能量和角度的摇起控制策略，通过坐标转换将含有驱动关节的第二杆和第三杆转换为一个主动关节，这种策略能够控制能量和角度，从而将欠驱动三杆摆起到不稳定平衡点附近。但是该控制策略很难避免摇起过程中存在的奇异值，使得体操机器人不能顺利地进入到平衡区。 国内的薛方正等人 [ 32 ] 针对加速度驱动型三关节体操机器人，通过机理分析得到模型的刚体动力学分量和电机驱动分量，然后通过加速度阶跃响应曲线分析得到纯滞后分量，综合这3种分量，确定三关节体操机器人的模型结构，并利用改进的遗传算法对该综合模型进行参数辨识。Xie [ 33 ] 提出了一种仿人智能控制策略，将体操机器人的摆起倒立运动过程分成六个串行的目标阶段 [ 34 ] ，并针对六个阶段分别采用 Bang-Bang控制、PD控制等，这种控制策略能够规划体操机器人的运动姿态并且兼顾摆起过程中能量递增的控制目标。基于仿人智能的控制策略需将控制过程划分为六个阶段，由于体操机器人系统的复杂非线性，并且需要考虑控制器之间的平滑转换，使得各阶段的控制策略设计变得十分复杂。"
"以关节变量为广义坐标，根据拉格朗日方程，可以求得如图1所示的n连杆体操机器人系统的动力学方程为 (1) 式中， 分别是关节点的位移、速度和加速度； 是 惯性矩阵； 表示哥氏力和离心力项； 表示重力项； 表示作用于系统关节的力矩，即系统控制输入，B为输入矩阵。 图1. n杆体操机器人模型 [ 35 ] 图2和图3是研究者们较常采用的两杆和三杆体操机器人模型。图2给出了肩关节处带有驱动器的两杆体操机器人示意图。在忽略其关节摩擦力和随机干扰时，其动力学方程可表示为 (2) 三关节体操机器人是一种由两个主动关节和一个被动关节组成的欠驱动系统(图3)。多数情况下，肩关节和髋关节是主动的，腕关节是被动的。三关节体操机器人是一种多输入型欠驱动系统，因此比两关节体操机器人和倒立摆系统更适合作为研究欠驱动问题的标准平台。其动力学方程可表示为 (3) 图2. 2杆体操机器人模型 [ 36 ] 图3. 3杆体操机器人模型 [ 37 ] 尽管欠驱动机器人在模型上与全驱动系统相似，但由于自由关节运动方程承受非完整约束，仅可以通过与其它关节的耦合获得动作，因此，两种系统在控制方法上却是完全不同的，这也是欠驱动机器人研究的主要难点。目前对类似体操机器人这样的二阶非完整欠驱动系统来说，尚没有固定的控制方法。一般便于控制，都把关节变量定义为状态向量 ，将主动关节的加速度或力矩作为输人 [ 14 ] [ 15 ] ，由此，式(1)、(2)和(3)可以表达为如下形式： (4) 式中， ， 均为平滑矢量场， 称为非线性系统的漂移项， 为输入。"
"一般将体操机器人的控制分为：从竖直向下到倒立的摆起控制、在倒立不稳定状态的稳摆控制、大回环周期运动控制以及从倒立到大回环周期运动能够开始的加速控制。  通过对体操运动员的观察，如图4所示，单杠运动的上杠过程经过一系列的连贯动作最后到达倒立位置, 并稳定倒立 [ 34 ] 。这种技术动作，被称之为“晃起”运动，适用于Acrobot的摆起控制 [ 38 ] 。 用定性运动学的方法，结合对体操运动员的动作特征的分析可以发现，上杠动作序列中切换时机的选取很重要，是保证运动姿态的控制策略的转换条件。根据体操机器人各部分的运动姿态及其运动中各部分动能与势能的转换过程，可以将整个摆起倒立运动过程规划成如图5所示的6个串行的目标阶段： 1) 小后摆阶段：从悬垂静止的初始位置，躯干和腿后摆小角度； 2) 向前摆起阶段：将躯干和腿迅速摆起，使躯干和腿达到几乎垂直向上； 3) 前姿态调整阶段：目标是将三个连杆伸展成一条直线； 4) 向后摆起阶段：关节力矩控制住夹角，利用重力向下并向后摆动； 5) 后姿态调整阶段：这个阶段结束时，机器人应进入稳摆控制的能控范围，系统的能量总和应接近不稳定平衡点所要求的势能； 6) 倒立稳定阶段：使机器人在垂直倒立点保持动平衡。 Spong提出了经典的部分反馈线性化方法实现了对Acrobot进行摆起控制 [ 17 ] [ 18 ] 。Michitsuji [ 39 ] 对该方法进行改进，提出了一种参数激励的方法进行摆起控制。通过对式(3)进行部分反馈线性化，可得 (5) 式中 ， 为辅助输入，且 ， ， 。 因此，部分线性化方程可表示为 (6) 图4. 体操运动员的上杠动作 图5. 摆起倒立过程的6个阶段的姿态 假定 ， 可以被确定，因而每个主动关节角度收敛于期望的角度 和 (7) 式中， ， 为正反馈系数。 此外，研究者们还提出了多种方法试图对体操机器人进行摆起控制，如基于能量的控制 [ 21 ] [ 40 ] - [ 43 ] 、模糊控制 [ 44 ] [ 45 ] 、基于切换输出函数法 [ 46 ] 、连续力矩和冲击型制动力矩组合法 [ 47 ] 以及基于李雅普诺夫函数的控制 [ 48 ] [ 49 ] 等。  倒立状态是体操机器人的不稳定平衡点，平衡控制的目标就是在施加控制后，让机器人和控制器组成的新系统能稳定在该点。由于体操机器人是高度非线性系统，所以即使施加控制，在倒立状态也只能实现小范围的局部稳定。 体操机器人平衡控制主要采用的线性二次调节器(LQR)方法 [ 18 ] [ 50 ] 。若定义 为倒立位置时的状态量，则由式(4)得到体操机器人动力学模型在倒立位置的线性化表达式为 (8) 式中， ， ， ， 。 基于线性模型(8)的二次最优控制策略，可得线性二次调节的最优控制规律。控制器一般设计为 (9) 由状态方程 确定最佳控制向量的反馈矩阵 ，使得式(10)中的性能指标J达到最小。 (10) 式中， 是半正定矩阵， 是正定矩阵。  为了使体操机器人能从倒立状态过渡到大回环周期运动状态，需要采用某种控制策略对系统进行控制使得被动关节(第一关节)能被加速到一定的速度以上。Yamaura等人模拟体操运动员的运动，提出了一种加速控制方法 [ 51 ] ，其控制输入为 ， (11) 式中， ， 为反馈系数， ， 为角度参数， 是期望值参数， 为控制输入常数。 如图6所示，在区间 ，第2杆的控制目标角度为 ，在区间 ，第2杆的控制输入被设计为一个常数 [N×m]。另外，在区间II→III，控制目标是使第二杆的角度为零，但考虑到控制的延时，目标角度设定为和区间III→I相同的 。 此外，Matsuoka [ 52 ] 采用神经振荡器来增大体操机器人的摆动幅度，从而可以达到大回环运动开始所要求的状态。  体操机器人的大回环运动控制研究相对较少，但研究者们也提出了一些控制方法，如利用被动关节位移函数作为参考轨迹的配置控制法 [ 51 ] [ 53 ] 、延迟反馈控制法 [ 54 ] [ 55 ] 以及基于质心等效的控制方法 [ 56 ] 等。 Ono等人 [ 53 ] 的研究相对较早，他们将Acrobot的自由大回环运动模式归纳为如图7所示的3种形态(A型、B型和C型)。其中，B型是一种刚体模式旋转，其在零重力场中Acrobot将会变得笔直；A型和C型分别是在刚体模式旋转基础上叠加正的或负的振动模式。 Yamaura等人 [ 51 ] 的研究将其扩展到三杆体操机器人，并根据3杆的初期角速度的符号将其自由大回环运动分类成5种类型(图8)。其中，Type1是刚体模式，其第2、第3杆的初期角速度近似为0；Type2 图6. 加速控制 图7. Acrobot自由大回环运动模式 是第2、第3杆的初期角速度为正的类型，该类型中，第1、2杆运动1个周期时第3杆运动为半个周期；在Type3、Type4中，第2杆和第3杆的角速度的符号相反，且第1杆运动1个周期时，第2、第3杆运动为半个周期；Type5是第2、第3杆的初期角速度均为小负值的情况。Yamaura [ 51 ] 和Liu [ 54 ] 分别采用配置法和延迟反馈控制法实现了对其中几种类型的大回环运动的控制。 图8. 三杆体操机器人自由大回环运动模式"
"综上所述，单杠体操机器人的研究在动力学建模分析以及运动控制方面取得了一定的成果，但仍存在一些问题需要解决： 1) 确保了摆起过程的能量不断增加，但没有考虑机器人的姿态。机器人处于不同的姿态可能拥有相同的能量，而姿态是影响机器人能否顺利从摆起过程过度到稳摆过程的关键因素。 2) 能够实现平衡控制的范围太窄，用在不稳定平衡点附近的近似线性化方法来描述Acorbot在这一平衡点附近区域的非线性特性，然后用LQR设计方法对Acrobot进行平衡控制时，能够实现平衡控制的范围太窄，这样就增加了平衡控制的难度。 3) 由于三杆体操机器人的强耦合特性以及复杂非线性特性，因而，很难设计控制策略来实现三杆体操机器人摆起倒立的控制目标。目前三杆体操机器人控制存在的问题主要有：运动区间划分条件太苛刻，使三杆体操机器人很难满足进入平衡区的条件；为了实现从摇起区顺利过渡到平衡区，在控制三杆体操机器人的能量和姿态时，由于模型复杂，难以避免奇异值现象的产生；很难快速实现从摇起区过渡到平衡区。 4) 缺乏鲁棒性问题的分析。由于体操机器人的参数往往具有不确定性，因而基于理想模型得到的控制规律在不确定条件下一般难以保持良好的控制效果。大量的研究都是在理想仿真平台上进行的，并没有将仿真平台与实际平台进行比较，因理想模型与实物存在较大的偏差，不能确保研究成果能运动到实物平台上。因此，对体操机器人的控制问题不仅是要找到一种比较行之有交的控制方法，而且还要考虑其鲁棒性问题。"
