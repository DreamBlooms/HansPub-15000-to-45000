"本文研究了在无限时间范围内，需求为服从某一分布的随机函数，多品种易腐品联合补货的库存模型，采用(T,S)策略，目标是通过确定每种产品的补货周期，使得单位时间内，零售商的总成本最小。本文的难点有两个：首先，联合补货问题是个N-P HARD问题，且由于本文考虑缺货损失的影响，使得模型非常复杂；第二，在随机需求下，零售商的成本模型是不确定的，随着需求函数的变化而变化。针对以上难点，本文首先对模型中存在的指数及对数函数进行泰勒展开实现简化，同时应用了文献 [ 1 ] 的差分进化算法，为易腐品的零售商在实施联合补货时提供有益的管理建议。 关键词 :易腐品，随机需求，联合补货，差分进化算法 Copyright © 2018 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"易腐品指的是使用效用随着时间的推移会逐渐减小的产品。Goyal和Giri将易腐品分为两类 [ 2 ] ，第一类是产品本身不会产生腐败、变质，但是价值会逐渐降低的产品，如电子产品、时尚服饰等；第二类是肉类、蔬菜、水果等会随时间腐坏变质的产品。根据美国食品市场研究所在2012年发布的报告，在2010~2012年，美国超市总销售收入为4440亿美元，这些收入中的50.62%来自于销售易腐品的收入 [ 3 ] 。因此，对于易腐品的订货进行有效的管控，减少产品的腐败，提高收入，对于企业提升自身利润与节约社会资源来说有着非常重要的意义。 对于易腐品模型构建的研究可分为两大类：第一类是离散变质的易腐品，通常做法是设置一个变质时间，库存时间或配送时间不允许超过变质时间或者超过变质时间后给与惩罚，如王玉等 [ 4 ] 设定了一个库存商品的最后期限，通过设定合理的买赠促销策略使得所有的商品必须在最后期限之前销售掉，林峰等 [ 5 ] 设置了一个不腐败时期，两次配送的间隔不得超过这个时期；第二类是连续变质的易腐品模型，Ghare和Schrader [ 6 ] 最先研究了连续变质的易变质产品的订货策略，并给出了经典的易腐品库存模型。近年来，很多学者对于该模型进行了一系列扩展：在需求率方面，出现了需求率受价格、库存量、时间影响，在变质率方面，出现了变质率服从weibull函数，变质率受保存条件影响，以及考虑通货膨胀、价格折扣、商业信用等等的库存模型 [ 7 ] - [ 14 ] 。 以上所有的连续变质的易腐品模型都以微分方程为基础，同时模型中除决策变量之外都是确定的参数，不涉及随机情况。但由于随机的参数，特别随机的需求，具有很强的现实意义，在解决实际问题时应用很多，也有一些文章研究相关问题：如Shah N H在假定订货提前期为0的前提下，研究了不同前提下的随机需求易腐品的库存模型 [ 15 ] ，Shah N k研究了随机需求下，采用基本库存策略的库存模型，得到了最佳的订货到达点S [ 16 ] 。上述模型考虑的都是随机需求下，单一零售商订购单一产品的订货策略。在实际情况中，一个零售商往往是在一次订购中，订购多种不同的产品，以此增加商品种类，并减少订货成本。多产品联合补货问题(Joint Replenishment Problem, JRP)就是多产品联合进行补货的决策问题。 Kar et al. [ 17 ] 建立了一个两类易腐品补货模型：一种是面向高端客户的需求，需求受库存水平和价格的双重影响；另一种是面向大众的需求，此时需求只受价格影响。模型求解时，Kar et al. 提出了一种基于资源限制的优化算法，贴合现实条件，并指出，该算法可以推广到其他的易腐品。Bhattacharya [ 18 ] 拓展了此类模型至多类产品，且提出：产品之间的变质率和需求率之间会产生相互作用，所以模型具备不可解性，此类问题通常只能得到解的必要条件。针对Bha的模型，陈义安 [ 19 ] 等将其拓展到产品之间的价格互相影响需求的情况。他还证明了，在此情况下，模型存在唯一的最优解。 综上所述，目前并没有同时考虑需求的随机性与产品的腐败性的联合订货模型。针对研究的不足，本文建立了随机需求下多品种连续变质的易腐品的联合补货模型，允许缺货且缺货期间没有需求损失。在求解方面，由于本文考虑的是允许缺货的情形下的联合订货模型，模型的结构非常复杂，所以本文采用了文献 [ 20 ] 的求解办法，首先对目标函数中的指数部分进行截断泰勒级数展开，得到简化的目标函数。为同时订购多种易腐品的单一零售商联合补货的问题提供了一定的科学理论指导。"
"根据易腐品和联合补货问题的特点，本文的基本假设如下： 1) 补货提前期为0。 2) 每个产品在经过一段时间 后进入缺货状态，缺货期间需求率保持不变，直至到达 时刻一个周期结束，缺货量会在下一个周期初完全补足。 3) 采用周期性查看库存策略，所有产品采用( )补货策略，即存在一个基本补货周期 ，每个基本周期对所有产品都进行一次库存检查，产品一个补货成本。每一个产品 在此基础上有一个独立的补货周期 ，且 是基本补货周期 的整数( )倍，所以 。 4) 考了节约成本，基本补货周期至少是一个产品的独立补货周期，因此 。 5) 所有的产品在腐败后立刻损失，无法弥补或替代，即产品数量随时间逐渐减少。 6) 对于零售商来说售出率即为需求率，每个产品 的基本需求速率为 。在每个周期 内，基本需求率是恒定的，同时实际需求率是随机的，其公式表示为： (1) 上述公式中， 为满足某一分布的随机变量，其任意实现 。本文 和 来表示该方程的分布函数及累计函数， 表示 在其取值范围内的期望值。 其他符号的释义如表1所示：  由于本模型考虑的需求是随机的，因此系统中每一时刻的库存水平也是随机的，我们为了确定系统库存水平 的表达式，采用了Aggoun [ 21 ] 给出的直接法。先针对随机变量 的每一个实现得到库存水平的变化情况，然后根据取值范围对所有的实现求积分，从而求得所有成本的期望值。 对于每一种产品来说，系统从0时刻开始运作并且假定 时刻的库存为 ，然后产品以一定的需求率消耗，且由于产品易腐的特性，产品数量逐渐减少，在达到系统的周期 前，系统库存水平可能在 下降为0，或者到 时刻仍然存有部分库存。因此，对于产品 ，根据 和 的值，其库存水平随时间的变化可能存在如下两种情况：1) ；2) (如图1、图2所示)。 情况1：当 时，产品 在其补货周期 内，库存水平满足如下两个方程： (2) (3) Table 1 产品种类数 产品 的平均库存持有成本 每一次补货的主要订货成本 产品 补货时的次要订货成本 产品 的变质成本 当随机变量 的实现为 时，产品 在 时刻的库存水平 产品 在单位时间内的缺货损失 产品 的变质率 表1. 符号释义 图1. (情况1) 图2. (情况2) 由边界条件 ， 求解微分方程(2)和(3)得： (4) (5) 再由边界条件 及方程(4)可知，系统库存为0的时刻 为： (6) 情况2，当 时，产品 在其补货周期 内，库存水平满足如下方程： (7) 此时，由于需求的不确定性， 时刻的库存水平 不一定为0。根据边界条件 ，此时 的方程为： (8) 综合上述两种情况，当 给定后，随着 数值的变化，在一个补货周期中有可能发生缺货，如果发生缺货，即在期末的周期 时， ，即 化简可得： 当 时，系统将发生缺货；当 时，系统将不会发生缺货。因此， 在下文，我们将以 为分界，综合考虑缺货与不缺货两种情况，给出系统总成本模型。 1) 所有产品 在单位时间内的期望库存成本之和可表示为： (9) 2) 所有产品 在单位时间内的期望腐败成本之和可表示为： (10) 3) 所有产品 在单位时间内的期望缺货损失成本之和可表示为： (11) 4) 系统在单位时间内的，两种补货周期带来的补货成本可表示为： (12) 综上所述，系统在单位时间内的总成本为： 目标是寻找最优的 的值，使得联合订货的总成本 最小，该问题可描述为： Subject to (13)"
"Khouja M, Goyal已经证明了JRP问题是NP难题 [ 1 ] ，且本模型中的目标函数包含整数和非整数自变量，属于非线性混合整数的分段函数，无法使用常规的非线性规划方法求解。同时，方程(11)中的一些指数函数及对数函数使得目标函数的求解及计算变得异常复杂。考虑上述原因，本文对目标函数中的指数函数式及对数函数进行泰勒展开，取前三项进行截断近似，从而得到简化的目标函数。该方法也广泛在文献 [ 22 ] [ 23 ] 中使用。 由于连续变质的易腐品模型中 的取值远小于1 (通常为0.02或0.04)。因此，我们可以认为 ，进而可得 ，即 。当 时， 所以， 。 对方程(11)中的指数及对数部分进行泰勒展开，并保留至二次项，我们可以得到方程(11)的化简式： (14) 为了对此模型进行分析求解，我们在这里采用文献21的做法，给出一种随机变量 密度函数的具体形式，并 (15) 根据式(13)，我们可得，随机变量 的期望值 (16) 将 的密度函数带入方程12，我们可以得到： (17) 因此，本文问题最终可以表示为： Subject to (17)   差分进化算法是解决JRP问题的一种快捷而高效地算法，很多学者采用该算法高效地解决了联合订货问题 [ 22 ] [ 23 ] ，本文将通过合理地设计适应本文模型的差分进化算法来求解。差分进化算法的改良通常体现在它的三个基本操作上：变异、交叉和选择。 1) 变异操作 变异操作针对的是目标向量 ， ，通过差分变异操作，可以产生目标向量的新个体，具体的公式为： 上式中，变异矢量 由三个目标向量产生，三个目标向量 的序号各不相同，同时他们和 的值也不相同。因此群体的规模 ，为了确保种群多样性，通常取值为50到100之间，由于本文的目标向量为13维度，为了提高取到最优解的概率，本文的种群规模取值为100。 表示缩放因子，用以决定矢量差分的范围，通常 的取值范围在0~2之间，本文中 选取为0.5。 2) 交叉操作 交叉操作涉及到控制参数交叉概率(CR)，交叉概率表示是交叉操作中，目标矢量与变异向量之间的信息交换量的大小。随着CR值的增大，种群多样性的减小幅度变慢，多样性增加，但同时收敛速度也变慢，不利于快速寻找最优解，因此CR需要取一个合理值。本文的CR沿用了差分进化算法的发明人的推荐值，0.3。 对于每一个子代 ，交叉操作的方程为： 是随机选取的一个0~1之间的值，其中的 对应着目标向量 中的第 个维度。 为一个随机选择的维数变量。当对应 维度的随机数 时或 时，我们对目标向量和变异向量进行交叉操作。这样交叉选择确保了产生的实验向量中至少有一维变量由变异向量提供。 3) 选择操作 进过上两部操作之后，我们获得了一批实验向量 。我们通过比较目标向量 和实验向量 的适应度(函数值)来生成子代：当 的适应度优于 时，选择 为子代，否则，继续沿用 。以模型目标为最小化时为例，方程为：  1) 初始化。首先根据本文目标向量的维度及计算能力确定算法的基本控制参数( )，然后通过随机函数产生初始种群。初始种群中每个解包含三个变量( )，其中 的下限 为1，由实际情况分析， 的上限 通常小于100，因此我们取 。在生成初始种群时， 在0和100之间随机取值，然后将随机得到的值取整；根据本文的参数设置，最高库存量 在150到250之间随机取值；经验表明， 在0到1之间随机值。 共同组成一个 ，为种群中的一个目标向量。 2) 计算所有的随机产生的目标向量的目标值，得到其成本。 3) 按照上文的方法，种群中的所有目标向量依次进行变异操作、交叉操作，然后对目标向量和实验向量进行选择操作，产生子代种群 4) 将得到的子代种群继续(2)—(3)步骤，直至到达给定的最大迭代次数，算法结束，给出结果。"
"本章中将通过具体算例来对本文构造的联合订货模型进行求解，从而验证算法及模型的有效性。然后，本文将对一些关键参数进行灵敏度分析，并以此得到这些关键参数对模型的影响，获得实践中的启示。本文的文献模型的基础数据来源于文献 [ 1 ] ，具体参数如表2所示，由于该算例中不允许缺货，因此，我们增加了参数 ，代表单位产品单位时间的缺货损失，所有的实验通过MATLAB实现，计算机配置为CPU@2.70GHz和8.00GB RAM。 经过100代迭代，算法的收敛情况如图3所示。最优解中 ， ， ，最优解为1167.4。然后，我们对次要订货成本 、变质率 两个参数采用单变量法对公式(17)进行敏感度分析。分析当参数发生变化时，系统的总成本、各关键参数的变化情况，具体情况如下表3、表4所示。 从表3、表4可以看出，变质成本、次要订货成本的预测不准均会给结果带来一定的影响，但如果仅在小范围内波动(例如±10%)，则对结果影响并不大。而预测误差对Ｋ基本无影响，因其影响的是基本补货周期T，随着θ的增加T逐步增大，且总成本逐步增大；而次要订货成本的预测误差则与其相反，基本补货周期增大，且对总成本影响很大。 Table 2 产品1 产品2 产品3 产品4 产品5 产品6 2900 1850 2750 1600 3200 1400 0.4 1 0.8 0.2 0.8 0.2 10 1.8 2.0 1.2 3.2 3.1 2.7 2.4 6 4.8 1.2 4.8 1.2 0.02 1.6 4 3.2 0.8 3.2 0.8 表2. 参数取值 Table 3 0.02 4,2,4,7,3,7 1167 0.0204 0.04 4,2,4,7,3,7 1164 0.0206 0.06 4,2,4,7,3,7 1169 0.0198 0.08 4,2,4,7,3,7 1171 0.0196 0.10 4,2,4,7,3,7 1183 0.0192 0.12 4,2,4,7,3,7 1180 0.0188 0.14 4,2,4,7,3,7 1200 0.0175 表3. 变质率敏感度分析 Table 4 变化率 −60 4,2,4,7,3,7 1122 0.0177 −40 4,2,4,7,3,7 1121 0.0199 −20 4,2,4,7,3,7 1129 0.0212 20 4,2,4,7,3,7 1210 0.0266 40 4,2,4,7,3,7 1301 0.0289 60 4,2,4,7,3,7 1329 0.0303 表4. 次要订货成本敏感度分析 图3. 目标函数收敛情况"
"本文将多种易腐品联合补货的模型进行了拓展，考虑了随机需求下且部分延迟交货的情况下的易腐品联合补货。根据易腐品的特点，构造了连续变质的多品种易腐品联合补货，目标是确定每种产品的最佳订货周期及最佳的最大库存水平，使得系统总成本最小。为了达到目的，本文设计了基于差分进化的启发式算法，通过100次的进化，最终收敛到了一个很好的解。然后，针对模型中的部分核心参数，本文进行了一些灵敏度分析：随着 的减小，即易腐品的保鲜时间增长，系统的总成本逐渐减低；随着次要订货成本 的增加，基本补货周期 逐步增加，系统总成本增加，且非常不明显。通过对参数的灵敏度分析，总结了相应的库存管理结论：系统对次要订货成本的敏感度比对腐败系数大(2)参数的估计主要通过影响共同订货周期来影响每个产品的单独订货周期。本文构建的模型适用于日常消费的易腐品联合补货，如商店补充蔬菜、水果等。以后的研究可考虑多目标的的非立即变质品联合补货，也可将运输过程考虑进来，考虑带运输的联合补货决策进行研究。"
