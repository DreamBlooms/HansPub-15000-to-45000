"首先，本文推导出随机游走行情的期权定价公式，然后提出三个命题并分别证明。命题一从新的角度阐述期权复制原理。命题二发现两个不等式，给出了标准正态分布累积函数的上下界。结合命题二和命题三发现了四个逼近标准正态分布累积函数的初等函数，第二个函数的精度最高：最大绝对误差是0.0000406。 关键词 :期权，随机游走，不等式，近似，误差 Copyright © 2019 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"Black-Scholes期权定价模型不太适用零和博弈市场如期货市场。且BS公式在计算到期时间短的期权价格时偏差较大。金融市场长线行情或可预测但短线行情往往非常近似随机游走行情。所以本文从随机游走行情推导期权定价公式并提出三个命题，给出证明并推导出若干公式。"
"记 φ 为标准正态分布概率密度函数： φ ( x ) = e − x 2 2 2 π [ 1 ] N为标准正态分布变量的累积概率分布函数： N ( x ) = ∫ − ∞ x 1 2 π e − u 2 2 d u = P { ξ ≤ x } [ 1 ] 设标的资产的行情为随机游走行情，该随机游走行情单位时间涨跌幅度均值为0，标准差为 ω (不同于BS公式里的标准差)，那么T个单位时间的涨跌幅度的均值为0，标准差为 ω T 。 设当前价格为S，期权执行价格为K，则到期时间为T个单位时间的期权价格C的表达式为： C = ∫ K + ∞ ( x − K ) ⋅ ( 1 ω T ⋅ φ ( x − S − 0 ω T ) ) d x = ∫ K + ∞ x − S ω T φ ( x − S ω T ) d x + ( S − K ) ∫ K + ∞ 1 ω T ⋅ φ ( x − S ω T ) d x ， 易验证 φ ( x ) 的导数为 − x φ ( x ) ，所以 x φ ( x ) 的一个原函数是 − φ ( x ) ， 那么易解得： C = ω T ⋅ φ ( K − S ω T ) + ( S − K ) ⋅ N ( S − K ω T ) . 又 φ ( x ) = φ ( − x ) ，所以C亦可写成： C = ω T ⋅ φ ( S − K ω T ) + ( S − K ) ⋅ N ( S − K ω T ) 标的资产价格上涨dS时，期权价值上涨dC，所以最佳对冲比例为： d C d S 将S看作自变量，对C求导后并化简得： d C d S = N ( S − K ω T ) 当 ω = 1 , T = 1 , S = 0 时 ，此时该标的资产单位时间涨跌幅度均值为0，标准差为1，当前价格为0， C = φ ( K ) − K ⋅ N (−K) d C d S = N (−K) 下文是在 ω = 1 , T = 1 , S = 0 的情况下进行计算和证明，不影响所提出的结论，不再另作说明。 命题一： 随机游走行情中，卖出一份看涨期权获得期权费 C 同时买入 N ( − K ) 份标的资产，到期时的损益与一份看涨期权到期时的价值最接近。即买入 N ( − K ) 份标的资产到期时的损益与买入一份看涨期权到期时的损益(期权到期时的价值减去期权费 C )最接近，也就表明通过买卖标的资产可以复制期权。 证明：设持有 M 份标的资产、到期时标的资产价格为 x ，因已设当前价格S = 0，所以到期时的资产损益为 M x (x为负数时表示亏损)。 到期时若 x 小于等于K，那么到期时的期权价值为0。期权费 C 加上到期时资产损益 M x 与期权价值之差为： C + M x − 0 到期时若 x 大于K，那么到期时的期权价值为 x − K 。期权费 C 加上到期时资产损益 M x 与期权价值之差为： C + M x − ( x − K ) 应用最小二乘法， 令 α ( M ) = ∫ − ∞ K ( ( C + M x − 0 ) − 0 ) 2 φ ( x ) d x + ∫ K + ∞ ( ( C + M x − ( x − K ) ) − 0 ) 2 φ ( x ) d x 命题中所有可能的值最接近0指的是最小化 α ( M ) 。 当 α ( M ) 的导数(M是自变量) α ′ ( M ) = 0 时， α ( M ) 最小。 α ′ ( M ) = ∫ − ∞ K 2 x ( C + M x ) φ ( x ) d x + ∫ K + ∞ 2 x ( C + M x − ( x − K ) ) φ ( x ) d x = C ⋅ ∫ − ∞ + ∞ 2 x φ ( x ) d x + ∫ − ∞ + ∞ 2 M x 2 φ ( x ) d x − ∫ K + ∞ 2 x ( x − K ) φ ( x ) d x = ∫ − ∞ + ∞ 2 M x 2 φ ( x ) d x − ∫ K + ∞ 2 x ( x − K ) φ ( x ) d x = 0 ∫ − ∞ + ∞ x 2 φ ( x ) d x 为方差的定义，因方差为1，所以 ∫ − ∞ + ∞ x 2 φ ( x ) d x = 1 ，上式整理为： α ′ ( M ) = 2 M − ∫ K + ∞ 2 x ( x − K ) φ ( x ) d x = 0 所以， M = ∫ K + ∞ x ( x − K ) φ ( x ) d x 。 下面证 N ( − K ) = ∫ K + ∞ x ( x − K ) φ ( x ) d x ； 移项得，只需证： N ( − K ) + K ⋅ ∫ K + ∞ x φ ( x ) d x = ∫ K + ∞ x 2 φ ( x ) d x ； 左右两侧分别对K求导： 左侧式子导数为： − φ ( − K ) + ∫ K + ∞ x φ ( x ) d x − K 2 φ ( K ) ， 即 − φ ( − K ) + φ ( K ) − K 2 φ ( K ) ； 即 − K 2 φ ( K ) ； 右侧式子导数为： − K 2 φ ( K ) ； 证明了左侧式子的导数 = 右侧式子的导数。 那么由此可知：左侧式子 = 右侧式子 + 一个常数。 且当K = − ∞ 时，右侧式子是方差的定义，因方差是1，所以右侧是1，左侧将K = − ∞ 带入，也是1，说明所加常数为0， N ( − K ) + K ⋅ ∫ K + ∞ x φ ( x ) d x = ∫ K + ∞ x 2 φ ( x ) d x 成立，所以 M = N ( − K ) ，命题得证。 在证明命题一的过程中，我们得到一个很简洁的等式： 等式一： N ( − K ) = ∫ K + ∞ x ( x − K ) φ ( x ) d x , ∀ K ≥ 0 等 式 成 立 为了引出命题二，先考虑两个方程。 考虑如下两个情形： 情形1 (设标的资产到期价格为 x )： 卖出一份期权获得期权费C，同时买入 M 1 份标的资产，期权到期时再根据到期行情的价格支付期权买方所应得金额后，若要求此时的盈亏值在到期行情大于等于S的情况下(即 x ≥ 0 )，期望值为0，求解 M 1 。 即 M 1 满足如下式子： ∫ 0 K ( C + M 1 x − 0 ) φ ( x ) d x + ∫ K + ∞ ( C + M 1 x − ( x − K ) ) φ ( x ) d x = 0 再结合 C = φ ( K ) − K ⋅ N ( − K ) 以及 N ( − K ) ≈ M 1 。 求解得： M 1 ≈ φ ( K ) 2 φ ( 0 ) + K 情形2 (设标的资产到期价格为 x )： 卖出一份期权获得期权费C，同时买入 M 2 份标的资产，期权到期时再根据到期行情的价格支付期权买方所应得金额后，若要求此时的盈亏值在到期行情大于等于 S + K 的情况下(即 x ≥ K )，期望值为0，求解 M 2 。 即 M 2 满足如下式子： ∫ K + ∞ ( C + M 2 x − ( x − K ) ) φ ( x ) d x = 0 再结合 C = φ ( K ) − K ⋅ N ( − K ) 以及 N ( − K ) ≈ M 2 。 求解得： M 2 ≈ 1 2 − K 2 + 4 φ 2 ( K ) − 2 φ ( K ) 2 K 命题二： φ ( K ) 2 φ ( 0 ) + K ≤ N ( − K ) ≤ 1 2 − K 2 + 4 φ 2 ( K ) − 2 φ ( K ) 2 K , 对 于 ∀ K ≥ 0 成 立 , 当 K = 0 时 , 等 号 成 立 . 证明：为了证明时论述方便，这里将自变量 K 换为 x ，同时结合 N ( x ) = 1 − N ( − x ) 。 将命题二等价转换为以下两个不等式： 不等式一： N ( x ) ≥ 1 2 + x 2 + 4 φ 2 ( x ) − 2 φ ( x ) 2 x , x ≥ 0 时 不 等 式 成 立 不等式二： N ( x ) ≤ 1 − φ ( x ) 2 2 π + x , x ≥ 0 时 不 等 式 成 立 不等式一的证明： 不等式一的右侧式子中有一个分母是2x，此时用极限求x = 0时的值。 不等式一的右侧式子给出了 N ( x ) 的一个下界初等函数，用这个下界函数减去 N ( x ) 后的函数图如图1所示。 图1. 下界函数减去 N (x) 令 L ( x ) = 1 2 + x 2 + 4 φ 2 ( x ) − 2 φ ( x ) 2 x − N ( x ) , x ≥ 0 ， L ( x ) 的函数图像即是图1。 当x = 0时，应用极限，显然 L ( x ) = 0，此时满足式子。当x > 0时，考察 L ( x ) 的导数 L ′ ( x ) 的性质：导数 L ′ ( x ) 先小于0，接着，当 x > 0.66386 ，导数 L ′ ( x ) > 0 ，又因 lim x → + ∞ L ( x ) = 0 ，所以证明了 L ( x ) ≤ 0 ，故该不等式成立。 不等式二的证明： 不等式二的右侧式子给出了 N ( x ) 的一个上界初等函数，用这个上界函数减去 N ( x ) 后的函数图如图2所示。 图2. 上界函数减去 N (x) 令 U ( x ) = 1 − φ ( x ) 2 2 π + x − N ( x ) ， U ( x ) 的函数图像即是图2。 当x = 0时，显然 U ( x ) = 0 ，即满足式子。当x > 0时，考察 U ( x ) 的导数： U ′ ( x ) = φ ( x ) ( 2 π + x ) 2 ( 1 − 2 x 2 π − 2 π ) 令 。 可知， 当 0 < x < 2 π 2 − 2 2 π 时 , U ′ ( x ) > 0 ； 当 x > 2 π 2 − 2 2 π 时 , U ′ ( x ) < 0 ； 又 lim x → + ∞ U ( x ) = 0 ； 所以， U ( x ) ≥ 0 ，不等式得证。 命题二得证。 这两个不等式分别给出了 N ( x ) 的下界初等函数和上界初等函数，作者将上下界函数取平均即得到 N ( x ) 的一个逼近公式即逼近公式一。 逼近公式一： N ( x ) ≈ 3 4 + x 2 + 4 φ 2 ( x ) − 2 φ ( x ) 4 x − φ ( x ) 4 2 π + 2 x , x ≥ 0 x = 0时，右侧式子中有一个分母是4x，此时用极限求解，当x趋近于0得右侧式子为0.5，左侧N(0)也是0.5，此时是严格相等。 逼近公式一的误差图(横坐标为x的值，纵坐标为误差)如图3所示。 图3. 逼近公式一的误差 逼近公式一未进行任何优化也取得了一定精度：最大的绝对误差是 6.29 × 10 − 3 ，x越大误差越小，当x大于2时，误差小于 3.28 × 10 − 5 。 该逼近公式是命题二的一个应用，命题二的价值在这里得到了一定程度体现。 为了引出命题三，考虑如下情形(设标的资产到期价格为 x )： 卖出一份期权获得期权费C，同时买入 N ( − K ) 份标的资产，期权到期时再根据到期行情的价格支付期权买方所应得金额后，若此时的盈亏值在到期行情大于等于 S + V 的情况下(即 x ≥ V )，期望值为0，求解 V (由命题二易知， 0 ≤ V ≤ K )。 即 V 满足如下式子： 再结合 C = φ ( K ) − K ⋅ N ( − K ) 。 化简得方程： N ( − K ) = φ ( K ) φ ( V ) N ( V ) + K 从上式难以得出 V 的解析表达式，但作者发现三条性质： 命题三： 性质1： K 为自变量，当 K ≥ 0 时， N ( − K ) C 近似地在一条直线上，直线拟合 R 2 = 0.9974。 性质2： K 为自变量，当 K ≥ 0 时， ( ln ( V K ) − ( π 2 − 1 ) ) 2 近似地在一条直线上，直线拟合 R 2 = 0.9992。 性质3： K 为自变量，当 K ≥ 0 时， K V 非常近似地在一条直线上，直线拟合 R 2 = 0.9998，且 lim K → 0 V ′ = π 2 − 1 。 分别绘图(横坐标为 K )，如图4、图5、图6所示。 图4. N ( − K ) C 近似在一条直线上 图5. ( ln ( V K ) − ( π 2 − 1 ) ) 2 近似在一条直线上 图6. K V 近似在一条直线上 下面证明 lim K → 0 V ′ = π 2 − 1 ： 方程左右两侧都对 K 求导并整理得： N 2 ( V ) − ( K φ ( V ) + V V ′ φ ( V ) ) ⋅ N ( V ) − φ 2 ( V ) ⋅ ( V ′ + 1 ) = 0 当 K 趋向于0时，因 0 ≤ V ≤ K ，所以 V 也趋向于0。 将 K = 0 , V = 0 , N ( 0 ) = 1 2 代入上式得： V ′ = π 2 − 1 ，即 lim K → 0 V ′ = π 2 − 1 命题三的应用： 由命题三的这三个近似直线的性质，作一定程度优化后可以再得到三个逼近公式。 为了论述方便，这里将自变量 K 换为 x ，同时结合 N ( x ) = 1 − N ( − x ) ,再结合当 x ≥ 0 且较小时，有 N ( x ) ≈ 0.5 + φ ( 0.5 x ) ⋅ x 。 由命题三的性质2得逼近公式二： N ( x ) ≈ 1 − φ ( x ) x + φ ( g ( x ) ) 0.5 + g ( x ) ⋅ φ ( 0.5 g ( x ) ) , x ≥ 0 其中， g ( x ) = x e π 2 − 1 − x − 1 2 + π 。 逼近公式三的误差图(横坐标为 x 的值，纵坐标为误差)如图7所示。 逼近公式二实现了高精度，最大的绝对误差是 4.06 × 10 − 5 。当x大于1.29时，随着x的增大，误差持续减小，当x = 3时，误差是 3.01 × 10 − 7 ，当x = 6时，误差是 2.52 × 10 − 12 。 图7. 逼近公式二的误差 将N和逼近公式二所得值 N ′ 同时画在一张图表里，如下图，由于精度非常高所以图表中两曲线重叠了，如图8所示。 图8. 逼近公式二所得值和准确值的对比 由命题三的性质3得逼近公式三： N ( x ) ≈ 1 − φ ( x ) x + φ ( y ( x ) ) 0.5 + y ( x ) ⋅ φ ( 0.5 y ( x ) ) , x ≥ 0 其中， y ( x ) = x 0.385 x + 2 π − 2 逼近公式三的误差图(横坐标为x的值，纵坐标为误差)如图9所示。 图9. 逼近公式三的误差 逼近公式三也实现了较高精度，最大的绝对误差是 1.05 × 10 − 4 。精度高于逼近公式一，低于逼近公式二，但逼近公式三比逼近公式二简洁。 由命题三的性质1得逼近公式四： N ( x ) ≈ 1 − φ ( x ) x + 1 1.2533 + 0.61 x , x ≥ 0 逼近公式四的误差图(横坐标为x的值，纵坐标为误差)如图10所示。 图10. 逼近公式四的误差 逼近公式四最大的绝对误差是 1.19 × 10 − 3 。精度高于逼近公式一，低于逼近公式二，低于逼近公式三，但逼近公式四最简洁。"
"本文在随机游走行情期权复制的研究中提出三个命题。命题一从新的角度阐述期权复制原理并推导出一个数学等式。由命题二、命题三，发现了两个不等式、四个累积正态分布函数的近似初等函数。两个不等式给出了 N ( x ) 的上下界，能帮助人们快速估算 N ( x ) 的取值范围。四个累积正态分布函数的近似初等函数中，逼近公式二的近似精度最高，远高于逼近公式一的近似精度，但公式略微复杂。逼近公式四兼顾了精度和公式简洁性，应用时建议选择逼近公式四。"
