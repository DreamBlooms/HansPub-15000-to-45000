"本文在分析了云计算技术、位置服务技术及林业日常巡护的实际需求，提出在基于百度公有位置云服务技术构建的林业巡护管理系统的技术方案和方法。在该系统中，每个护林员通过使用基于移动云计算技术设计的手机软件，随时将位置信息及采集回传到系统云中心节点，系统可以有效的对护林员的管护区域进行监控，同时及时的对突发事件进行响应，做出人员和车辆的调配，并对护林员的工作量进行统计分析、对发现的野生动植物及热点事件进行统计分析。通过实际的应用，不但提高了林业巡护的工作效率、按需规划巡护路线，也为林业部门节省了大量的IT硬件投资成本和维护成本。 关键词 :林业巡护，百度云，LBS"
"基于位置的服务(Location Based Services, LBS)是指采用GPS、GPRS、GIS、Internet、Database等相关技术的基础上，提供空间位置服务的技术。通过这项技术，可以为车辆跟踪、突发事件应急响应、人员空间位置定位等各种应用提供位置定位服务。 林业对位置服务的需求主要表现在如下几个方面： 1) 在林业资源调查需求方面，从森林资源调查到湿地、荒漠化沙化土地调查，林业资源野外调查已经成为一项系统化，大规模的工作，为完成大量的野外调查工作，采用GPS定位，综合应用3S技术进行规划设计调查，已成为森林调查的发展方向。野外样地的快速、精确定位、面积测量、野外作业双向通信等 [ 1 ] ，可实现规划、设计、调查验收任务下载、实地数据采集过程中自动上报，实现图片回传；实现人员、车辆和飞机的导航、选择最佳路径、实时定位、行为管理、智能监控功能； 2) 在林业重点工程(如天然林保护工程、三北防护林工程)管护中，护林员管理是的重要工作内容之一。加强护林员的管理工作，提高护林员的工作责任感，可以有效的防止森林火灾，虫灾，乱砍乱伐事件的发生，防止发生不巡检或巡检不到位的现象 [ 2 ] 。通过对对护林员的位置信息进行采集和传输，可以有效的对护林员的管护区域进行监控； 3) 生物多样性保护方面，对于位置服务技术需求主要为生物多样性监测，实现野外样地，保护对象的快速、精确定位、面积测量、野外作业双向通信等，可实现任务下载、实地数据采集的上报，图片回传；实现人员、车辆日常巡护管理、与传感器等设备结合，实现野生动植物位置、行为轨迹(动物)、环境监测等 [ 3 ] 。 随着云计算、移动互联网、3G/4G通信技术、LBS技术、移动GIS技术以及智能手机的普及，移动互联网已经深入了人们的生活和工作当中。云计算作为一种新的应用计算方法，将异构自治的基于互联网的计算资源集中起来，能够处理海量的信息和数据。云计算与智能手机相结合，形成移动云计算，通过智能手机使得人在通讯网络覆盖范围内的任何地点、时间和环境下，按需从云平台上获取服务 [ 4 ] 。 我们根据林业日常巡护管护的需求，通过构建基于百度公有位置云服务的林业智能系统，通过智能手机和巡护云平台，林区不需要购买基础的IT软硬件环境，管理只需要通过web浏览器就可以为护林员设定巡检计划、巡检路线和巡检点、向手机客户端发布巡护信息，既减少了护林员的工作强度，又提高了工作效率，同时减少了大量的信息化投资。"
"“云计算”的是在分布式计算、高性能计算、分布式存储等成熟的技术上发展起来的。通过云计算技术，可以将计算资源、数据资源、处理软件等资源按需提供给用户。移动云计算的发展始于移动互联网的发展，移动云计算是云计算将来发展的趋势之一 [ 5 ] ，用户通过可以不受终端设备局限，而使用感兴趣的计算服务。移动云计算的成功案例有： 1) 加拿大RIM公司的黑莓企业应用服务器使用案列，该案例中将企业应用、移动终端、无线网络整合在一起，用户的登录使用黑莓终端访问，由此远程同步邮件及日历，查看附件和地址本 [ 6 ] [ 7 ] ； 2) Google公司是移动云计算的发起者，通过开源的Android系统平台和终端，整合图形图像搜索、语音搜索以及手机地图等服务，用户可以基于这些开源的软件组合出不同的新应用，移动云计算的模型如图1所示 [ 8 ] [ 9 ] 。 移动云计算的服务模型可以用“端”、“管”、“云”3个组件来描述 [ 10 ] 。“端”是智能化程度非常高的智能手机等移动终端，它的数据需求和技术需求都会以服务的形式向云端提出。“管”是指完成信息传输的移动通信网络或者其他无线网络 [ 11 ] 。“云”则是包含了丰富资源和服务的平台 [ 12 ] 。“云”端的架构是基于服务的，有3个层次：底层是基云，由基础设施层面如各种服务器、数据库、存储设备、并行分布式计算系统等组成，即IaaS；中间层是平云，提供应用程序先进的集成环境和平台，即PaaS；最顶层是软云，提供软件、数据等各种应用，即Saa [ 13 ] [ 14 ] 。  基于位置的服务(即LBS)，获取移动终端用户的坐标信息(地理坐标，或大地坐标)是通过公共的移动通讯网络(比如GSM、CDMA、3G、4G网络(或其它定位方式(如GPS、北斗)得到的，是基于GIS平台为用户提供地图服务的一种业务(图2) [ 15 ] 。 本系统采用Android手持终端，基于百度地图LBS定位SDK进行二次开发和封装，利用百度地图LBS云作为后台应用服务端 [ 16 ] 。采用这种开发方式，一方面解决应用服务器端日益增长的海量位置数据的存储和维护压力，另一方面彻底解决所有用户基于位置数据的高并发检索瓶颈。 百度LBS云服务SDK支持GPS、北斗、运营商基站、Wi-Fi进行定位，当应用程序向定位SDK发起定位请求时，百度LBS云服务会自动根据应用的定位方式和当时的实际情况(如是否开启GPS、是否连接网络、是否有信号等)来生成定位结果 [ 16 ] 。 百度LBS云提供位置数据存储、空间计算能力、自定义扩展字段存储，可以方便开发者聚焦LBS应用本身的业务逻辑 [ 17 ] 。"
"林业智能巡护系统在移动通讯网络覆盖范围内的任何地点、任何时间和任何环境下，通过林区巡护员携带着安装了智能巡检APP的智能手机，实现了管护站与巡护员的双向通讯。系统分为手机端巡护APP、巡护数据采集子系统、分析决策子系统和系统管理子系统。林业智能巡护系统功能架构如图3所示。 图1. 移动云计算的“端”–“管”–“云”模型及服务类型构成 图2. 百度LBS云的应用模式 图3. 林业智能巡护系统功能架构图 平台主要提供了几个方面的功能： 1) 在巡护员管理方面，实现对巡护员的位置信息进行采集和传输，历史轨迹回放，保存所有巡护员巡护轨迹，有效的对巡护员的管护区域进行监控(图4)； 2) 在生物信息采集方面，实现野外作业双向通信、任务下载、实地数据采集的上报，图片回传，实现野生动植物位置、行为轨迹(动物)、环境监测等； 3) 在突发事件的响应方面，通过一键报警的方式，及时得将盗砍盗伐、森林火灾、森林病虫害等信息通过手机终端迅速的反馈到平台上，并可以进行拍照、录像，使得管护站对这些报警信息及时做出应对。 系统的工作流程是：各个林区的管理人员可以设定好本区内巡检计划后，通过巡护云平台与移动云终端互联，护林员携带着智能手机执行管护工作，巡护的情况都会实时的反应到云服务平台中。通过平台中统计软件分析，可以看见该护林员本周、本月的工作状况，有了科学准确的考核依据，就可以对护林员进行相应的奖惩了，也使得重点工程区的总体管护工作量有了量化的分析，使得管护资金得到合理的分配。同时护林员通过移动云终端获取的图片、视频、巡护日志、管护资源数据等反馈回巡护云平台中的盗砍盗伐、病虫害、林业资源等信息，使得管护区的管理员及时掌握林区内的突发事件和生态环境的变化，使整个林区有效的、科学的保护。"
"林业智能巡护系统是采用百度LBS云服务的开发接口来实现，其中林业业务部门的数据的组织、存储和管理调用的是百度云存储API，利用可视化的数据编辑工具，使用地图标注或批量数据导入的方式轻松管理自有数据，利用百度地图引擎API的计算能力对存储的数据进行实时索引，使用百度云检索API返回各类基于位置数据的检索请求。同时，使用百度地图API实现丰富的地图可视化展现。利用百度LBS的AIP实现了从数据管理、数据处理、数据检索、数据存储等所有功能。利用百度LBS云服务开发应用系统流程如图5所示。 林业智能巡护系统的运行分为数据采集端、服务器端、操作端。数据流模式的设计情况是：首先调用百度LBS位置服务获得手机客户端的位置，并通过GPRS来传递回服务器端，然后由服务器端调用百度LBS云服务接口，将数据传输到云端，利用云存储来保存坐标数据，服务端通过调用百度LBS云的地图显示接口，通过操纵平台在网页中显示巡护监测数据，同时服务器端将各种指令发送给手机客户端，如图6所示： 智能数据采集终端一般采用目前主流的Android智能手机，采集的信息包括： 图4. 林业智能巡护系统的巡护轨迹显示 图5. 利用百度LBS云服务开发应用系统 图6. 林业智能巡护系统的数据流程 1) 文本信息：记录的各种信息以SQLite文件，db的形式存储在手机本地； 2) 数据信息：各种数据data，一般为.xls或.txt文件(或与文本信息记录在一起)； 3) 图片信息：各类照片，一般为.jpg、tif等文件。 根据林区内的特点，位置服务定位采用无线电通讯网络和GPS，网络传输采用GPRS，信息传输功 能，主要包括两种类型传输： 1) 即时信息传输：在有GPRS网络信号的时候，位置信息及时传回到远程服务器端，以方便即时处理； 2) 非即时信息的传输：如果没有GPRS网络信号的时候或信号不佳的情况，位置信息暂时缓存到终端设备中，而后在回传到远程服务端。 Android智能手机作为云端设备，封装了位置服务的API，在开发过程中主要用到Android操作系统中的管理Android用户定位(Location Manager)和供开发者选择的多种定位方式(Location Provider)两个对象。 管理Android用户定位对象可以用来获取当前的位置，追踪设备的移动路线，其中的获取位置更新(request Location Updates)方法可以进行快速的位置监视，该方法通过设定距离长短以及时间间隔来确定获取位置信息频率。管理Android用户定位对象(Location Manager)提供了四个参数，参数的作用分别为：(1) 定位方式的选取；(2) 位置变化的时间频率；(3) 长度，以米为单位；(4) 回调函数，该函数是在达到(1)(2)(3)条件时运行的函数。 Location Provider是提供定位功能的所有组件集合，集合中的每种组件以不同的定位模式指出设备的当前位置，主要从定位的精度、速度和成本等方面考虑。同时调用百度LBS云服务的location.BDLocation (回调的百度坐标类，内部封装了如经纬度、半径等属性信息)，location.BDLocationListener (定位请求回调接口)，location.LocationClient (定位服务的客户端。，宿主程序在客户端声明此类并调用)，location.LocationClientOption (配置定位SDK各配置参数，比如定位模式、定位时间间隔、坐标系类型等)来进行云终端的定位服务，调用mapapi.map.LocationData (百度地图可视化类)，进行地图显示服务。 系统服务器是云端与百度LBS云服务之间的桥梁。所有从手机采集到数据，集中到系统服务器上，同时将位置信息的副本上传到百度LBS云存储中进行管理，云存储接口功能：支持单个geotable亿级数 图7. 巡护信息采集界面 图8. 巡护数据的统计分析 据及百G大小的文件存储，支持百万量级/天和万量级/秒的读写。"
"本系统在四川省宝兴县蜂桶国家级自然保护区进行了应用示范。四川蜂桶寨国家级自然保护区于1975年建立，位于四川省宝兴县东北部，地处邛崃山西坡，面积39039公顷。主要保护对象珍稀濒危动物大熊猫、金丝猴及山地混合森林生态系统。面积4万公顷，其中核心区27581.5公顷，缓冲区2897.5公顷，实验区8560.0公顷。峰桶国家林业局自然保护区地形复杂，多为山区，信号并非全覆盖，对系统的测试提供较为客观的环境。项目组共采购了20部智能手机，深入山区进行手机客户端与管理平台的通信，手机信号较强，GPS的信号也非常良好，系统设计轨迹回放时间间隔合理恰当，平台相应及时，测试的效果非常好(图7、图8)。同时保护区的领导和巡护人员反馈系统实用性强，对当地的巡护的高效管理非常有帮助。"
"林业系统信息化建设相对落后，尤其是在基层林区中，更是缺少IT人才和设备，通过采用百度LBS云服务来构建林业智能管护平台，降低了林业管护部门应用GIS技术的门槛，更方便、更快捷的搭建出林业管护业务应用。同时由于数据和大量的运算都在百度云中进行，解决了数据安全、统一访问接口、信息孤岛、软硬件重复投资等问题。通过了解百度LBS云服务技术，也为林业信息部门构建自己的云计算平台，提供了技术积累。"
