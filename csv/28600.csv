"本文以2017年11月20日至11月25日美元/日元汇率值收盘价为样本数据，研究挂钩于美元兑日元的触发式理财产品的定价问题。首先对汇率数据进行统计分析，利用对数差分方法对数据进行平稳化处理；其次根据AIC准则和极大似然值统计量选出对汇率拟合效果最佳的模型为MA(1)模型，再次考虑到残差不服从正态分布的情况，利用逆变换的方法进行残差拟合，并将其用于风险资产价格的预测；最后通过Monte-Carlo模拟，对触发式理财产品进行了价值分析。 关键词 :MA(1)模型，逆变换方法，理财产品定价，触发式理财产品 Copyright © 2019 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"近年来，投资者对理财方式呈现出多样化的形式，为了满足市场需求，很多商业银行推出了多种汇率挂钩型理财产品。目前，国内市场上汇率挂钩型理财产品层出不穷，受2008年金融危机的影响，当时很多挂钩型理财的收益并不高，甚至出现“负收益”的现象，而渣打银行和汇丰银行中却有几款产品不但没有受到影响，甚至还获得较高的收益，这些产品就是本文研究的触发式结构性理财产品中的一类 [ 1 ] 。触发式挂钩型理财产品与固定收益类不同，其收益为一个“区间”，最终的到期收益率与挂钩标的走势密切相关(如表1)。在今天，如何对其进行定价更是现在金融界的一个很重要的研究点。 Table 1 产品名称 挂钩标的 理财期限 认购额 收益决定条款 中国农业银行“金钥匙·如意”2017年第289期看涨美元兑日元汇率人民币理财产品 美元兑日元汇率 62天/90天 50,000元/100,000元 见表3 表1. 挂钩型触发式理财产品相关信息 在本文中，主要研究“多区间累计”汇率挂钩类结构化产品，在研究挂钩于汇率波动理财产品的定价问题时，首先对汇率变化数据做时间序列分析，看其是否符合特定的时间序列模型。在很多学者的研究中，都将模型的残差序列默认为正态分布，经过多年的研究，发现残差序列在很多情况下并不服从正态分布与其它已知的分布，当默认残差序列服从正态分布或已知分布来进行研究时得出的结果不一定符合实际情况时，之后逐渐有很多学者寻找新的方法来拟合模型的残差序列。Engle在1982年时首先引入自回归条件异方差模(ARCH)，利用ARCH模型来描述英国通货膨胀率中存在的条件异方差性，并由Bollerslev (1986)发展成为广义自回归条件异方差模型(GARCH) [ 2 ] ，Bollerslev等(1978)使用厚尾Student-t分布，Nelson等(1991)使用广义误差分布(Generalized Error Distribution, GED)，卢方元，李成钰(2007)应用ARCH族模型对1990~2006年的上证综指收益率序列进行分析 [ 3 ] ，但在这些文章中残差分布并不是正态分布，用来研究理财产品的定价并不符合实际情况。在本文中，所用数据所构成的模型残差并不存在ARCH效应。 基于以上分析，考虑到模型中的残差分布问题，本文将用逆变换的方法将模型的残差分布进行拟合，研究表明拟合的残差分布模型更加符合原始数据序列，因此用此模型来研究理财产品的定价更加具有实际意义。"
"本文选取新浪财经网2017年11月20日至11月25日美元兑日元的收盘价作为样本区间，每15分钟收集一个数据，共576个观测值，收益率 r t 定义为两时间间隔 Δ t 的收盘价的差分取对数 r t = log ( s t ) − log ( s t − 1 ) ，最后用575个数据构成序列并进行模型检验。 首先对原始数据进行统计描述并做作时序图(见图1)。由图1可以看出，原始序列是非平稳状态，峰度为−1.4877，偏度为0.25739，由此可以得到美元兑日元的即期汇率不服从正态分布，再对原始数据进行正态性检验，发现其p值为2.2e−16，其结果证明与之前分析结果一致。 图1. 美元兑日元即期汇率序列时序图 图2. 汇率数据对数差分之后序列时序图 其次对数据进行平稳化处理。由于原始时间序列数据是非平稳化，此时需要对原始数据进行对数差分处理，进一步对处理后的数据进行BOX检验，可以看出结果p值接近于0，这说明序列之间存在相关性。进一步进行单位根检验。可以看出ADF检验结果p值为0.01，说明在显著性水平0.05的情况下，此时原始序列经处理之后已是平稳序列。将差分之后的数据画出时序图(见图2)，由图也可以看出序列没有不平稳的迹象。 再次对平稳序列进行模型选取和定阶。将美元兑日元差分之后的数据建立时间序列模型。首先对模型进行定阶，画出自相关图与偏自相关图(如图3)，由图可知自相关系数截尾，偏自相关系数拖尾，因此可判断是MA模型。 图3. 自相关图与偏自相关图 进一步使用EACF函数进行定阶(如图4)，可设模型为： X t = μ + ε t − θ 1 ε t − 1 − ⋯ − θ q ε t − q (1.1) 分别建立MA(1)模型和MA(7)模型。 图4. EACF定阶结果图 将用R语言代码获取模型的参数与模型指标，不同模型的极大似然函数估计值、AIC指标如下表2。 Table 2 模型 模型参数 对数极大似然 AIC统计量 MA(1) θ 1 = − 0.5588 2731.91 −5461.83 MA(7) θ 1 = − 0.5723 ,   θ 2 = 0.0357 , θ 3 = − 0.0025 ,   θ 4 = − 0.0466 , θ 5 = − 0.0052 ,   θ 6 = − 0.0311 , θ 7 = − 0.0417 2733 −5452.44 表2. MA(1)，MA(7)模型定阶指标比较 由以上表2定阶指数的比较可知差分之后的序列服从MA(1)模型，其模型为： X t = ε t + 0.5588 ε t − 1 (1.2) 最后对残差序列进行分析。先用R语言代码编程获取残差序列，再检验残差序列的相关性，由结果可知残差序列与平方残差序列都是非独立，也进一步的说明残差不存在ARCH效应。进一步对残差序列进行正态性检验，其结果p值趋于0，说明残差序列不服从正态分布。"
"由于残差序列分布未知，此时为了对序列进行预测，为了方便论述令残差数据序列表示为： x 1 , x 2 , ⋯ , x n 图5. 残差数据密度拟合及箱形图 此时画出残差序列的密度函数图(如图5左)与箱形图(如图5右)，通过图形可以看出此残差序列存在异常值。为了消除异常值的影响，我们将其剔除。剔除异常值后画出密度函数图(如图6左)，由图可以看出此时已无异常值存在，说明已达到目的。 图6. 修正后的残差密度拟合及经验分布函数图 为了对残差分布进行分析，此时需用经验分布代替分布函数进行编程实现，那么经验分布函数可以定义为： F n ( x ) = { 0 ,                                           x < x 1 i n ,           x ( i ) ≤ x < x ( i + 1 ) ,     i = 1 , 2 , 3 , ⋯ , n − 1 1 ,                                           x ≥ x ( n ) (2.1) 由于经验分布无反函数，此时需在经验分布函数上选取有限点进行插值拟合，采用经验分布函数中的每条直线段的最左端进行插值，得到的经验分布函数为： F n ( x ) = { i n ,                                                                         x = x ( i ) i n ( i + 1 − x ) + i + 1 n ( x − i ) ,         i < x < i + 1 (2.2) (2.2)式为插值后的经验分布函数，采用此逼近的反函数，用修正后的经验分布代替分布函数，并用逆变换的方法产生随机数进行拟合(如图6右)，进而对相应的理财产品进行分析。"
"根据表1的触发式理财产品相关信息，可设当前时刻为t时刻，理财产品在 ( 0 , T ) 时间段间的t时刻，汇率达到合同规定的触发点就会获得相应的收益 [ 4 ] ，则根据表3理财产品收益说明书可得到到期日的理财产品的收益模型为： F pay-off = ( 1 + r 1 T ) I { max τ ∈ [ t , T ] S ( τ ) > p 1 } + ( 1 + r 2 T ) I { p 2 ≤ max τ ∈ [ t , T ] S ( τ ) < p 1 } + ( 1 + r 3 T ) I { max τ ∈ [ t , T ] S ( τ ) < p 2 } (3.1) 其中 p 1 = S 0 + 2.5 ， p 2 = S 0 + 0.01 ， r 1 , r 2 , r 3 分别为各观察期内的投资收益率，分别为0.049，0.03，0.029。根据理财产品定价的计算步骤，结合Monte-Carlo模拟方法，并按照无风险利率为r进行贴现 [ 5 ] ，则到期日该触发式理财产品的总收益为： υ = exp { ( − r T ) } E [ F pay-off ] (3.2) Table 3 行权价1：起息日上午美元兑日元汇率加上约2.50 (根据实际市场情况调整，具体行权价以起息日中国农业银行相关通告为准)。 行权价2：起息日上午美元兑日元汇率加上约0.01 (根据实际市场情况调整，具体行权价以起息日中国农业银行相关通告为准)。 (1) 如在观察期内，美元/日元汇率曾经触及过行权价1和行权价2，则到期时投资者收取4.90%的年化收益。 (2) 如在观察期内，美元/日元汇率曾经触及过行权价2，但未触及过行权价1，则到期时投资者收取3.00%的年化收益。 (3) 如在观察期内，美元/日元汇率未触及过行权价1或行权价2，则到期时投资者收取2.90%的年化收益。 表3. 理财产品收益说明书 依据风险资产模型(1.2)，并结合逆变换方法和Monte-Carlo模拟的基本思想，拟出触发式理财产品的模拟步骤如下： 1) 汇率数据的模拟 美元兑日元的即期历史汇率是已知的，根据时间间隔为 Δ t 提取历史数据为 s ( t 0 ) , s ( t − 1 ) , s ( t − 2 ) , ⋯ ，根据提取的历史汇率数据用ARIMA(0,1,1)序列预测未来瞬时汇率值 s ( t 1 ) , s ( t 2 ) , s ( t 3 ) , ⋯ ，并假设第j次预测 的汇率为 s j ( t 1 ) , s j ( t 2 ) , s j ( t 3 ) , ⋯ , s j (tn) 2) 计算路径 S j ( t 0 ) , S j ( t 1 ) , S j ( t 2 ) , ⋯ , S j ( t n ) 下的理财产品的收益 F pay-off = ( 1 + r 1 T ) I { max τ ∈ [ t , T ] S ( τ ) > p 1 } + ( 1 + r 2 T ) I { p 2 ≤ max τ ∈ [ t , T ] S ( τ ) < p 1 } + ( 1 + r 3 T ) I { max τ ∈ [ t , T ] S ( τ ) < p 2 } 3) 重复以上步骤(1)和步骤(2)，共N次(不少于10,000次) 4) 通过以下公司计算理财产品定价的期望收益率 E [ F pay-off ] = 1 N ∑ j = 1 N F pay-off ( j ) (3.3) 5) 按照无风险利率r进行贴现，获得理财产品在到期时刻的价格为 υ = exp { ( − r T ) } E [ F pay-off ]"
"根据收益率模型(3.1)式及第二节所述的方法步骤计算理财产品的收益，并通过多次Monte-Carlo模拟 计算出期望收益 E [ F pay-off ] ，最后按照无风险利率r进行贴现，获得理财产品在t时刻的价格为 υ = exp { ( − r T ) } E [ F pay-off ] 。 考虑模型的残差不是正态分布的情况，利用逆变换的方法将残差分布进行拟合，以汇率初始值为 S 0 = 111.596 ，无风险利率为 r = 2.75 % ，并用Monte-Carlo模拟的方法计算出该理财产品的价格如下表4所示。 Table 4 序号 产品代码 理财期限 起购金额 单位本金 50,000本金价格 100,000本金价格 1 ADRY170289A 62 50000 1.003895 50194.75 —— 2 ADRY170289A 90 50000 1.004564 50228.2 —— 3 ADRY170289A 62 100000 1.003895 —— 100389.5 4 ADRY170289A 90 100000 1.004564 —— 100456.4 表4. 挂钩于美元兑日元的即期汇率值的理财产品的价格"
"根据美元兑日元的即期汇率数据建模，考虑模型的残差不是正态分布时的情况，并用逆变换的方法将残差分布进行拟合，以此研究挂钩于美元/日元即期汇率值的理财产品价格。由研究结果表明，“金钥匙·如意”2017年第289期看涨美元兑日元汇率人民币理财产品的收益与理财期限有着密切的关系，期限越长单位本金越高，其产生的收益也就越高。通过本文的方法可对各种理财产品的价值进行分析，其结果对投资者有一定的引导作用。"
