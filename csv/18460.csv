"针对光伏水泵单机系统无法充分利用太阳能的缺陷，提出了一种多机并联运行的光伏水泵群控策略。本文详细阐述了光伏水泵群控系统的组织结构、工作原理及实现方式，具体分析了水泵并联运行特性并建立并联水泵数学模型，通过群控器内部优化算法实时控制水泵运行台数，最终实现系统扬水量最大化，实验结果验证了群控策略的有效性。 关键词 :光伏水泵，群控系统，流量优化"
"光伏水泵技术作为太阳能应用领域最有发展前景的技术之一，一直是国内外研究的热点。光伏水泵系统以其维护成本低、安装方便、使用可靠等优点，被广泛应用于光照充足但电力资源匮乏的偏远地区供水系统中。 现阶段光伏水泵系统的研究一直侧重于单机泵的优化，包括光伏阵列的结构改善、最大功率点跟踪算法优化以及高效水泵电机的选型设计等方面，但单机水泵系统存在弃光严重、扬水量不高、冗余性和可靠性较差、系统整体效率较低等问题，因此采用多机并联的光伏水泵群控技术是未来光伏水泵系统发展的趋势之一 [ 1 ] - [ 4 ] 。将多台光伏水泵并联在同一光伏阵列下，在光照较低的情况下，也可控制一台水泵率先开启，待光照增加且满足一定约束条件后相继增开其他水泵，同样的，当光照条件不足时，及时切除运行的水泵，以保证对太阳辐射能量的最大程度利用。光伏水泵群控系统的目标是提高水泵系统日扬水量，改善系统运行效率和对太阳能的利用率。为达此目标，群控系统的优化方法主要包括以下三方面：一是群控系统的最大功率点跟踪，二是水泵运行单元数量的选择，三是光伏阵列输出功率的合理分配。 本文完成了光伏水泵群控系统的设计，重点分析了水泵并联运行特性，建立了并联水泵的数学模型并提出了一种群控优化策略，保证系统在不同功率条件下均可实现扬水量最大，最后通过实验验证了群控系统的可行性。"
"如图1所示，光伏水泵群控系统由群控器、光伏阵列、变频器和光伏水泵四部分组成。其中，光伏阵列由太阳电池组件串并联组合而成，将太阳能转变为直流电能并为光伏水泵的运行提供所需的能量；变频器并联在光伏阵列输出直流母线上，每台变频器分别控制同一功率等级的光伏水泵；群控器作为群控系统的控制中枢与变频器实时通信，采集光伏水泵的阵列电压、阵列功率、工作频率及启停状态等运行参数，经内部群控算法的优化控制，对变频器发送阵列指令电压、启停指令等控制命令，进而调度管理光伏水泵的运行，最终确保多机并联的光伏水泵系统在当前光照条件下合理高效地运行。"
"本文水泵并联运行是指两台或两台以上水泵向同一出水管路供水的工作方式。假定并联点前管路损失忽略不计，则水泵在并联运行时具有相同扬程，将同一扬程下各台水泵流量相加，可得水泵并联系统 特性曲线。水泵系统的运行性能不仅与水泵自身性能有关，还与水泵装置性能有关，水泵系统工作点是水泵系统性能曲线与装置需要扬程曲线的交点。如图2所示，在两台水泵并联的简化模型下，III表示并联水泵系统性能曲线，IV表示装置需要扬程曲线，所以水泵并联系统的工作点是C点。过C点作横坐标的平行线，分别与水泵I、II的性能曲线交于A点和B点，即为泵I和泵II在并联运行时的工作点。因此为确定水泵系统的工作点，需分别建立各台水泵的数学模型，累加得出并联水泵系统性能曲线，并求得与装置需要扬程曲线的交点 [ 5 ] 。  假设各水泵型号、大小相同，性能曲线一致，并联点前管路阻力损失忽略不计，水泵系统的数学模型建立如下： 额定转速ω 0 下水泵模型为 (1) 其中，H 0 、Q 0 、P 0 分别表示水泵在额定转速ω 0 下的扬程、流量、轴功率；特性曲线参数a 0 、a 1 、a 2 、b 0 、 图1. 光伏水泵群控系统架构 图2. 水泵并联系统特性曲线 b 1 、b 2 、b 3 可通过实验获得。 由文献 [ 5 ] 可知，水泵具有相似率特性，即当水泵的转速变化时，泵的流量与转速的一次方、扬程与转速的二次方、轴功率与转速的三次方成正比。 假定数量为N的若干台相同泵并联，则在同一扬程下系统总流量Q s (ω)和系统总功率P s (ω)分别为各台水泵流量Q(ω)和轴功率P(ω)的累加值，由文献 [ 6 ] 可知在共同转速ω下水泵并联系统模型为 (2) (3) (4) 系统需要扬程曲线数学模型如式(3)，其中H st 表示装置静扬程，k表示管路系统阻力参数。已知在当前日照强度下，光伏阵列运行在最大功率点时的系统功率P pv 。将式(2)~(4)联立方程组，计算出总流量Q s (ω)。  群控器对各台变频器发送相同的阵列指令电压，则各台水泵等功率运行。已知P pv 为光伏阵列输出功率，P min 为单台水泵最低输出功率，P 0 为单台水泵额定输出功率，P(ω)为实际工作中单台水泵输出功率，为保证系统正常工作，易得 (5) 根据能量守恒定律，在光伏阵列输出功率一定的情况下，可得运行水泵台数N的取值范围 (6) 单台水泵流量与转速成正比例关系，假设k是比例系数，则 。单台水泵轴功率与转速三次方成正比例关系，建立转速与轴功率的对应关系 。化简可得系统总流量Q s (ω)为 (7) 又因光伏阵列功率一定时， ，则式(7)化简为 (8) 由式(8)可得，当P pv 与k一定时，系统总流量Q s (ω)是关于运行台数N的函数，故在特定光照条件下，可寻找合适的N值使系统总流量Q s (ω)最大。"
"光伏阵列的输出功率不是恒定值，也不是随光照强度、温度或者负载线性变化的，只有在特定的阵列电压和阵列电流下，输出功率才有最大值。根据光伏阵列输出特性，即输出功率与输出电压的关系(P-U特性曲线)可知，有一上凸最高点为最大功率输出点P mpp 。为了提高太阳能转换效率，对光伏阵列的输出功率进行追踪，使光伏阵列的工作点保持运行在最大功率点附近，最大功率点追踪(MPPT)算法被提出。MPPT算法是个自寻优的过程，即通过测量光伏阵列的功率，判断出当前工作点与峰值点的位置关系，并调节工作点电压，使其向峰值功率点靠拢，从而达到光伏阵列工作在峰值功率点附近的目的 [ 7 ] 。由于光伏水泵群控系统中多台水泵均并联于同一光伏阵列下，当各台光伏水泵独立进行MPPT搜索时，可能出现单台光伏水泵功率增加，而系统输出功率却减小的情况。为了避免上述情况发生，由群控器去执行MPPT搜索功能，下面详细介绍具体过程。 本系统的MPPT搜索过程分为两步，第一步是采用恒定电压追踪(CVT)方式，依据测量得到的开路电压V oc ，取该电压的85% (令 )作为最大功率点对应的参考电压，并在一定时间内保持不变。将阵列指令电压 慢慢减小到V cvt ，群控器实时下发 给变频器 [ 8 ] ；第二步，切换到扰动观测法方式，在光伏阵列正常工作时，以微小的电压波动不断扰动阵列的输出电压，即以恒定差值V gap 改变阵列指令电压 的值，检测功率变化的方向，从而确定寻优方向，决定下一步 的大小，搜索最大功率点，且实时下发 到变频器。这样两步使得群控器快速的寻找到最大功率点，并恒定震荡在其周围。 如图3所示，CVT模式是通过不断调节阵列指令电压的值来改变阵列电压的值。在群控系统运行的前提下，若读取的阵列电压大于V cvt ，阵列指令电压以恒定步长减小；若读取的阵列电压小于V cvt ，阵列指令电压以恒定步长增大，最终使光伏阵列输出电压追踪到V cvt 附近。 如果阵列电压已经调节到V cvt 附近，即可切换到扰动观测法模式，判断功率增大方向，搜索最大功率点。群控器采集到当前工作点为P n ，阵列指令电压为 ，让 向电压增大的方向，以恒定差值V gap 取两次阵列指令电压并下发给变频器，采集并分别累加两次功率值P n+1 和P n+2 。只有当 时，才调转方向，以 的值为下次搜索起点，并向电压减小的方向取阵列指令电压。其他情况下均向原方向搜索，以 的值为下次搜索起点，直到搜索到P mpp 点附近。  本文提出的群控策略控制框图，如图4所示。群控器实时采集直流母线电压V pv 和电流I pv ，并对光 图3. MPPT示意图 图 伏阵列的输出功率P pv 进行追踪，使光伏阵列的工作点持续运行在最大功率点P mpp 附近。在完成MPPT的同时，执行群控系统的优化算法：将阵列功率分段，根据式(6)确定运行数量N的取值范围，将式(2)~(4)的联立方程组计算出不同N值对应的系统总流量，取流量最大时的N值作为当前工况下的最优运行台数N 0 ，同时确定各变频器启停状态。变频器采用下垂控制，各变频器电压外环调节器均是比例环节，且比 例系数相同，直流母线电压V pv 与阵列指令电压 差值经比例调节控制输出频率f，经VF控制改变水泵转速。各台水泵运行频率、转速和消耗功率均相同，即群控器通过通讯总线统一下发阵列指令电压 实现了功率均分。"
"为验证以上分析，利用合肥工业大学能源研究所水泵实验室的设备，搭建了光伏水泵群控系统。该系统包括一台电脑，一台Chroma 62150H-600S可编程直流电源，一台昆仑通态TPC7062TX触摸屏，三台聚能新能源公司JNP2K2H变频器以及三台型号为4SP8-5的水泵机组。其中水泵额定电压220 V，额定功率0.75 kw。利用可编程直流电源模拟光伏阵列输出特性，电脑精确操控光伏阵列输出功率，触摸屏作为群控器控制变频器，变频器驱动水泵。 对于三台水泵并联时的群控系统，光伏阵列输出功率P pv 为额定功率P 0 的0%~300%，假设单台水泵最低输出功率P min 为额定功率P 0 的35%，根据群控优化算法，得出不同功率段对应的可运行台数N的取值范围，如表1所示。 由表1可知，在功率段0.53~0.75 kw内，存在运行台数N从1变成2的功率切换点，功率小于此切换点时，一台水泵运行扬水量最优，大于此切换点时，两台水泵运行扬水量最优。同样的，在功率段0.79~1.5 kw内存在运行台数N由2变成3的功率切换点。 将可编程直流电源设置为IV电源模式，各水泵阀门调至最大，变频器设置为群控模式，IV电源输出峰值功率从0逐渐增加至2.25 kw，由群控器完成系统最大功率点追踪。在IV电源输出峰值功率相同的点分别记下三台水泵并联运行和各自独立运行时的流量、工作频率和阵列功率等，并取若干点描绘画出流量随阵列功率增加的曲线。 如图5所示，群控系统在光伏阵列输出功率为0.75 kw和1.5 kw时，总流量有骤变的提升，是群控系统增加水泵运行数量的结果。群控系统比单机系统扬水阙值低，可在宽范围的阵列功率下工作，且总流量更大，实现了扬水量最大化的目标。 根据光伏阵列输出功率不同，水泵运行数量根据群控优化算法自动完成切换。如图6所示，随着阵 Table 1 P pv /kw N/台 0~0.26 0 0.26~0.53 1 0.53~0.75 1或2 0.75~0.79 2 0.79~1.5 2或3 1.5~2.25 3 表1. 水泵运行数量与阵列输出功率的关系 图5. 功率–流量曲线 图6. 实验波形 列功率的不断增加，存在一个切换点，使水泵运行台数增加，2号水泵单元自动启动，1号水泵和2号水泵单元的定子电流会近似保持相同，两者功率自动均分。而当阵列功率不断减小时，存在一个切换点使2号水泵单元关停，且在整个切换过程中阵列电压保持稳定。"
"本文描述了多机并联运行的光伏水泵群控系统配置并详细分析了水泵并联系统建模以及群控策略方案，重点研究了以最大扬水量为目标的群控优化算法。为验证群控系统的优越性，进行了群控系统和单机系统的对比实验，由实验曲线图可知，与各台水泵单独运行的光伏水泵系统相比较，采用多机并联运行的群控系统降低了扬水阙值，提高了扬水量，具有优势。但群控器对最大功率点搜索速度较慢，且系统是下垂控制属有差调节，群控系统需进一步优化。"
