"针对实时子结构试验加载方式复杂，控制精度低的问题，本文提出通过AMD装置进行加载实现数值子结构与试验子结构的界面力相容条件，降低试验造价，简化加载方式。通过力反馈进行高精度控制，提高试验的针对性和研究效率。分析与模拟的结果都表明，对于所提出的基于AMD力控制的振动台子结构试验方法具有可行性与有效性。 关键词 :实时子结构试验，振动台试验，AMD，力控制 Copyright © 2018 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"目前结构抗震研究方法主要有拟静力试验、拟动力试验和地震模拟振动台试验。拟静力试验由于设备简单，能够最大限度获取试件的各种信息而得到广泛的应用，但拟静力试验无法反应结构在真实地震作用下的动力响应。振动台试验能够直接真实地反映结构在地震过程中的受力性能和破坏特征，但由于振动台的规模、尺寸和承载能力的限制，难以进行大比例模型或足尺结构的试验研究，且较难满足相似条件，易导致地震作用破坏形态失真 [ 1 ] 。拟动力试验技术兼具了拟静力试验和地震模拟振动台试验的特点，降低了对加载装置的严苛要求，而且还能够反映出结构在地震作用下的响应。特别是拟动力子结构试验技术，可以对结构关键部位进行足尺试验，其他部位用计算模型代替，节约了试验费用，从而受到越来越多研究人员的青睐。拟动力子结构试验是最早提出的子结构试验方法 [ 2 ] ，但是拟动力试验无法反映速度相关型材料的性能。因此拟动力子结构试验逐渐发展为快速拟动力试验，快速拟动力试验提高了加载速率，但仍然无法全面反映试件的速度相关性 [ 3 ] - [ 9 ] 。为了解决这个难题，1992年Nakashima [ 10 ] 等人提出实时子结构试验方法，以准确反映速度相关型试件的性能，此后实时子结构试验逐步发展为振动台子结构试验 [ 11 ] [ 12 ] [ 13 ] 。 本文立足于振动台子结构试验技术，针对现有振动台子结构试验在加载系统和控制方面所存在的问题提出了相应的解决办法。对于现有加载系统装置复杂、质量大、体积重、操作繁琐、投资多，界面力难以获取等问题，提出采用AMD主动控制装置作为数值子结构作用力的施加方式，为了保证试验的控制精度以及提高试验预计效果，将力控制算法用于AMD闭环控制中。这就是所提出的将主动质量驱动器(AMD)力控制应用于振动台子结构试验的研究设想，通过力控制的AMD装置对试验子结构施加作用力，既可提供试验所需的附加质量，又可模拟数值子结构的动力效应，适用于高层建筑、桥梁结构等结构形式的振动台试验。本文将从理论公式，控制方法建模，数值仿真结果分析来验证基于AMD力控制的振动台子结构试验方法的可行性。"
"本部分将从加载方式和子结构拆分公式以及拆分后的相容条件展开介绍。传统的振动台子结构试验示意图如图1所示： 本文提出通过推动AMD加载装置中的质量块产生惯性力来实现数值子结构和试验子结构之间界面力。图2为本文提出的振动台子结构试验的加载方式。 图1. 传统振动台子结构示意图 图2. 基于AMD的实时子结构加载方式示意图 选取目标结构，将结构划分为两部分，一部分通常是非线性，结构形式、动力特性复杂，无法对其建立准确数值模型的试验子结构，另一部分一般是线性，结构形式、动力特性简单，可以进行可靠数值模拟的数值子结构，数值子结构由仿真软件模拟计算，如图3所示。  以n层剪切框架模型为基础，为了减少多次积分所产生的误差，方便各层非线性恢复力的计算以及三连续方程的表达，本文采用相对位移来描述运动微分方程。在子结构中，1至i层为试验子结构，i+1至n层为数值子结构，在试验过程中数值子结构的动力响应将会通过作动器推动试验子结构顶部的质量块来实现。整体结构和子结构运动微分方程表达式可以写成： 整体结构： 图3. 子结构拆分示意图 [ m 1 0 0 0 0 0 m 2 0 0 0 0 0 m 3 0 0 0 0 0 ⋱ 0 0 0 0 0 m n ] { x ¨ 1 x ¨ 2 x ¨ 3 ⋮ x ¨ n } + [ c 1 + c 2 − c 2 0 0 0 − c 2 c 2 + c 3 − c 3 0 0 0 − c 3 c 3 + c 4 − c 4 0 0 0 ⋱ ⋱ 0 0 0 0 ⋯ c n ] { x ˙ 1 x ˙ 2 x ˙ 3 ⋮ x ˙ n } + [ k 1 + k 2 − k 2 0 0 0 − k 2 k 2 + k 3 − k 3 0 0 0 − k 3 k 3 + k 4 − k 4 0 0 0 ⋱ ⋱ 0 0 0 ⋯ − k n k n ] { x 1 x 2 x 3 ⋮ x n } = [ − m 1 − m 2 − m 3 ⋮ − m n ] { x ¨ g } (1) 子结构系统： [ m 1 0 0 0 0 0 m 2 0 0 0 0 0 m 3 0 0 0 0 0 ⋱ 0 0 0 0 0 m i − 1 ] { x ¨ 1 x ¨ 2 x ¨ 3 ⋮ x ¨ i − 1 } + [ c 1 + c 2 − c 2 0 0 0 − c 2 c 2 + c 3 − c 3 0 0 0 − c 3 c 3 + c 4 − c 4 0 0 0 ⋱ ⋱ 0 0 0 0 ⋯ c i − 1 ] { x ˙ 1 x ˙ 2 x ˙ 3 ⋮ x ˙ i − 1 } + [ k 1 + k 2 − k 2 0 0 0 − k 2 k 2 + k 3 − k 3 0 0 0 − k 3 k 3 + k 4 − k 4 0 0 0 ⋱ ⋱ 0 0 0 ⋯ − k i − 1 k i − 1 ] { x 1 x 2 x 3 ⋮ x i − 1 } = [ − m 1 − m 2 − m 3 ⋮ − m i − 1 ] { x ¨ g } (2) m i x ¨ i − ( c i x ˙ i − 1 + k i x i − 1 ) + c i x ˙ i + k i x i − f m = − m i x ¨ g (3) [ m i + 1 0 0 0 0 0 m i + 2 0 0 0 0 0 m i + 3 0 0 0 0 0 ⋱ 0 0 0 0 0 m n ] { x ¨ i + 1 x ¨ i + 2 x ¨ i + 3 ⋮ x ¨ n } + [ c i + 1 + c i + 2 − c i + 2 0 0 0 − c i + 2 c i + 2 + c i + 3 − c i + 3 0 0 0 − c i + 3 c i + 3 + c i + 4 − c i + 4 0 0 0 ⋱ ⋱ 0 0 0 0 ⋯ c n ] { x ˙ 1 x ˙ 2 x ˙ 3 ⋮ x ˙ n } + [ k i + 1 + k i + 2 − k i + 2 0 0 0 − k i + 2 k i + 2 + k i + 3 − k i + 3 0 0 0 − k i + 3 k i + 3 + k i + 4 − k i + 4 0 0 0 ⋱ ⋱ 0 0 0 ⋯ − k n k n ] { x i + 1 x i + 2 x i + 3 ⋮ x n } = [ − m i + 1 − m i + 2 − m i + 3 ⋮ − m n ] { x ¨ g } (4) 式中 m i , c i , k i ， i = 1 , 2 , 3 , ⋯ , n 分别表示对应各层结构的集中质量、层间阻尼系数和层间刚度， x i , x ˙ i , x ¨ i 分别为对应层相对于基础或台面的位移、速度和加速度， x ¨ g c 和 x ¨ g 分别为数值子结构和试验子结构的输入加速度， f m 表示控制质量块的惯性力，式(2)和式(3)属于试验子结构，式(4)属于数值子结构。  为了使子结构和整体结构具有等价的动力响应，试验应遵循以下协调条件： 1) 输入进数值子结构的加速度必须是试验子结构顶层的绝对加速度： x ¨ g c = x ¨ a b s (5) 2) 控制质量块的惯性力应等于数值子结构底层的剪切力： f m = R i + 1 = c i + 1 ( x ˙ i + 1 − x ˙ i ) + k i + 1 ( x i + 1 − x i ) (6)  试验子结构通过高强螺栓固定在地震模拟振动台上，AMD加载装置的支座通过法兰盘或连接板与试验子结构进行连接；各传感器根据试验设定安装在试验子结构的顶部和AMD加载装置上，各传感器与计算机连接；数值子结构利用带有采集卡的计算机或嵌入式控制器进行算法模拟，计算得到数值子结构的动力反应和基底反力。通过力控制算法将数值子结构的计算结果转化为控制信号，驱动AMD加载装置将作用力施加到试验子结构上，同时AMD加载装置也提供对试验子结构的竖向重力。"
"以五层剪切框架模型为基础，其中每层的层间质量、层间刚度、层间阻尼分别为50 kg，97500 N/m，241.81，前三阶自振频率为2 Hz，5.84 Hz，9.2 Hz。为了减少多次积分所产生的误差，方便各层非线性恢复力的计算以及三连续方程的表达，本文采用相对位移来描述运动微分方程。在子结构系统中，底部两层作为试验子结构，顶部三层作为数值子结构，在试验过程中数值子结构的动力响应将会通过作动器推动试验子结构顶部的质量块来实现。  根据加速度峰值为0.1 g的阪神地震波作用下结构的层间剪力计算值和各层质量分布，确定AMD的设计参数如表1所示，作动器采用国内某公司的定制产品。 Table 1 指标 参数 行程 ±0.12 m 工作压力 10 MPa 液压缸有效面积 2.2. × 10 −4 m 2 液压缸有效容积 1.2. × 10 −4 m 3 负载质量 45 kg 表1. AMD装置的设计参数 偏差电压信号为 U e = U r − U f ，式中 U r 是指令电压信号， U f 是反馈电压信号。力传感器的方程为 U f = K f F F m ，式中 K f F 为力传感器增益， F m 是液压缸出力。伺服阀放大器动态可以忽略，其输出电流电流为 Δ I = K a U e ，式中 K a 为伺服放大器增益。伺服阀传递函数可以表示为 X v / Δ I = K x v G x v ( s ) ， X v 式中伺服阀阀芯位移， K x v 伺服阀增益。 在外负载为零的情况下，负载力包含了惯性力、粘性阻尼力、弹性力，三连续方程可以由式(7)进行描述： F m = A p p L ( s ) = ( m k s 2 + B p + K ) x p ( s ) Q L ( s ) = A p s x p ( s ) + ( V t 4 β e s + C t p ) p L ( s ) Q L ( s ) = k q x v ( s ) − K c p L ( s ) (7) 式中 m k 是负载质量，即为AMD加载系统中的质量块， B p 是负载阻尼系数，K是负载弹簧刚度， C t p 是液压缸总泄漏系数。 A P 表示活塞等效截面积； Q L 为作动器流量， V t 表示作动器腔内全容积， β e 为液压油体积弹性模量， k q 表示伺服阀信号-流量增益， K c 为流量-压力系数， x m 为质量块的实际位移， p L 为负载压力。 由式(7)得到电液力控制系统的传递函数图，如下图4所示。 根据传递函数图简化或通过式(7)中消去中间变量 Q L 和 X p ，可以得到以下输入与输出比值传递函数表达式(8)： F m U r = k q K a K x v G x v ( s ) A p ( m k s 2 + B p s + K ) ( m k s 2 + B p s + K ) ( A s + B ) + K f F k q K a K x v G x v ( s ) A p ( m k s 2 + B p s + K ) + A p 2 s (8) 式中 A = V t 4 β e ， B = C t p + K c 在以上建立的数学模型中，考虑了负载的惯性、粘性摩擦负载、弹性负载，又考虑了油液的压缩性及液压缸的泄漏等影响因素，等式较为复杂。实际系统的负载通常比较简单，可以根据具体的情况进行处理，忽略一些影响因素，将传递函数进一步简化。 在液压伺服或比例控制系统中，通常遇到没有弹性负载(K = 0)或弹性负载很小可以忽略不计，这时主要以惯性负载为主，所以不考虑弹性负载的情况是比较普遍的，由于负载阻尼系数 B p 一般比较小，所以为了简化传递函数，将K和 B p 均取零，下式为简化后的传递函数： F m U r = k q K a K x v G x v ( s ) A p m k s m k s ( A s + B ) + K f F k q K a K x v G x v ( s ) A p m k s + A p 2 (9) 式中 A = V t / 4 β e ， B = C t p + K c 。 图4. 电液力控制系统传递函数图 在力控制下，按照流程图5、表1中的参数利用Simulink进行建模仿真，通过控制系统分析和时频域校正选定系统最优控制参数，系统传递函数如式(10)所示。 F m U r = 1.98 × 10 − 7 s 2 × 10 − 12 s 2 + 1.98 × 10 − 7 s + 4.84 × 10 − 8 (10)  为了使加载系统受控，加入位移反馈，形成闭环控制系统，加入位移反馈后的控制系统如图6所示，其中K和 B p 均取零。 将图6所示的位移闭环反馈传递函数可以变型为： x m u = k q α P A s 3 + B s 2 + A p α s + k d k q α P (11) 式中P为比例控制参数， A = V t / 4 β e ， B = C t p + K c ， α = A p / m k 。 在PID位移控制下，按照流程图5、表1中的参数利用Simulink进行建模仿真，其中闭环传递函数如式(12)所示。 x m u = 4.98 × 10 − 6 s 4.2 × 10 − 14 s 3 + 7.48 × 10 − 10 s 2 + 1 × 10 − 9 s + 4.98 × 10 − 6 (12) 分别通过数值仿真计算了整体结构的地震反应、力控制AMD子结构试验和位移控制下子结构试验的结构反应。以试验子结构顶部的界面力、数值子结构的顶层位移和顶层加速度作为评价指标。利用公式 R M = ∑ i = 1 n ( x abs − x model ) 2 n (13) 计算整体结构动力反应与子结构分析的均方根误差，分别得到基于力控制和位移控制下到的AMD子结构试验仿真计算结果如表2和表3所示。图7~10为kobe地震波作为试验子结构输入波作用下界面力指标的对比图，其中层间剪力为整体结构第三层恢复力。 根据表2可知，基于力控制AMD子结构试验的界面力、数值子结构顶层位移和数值子结构顶层加速度的均方根误差与各峰值比的最大值分别为3.5%、3.5%和3.2%；综合各个工况，计算子结构试验的 图5. 子结构试验仿真流程图 图6. 基于位移控制的系统传递函数图 Table 2 地震波 界面力(N) 数值子结构顶层位移(m) 数值子结构顶层加速度(m/s 2 ) RM PK RM/PK RM (10 -4 ) PK RM/PK RM PK RM/PK Kobe, 1995 8.125 593.24 1.4% 3.848 0.028 1.4% 0.060 4.524 1.3% ElCentro, 1940 8.967 510.3 1.8% 4.181 0.024 1.8% 0.067 4.205 1.6% Taft, 1952 13.456 382.365 3.5% 6.349 0.018 3.5% 0.101 3.189 3.2% 表2. 力控制计算结果对比 注：图中RM表示整体结构与子结构对应指标的均方根误差，PK表示整体结构对应指标峰值，地震波按场地类别进行排序。 图7. 力控制AMD子结构试验的界面力对比 图8. 力控制AMD子结构试验的界面力对比放大图 Table 3 地震波 界面力(N) 数值子结构顶层位移(m) 数值子结构顶层加速度(m/s 2 ) RM PK RM/PK RM PK RM/PK RM PK RM/PK Kobe,1995 20.692 593.24 4.2% 0.001 0.028 3.6% 0.182 4.524 4.0% ElCentro,1940 33.858 510.3 6.6% 0.002 0.024 6.3% 0.224 4.205 5.3% Taft,1952 42.020 382.365 11.0% 0.002 0.018 10.6% 0.297 3.189 9.3% 表3. 位移控制计算结果对比 注：图中RM表示整体结构与子结构对应指标的均方根误差，PK表示整体结构对应指标峰值，地震波按场地类别进行排序。 图9. 位移控制AMD子结构试验的界面力对比 图10. 位移控制AMD子结构试验的界面力对比放大图 界面力、数值子结构顶层位移和数值子结构顶层加速度的均方根误差与各峰值比的平均值，平均误差分别为2.2%、2.2%和2.0%。同样由表3可知，基于位移控制AMD子结构试验的界面力、数值子结构顶层位移和数值子结构顶层加速度的均方根误差与各峰值比的最大值为11.0%、10.6%和9.3%；子结构试验的界面力、数值子结构顶层位移和数值子结构顶层加速度的均方根误差与各峰值比的平均误差分别为7.3%、6.8%和6.2%；与PID位移闭环控制相比，力控制下的AMD加载装置控制精度提高了2.1倍、3.1倍和3.1倍。"
"理论分析和数值仿真表明，利用AMD装置作为子结构振动台试验的加载设备，通过力控制算法可以准确模拟试验子结构的动力作用，具有不需要设置反力墙、对作动器行程要求低、控制精度高、技术先进、容易实施等诸多优点。对比分析可知，力控制在各个动力响应指标上均具有比位移控制更好的精度，可以保证振动台子结构试验的试验效果。本文的研究工作可以为振动台子结构试验的加载方案设计和控制算法设计提供参考，为工程抗震研究提供一种可行的试验研究手段。"
