"针对微分进化算法局部收敛性较差的缺点，提出了种群分类进化方法，将种群个体划分为最优矢量，比较优矢量和较差矢量，在每一代种群进化过程中，保留最优矢量；在较优矢量邻域范围内搜索更优矢量替代当前矢量；重新生成优于较差矢量新矢量替换原来矢量。建立了矿井通风网络优化模型，提出了模型的降维方法和线性化转化方法，引入局部搜索策略，通过对父代个体邻域进行深度搜索，选择不劣于父代的个体组成子代，提出了局部搜索微分进化算法，与关键路径法相结合，实现了对矿井通风网络优化调节模型的求解。通过单风机和多风机复杂通风网络实例，验证了算法的可行性，获得了矿井通风网络优化的最优调节方案。"
"矿井通风系统是矿井安全生产的重要保障，合理确定通风系统的运行参数 [ 1 ]，保障矿井通风系统安全稳定可靠运转是矿井通风的重要任务。目前矿井通风系统优化常用人工经验的方法，对井下的高阻力段巷道进行扩巷、修建并联巷等方法。近年来，随着计算机技术的提高，依靠图论知识建立矿井通风系统优化数学模型，利用计算机对其进行求解 [ 2 ]。由于井下的通风巷道交错，数量较多，通常情况下，矿井通风系统优化问题是非线性优化问题，难度较大。求解非线性优化的经典方法较多，如牛顿法、变尺度法、广义简约梯度法等。然而，经典算法要求函数连续、可微、单峰，很多实际问题往往求不出或很难求出函数关于各自变量的导数，因此，这些方法在实际问题的应用方面受到了很大的限制。目前，和声搜索算法、粒子群算法、微分进化算法(DE)等被用来求解非线性优化问题 [ 3 ] [ 4 ] [ 5 ] [ 6 ]，但均具有一定的局限性，比如和声算法和DE算法局部搜索能力差等。本文针对计算机求解矿井通风系统非线性优化问题时存在的问题，提出了局部搜索微分进化算法。"
"当通风网络满足了按采掘工作面需风量分风以及保证了巷道的风速在合理范围时，在网络中布置最少的调节设施，从而使得网络通风总功率最小是矿井通风网络的主要目的。因此，矿井通风网络以主要通风机的能耗最小为优化目标 [ 5 ]。可调节分支风阻调节量以及非定流余树分支风量构成了矿井通风网络优化标准模型的决策变量。在进行矿井通风网络解算时，风流参数要遵循风压平衡定律、节点风量守恒定律以及阻力定律；要保证用风地点需风量；矿井通风总阻力以及风机参数满足风机特性曲线要求；风速应符合《煤矿安全规程》规定。这些条件共同约束了矿井通风网络优化问题 [ 6 ] [ 7 ]。 矿井通风网络优化标准模型的数学表达式 [ 6 ]： min f ( Q r j , Δ h j ) 365 × 24 1000 p 1 ∑ H f j Q f j + k p 2 s .t . Q j = ∑ j = 1 n C i j Q r j ∑ j = 1 n C i j ( R j Q j 2 + Δ h j − H n j − H f j ) = 0 H f j = g ( Q f j ) Q j min ≤ Q j ≤ Q j max − Q j min ≥ − Q j ≥ − Q j max Δ h j min ≤ Δ h j ≤ Δ h j max (1) 式中，p 1 ——电价，元/度； H fj ——风机风压，Pa，其中j为分支数，j = 1, 2, …, n； Q fj ——风机风量，m 3 /s； k——增加调节设施数目； p 2 ——增加一个调节设施的费用，元； Q j ——分支风量，m 3 /s； C ij ——基本回路矩阵，其中i为节点数，i = 1, 2, …, m； Q rj ——回路风量，m 3 /s； H nj ——自然风压，Pa； R j ——分支风阻，kg/m 7 ； △h j ——分支调节风阻，kg/m 7 。  随着煤矿逐步进入深部开采，矿井通风网络越来越复杂 [ 8 ]。通风网络的高度复杂化使得优化调节模型时，求解空间的维度增大，数据计算的复杂性由此加大，严重影响了算法的收敛时间、速度和精度。因此，以因变量之间的关系为降低模型维度的出发点，建立最低维度的模型，真正降低求解空间维度激增导致的收敛问题势在必行。 假设矿井通风网络有n条分支，b个节点，各分支的风量均满足节点风量平衡定律。基于回路矩阵和分支风量之间的关系，通过一组余树分支的风量即可确定出所有分支的风量。假设余数分支有m组，则m = n − b + 1。因此，根据节点风量平衡定律可以得出m个独立方程。在对回路进行选择时，定流分支和预选风机分支强制被选为了余数分支，记为l，则实际的风量变量数目为m − l。  由于通风网络中部分风量已知，部分分支的风量、阻力以及调节量都有待求解变量，且待求解变量的个数通常比约束方程的个数多，因此将通风网络优化模型的求解归结为非线性优化问题。传统求解方法主要有数值迭代法和解析法，其适用于目标函数和约束条件较为简单的情况，对于复杂通风网络而言并不适用，具有一定局限性 [ 3 ]。因此，本文提出将非线性优化算法引入复杂通风网络优化问题的研究中。 在矿井通风网络中，所有分支均满足风阻定律，即H = RQ 2 。若已知所有分支的风量，结合部分分支的风阻，便可求得当前风量分配下通风网络的阻力分布情况。也就是说，若将矿井风量参数作为未知量，由于已知分支的风阻，则矿井的阻力调节量可看作是关于风量的函数。因此，矿井通风网络非线性优化问题便转化成矿井风量优化分配问题，实现了非线性优化问题向线性化的转换。"
"目前对于DE算法的改进研究主要集中在3个方面，一是通过完善DE算法的结构和工作机理来提高算法性能；二是对DE算法的进化算子进行改进，如变异算子、选择算子等；三是将DE算法和其他智能方法进行混合，使多种智能优化算法优势互补，形成性能更强的新型混合算法。基于DE算法局部搜索能力不强、收敛较早等问题，在原算法的基础上引入了局部搜索策略。 局部搜索微分进化算法和DE算法有2个相同的参数，分别为初始种群规模(NP)和放缩因子(F)。通常情况下，种群规模越大，算法的搜索能力越强，但是群体规模过大将导致运算量加大。放缩因子也被称为基点向量，其控制着差分向量的幅度。放缩因子不应小于某一个特定的值，也不能过大。当F小于某一个值将导致算法过早收敛；当F大于1时算法的收敛性明显减小；当F过大则增加了算法局部最优逃脱的可能性。经验表明，NP通常为空间维度的3~10倍，F的选择范围为0.4~1.0之间。此外，局部搜索微分进化算法还有3个控制参数，分别为：邻域种群规模，记为subNP；邻域大小，记为δ；选择概率，记为SP。按照适应度值由优到劣的顺序可将局部搜索微分进化算法种群中的矢量分为最优矢量、比较优矢量以及较差矢量，见图1。其中，最优矢量是种群中最好的矢量，即适应度值最小矢量的组合；较差矢量是指种群中排序较后的矢量的组合，其规模由SP确定；比较优矢量是指种群中除最优矢量和较差矢量之外其他矢量的组合。 图1. 矢量分类 由于局部搜索策略总是选择优于父代的矢量组成子代，故对不同的矢量采取了不同的处理办法。将最优矢量直接作为下一代种群的矢量；对于较优矢量，在其邻域范围内生成新的邻域种群，若邻域种群中存在比当前矢量更优的矢量，则将其替代当前矢量，否则，保留当前矢量。对于较差矢量，重新生成更优的新矢量替换原来矢量。最后，对最优和较优矢量进行变异处理，当新矢量优于原矢量时，使用新矢量替代当前矢量，否则保持原矢量不变。  假设通风网络图中进风井口为节点1，风网中某一节点为i，节点1到节点i之间可能存在L条路径。在分支风量以及风阻值已知的情况下，计算L条路径中各节点压力，其中压力最大的路径为关键路径。若采用降阻或增压调节，必须在关键路径上进行，反之不能在关键路径上进行调节。这种计算需调节分支的阻力调节量的方法称之为关键路径法(Critical Path Method, CPM)。  局部搜索微分进化算法采用邻域局部深度搜索策略，通过对父代个体邻域进行深度搜索，选择不劣于父代的个体组成子代，与关键路径法相结合，实现了对通风网络优化模型的线性化求解。改进的DE算法流程见图2，具体步骤见表1。 图2. 局部搜索微分进化算法流程图 Table 1 局部搜索微分进化算法具体步骤 Step 1. 确定通风网络优化模型的风量变量Q i ，其中i = 1, …, m − l。 Step 2. 采用随机数生成函数，在自变量范围内随机生成种群G，规模为NP，采用关键路径法计算分支调节量。 Step 3. 判断种群个体是否满足约束条件，若满足，则计算种群个体的适应度，若不满足，则退回第2步，重新生成新的种群。 Step 4. 按适应度值从优到劣的顺序进行排列，保存父代中最优个体；对于较优个体，在其参数的邻域δ内随机生成邻域种群G 1 ，规模为SNP，若存在更优的个体，则直接替代原始个体；对于较差个体，随机生成新的更优个体。 Step 5. 进行变异操作。只有当变异后的个体优于原个体时，才可进行替代操作。 Step 6. 利用网络解算工具计算每代种群中最优个体在当前风量分配下的调节情况，若网络解算结果优于当前最优个体，则代替当前最优个体。反之则进入下一步。算法的终止条件为最优和较优个体的适应度(记为 f G i )达到精度ε，即 | ( f G i − 1 − f G i ) | / | f G i | < ε ， i = 1 , ⋯ , [ N P ( 1 − S P ) ] ，或者算法达到设置的最大迭代次数Max_iteration。 表1. 算法步骤"
"将局部搜索微分进化算法分别应用于单风机和多风机复杂通风网络中，求解矿井通风网络优化模型。通用参数设置情况见表2。 Table 2 名称 参数设置 通风网络 巷道断面积：10 m 2 空气密度：1.2 kg/m 3 风速范围：[0.1, 10] p 2 = 5000 风机压力范围：[100, 3000] 局部搜索微分进化算法 NP = 50 SNP = 100 δ = 0.01 SP = 0.5 ε = 0.0001 Max_iteration = 500 最大迭代变异：DE/best/2 F = 0.7 表2. 通用参数设置  单风机复杂通风网络见图3，n = 15，b = 11，m = 5，各分支风流的原始参数见表3，Q 6 = 30 m 3 /s，Q 7 = 40 m 3 /s为定流分支，Q 14 = 95 m 3 /s为预选风机分支，l = 3，任意选择一组包含定流分支的余树分支，将其他2条余树分支作为通风网络优化的风量变量，本例中为分支4和11。算法经135步迭代之后达到收敛精度，其每步迭代的最优适应度见图4。经计算，最优适应度为257.83万元，风机负压H f = 2053.44Pa，调节分支为5和9，优化后的通风网络风量及阻力调节量分配见表3，与内点罚函数法 [ 4 ] 计算结果相同。 图3. 单风机通风网络示意图  3台风机抽出式复杂通风网络示意图见图5，n = 17，b = 11，m = 7，各分支的风流的原始参数见表4，Q 10 = 1 m 3 /s为定流分支，Q 1 = 25 m 3 /s，Q 2 = 60 m 3 /s，Q 3 = 35 m 3 /s为预选风机分支，l = 4，风量变量分支为6、12和14。算法迭代207步收敛，其每步迭代的最优适应度见图6。经计算，最优适应度为329.35 Table 3 分支号 原始参数 优化结果 分支类别 调节类别 风阻/kg·m −7 风量/m 3 ·s −1 风量/m 3 ·s −1 阻力调节Pa 1 0.0225 95 95 0 一般分支 不可调节 2 0.1104 61.6 68.23 0 一般分支 增阻调节 3 0.3 33.4 26.77 0 一般分支 增阻调节 4 0.168 31.6 38.23 0 一般分支 增阻调节 5 3.6 8.38 1.766 533.4 一般分支 增阻调节 6 0.15 30 30 0 定流分支 增阻调节 7 0.072 40 40 0 定流分支 增阻调节 8 1.35 25 25 0 一般分支 增阻调节 9 0.225 20 17.77 154.8 一般分支 增阻调节 10 0.0551 60 57.77 0 一般分支 增阻调节 11 4.5 10 12.23 0 一般分支 增阻调节 12 0.0385 85 82.77 0 一般分支 增阻调节 13 0.0585 95 95 0 一般分支 不可调节 14 0 95 95 −2053.44 预选风机分支 不可调节 15 0 95 95 0 大气连通分支 不可调节 表3. 单风机通风网络参数 图4. 单风机通风网络优化最优适应度 图5. 多风机通风网络示意图 Table 4 分支号 原始参数 按需分风 风流反向 分支类别 调节类别 风阻/kg·m −7 风量/m 3 ·s −1 风量/m 3 ·s −1 调节量Pa 风量/m 3 ·s −1 调节量Pa 1 0.8 25 25 −1648.32 25 −2079.50 预选风机分支 不可调节 2 0.12 60 60 −2309.35 60 −2309.68 预选风机分支 不可调节 3 0.34 35 35 −2012.25 35 −2209.63 预选风机分支 不可调节 4 1.2 29.78 26 0 24 585.5065 一般分支 增阻调节 5 1 28.97 31.05 0 31.54 0 一般分支 增阻调节 6 1.2 30.28 31.08 0 33.1 0 一般分支 增阻调节 7 0.65 5.1 5.519 0 5.981 0 一般分支 增阻调节 8 0.08 63.85 62.57 0 61.52 0 一般分支 增阻调节 9 0.2 34.07 36.57 420.34 37.52 0 一般分支 增阻调节 10 0.3 4.78 1 0 1 0 定流分支 增阻调节 11 0.32 33.75 32.05 0 30.54 0 一般分支 增阻调节 12 1 30.97 31.87 0 31.36 0 一般分支 增阻调节 13 0.33 26.25 27.95 0 29.46 0 一般分支 增阻调节 14 0.14 56.15 57.43 0 58.48 0 一般分支 增阻调节 15 0.2 25.87 26.35 0 25.38 0 一般分支 增阻调节 16 0.3 4.72 3.922 0 1.905 200.7488 一般分支 增阻调节 17 0 120 120 0 120 0 大气连通分支 增阻调节 表4. 多风机通风网络参数 图6. 多风机通风网络优化最优适应度 万元，H f 1 = 1648.32 Pa，H f 2 = 2309.35 Pa，H f 3 = 2012.25 Pa，调节分支为9，优化后通风网络风量及阻力调节量分配见表4，为按需分风列。当10号分支反向时，算法迭代146步完成收敛。图7为10号分支反向时每步迭代的最优适应度变化曲线。经计算，最优适应度为353.03万元，H f 1 = 2079.50 Pa，H f 2 = 2309.68 Pa，H f 3 = 2209.63 Pa，调节分支为4和16，优化后通风网络风量及阻力调节量分配见表4，为风流反向列。 图7. 10号分支反向时最优适应度"
"1) 建立了矿井通风网络优化模型，提出了模型的降维方法和线性化转化方法。 2) 提出了种群分类进化方法，将种群个体划分为最优矢量，比较优矢量和较差矢量，在每一代种群进化过程中，保留最优矢量；在较优矢量邻域范围内搜索更优矢量替代当前矢量；重新生成优于较差矢量新矢量替换原来矢量。 3) 引入局部搜索策略，通过对父代个体邻域进行深度搜索，选择不劣于父代的个体组成子代，提出了局部搜索微分进化算法，与关键路径法相结合，实现了对矿井通风网络优化调节模型的求解。"
