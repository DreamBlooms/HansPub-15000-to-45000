"针对正射影像纠正时房屋数据采集问题，本文利用ARCGIS、AutoCAD等图形处理软件，结合已有的DLG (Digital Line Graphic)矢量房屋数据，在DSM (Digital Surface Model)的基础上通过少量的人工编辑处理，实现正射影像纠正，从而减少房屋采集工作量，提高DOM (Digital Orthophoto Map)生产效率，通过生产实践多个项目的检验，验证了本文方法的可行性。 关键词 :影像纠正，数字线划地图，数字正射影像，多边形高程 Copyright © 2018 by author and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"数字正射影像DOM的生产是在空三加密后，根据图幅位置引入恢复相应的模型，然后定义作业区域，生成核线影像，再对核线影像进行匹配生成指定间距(例如5米)的粗略DEM数字高程模型，并根据需要在立体模型下对此DEM进行必要的编辑，如：整个水面的置平、去掉树木高程、房屋置平等，再利用编辑好的粗略DEM来纠正单模型DOM，然后对单模型DOM进行匀光匀色处理、镶嵌拼接，再对拼接好的影像数据进行大幅裁切、影像整饰等工作，最后生成单幅DOM [ 1 ] 。这是对实际DOM制作的概括。DOM内业生产中的人工编辑量主要在于DEM的编辑和DOM的镶嵌线编辑，为减少DEM的编辑，需获得满足正射纠正精度要求的DEM [ 2 ] 。对于大比例尺(特别平坦地区)，由于匹配点大量落在树木和建筑物上，由此自动生成的像方DEM效果很差，往往需要进行大量人为的干预，即在生成像方DEM后逐块编辑 [ 3 ] 。这都是对之前DOM步骤方法的概括，对于房屋的处理，一直是工作量大的节点，无论用什么方法，要保证房屋的精度和形状，需要采集房屋数据，而房屋数据的采集工作量至少占整个工作量的30%。如果有方法不采集房屋，可以节省DOM制作时间。 对于在获取房屋及其相应DEM的关系方面，已提出一些方法，比如通过建筑物顶部顶点坐标数据和DEM数据，由计算机自动计算出房屋的角点坐标和房屋的高度 [ 4 ] ；人工量测方法，即在采集完屋顶的顶点数据后，采集一地面点的坐标，通过影像匹配获取地面点的高程 [ 5 ] ；DTM内插法，在采集完屋顶的顶点数据后，根据DTM在屋顶区域的内插值，获取地面点的高程，对于平坦区域，地面高程可人工给定 [ 5 ] 。不同于上述方法，本文提出利用已知的DLG和DSM来获取粗略DEM模型，加快实现DOM房屋影像纠正速度，这种方法相比其他方法更简单直接。 一般情况下，DOM是在DEM生成之后，基于DEM数据进行数字微分纠正生成。然而在实际生产中，在生成DOM之前，往往没有DEM数据，通常由DSM生成可以满足DOM生产要求的粗略DEM。在处理粗略DEM过程中，主要内容是把软件生成的原始点云即初始DSM，通过进一步编辑，使得满足DOM精度要求，其中包括房屋置平。 如果在生成DOM之前有相应的DLG数据，可以利用DLG成果中的房屋数据信息，达到减少房屋数据采集工作量的目的，从而可以提高作业生产效率。只要不是大面积房屋变动，对于时效要求不高。本文方法的原理是：在没有植被和房屋的裸露地表，由INPHO等软件提取出来的初始点在地表，生产DEM或DOM时，这些裸露地表通常不需要再次编辑。由于房屋前后的空坪或空地，没有植被覆盖，所以由软件提取出来的点云，在空坪和空地的区域，可获得正确的高程。在DLG数字线划图中，房屋有平面位置数据，却没有高程，如果把房屋平面位置与它周边的坪地高程关联起来，就能得到带有高程的房屋数据，也就是生产DOM需要的房屋数据。"
"如果房屋尚未发生拆迁或者新建变化，则可把DLG数据导入ARCGIS，提取DLG数据中的房屋层RESA。如果需要对其转换坐标，则换成所需要的DOM坐标系；对于多边形，如果是库体数据，直接就是多边形。如果房屋数据是由线构成，可以在ARCGIS中把线转成面，并进行换带，裁切，最后导出至AutoCAD，生成DWG格式文件，如图1所示。 如果不对数字表面高程模型DSM (Digital Surface Model)加以处理，建筑物边缘位置的高程是不连续的，生成的正射影像的边缘存在明显的锯齿变形和边缘模糊，影响目标建筑物的正确解读 [ 6 ] 。DLG中的房屋都是经过缩编处理，对于DOM生成，需要加上房檐改正的距离。也就是说如果直接利用DLG数据，会造成许多房屋的房角扭曲变形；为了避免种情况出现，这些多边形必须外扩，但如果外扩距离过大，会融合更多的房屋，将影响最终精度。房檐改正经验值一般为0.8~1.5米，因此外扩距离为2米较合适，如图2所示。 因为外扩，必然导致一些房屋相交，需要在ARCGIS中将多边形进行融合，融合后的多边形再由ARCGIS导出至AutoCAD生成DWG格式数据，如图3所示。 图1. DWG房屋数据 图2. 房屋范围外扩  从ARCGIS中导出来的房屋数据没有高程，要恢复高程则必须有高程数据，可采用高程提取软件生成点云或者其他格式的高程数据，再把这些数据处理成AutoCAD能够接受的文本格式(点号，X，Y，Z)。在AutoCAD软件中有一个等高线的菜单，由高程数据文件生成DEM，可以设置格网距离10米，取位到0.1，以满足精度要求。如果数据量比较大，这个过程需要预留时间，最好分块进行，如图4所示。 由生成的DEM数据，在AutoCAD软件中编程实现对处理后的房屋进行高程恢复，如图5所示。 高程恢复完毕之后，每个房屋角点高程都不一致，可以就房屋最低点进行置平，使得房屋和房屋之前的坪高程一致，如图6所示。 把恢复高程的房屋数据导入DEM处理软件，生成的DSM在地面上的高差在1米以内可以直接进行影像纠正 [ 7 ] 。对所有房屋所包括的房屋以及高程进行检查修改，最终完成制作DOM所需要的房屋数据，如图7所示。  影响DEM精度的主要因素为解析空中三角测量加密的精度及相关因素(包括相片比例尺、像元大小、 图3. 多边形融合 图4. 点云数据转化 地形类型、影像位置和相关算法等)；影响DOM精度的主要因素为DEM高程精度、航片扫描质量和相关算法等 [ 8 ] 。离像主点越近，投影差越小，反之越大 [ 9 ] 。航测成果之间存在特殊关联性，因此充分利用各自成果数据特点进行交互检查，不仅对提高航测成果质量具有重要的作用，而且能对航测成果的质量进行更加全面的控制 [ 1 ] 。打开已有的矢量信息文件并调入相应图幅的正射影像定向，观察DOM和DLG的套合程度 [ 10 ] ，如图8所示。 DOM平面位置精度最直接的检测是采用明显地物点外业实测坐标与数字正射影像上同名像点坐标相比较，通过实地检测了50幅DOM，平面位置中误差统计情况如图9所示。 在DOM精度检查中，明显地物点的平面位置中误差在丘陵地为图上0.6毫米，最大值为两倍中误差， 图5. 房屋高程恢复 图6. 房屋置平 图7. DEM修编 图8. DOM与DLG套合 图9. DOM平面位置中误差统计 由图9可以看出，最大点位中误差为0.71米，满足1:2000丘陵地区正射影像图精度要求。 DOM成果图如图10所示。  DSM结合DLG生产DOM流程图如图11所示。 图10. DOM成果 图11. DSM结合DLG生产DOM流程图"
"针对正射影像纠正时房屋数据的采集，本文结合DLG房屋矢量数据，借助ARCGIS、AutoCAD等软件，在DSM基础上进行少量人工编辑，实现正射影像纠正。本方法创新之处在于利用已有DLG房屋数据得到房屋平面位置数据，初始DSM数据得到高程数据，最终获得制作DOM的房屋数据，在原来的生产流程上，房屋稀疏和房屋密集对制作DOM的效率产生很大的影响，本文方法不需要采集房屋数据，节省了房屋采集的时间。 利用该方法生产了某市丘陵区域500平方千米的1:2000正射影像，经检测精度满足1:2000正射影像精度要求，表明本文提出的方法可行，并可提高DOM生产效率，适用于大面积的DOM生产。"
