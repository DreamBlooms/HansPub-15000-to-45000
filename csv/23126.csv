"本文首先利用离散傅里叶变换方法将随机载荷谱从时域转换到频域；进而结合信号频谱和功率谱的分布特点确定截止频率，将高频小幅值的信号截去；将滤波后的频域信号通过傅里叶反变换转换回时域，再根据损伤力学等损伤原则进行载荷谱的规范化处理，得到用于结构疲劳分析的规范化载荷谱。本文将载荷信号的频谱与功率谱对比参照，选取适当的截止频率，有效的防止了过度滤波，为滤波的截止频率选取提供了有效实用的工程方法；本文以损伤力学为基础，实现了随机载荷谱的规范化编制，并能保留原有载荷作用顺序，为提高结构在随机载荷作用下疲劳寿命预估的可靠性奠定了基础。 关键词 :随机载荷谱，傅里叶变换，损伤力学，功率谱密度 Copyright © 2017 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"实际工程中，构件的疲劳破坏是影响产品使用可靠性和寿命的一个重要问题。根据统计分析，50%~90%的机械零件失效源于疲劳破坏 [ 1 ] 。构件的疲劳寿命与载荷谱密切相关，一般来说，载荷谱可以分为恒幅谱、变幅谱和随机谱，其中随机载荷谱是最复杂的一种。由于实际振动过程中采集到的随机载荷谱会包含许多无效噪声信号或对构件疲劳寿命影响甚微的信号，因此需要对随机载荷谱进行规范化处理，编制出反映结构真实载荷-时间历程的载荷数据，以减少疲劳寿命试验时间和数值分析计算量。随机载荷谱的规范化处理是进行构件疲劳寿命分析的基础工作，处理后的载荷谱反映真实载荷作用的程度将直接影响后续的构件疲劳寿命预估结果。 常用的随机载荷谱处理方法为循环计数法。循环计数法是把实测的随机非对称循环载荷简化为一系列非对称循环载荷的组合。目前计数方法包括峰值计数法(Peak Counting)、范围计数法(Range Counting)、位限计数法(Lever Crossing)、雨流计数法(Rain flow Counting) [ 2 ] 等，其中又以雨流计数法应用最为广泛。 雨流计数法是由Matsuiski和Endo等人提出的一种双参数计数法，计及了载荷的全循环和半循环、并考虑了应力–应变间的非线性关系，具有明确的力学意义。雨流法计数模型也存在缺点，它需要将载荷时间历程重新调整或对接，然后根据计数原则逐个提取循环，因此，雨流计数法不能保持载荷在时域上的一致性，从而无法考虑载荷顺序对构件疲劳寿命的影响 [ 3 ] ，研究表明，载荷谱中间的载荷波动是对疲劳寿命有贡献的 [ 4 ] 。此外，由于在实际工作中很难遇到封闭的载荷时间历程，一般还需要进行封闭修正。 随着损伤力学原理与方法在构件疲劳寿命预估上的应用 [ 5 ] [ 6 ] ，任意复杂的载荷谱都可以通过数值模拟进行加载从而进行疲劳寿命求解，因此，载荷顺序的影响可以充分考虑。为探索适用于损伤力学预估构件疲劳寿命的随机载荷谱处理方法，本文提出一种采用离散傅里叶变换技术对随机载荷谱进行处理的方法，具体过程如下： 1) 将随机噪声载荷时域信号通过离散傅里叶变换转变为频域信号，对比转变后得到的频谱和功率谱，选取适当的滤波截止频率，将高频率低幅值的噪声谱成份舍去，还原真实载荷信号； 这里需要说明的是，对噪声谱进行滤波处理不仅是噪声谱处理的必要步骤，更是噪声谱处理的第一步。对随机噪声谱进行傅里叶变换转化成频域信号后，选取适当截止频率，准确的将噪声谱中高频的噪声谱成份滤掉，才能实现真实载荷谱的还原，从而有效简化后继载荷谱处理和结构分析的计算工作量。 选取适当的截止频率是滤波的关键也是难题，如果截止频率选取过大，则无法有效滤除噪声成份；如果截止频率选取过小，则可能造成过度滤波，损失了载荷谱的有效成份。本文以载荷谱的频谱为基础，在较为集中的谱峰簇外选取截止频率；同时，为了防止截止频率过小，参照载荷谱的功率谱，考察该截止频率下相应的谱功率损失，调整(提高)截止频率，兼顾滤波与保真，从而实现平衡滤波。 2) 利用上述方法确定的滤波截止频率，通过傅里叶反变换把载荷谱频谱转换回时域；引入损伤力学等损伤原则，从滤波处理后的载荷谱中，按照载荷谱原始载荷历程提取单个载荷循环，形成规范化载荷谱。 上述处理步骤的具体内容参见本文的第四节，这里暂且不做进一步介绍。这种处理方式不仅进一步剔除了载荷谱中的无效次峰，即附临在真实载荷峰周围的噪声峰，有效简化了载荷谱，同时可以依据原始载荷谱编排处理加载次序，在有效除噪的前提下，比较真实的保持了原始载荷谱。"
"首先，利用离散傅里叶变换 [ 7 ] [ 8 ] ，对时域上采集到的离散随机载荷谱(点)进行处理，得到离散载荷点的频域信息。 1) 函数离散化与傅里叶变换 设 f ( x ) 是周期为 2 l 的周期函数，且满足收敛定理条件，则它的傅里叶展开式为 [ 9 ] ： f ( x ) = a 0 2 + ∑ n = 1 ∞ ( a n cos n π x l + b n sin n π x l ) (1) 其中： { a 0 = 1 l ∫ − l l f ( x ) d x a n = 1 l ∫ − l l f ( x ) cos n π x l d x b n = 1 l ∫ − l l f ( x ) sin n π x l d x                   ( n = 1 , 2 , 3 , ⋯ ) (2) 如果f(x)的函数形式未知，只有在x取值区间等间隔的样本函数值已知，则可以将连续函数f(x)离散 化，在周期区间 ( 0 , 2 l ) 上等间隔的取N个点，取样间隔为 Δ t = 2 l N ，则 l = N Δ t 2 。这些等间隔的样本用离 散序列 { x 0 , x 1 , x 2 , ⋯ , x N − 1 } 表示，且 x i = 2 l i N       ( i = 1 , 2 , 3 , ⋯ , N − 1 ) (3) 则 n π x i l = 2 k π i N       ( k = 1 , 2 , 3 , ⋯ , N − 1 ) (4) 由此，(1)式的离散化形式为： f ( x i ) = a 0 2 + ∑ k = 1 m ( a k cos 2 π k i N + b k sin 2 π k i N ) (5) 其中： { a 0 = 2 N ∑ i = 0 N − 1 x i a k = 2 N ∑ i = 0 N − 1 x i cos 2 π k i N b k = 2 N ∑ i = 0 N − 1 x i sin 2 π k i N (6) 离散傅里叶变换(DFT)的定义为： X k = 1 N ∑ i = 0 N − 1 x i e − i ( 2 π h i / N ) (7) 2) 傅里叶逆变换 对 2 π k i N 分子分母乘以 Δ t 后变为 2 π k N Δ t ( i Δ t ) ，由此得出 f ( x k ) 的频率为 f k = k N Δ t = k T ， f ( x k ) 为一 个正弦和一个余弦周期函数之和，其中T为所取序列总的时间长度。随着k的增大，三角函数的频率逐 渐增加，周期 T k = 1 f k = N Δ t k = T k 逐渐减小。因为离散傅里叶变换具有周期共轭对称性，所以在计算DFT 时，只需要计算一半的序列，即k从 N / 2 取到N时，其结果与k从0取到N/2是镜像对称的。所以当 k = N / 2 时，谐波的频率最大为： f N / 2 = 1 2 Δ t 。由此，在后面的频谱图中只表示出前半部分的频谱图。 对式(5)进行数学变换，得到各次谐波如下形式： f ( x i ) = a 0 2 + ∑ k = 1 N [ c k cos ( 2 π k i N + ϕ k ) ] (8) 其中： c k = a k 2 + b k 2 为k次谐波的振幅，其幅值即为原始信号经过离散傅里叶变换后频谱图中相应 频率对应的幅值； ϕ k = arctan ( − b k a k ) ，为k次谐波的初相。由(8)式得知，可以运用傅里叶逆变换将频域 信号返回到时域上来 [ 10 ] 。"
"利用离散傅里叶变换，可以对非连续时域信号上采样得到的N个离散点进行分析，得到非连续频域信号上谐波的幅值，其中每一个频率对应一个谐波的幅值，由此得到非连续信号各次谐波的幅值与其频率的关系特征。根据幅值与频率的特征关系，设计一个滤波器，过滤高频率、低幅值的信号(载荷谱)，从而对随机载荷谱进行简化处理。滤波器的设计原理如图1所示。 基于图1的滤波方案实施过程如下： 设定采样频率。一般来说，当采样频率为信号频率的20倍时，才能保留95%的最大信号的振幅 [ 11 ] 。在本文中，假定载荷信号的频率为50 Hz，计算机采样频率为fs = 1000 Hz。采样得到的随机载荷信号点为 x = { x 1 , x 2 , ⋯ , x N } ，构成的谱为A。 1) 输入离散随机载荷信号谱A，对这N个点做离散傅里叶变换，得到幅值序列 X = { X 1 , X 2 , ⋯ , X N } ， 运用公式 f k = k N Δ t = k T ， ( k = 0 , 1 , 2 , ⋯ , N − 1 ) ，计算出N个频率点，得到幅值与频率的特征关系。 2) 根据载荷谱处理设计要求，设定截止频率进行信号截除。例如设定截止频率为f e = 200 Hz，即要滤除所有大于200 Hz信号，则当 f k > 200 时，令 X k = 0 ，否则 X k 不变。由此可得到一组滤波后新的 X k 幅值序列。 3) 对这组幅值X k 序列做离散傅里叶反变换就可得到时域上滤除载荷谱的信号序列。"
"对某实测随机载荷进行载荷谱处理分析。实际载荷谱为20万个离散载荷点，随机选出一段由1000个载荷点构成的载荷谱如图2所示。从图2可以看出该段随机载荷谱具有一定的周期性。进一步，从图2所示载荷谱中取出前半段进行分析，如图3所示，载荷谱仍具有近似周期性。因此，拟从图3中取一具有代表性的谱段(如图3中矩形框内所示)进行后续分析。 图1. 傅里叶变换滤波原理框图 图2. 包含1000个载荷点的随机谱 图3. 包含500个载荷点的随机谱 运用图1滤波器的思想，通过MATLAB仿真进行计算分析。基于第一节所述的对称性，仿真时只绘出X的前N/2个点。对图3矩形方框中的230个载荷点构成的载荷谱进行傅里叶变换。原始样本如图4(a)所示，经过快速傅里叶变换，生成频率谱，如图4(b)所示。 在采集的原始随机载荷谱数据中，存在很多对构件疲劳损伤影响很小甚至没有影响的谱成份，可称为无效载荷，其取舍标准通常有两种： 一种是选用变程阀值进行取舍；一般情况下采用最大应力幅与最小应力幅之差的5%~10% [ 2 ] ，具体表达式如下： 变 程 阀 值 = ( 最 大 值 − 最 小 值 ) × Δ % (9) 式中， Δ 为变程阈值的精度。 另一种是按照材料疲劳极限的百分比取舍无效载荷；在这种标准下，Heler等人对各种载荷谱采用不同的取舍标准做了大量试验，结果表明低于材料疲劳极限50%的小载荷对材料损伤的影响可以忽略不计 [ 12 ] 。 本文运用(9)式令变程阈值的精度 Δ = 5 ，载荷谱样本振幅最大差值为180，得到应该滤掉幅值低于9的小载荷。从图4(b)频谱图中看出，幅值小于9的随机载荷集中在200 Hz及以上的频率段，故滤掉载荷谱样本200 Hz及以上的频率谱，将剩余频率谱进行傅里叶反变换，得到滤波后的样本载荷谱如图5(a)所示。 从图5中可以看出，滤波器能够分析出载荷信号所含的频率成分，根据频率特性能够较为简便的滤除无效载荷信号，保留了原始载荷谱的有效信号，且经过傅里叶反变换得到的时域载荷谱信号没有明显衰减。"
"经过上述处理的时域载荷谱仍需要进一步规范化处理，等效成完整的载荷循环或半循环。这一规范化过程是以损伤力学为基础建立损伤等效原则 [ 13 ] ，从复杂的载荷波形中整理得到规范化的载荷谱。显而 图4. 样本载荷谱及频率谱 图5. 滤波后载荷谱样本及频率谱 易见，结构疲劳寿命和实际加载顺序有密切关系。本文基于损伤力学的载荷谱方法的优势之一就是严格保持了原始载荷谱的加载次序。与传统计数原理一致，基于损伤力学理论的载荷谱处理方法包括数据压缩和循环计数两个环节 [ 14 ] 。  实际工况中，结构件所承受的循环载荷是一个连续的随机过程，对该过程做这样的假设：一个连续的随机过程可以由该过程的峰谷值依其真实次序排列来描述，不考虑其时间效应。该假设强调了峰谷值和真实次序这两个重要信息，由此，可以把实际载荷时间历程压缩成一系列峰谷值。 压缩得到峰谷值形式的载荷谱之后，需要将其压缩成峰谷值交替出现的形式，即将每个循环中最大峰值和最小谷值保留下来，如图6所示，保留了数据点1，3，5，6，7而去掉了数据点2和4。 数据压缩之后的载荷谱，需要经过循环计数处理才能得到方便用于疲劳寿命分析的规范载荷谱。  循环计数法基于加载引起损伤演化、卸载不引起损伤演化的原则，从第一个数据点依次开始，每次取出三个数据点为一组，对应一个加卸载历程，进而添加或者删除一段卸载历程，凑成一个完整的等效损伤的循环，其计数原理如图7所示，图7(b)为图7(a)计数后的结果，其中根据卸载不引起损伤的原则，增加了C1-A卸载历程，凑成了与原始载荷A-B-C损伤等效的完整循环C1-B-C，该结果可以作为疲劳寿命分析的规范化载荷循环。每次计完三个数据点后，从第三个点开始再依次取三个点进行循环计数，即计完数据点I，I + 1，I + 2后，从数据点I + 2开始选取三个点继续计数，直至完成所有数据点的计数。 经过以上数据压缩和循环计数两个环节，最终得到了保留加载顺序的规范载荷谱，为后续结构件疲劳寿命预估做准备。  如图8，原始载荷谱样本在经过滤波舍弃无效载荷后，大部分幅值较小的无效载荷信号已经被清除， 图6. 数据压缩原理图 图7. 计数原理 图8. 滤波后载荷谱样本损伤力学方法取载荷对 再经过计数处理，剩余87个载荷点共29个载荷对。 如图9，将未经过滤波以及滤波之后的载荷谱进行对比，其中黑色粗实线为剩余的有效载荷谱，灰色细点划线为原始载荷谱。可以看出部分幅值较小的载荷谱对已经被滤除了。总共滤去23个载荷对。由此可知，上述载荷谱处理方法能够有效滤除无效载荷，最终得到保持真实载荷顺序，并与原载荷历程损伤等效的规范化载荷谱。"
"在前述频谱法滤波过程中，如果截止频率过大，则无法有效剔除载荷谱中的噪声信号；如果截止频率过小，滤波后载荷谱将损失大部分功率。可见，如何选取合理的截止频率是滤波处理的关键。下面以功率谱法进行滤波处理，考察上述滤波截止频率的合理性与有效性。 功率谱(PSD)估计是数字信号处理的重要研究内容之一，常用的功率谱估计法有经典谱估计与现代谱估计。本文运用MATLAB工程数学软件Signal Processing Toolbox中提供的经典谱估计中的PSD估计法函数，对载荷谱样本进行功率谱密度函数估计。通过分析滤波后载荷谱功率在原始载荷谱功率中的所占百分比，判断载荷谱信号滤波截止频率选择的合理性。 采用上述工具对图4(a)所示的原始载荷谱进行功率谱密度计算，结果如图10(a)所示，低频部分功率谱密度较大，高频部分功率谱密度较小。 本文第3节采用频谱方法进行载荷谱处理时，截止频率设为200 Hz，取得了一定的滤波效果，但按此截止频率进行功率谱计算，滤波后载荷谱剩余功率仅为原始载荷谱功率的50.02% (见表1)。 为了在载荷谱处理过程中尽量避免不适当的功率损失，考虑载荷谱的功率谱密度分布特征，试设定截止频率为400 Hz，滤波后载荷谱样本功率谱如图10(b)所示，为原始载荷谱功率的84.78%。 滤波后进行损伤力学方法的载荷谱循环计数，效果如图11，共滤去11个载荷对，与图9对比，许多小的无效载荷对没有滤掉。 对比上述分析结果可知，滤波截止频率的选取应综合考虑载荷谱频谱特性及剩余功率谱密度的结果。因此，这里设定截止频率为300 Hz，将幅值小于7的随机载荷谱成份过滤掉，然后运用基于损伤力学的载荷谱处理方法处理滤波后的载荷谱，并与原始载荷谱对比，如图12所示，其中细线部分为原始载荷谱 图9. 截止频率为200 Hz滤波处理后载荷谱比较 图10. 原始载荷谱样本以及滤波后载荷谱样本功率谱密度 图11. 截止频率为400 Hz滤波处理后载荷谱比较 对，粗线部分为滤波后载荷谱对，共14个低幅载荷对被滤掉，滤波后剩余功率为原始总功率的68.52%。 对比图9、图11和图12可知，当截止频率为200 Hz时，高频小幅谱成份剔除最多，同时，原始载荷谱功率损失也较大(参看表1)。因此，这样的滤波有可能造成原始随机载荷谱失真。当截止频率为400 Hz时，滤波后功率仍然损失了将近15%，但剔除的载荷对数只有原始谱载荷对数的1/5左右，高频低幅值谱成份较多，滤波效果不理想。综合考虑频谱法及功率谱法处理的结果，选取截止频率为300 Hz时，较好平衡了载荷对剔除数和载荷谱功率损失的矛盾，剔除了载荷对26.92%，剩余功率68.52%，参看图12，滤波取得了良好的剔除噪声成份的效果。 图12. 截止频率300 Hz滤波处理后载荷谱比较 Table 1 截止频率(Hz) 滤除载荷对数(对) 滤除载荷对占比 剩余功率 200 23 44.23% 50.02% 300 14 26.92% 68.52% 400 11 21.15% 84.78% 表1. 不同截止频率效果对比分析"
"基于傅里叶变换的随机载荷谱处理方法，其本质是把载荷谱从时域信号转换为频域信号，根据频域信号的分布特点，采用适当的截止频率，将高频低幅值的信号成份滤去。本文建立的随机载荷谱处理方法则在此基础上进一步以结构疲劳寿命评估为指向，引入损伤力学方法，采用等损伤的原则，对载荷谱进行规范化处理，形成符合疲劳分析要求的载荷对型式的规范化载荷谱。 在滤波过程中选取适当的截止频率是随机载荷谱滤除无效谱成份的关键。本文综合考虑了现有无效载荷的取舍标准 [ 2 ] [ 12 ] ，将频谱法与功率谱法相结合，对截止频率选取做了平衡，既避免了单纯从频率谱角度分析导致的截止频率过低，造成原始载荷谱大部分功率丧失，又避免了以功率谱角度分析截止频率，导致无效滤波后小幅载荷成分比重仍然过大的问题，达到了较为理想的滤波去噪的处理效果，从而简化了后继疲劳分析的工作量和计算量。另外，本文的随机载荷谱处理方法还着意保留了原有载荷作用顺序，为结构疲劳寿命预估的准确提供了必要的细节真实。 本文的研究及建立的应用性随机载荷谱处理方法将基于傅里叶变换的数学方法与工程方法有机的结合起来，并基于损伤力学理论，为随机载荷谱处理提供了一种新的模式，为提高结构在随机载荷作用下疲劳寿命预估的可靠性奠定了基础。本文选取了一截工程随机载荷谱以本文方式加以处理，经过载荷谱等损伤规范化(参看第四节内容)和频谱法与功率谱法相结合选取截止频率进行滤波处理，不仅较为方便的确定了准确有效的截止频率(参看表1)，还获得了具有较高还原度的规范化载荷谱(参看图12，对比图9和图11)，从而证明了本文方法的工程适用性和实用性。"
