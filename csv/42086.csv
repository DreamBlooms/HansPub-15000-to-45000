"为优化水利工程野外实习教学结构与教学内容，解决水利工程野外实习所面临的成本高、危险大、互动少的问题，提出采用GIS虚拟仿真技术改善传统水利工程实习环境，有效解决了野外实习教学交通不便等问题。在实际应用中，将虚拟仿真技术与水利工程专业知识相结合，依托虚拟仿真技术开发新型交互可视化系统，利用3DMax和Pix4D等软件构建的水工建筑物三维模型与以模型为基础制作的三维动画完善虚拟仿真平台实验内容，实现了水利枢纽结构及大坝信息的数字化和可视化，拓展了教学内容的广度和深度，并根据虚拟仿真平台应用情况针对虚拟仿真教学进行了利弊分析。本研究可服务于水利工程野外实习教学效果的提升。"
"水利工程是通过修建各种水工建筑物以除害兴利的工程。受工作特征影响，水利工程野外实习是一门综合性的专业实训课。一般在已有的水利类专业基础理论知识基础上，通过水利工程野外实习，使学生身临其境领会水利工程建设基本过程及特点。其中库区是野外实习较频繁的地区，而水库大坝往往属于敏感区域，申请入场有一定难度，同时在安排学生野外实习时需要考虑实习地气候、交通等具体问题，再加上实习经费及安全问题等因素的影响，水利工程野外实习过程普遍存在教学成本高、教学地点单一、互动性和共享性差等问题。故传统实习不仅对学生对专业知识的掌握程度产生了影响，并且也一定程度上减少了学生相关的实践机会。 面对存在的问题以及当今要求提高工科生实践能力的背景下，虚拟仿真技术作为一种新兴的教学方法逐渐融入实践教学中。虚拟仿真技术可以将一个逼真的、具有视、听等多种感知的虚拟实验环境融入实验教学，使实验者通过高仿真的实验对象和环境在线完成实验项目 [ 1 ] [ 2 ]。因此国内许多学者利用计算机与网络技术研发了众多实践教学软件。如程思宁 [ 3 ] 等人搭建了适用电类实验的网络虚拟平台；蔡卫国 [ 4 ] 将虚拟仿真技术带入机械工程实践教学当中。这些平台都取得了良好的教学成果。但是目前的虚拟实践教学平台仍存在一些问题，目前大部分平台直接面向学生，而学生对新知识往往把握不住重点，所以重点知识如何更有效地展现是目前平台面临的一个十分重要的问题。其次，目前的平台在教学中共享机制不太健全，大多局限于高校内部使用，造成了现有成果的资源浪费 [ 5 ]。 基于上述问题，本文以虚拟仿真技术为基础构建线上平台，利用无人机技术获取数据，通过Pix4D、3DMax等软件处理数据、制作模型与动画，根据水库数据完善模型内部细节，制作普适性水工建筑物模型。同时以专业教师强调重点，针对性地引入水工建筑物建筑过程、整体构造等抽象知识点，以提升水利工程野外实习教学效果。另外将平台在网上开源，方便不同高校水利类学生下载平台资源和学习专业知识。"
"水利工程野外实习虚拟仿真实验教学项目主要功能包括：1) 递进式知识点延伸，巩固、加深已学的专业基础理论知识；2) 扩展性规范与政策解读，领会工程建设基本过程及特点；3) 新技术、工艺与方法的案例式引入，衔接专业知识前沿；4) 自主式学习与模拟实践，夯实学生动手与操作能力。 图1为虚拟仿真平台整体的设计思路。虚拟仿真平台以学生熟练掌握水工建筑物相关知识为基础，通过虚拟3D展示、动画演示等功能进一步巩固课本知识，强化实际工程应用能力。平台的基本功能有对3D模型的旋转、平移、缩放、复位等，应用功能主要有对水工构筑物建设过程、工作过程的仿真动画等。针对水利工程建设的基本过程，主要以动画的形式进行学习；对于了解不同水利工程，除了了解其组成部分外，还针对工程建设规范、建设工艺等扩充知识进行文字讲解、图片展示以及习题巩固 [ 6 ]。 图1. 虚拟仿真实验平台设计流程图  由于虚拟仿真系统的构建依赖于高质量的表现形式与高精度的地理信息载体，所以为了避免因使用劣质载体而产生的不良现象，一般通过采用更清晰的地理信息数据等措施改善此种情况 [ 7 ]。针对此种情况，为了得到高质量的数据，在获取数据时可采用大疆精灵Phantom 4无人机拍摄。例如，我们于2020年6月对陕西省渭北石川河支流沮水河下游的桃曲坡水库的整体构造进行影像采集，共拍摄分辨率为4000 × 3000照片500余张。此外，对于三维模型桃曲坡水库具体特征数据(如坝宽、坝高等信息)，参考《桃曲坡水库志》 [ 8 ] 进一步完善。 数据处理中，通过Pix4D对原始数据进行处理。首先将500余张照片全部导入所建项目并根据图片设置坐标系，导入并调整控制点，方便后续模型的生成。完成后进行对齐照片操作，这一步的目的是将照片成对连接，完成对齐照片操作后继续进行建立密集点云，后续的三维模型生成过程中是根据密集点云数据生成的，生成密集点云之后进行生成网格操作，这一步是根据密集点云数据生成多边形网格模型完成曲面重构，下一步为生成纹理，这一步的操作是为三维模型生成贴图，完成上述操作后即可生成三维模型与正射影像。 程序运行完成，生成所需的数据后即可导出坝区正射影像、数字地表模型(DSM)和整体3D模型(见图2~4)，并根据水库实际信息对模型进行微调。在此过程中，所得到的DSM分辨率为6.79 cm，DSM的原始数据的影像数据。此外，对于各个水工建筑物建设过程以及内部结构的模型构建，是采用3DMax和Pix4D等处理软件在原始数据基础上进行图像拼接以及模型合成得到，具体步骤将在三维模型的建立部分进行叙述 [ 9 ] [ 10 ] [ 11 ]。 图2. 正射影像 图3. 数字地表模型(DSM) 图4. 坝区3D模型图  在构建模型的过程中，主要使用的建模软件为3DMax，此软件具有性能强、使用方便、多窗口操作等多个特点，并且3DMax软件具有三维动画制作与渲染的功能，方便下一步在模型的基础上进行动画制作。 对于三维模型的建立，二维图形的绘制是进行三维建模的基础，所以在构建三维图形的第一步以绘制点线为主，通过创建直线、图形绘制水工建筑物外轮廓线，构成轮廓的线与点可以在3DMax中进行选定捕捉。第二步，虽然使用3DMax内部绘图工具绘制一般不会出现未闭和现象，但是为了保证后续操作正常进行，所以这一步需要对轮廓线进行闭合检查。利用3DMax的关键点捕捉工具，勾选轮廓线的端点，重新将轮廓线描绘一遍，并在最后重合点的位置点击闭合。第四步，选中第三步检查完成的轮廓线，并对图形宽度进行调整。执行挤压命令，并在参数中输入水工建筑物整体最大宽度数值，得到初步的三维模型。但是模型不同地方宽度不同，并且形状有所差异，所以第五步需要采用切分的方法，根据组成部件的尺寸，构建出相应的几何模型，然后利用布尔运动进行切削，消去三维模型上不需要的部分 [ 12 ] [ 13 ] [ 14 ]。 1) 坝体模型的建立 坝体主要分为主坝和副坝，构建模型中仅绘制主坝。在构建主坝坝体模型时，主要步骤与上述步骤相同，最后需要根据坝体周围环境以及临近厂房进行微调。 2) 溢流坝模型的建立 溢流坝既是挡水建筑物又是泄水建筑物，用于泄洪的溢流坝一般由混凝土或浆砌石筑成，并根据溢流量与溢流面的不同分为溢流重力坝、溢流土石坝等四种。溢流坝内部有用于泄洪的表孔、深孔和底孔，所以在构建模型时除基本轮廓的构建与外部形状的削切外，还需要根据流量对模型内部的三种孔进行设计。 3) 水闸的建立 水闸是较常见的调节水位、控制流量的低水头水工构筑物。水闸在水利工程中用途广泛，可以根据承担主要任务分为进水闸、分洪闸等。水闸一般由上游连接段、闸室段和下游连接段三部分组成 [ 15 ]。在模型构建过程中，由于水闸组成部分多且功能性强，所以对于主要构成部分需要考虑外界因素的影响，较小的次要部分，通过线或者矩形等捕捉出它们的形状，再挤出合适的位置。例如在闸室的构建过程中，需要根据地形与水流量考虑底板高度，并确保底板具有较高的承载力，对于工作桥和交通桥可以在最后绘制 [ 16 ]。 4) 虚拟动画制作 在构建整体模型的基础上，通过在3DMax软件中对模型进行旋转、平移、缩放以及对节点的移动等基本操作，展示大坝的主坝、副坝、溢洪道等组成部分，并对大坝的组成部分进行解读。对于大坝组成结构以及类型的选择，主要采用视频方式对不合理情况进行演示。  为了方便使用者、满足实习教学所需为前提，虚拟仿真实验平台的主要系统结构如下图(图5)所示。 图5. 虚拟仿真平台系统框架 水库基本资料、水库建设、水库管理三个模块主要通过文字以及场景的3D漫游对实习场所进行初步介绍并对专业知识进行巩固。其中虚拟仿真模块为学生了解实际操作的主要结构，其主要功能为：1) 介绍水库大坝的基本构成及各组成部分的形态和功能；2) 动画展示模拟水库大坝的运作过程。 虚拟仿真实验平台的架构主要由四层组成，分别为：数据层、支撑层、通用服务层和应用层，底层为上层提供相应的服务。其中第二层为虚拟仿真平台的核心，主要负责整个系统的运行、维护和管理工作。第三层为平台的教学管理层，提供教学所需的一些通用支持组件。例如实验项目练习、实验资源管理、实验报告管理、教学效果评价等。最上层为应用层，基于底层的服务，实现虚拟仿真实验平台的教学功能。在使用的过程中，老师可以根据教学相关要求，对水工建筑物的模型进行修改，最后面向学校开展教学应用 [ 17 ] [ 18 ] [ 19 ]。 虚拟仿真平台的功能模块划分主要可以分为三种：地图显示模块，动画演示模块和对比模块。 1) 地图显示模块 地图显示模块主要依托于地理信息系统对于地理图像的处理能力，对桃曲坡水库各个水工建筑物的各种数据进行合并整理。根据平台不同模块对不同建筑物的需求情况，利用地理信息体统内置工具调整不同水工建筑物的区域的颜色，方便用户在资料的指导下可以迅速、准确的确定不同功能区域的具体位置。 2) 动画演示模块 综合课程教学要求与相关教学目标，为使学生能够较为真实的体会野外水库和大坝实体，切实掌握水利工程的理论知识，平台采用内置实景照片以及3DMax等资源对相关水工建筑物的建设过程以及运行过程进行展示，对于重点教学内容附有互动选项对相关知识进行巩固。 3) 对比模块 对比模块是对课本抽象的知识的形象化，同时具备安全性与经济性的特点，为野外实地实习带来极大的便利。"
"在我国走新型工业化道路、建立创新型国家和提高国家竞争力的过程中，高校需要培养具有创新精神和实践能力的复合型人才。为此，学校需要增加实践教学，提高学生的实践能力。当代大学生对于信息技术具有丰富的应用经验，对于水利工程野外实习课程，可以通过对互联网技术与地理监测技术的结合，以互动式选项和3D全景仿真场景来激发学生对水利工程的学习意愿，提高学生对待问题独立思考的能力。 通过虚拟仿真技术所构建的平台依赖于现实具体水工建筑物信息。平台信息的获取是基于无人机遥感影像技术，主要通过无人机航拍获得高分辨率的影像数据，无人机航拍集成了无人驾驶技术、遥感技术和GPS定位技术，具有测绘效率高、成本低且设备的体积较小等优点 [ 20 ]。这些优点使平台具有成本低、实习效率高且相较于实地实习具有极高的安全性。此外，平台的信息并不局限于某一具体的水工建筑物，还有一部分来源于大量的水工建筑物基础资料以及相关科研活动的经验积累。利用此技术构建的平台，一方面通过3D模型与动画加强对基础知识点的重现，巩固学生对基础知识的掌握，以动态的思维记忆替代静态的文字以及图片记忆；另一方面，通过大量水工建筑物的数据结合而构造的水工建筑物，能够打破学生对特定水工建筑物的定性思维，拓展学生对水工建筑物的眼界，一定程度上提高学生对基础知识的应用能力。 在平台的使用过程中，学生可以通过电脑、手机等设备可以方便的进入应用平台网络入口，从而突破时空限制，不受天气地域影响，具有灵活性、交互性和共享性等特点，显著提高同学们的学习兴趣和效率，提高同学们的野外实践能力与创新能力，为相关专业的学生今后从事水利工程工作打下坚实的基础 [ 21 ] [ 22 ]。  利用虚拟仿真技术进行教学，专业教师需要根据教学重点对相关知识进行筛选。相对于课本教学而言，虚拟教学平台方便学生自主获得更加丰富多样的知识，但由于不同学生对于新知识的掌握仍具有不确定性，在实际教学中过多的信息反而会适得其反，对教学效果产生一定影响。 其次，由于受软硬件限制，当前技术暂不能有效合理的模拟自然界中的不确定、不可控因素，导致实验所显示数据偏理想化，与真实情况不相符合。所以在实际教学中应当对学生指明实际工程中突发洪水，地震等自然灾害对水工建筑物正常工作的影响以及有效应对措施。并且由于虚拟仿真技术在教学中应用仍处于实践阶段，所以专业教师在教授过程中，需要根据不同情况辅助学生对实际工程有更加深入的了解。"
"水利工程实习虚拟仿真实验教学系统是以熟悉实习路线上各类水工建筑物结构为目的，强调不同水工建筑物的特点及其与环境之间的关系。在搭建平台过程中，以教学日历为主交叉进行开发方案的修订以及功能的开发。为进一步完善平台，利用Pix4D、3DMax等软件对实景拍摄高精度照片进行处理，并构建模型，制作动画。其中对坝体、溢流坝、水闸三个水工建筑物的三维模型进行重点建设并设计视频、文字等进行详细介绍，加强虚拟仿真所带来的3D漫游效果。在平台灵活性、共享性、交互性的特征下，将平台在实践教学中应用可以使课本抽象的知识形象化，帮助学生较为真实地体会野外水库和大坝实体，并进一步将知识点融会贯通，切实掌握水利工程的理论知识，充分发掘学习能力。 在实际应用中本文所搭建虚拟仿真实验教学平台具有灵活性、共享性、时效性等特点，但根据平台使用情况，在实际应用中仍存在操作性较差的问题，所以对于提高对平台交互性和与真实情况的相似度仍是虚拟仿真在教学中应用需要深入研究的部分。"
