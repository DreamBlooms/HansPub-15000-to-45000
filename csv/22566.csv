"为了解决目前高校机械专业实验设备价格昂贵、数量少、安全性差等问题，本文构建了一套基于Unity3D技术，具有高仿真性、强交互性的冲压成形虚拟仿真实验系统。通过对模型的建立与优化、系统漫游、碰撞检测等关键技术的研究，设计了具有演示模式、操作模式、认知模式的虚拟冲压实验系统。该系统依据板料冲裁间隙实验的实验原理，详细地模拟了金属板料冲裁实验的全过程，实现了冲压实验过程演示、模具拆装展示、设备认知和实验操作，获得了较好的实验教学效果。 关键词 :Unity3D，三维交互，虚拟仿真，碰撞检测，实验教学 Copyright © 2017 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"虚拟仿真实验的概念于1989年由美国弗吉尼亚大学的威廉·沃尔夫(William Wulf)教授最先提出 [ 1 ] 。虚拟仿真实验通过人与周围实验环境进行交互，是对真实实验进行模拟或再现的一种实验模式。国外影响力较大的虚拟实验系统有Learn Anytime Anywhere Physics物理实验室 [ 2 ] 、Newton虚拟教学软件 [ 3 ] 、牛津大学的虚拟化学实验室 [ 4 ] 、加拿大西北大学的虚拟物理实验室 [ 5 ] 。我国虚拟实验的研究较晚，主要有中国科技大学的几何光学实验设计平台 [ 6 ] 、四川师范大学的虚拟仿真化学实验室 [ 7 ] 、清华大学的“电力系统及大型发电设备安全控制和仿真”国家重点实验室 [ 8 ] 等。 冲压成形实验教学存在实验设备数量少、仪器设备相对落后、实验资源不能突破时空限制、人均实验资源占有率低、实验教学模式单一、实验危险性较高等缺陷，难以达到较好的教学效果。虚拟仿真实验系统具有节省资金、突破传统实验在硬件设备上的限制和时空的局限等优势，具有开放性和共享性，优化教育资源，拓展实验教学模式。学习者可通过交互设备与系统中的虚拟设备进行交互，完成与真实实验一样的操作。本文将虚拟仿真技术应用在冲压成形实验教学中，构建具有强烈的沉浸感、实时性、交互性的冲压成形虚拟仿真实验系统。"
"冲压成形教学实验包括压力机和模具结构认知、板料冲裁操作、冲裁件尺寸测量和数据整理等内容，为了构建一套具有现实意义的冲压成形虚拟仿真系统，根据冲压实验的目的和要求，系统主要由演示模式、操作模式、认知模式三个场景模式所组成，其总体结构及设计流程如图1所示。 图1. 冲压成形虚拟实验室的总体结构  为了便于实验操作，系统主界面上设计了四个按钮，以实现系统功能模块的切换或退出，各功能模块又能准确、生动地展示系统典型特征： 1) 演示模式是实验操作过程的全流程播放，各组成部分真实感强，结构表征清晰，相互关联运动准确无误，直观而又生动地展示了整个实验操作过程，便于学生快速领会冲压实验的主要内容和金属板材塑性成形原理。 2) 操作模式使用户不仅可以漫游浏览整个冲压实验室，还可以在逼真的虚拟实验场景中进行实验操作，实现了操作面板的手动控制、冲头的更换、冲裁过程模拟、冲裁件尺寸检测、数据生成和记录等操作和功能交互，避免了操作错误可能造成的伤害或设备损坏，并根据需要变换实验参数，完成相应的实验操作，增进了学生对冲压成形工艺的认识，为分析冲压工艺参数对冲压质量影响奠定了良好基础。 3) 认知模式采用鼠标移动实现了设备结构高亮显示和性能说明，使学生对设备和模具结构有一个更加清晰的认知。同时，通过认知模式中的实验课件，有利于学生更清楚地了解实验原理及实验目的。"
"冲压成形设备结构复杂、零部件众多、标准各异，而虚拟实验系统不仅要求形状逼真，尺寸精确，运行轻便。单一的建模设计软件难以满足系统设计的要求，必须采用新的设计方法加以处理，方可构建一个逼真而又运行快速的虚拟仿真系统 [ 9 ] [ 10 ] [ 11 ] [ 12 ] 。 为了兼顾三维模型的准确和系统运行的便捷，采用图形设计和图片处理的混合建模方法，是决定系统功能实现的关键。系统采用三维软件UG构建压力机主要零部件和冲裁模具的几何造型，利用3ds Max建立具有运动变形功能的弹簧和弹顶橡胶。在不影响模型外观的视觉效果下，尽可能地简化模型，将不运动的零部件固化为一个零件建模，减少零部件的数量，少使用圆角命令，以减少模型的面数，用纹理映射表现模型一些外部细节特征等。 运用LOD技术简化景物的表面细节，减少场景的几何复杂性，提高绘制算法的效率。采用顶点删除、边折叠算法进行场景分块生成，再加以分层调用，简化场景，降低其复杂程度，加快了场景实时显示速度，有效的构建了冲压成形虚拟实验室，如图2所示。   为了逼真地模拟真实实验人们对冲压成形实验室的参观，采用Unity3D实现“上、下、左、右、跳”等逻辑操作，并封装成角色控制器组件，模拟第一人称或第三人称视角 [ 13 ] [ 14 ] 。 三维场景模型导入到Unity3D后，将角色控制器导入到当前工程，在Project视图将“Rigidbody FPS Controller”拖动至Hierarchy视图中，在Scene视图中以一个胶囊体对象的形式出现，如图3所示。“Rigidbody FPS Controller”对象共绑定了由官方提供的三条脚本：MouseLook脚本控制如何通过鼠标来移动视图；CharacterMotor脚本监听键盘事件，控制“前后左右”移动；FPSInputController脚本监听空格键，控制跳跃功能。通过鼠标或键盘控制来感受在虚拟空间中的运动。一般设定W、S、A、D键对应前、后、左、右移动，空格键对应视角的跳跃动作。  在冲压成形虚拟实验系统中，由于虚拟角色的漫游和压力机的机械加工运动，物体之间经常发生碰撞、接触和其他形式的运动，为使这些运动符合自然规律、避免物体间的相互穿透，需要给相应的物体添加碰撞器 [ 15 ] [ 16 ] 。 图2. 冲压成形虚拟实验室 图3. 第一人称组件 碰撞检测是实现系统交互的关键，运用Unity3D中的碰撞检测技术，为压力机添加的Box Collider碰撞器组件，为防止虚拟角色穿透设备及墙体，给所有障碍物添加静态碰撞器组件，对需要发生人机交互的物体添加刚体碰撞器组件，通过脚本控制对象发生碰撞检测和交互功能。 为实现冲头的正确装配和返回桌面，在机床模具部分添加一个与模具大小相符的Box Collider碰撞器组件并勾选is Trigger使之成为触发器，如图4所示，为所有冲头添加Box Collider碰撞器组件和Rigidbody组件。当上下模打开，通过鼠标拖拽冲头到机床模具附近，一旦接触模具上添加的Box Collider碰撞器组件就会调用OnTriggerEnter函数发生触发检测，此时脚本控制冲头迅速装配到模具正确位置。当冲裁结束后，通过脚本控制，冲头在离开模具上添加的Box Collider碰撞器时不发生触发检测，冲头回到桌面。"
"本文以虚拟现实引擎Unity3D为开发平台，构建了具有逼真性、实时性、强交互性的冲压成形虚拟实验系统，模拟了冲压机床的操作过程和虚拟角色的场景漫游过程： 1) 采用UG对冲压机床及辅助设备进行三维建模，采用贴图材质表现细节，LOD技术(顶点删除技术、边折叠算法)优化模型，相比于传统几何建模，提高了计算机的实时渲染速度。 2) 利用Unity3D内置的强大物理引擎，导入角色控制器实现了角色漫游、添加碰撞器组件实现碰撞检测，使得系统具有符合自然规律的强交互功能。 3) 根据机械专业实验教学的需求，本系统设计了演示模式、操作模式、认知模式三种功能模式，各种模式侧重点不同，内容丰富，为实验教学提供了一种新手段。 图4. 为冲床添加的Box Collider碰撞器组件"
