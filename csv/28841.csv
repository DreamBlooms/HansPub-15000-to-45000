"研究带有反馈、重试和工作休假的M/M/1排队模型：当系统为空时，服务员进入工作休假，以低速率提供服务，若顾客到达时服务员忙，则顾客进入重试组等待，接收服务完毕的顾客以概率p离开系统或以概率 p ¯ ( p ¯ = 1 − p ) 返回系统重新排队。对该模型，运用拟生灭过程和矩阵几何解的方法，得到平稳队长及一些相应指标，并给出队长分解，最后，利用数值例子进行解释。 关键词 :重试，工作休假，反馈，随机条件分解 Copyright © 2019 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"在我们日常生活中，经常会出现拥挤堵塞的情况，比如电话占线、银行服务、交通堵塞等情况，排队论就是解决这类问题的有效工具。 在排队论的研究进程中，有关休假系统和重试系统已经被广泛研究，我们可以通过Tian和Zhang [ 1 ] 了解到一些基本模型。休假排队策略允许服务员在某些时刻不接待顾客，这些暂时停止提供服务的状态统称为休假；重试就是指当顾客到达系统时发现服务员正在工作，那么顾客就会进入到一个重试组(通常称之为orbit)等待，过一段时间之后再重新向服务员发出服务请求。关于重试的一些文献可以参考 [ 2 ] [ 3 ] [ 4 ] 。而在普通休假的基础上，Servi和Finn [ 5 ] 首次提出了工作休假的概念，并研究了带有工作休假的M/M/1模型，工作休假是指在休假过程中，服务员不完全停止服务，而是转为低速率提供服务。在此基础上，Do [ 6 ] 研究了带有重试和工作休假的M/M/1排队模型。当下，将重试和工作休假结合的模型研究已经非常广泛，一些其他有价值的结论可以参考Li et al. [ 7 ] 。在实际的应用中，顾客的行为是多样的，顾客接受服务后也可能重新回到系统再次申请服务，这种情况可以用具有“反馈”的排队系统描述。如多路的远程通讯系统，如果给用户端的消息出错，那么用户端则会向服务器重新发送一次服务请求。2002年B. Krishna Kumar等 [ 8 ] 研究了顾客有伯努利反馈、服务器有启动失败且重试时间服从一般分布的M/G/1重试排队系统。2005年Kailash C. Madan和Mohammad Al-Rawwash [ 9 ] 研究了有顾客反馈的M/G/1可选择单重休假排队系统。 本文主要研究带有反馈的M/M/1重试工作休假排队模型。采用嵌入Markov链法，给出系统存在稳态的充要条件，求出了平均队长等系统指标，此外还讨论了稳态下队长的随机条件分解，最后对给定的某些数值做出图形变换趋势及解释。"
"我们考虑研究带有反馈的M/M/1重试工作休假排队模型，关于模型的一些细节描述如下： 1) 顾客的到达时间服从参数为 λ 的泊松过程。 2) 正常服务期，服务员的服务速率服从参数为 μ 的指数分布，当重试组中没有顾客时，服务员开始一段时间为V的工作休假，且工作休假时间服从参数为 θ 的指数分布。在工作休假期间，服务员以低速率 η 提供服务，且 η < μ 。当一个工作休假结束，若重试组中有顾客，则开始一个新的忙期，若重试组中没有顾客，则开始一个新的工作休假。 3) 当顾客到达系统发现服务员在忙，则顾客进入重试组等待，重试组中的顾客只有排在队列最前面的才能对服务器进行重试，直到重试成功并接受服务，重试时间服从参数为 α 的指数分布。 4) 顾客接受服务完毕后瞬间以概率 p ( 0 ≤ p ≤ 1 ) 离开系统，或以概率 p ¯ ( p ¯ = 1 − p ) 返回重试组重新排队等待服务。 另外，我们假设顾客的到达时间、重试时间以及系统的休假时间、正常工作期和工作休假期的服务时间都是相互独立的。 令 Q ( t ) 表示t时刻重试组中的顾客数， J ( t ) 表示t时刻服务员的状态，则服务员的四个状态如下： J ( t ) = { 1 ,     工 作 休 假 期 ,     服 务 员 忙 2 ,     工 作 休 假 期 ,     服 务 员 闲 3 ,     正 常 工 作 期 ,     服 务 员 忙 4 ,     正 常 工 作 期 ,     服 务 员 闲 则随机过程 { Q ( t ) , J ( t ) } 是一个以 Ω = { ( n , j ) , n = 0 ; j = 1 , 2 , 3 } ∪ { ( n , j ) , n ≥ 1 ; j = 1 , 2 , 3 , 4 } 为状态空间的拟生灭(QBD)过程。 该过程的最小生成元矩阵可以写成分块模式如下： Q ˜ = ( B 1 A 0 A 2 A 1 A 0 A 2 A 1 A 0 ⋱ ⋱ ⋱ ) 其中 B 1 = ( − ( λ + η + θ ) p η θ 0 λ − λ 0 0 0 p μ − ( λ + μ ) 0 0 0 0 0 ) A 0 = ( λ p ¯ η 0 0 0 0 0 0 0 0 λ p ¯ μ 0 0 0 0 ) A 2 = ( 0 0 0 0 α 0 0 0 0 0 0 0 0 0 α 0 ) A 1 = ( − ( λ + η + θ ) p η θ 0 λ − ( λ + α + θ ) 0 θ 0 0 − ( λ + μ ) p μ 0 0 λ − ( λ + α ) )"
"定理1：QBD过程 { Q ( t ) , J ( t ) } 正常返的充分必要条件是 μ α > ( λ + p ¯ μ ) ( λ + μ ) 。 证明：首先，我们假设 A = A 0 + A 1 + A 2 = ( − ( η + θ ) η θ 0 λ + α − ( λ + α + θ ) 0 θ 0 0 − μ μ 0 0 λ + α − ( λ + α ) ) 根据文献 [ 10 ] ，定理7.3.1，对行列式进行变换得到QBD正常返条件为： π * ( 0 0 α 0 ) e > π * ( λ p ¯ μ 0 0 ) e 其中e为单位列向量， π * 为 π * ( − μ μ λ + α − ( λ + α ) ) = 0 ， π * e = 1 的唯一解。经过运算可得QBD的正常返条件为 μ α > ( λ + p ¯ μ ) ( λ + μ ) 。证毕。 定理2：当 μ α > ( λ + p ¯ μ ) ( λ + μ ) 时，矩阵方程 R 2 A 2 + R A 1 + A 0 = 0 有最小非负解： R = ( r 1 r 2 r 3 r 4 0 0 0 0 0 0 r 5 r 6 0 0 0 0 ) 其中 r 1 = [ ( λ + η + θ ) ( λ + α + θ ) − p ¯ η α − p η λ ] − Δ 2 p η α , r 2 = p ¯ η + r 1 p η λ + α + θ , r 3 = r 1 r 2 α θ + r 2 θ ( λ + μ ) ( λ + α ) − p μ − p μ λ − ( r 6 α − r 1 θ ) ( λ + α ) , r 4 = r 2 θ + r 3 p μ λ + α , r 5 = λ ( λ + α + p ¯ μ ) , r 6 = λ p μ + p ¯ p μ 2 , Δ = [ p ¯ η α − ( λ + η + θ ) ( λ + α + θ ) + p η λ ] 2 − 4 p η α λ ( p ¯ η + λ + α + θ ) . 证明：根据 A 0 , A 1 , A 2 的结构，我们假设 R = ( R 11 R 12 0 R 22 ) ，其中 R 11 ， R 12 和 R 22 都是 2 × 2 的矩阵。把R带入方程 R 2 A 2 + R A 1 + A 0 = 0 中得到一系列方程 { ( 0 0 0 0 ) = R 11 2 ( 0 0 α 0 ) + R 11 ( − ( λ + η + θ ) p η λ − ( λ + α + θ ) ) + ( λ p ¯ η 0 0 ) , ( 0 0 0 0 ) = ( R 11 R 12 + R 12 R 22 ) ( 0 0 α 0 ) + R 11 ( θ 0 0 θ ) + R 12 ( − ( λ + μ ) p μ λ − ( λ + α ) ) , ( 0 0 0 0 ) = R 22 2 ( 0 0 α 0 ) + R 22 ( − ( λ + μ ) p μ λ − ( λ + α ) ) + ( λ p ¯ μ 0 0 ) . 由第一个方程，我们可以得到 R 11 = ( r 1 r 2 0 0 ) ，同理 R 22 = ( r 5 r 6 0 0 ) 可以由第三个方程解得，将 R 11 和 R 22 代入第二个方程，可以经过计算得到 R 12 = ( r 3 r 4 0 0 ) 。证毕。 在稳态条件下，我们有 π n = ( π n 1 , π n 2 , π n 3 , π n 4 ) , n ≥ 0 , π n j = P { Q = n , J = j } = lim t → ∞ P { Q ( t ) = n , J ( t ) = j } , ( n , j ) ∈ Ω , 值得注意的是，当重试组中没有顾客时，正常工作期服务员忙的概率是0，因此 π 04 = 0 。 定理3：如果 μ α > ( λ + p ¯ μ ) ( λ + μ ) ，则QBD过程 { Q ( t ) , J ( t ) } 的平稳分布由下式给出： { π n 1 = π 01 r 1 n , n ≥ 1 , π n 2 = π 01 r 1 n − 1 r 2 , n ≥ 1 , π n 3 = π 01 [ r 3 r 5 − r 1 ( r 5 n − r 1 n ) ] + π 03 r 5 n , n ≥ 1 , π n 4 = π 01 [ r 4 r 1 n − 1 + r 3 r 6 r 5 − r 1 ( r 5 n − 1 − r 1 n − 1 ) ] + π 03 r 5 n − 1 r 6 , n ≥ 1 , (1) 并且 { π 02 = ( λ + η + θ ) + r 2 α λ π 01 , π 03 = r 4 α + θ ( λ + μ ) − r 6 α π 01 . (2) 其中 π 01 可由归一化条件求得。 证明：由 π n = ( π n 1 , π n 2 , π n 3 , π n 4 ) = π 0 R n = ( π 01 , π 02 , π 03 , π 04 ) R n , n ≥ 0 R n = ( r 1 n r 1 n − 1 r 2 r 3 r 5 − r 1 ( r 5 n − r 1 n ) r 4 r 1 n − 1 + r 3 r 6 r 5 − r 1 ( r 5 n − 1 − r 1 n − 1 ) 0 0 0 0 0 0 r 5 n r 5 n − 1 r 6 0 0 0 0 ) , n ≥ 1 将 R n 代入上述方程，我们可以得到(1)式。并且 π 0 满足下述方程： π 0 ( B 1 + R A 2 ) = 0 . (3) 通过(3)式我们可以计算得到(2)式。 再由 ∑ j = 1 4 ∑ n = 0 ∞ π n j = 1 , 我们得到 π 01 = ( 1 + x + y + z ) − 1 。 其中 x = ( 1 − r 1 ) ( λ + η + θ + r 2 α ) + ( r 1 + r 2 + r 4 ) λ λ ( 1 − r 1 ) , y = ( r 4 α + θ ) ( 1 − r 5 + r 5 r 6 ) ( 1 − r 5 ) ( λ + μ − r 6 α ) , z = r 3 ( r 5 − r 1 ) + r 3 r 6 ( r 1 + r 5 ) ( 1 − r 5 ) ( 1 − r 1 ) ( r 5 − r 1 ) . 证毕。 服务员不同状态下的概率如下： P 1 = P { J = 1 } = ∑ n = 0 ∞ π n 1 = 1 1 − r 1 π 01 , P 2 = P { J = 2 } = ∑ n = 0 ∞ π n 2 = r 2 ( 1 − r 1 ) r 1 π 01 , P 3 = P { J = 3 } = ∑ n = 0 ∞ π n 3 = [ r 3 ( 1 − r 5 ) ( 1 − r 1 ) + r 4 α + θ ( 1 − r 5 ) [ ( λ + μ ) − r 6 α ] ] π 01 , P 4 = P { J = 4 } = ∑ n = 1 ∞ π n 4 = { r 4 ( 1 − r 1 ) r 1 + r 3 r 6 ( r 1 + r 5 − 1 ) ( 1 − r 1 ) ( 1 − r 5 ) r 1 r 5 + r 6 ( r 4 α + θ ) ( 1 − r 5 ) r [ ( λ + μ ) − r 6 ] } π 01 . 服务员忙时的概率为： P b = P { J = 1 } + P { J = 3 } = P 1 + P 3 . 服务员闲时的概率为： P c = P { J = 2 } + P { J = 4 } = P 2 + P 4 = 1 − P b . 用L表示重试组中的顾客数，我们可以得到 E [ L ] = ∑ n = 1 ∞ n ( π n 1 + π n 2 + π n 3 + π n 4 )                     = ( r 1 + r 2 + r 4 ) ( 1 − r 5 ) 2 + ( 1 − r 1 r 5 ) r 3 + ( 2 − r 1 − r 5 ) r 3 r 6 ( 1 − r 5 ) 2 ( 1 − r 1 ) 2 π 01 + r 5 + r 6 ( 1 − r 5 ) 2 π 03 . 用 L ˜ 表示系统中的顾客数，我们可以得到 E [ L ˜ ] = ∑ n = 1 ∞ n ( π n 2 + π n 4 ) + ∑ n = 0 ∞ ( n + 1 ) ( π n 1 + π n 3 ) = E [ L ] + P 1 + P 3 = E [ L ] + P b ."
"引理1：如果 μ α > ( λ + p ¯ μ ) ( λ + μ ) ，令 Q 0 表示服务员忙时带有反馈和重试的M/M/1排队系统重试组中的条件队长，则 Q 0 有概率母函数如下： G Q 0 ( z ) = 1 − r 5 1 − r 5 z . 证明：证明过程与文献 [ 11 ] 中引理1相似，此处我们省略证明过程。 令 Q b 表示本系统orbit中服务忙时的条件队长，如果 μ α > ( λ + p ¯ μ ) ( λ + μ ) ，我们可以得到 G Q b ( z ) = ∑ n = 0 ∞ P { Q b = n } ⋅ z n = ∑ n = 0 ∞ π n 1 + π n 3 P b ⋅ z n                     = 1 − r 5 1 − r 5 z ⋅ [ 1 − r 5 z + r 3 z + d ( 1 − r 1 z ) ] π 01 ( 1 − r 1 z ) ( 1 − r 5 ) P b = G Q 0 ( z ) G Q c (z) 其中， d = λ + θ + r 1 p η + r 2 α μ 。 因此， Q b 可以写成两个独立变量的和： Q b = Q 0 + Q c ，其中 Q 0 可以由引理1得到，并且 Q 0 服从参数为 1 − r 5 的指数分布，附加队长 Q c 也有函数 G Q c ( z ) 。"
"这一部分，在系统稳态的条件下，我们给出一些数值例子来解释平均稳态队长 E [ L ] 和服务员忙时的概率 P b 。在不作为研究变量的情况下，我们给变量赋值为 λ = 0.8 ， θ = 0.2 ， α = 0.6 ， μ = 2.4 ， η = 0.7 。 图1. 重试参数 α 对重试组队长的影响 图2. 重试时间对服务员忙时的概率的影响 图1和图2展示了 α 对队长 E [ L ] 和服务员忙时的概率 P b 的影响，随着 α 的增加，也就意味着重试时间减少。当服务员空闲时，到达的顾客和重试的顾客竞争接受服务，因此，重试时间越短，服务员忙的概率越大，导致 P b 增加，而队长 E [ L ] 减小。我们也可以看出随着p的增加队长 E [ L ] 减小，而 P b 则呈现相反的趋势。 图3. 重试参数 η 对重试组队长的影响 图4. 工作休假服务速率 η 对服务员忙时的概率的影响 在图3和图4中，我们根据不同工作休假服务速率 变化给出了队长 E [ L ] 和服务员忙时的概率 P b 的变化曲线。我们可以看到，随着工作休假服务速率 η 的增加，队长 E [ L ] 和概率 P b 都减小，原因是在工作休假期间，服务员没有完全停止工作，而是以低速率继续提供服务，导致曲线呈下降趋势。并且我们可以知道 p = 1 ，相当于顾客没有反馈行为，因此p越大，对系统的影响越小。"
"本文讨论了带有反馈、重试和工作休假的M/M/1排队模型，运用矩阵几何解得到系统稳态分布，以及系统稳态队长和忙期概率等指标。最后，通过数值例子分析重试以及工作休假对稳态队长和忙期概率的影响，为决策者做出决策从而使系统达到最优提供了理论依据。"
