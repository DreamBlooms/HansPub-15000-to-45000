"近年来由于全球气候变迁的因应及生态环境复育意识的提升，人类开始重视与生态、环境的共存关系；河川流量管理即为一兼顾人类使用需求及河川生态系统需求之理念，将生态观念融入河川流量经营管理之中，以达到人类与河川生态系统共存的理想；台湾生态水文指针系统系永续水资源管理的重要参考指标，使环境资源之开发利用在环境所能负荷之范围内进行，以维持永续发展原则；本研究首先应用人工智能技术，架构复合式类神经网络，并透过此模式利用台湾生态水文指针推估河川生态系统中之鱼类生物多样性，结果显示此模式不但能有系统的分类归纳河川流量数据，并能快速、有效率且精确的推估鱼类之生物多样性；最后基于考虑河川流态于提升生物多样性的概念，应用非支配排序基因遗传算法II (NSGA-II)，建立考虑生物多样性为原则之多目标水资源管理策略；多目标演算模式应用对人类需求目标函数的订定乃期望能达到总缺水量最少、缺水指标最小，并避免缺水状况过于集中于某期间而造成严重缺水之枯旱情形发生。对生态系统需求目标函数的订定则为类神经网络所推估之生物多样性，期能藉由流量管理满足人类需求亦兼顾良好的河川生物多样性，具体建立提升河川生物多样性及考虑人类用水之永续水资源管理。 关键词 :河川流量管理，台湾生态水文指针系统，人工智能技术，非支配排序基因遗传算法II，永续水资源管理"
"台湾由于先天地理环境条件之限制，水资源开发相当艰难，为追求永续发展，水资源的规划必须具备合理与整体之考虑，台湾生态水文指针系统 [ 1 ] - [ 6 ] 系永续水资源管理的重要参考指标，使环境资源之开发利用在环境所能负荷之范围内进行，以维持永续发展原则；近年来许多关于保护河川生态流量之研究，已发展为考虑河川流量变化(河川流态)为基础来维护生物多样性的河川流量管理方式；目前台湾实施水资源管理最主要的方法即为水库操作，然而水库操作为一多目标管理经营过程，除满足民生及公共、农业与工业的日常用水需求外，尚需满足渔业、防洪、发电及河川生态系统等需求，为同时兼顾人类和生态系统需求之极复杂的管理经营方式。由于各种目标用水本身即存在着相互冲突的关系(如：民生及公共用水、农业用水、工业用水以及保育用水等)，造成水资源在调配上有极大的困难性；如今更在生态保育与环境维护需求意识抬头的情况下，多出了早期不重视的保育用水或环境维护需求水量的分配，因而相对的势必会减少其他原有目标用水量。因此本研究基于考虑河川流态于提升生物多样性的概念，将发展以考虑生物多样性为原则之水资源优化模式，结合模糊规划等方法建立优化操作，针对生态水资源管理方式等问题重新进行思考与探讨，并具体建立以提升生物多样性及考虑人类用水之水资源优化管理模式。"
"溪流生态系统经过长期时间演化在丰、枯水期反复交替下，蕴育了非常丰富的动植物生态环境，未受人类影响的流水状态我们称之为「自然河川流态(The Natural Flow Regime)」 [ 7 ] 。正因如此，许多河川治理与生态基础研究等方面大多以河川流态为主要课题 [ 7 ] - [ 9 ] ；Bunn与Arthington (2002)提出生态河川流态的流量管理概念 [ 10 ] ，并结合水文变化指标(Indicators of Hydrologic Alteration, IHA)作为提供以生态系统为基础之河川治理计划评估与水资源管理工具。IHA为Richter等人(1996)所提出 [ 2 ] ，是现今使用最广泛且最完整的水文指标，这些指标能够具体呈现并有效描述集水区生态永续经营中，扮演关键角色的自然河川流态之特性，如河川流量的量值、频率、延时、极端值发生的时间及改变速率等 [ 2 ] ；Olden与Poff (2003)在检视各相关研究中所使用的171个水文指标中，提供一个以统计方式为基础的架构来选定水文指针，结果显示以IHA之33个指标即可以涵盖大部分水文特性的描述 [ 4 ] ；Chang对全台包含23个流域的52站长期流量数据计算台湾生态水文指针系统(TEIS)，探讨台湾地区生态水文特性之差异并划分台湾生态水文特性区，以探讨水文–地形–生态交互关系 [ 11 ] 。 优化模式是对于单一或多个决策变量的目标函数求解其最大值或最小值；在多目标优化问题中，并不存在特定解可满足所有的目标函数解 [ 12 ] ，因此多目标优选问题所求的并非单一解，而是一组解，称为Pareto最佳解(Pareto-optimal solution)或非优势解(Non-dominated solution)，其定义为至少有一目标函数的解优于其他解 [ 13 ] 。在2002年，Deb提出的非优势排序遗传演算II (Non-dominated Sorting GA, NSGA-II) [ 14 ] ，除保留NSGA非支配等级(Non-domination level)概念，更增加菁英策略，筛选经分级后的较佳个体，并以拥挤距离(Crowding distance)来评定个体间的拥挤程度，整体朝向Pareto最佳解搜寻演算；Joines等(2002) 也指出NSGA-II是搜寻Pareto最佳解的最好方法 [ 15 ] 。NSGA-II所需的演算时间较短，近年来应用NSGA-II在水资源领域求解Pareto最佳解的例子也日益增加。在国内的有Suen和Ehert将流量管理概念以反应自然河川流态的水文变化特性，使用 NSGA-II搜寻同时满足人类需水与生态系统需求且成功地应用在水库操作 [ 9 ] 。Shiau和Wu在2007年以水文变化指标考虑环境流量，以NSGA-II应用在拦河堰的操作上，并探讨河川流态在当年及不同年份间的差异 [ 16 ] 。"
"大汉溪为淡水河三大支流之一，全长126公里，流域面积约1162.7平方公里，为淡水河支流中最长。其原名为大嵙崁溪，发源于品田山(标高3529公尺)，其上游泰岗溪与白石溪在秀峦汇合后称玉峰溪，至三光与三光溪会合后称大汉溪，由此溪流流量渐增，复转向北流经高义村至拉号上游附近又转西流，至石门坝址再转东北流。石门以上大部分为山岳地带、地势高峻，流势湍急，河谷狭窄，两岸多悬崖，并在主流上建有巴陵、荣华及义兴三座大型防砂坝；石门以下则山势收敛，河谷渐宽，流速趋缓，支流草岭溪(亦称乌涂堀溪)、横溪及三峡河相继汇入，至江子翠汇入主流淡水河 [ 17 ] 。 石门水库供水主要包含石门大圳用水、桃园大圳用水与下游地区用水等三部分，但由于石门大圳与桃园大圳之圳路构造前半部多为混凝土(浆砌)构造物，故暂且不纳入考虑。而水库供给下游之公共用水与农业灌溉用水目前并无专门输送渠道，乃是直接放流至大汉溪河道，再供各农业灌溉渠道取水及剩余最后流至下游之鸢山堰取水口；本研究主要考虑水库放流至大汉溪的水量是否能供给符合河道之生态流量需求，故选取石门水库下游后池堰至鸢山堰取水口之大汉溪河道为主要研究区域，此河道长约16公里，如图1所示。 图1. 研究区域  流量数据：数据源为经济部水利署之「水文水资源数据管理供应系统」中，收集符合本研究设定筛选条件之流量站，河川流量测站之选择须符合记录流量数据长度大于二十年且上下游10公里间有鱼类调查资料的测站。 鱼类资料：在鱼类资料收集方面，其来源主要为经济部水利署水利规划试验所建制之「河川生态情势调查数据库」，本研究所收集到之资料为1981~2007年间之调查资料；鱼类资料的收集原则为流量测站周围10公里鱼类调查数据收集整理成一笔数据，此笔数据即为该流量测站所属的鱼类调查资料，鱼类资料为调查到之鱼种(species)及尾数(abundance)。"
"近年来水资源的需求日益提高，但受制于台湾自然条件因素之影响，水源供给量相对有限；虽然透过水利设施的兴建与营运能改善水资源不足的问题，但对于河川水域环境却可能造成负面的影响，加上水资源的开发过程中均以人类的用水需求为主要考虑，往往可能满足人类对水的需求，却失去了生态环境系统的平衡。由于水库操作为一多目标管理，因此本研究拟尝试以多目标演算模式应用于水资源管理，并以考虑人类需求与生态系统需求为模式两大目标，架构多目标生态水资源管理模式，优选出水库最佳蓄水容量与最佳放流历程。本研究首先架构复合式类神经网络推估鱼类生物多样性，并以此模式作为多目标搜寻中之生态需求目标函数，应用非支配排序遗传算法II进行多目标优化搜寻，对人类需求目标函数的订定乃期望能达到供水满意度最佳；对生态系统需求目标函数的订定为类神经网络所推估之生物多样性(Shannon Index, SI) [ 18 ] ，Shannon Index乃强调社群中族群数量的相互比例，公式说明如下： ， (1) 式中：n i 为第i种鱼种之尾数，N为全部鱼种之尾数，Pi为第i种鱼种在全部调查之鱼种总尾数所占之比率。 本研究期能藉由流量管理满足人类需求亦兼顾良好的河川生物多样性，复合式类神经网络结合多目标优化之架构如图2所示。 本研究以石门水库为案例，考虑流态与生物多样性之关联，应用多目标搜寻寻找最佳水库操作策略，主要放流考虑(目标函数)分为人类需求及生态需求两部分，分别描述如下： 1) 人类需求部份： 人类需求目标以满足下游每一旬之各水权单位供水需求为目的，以石门水库水权分配订立用水目标；用水需求包含石门大圳、桃园大圳之农业与公共用水，及石门水库下游大汉溪河道沿途分配给农田水利会所需农业用水；在此为使规划问题能与实际状况更相符合，乃以模糊规划理论架构水库操作模式。引入一实数α代表满意度，将模式转化为推求最高满意度，α值介于0~1范围内，模糊化后之目标函数(式(2))及限制式(式(3)和式(4))如下： (2) 限制式 (3) (4) 实数α代表供水满意度1代表最满意，供水量百分之百满足下游人类需水；其中D i 为第i期之下游水权需 图2. 类神经网络结合多目标优化之架构 水量和；R i 为第i期之水库供给下游之放水量；其相关约束条件为水库操作的常规约束条件，符合水库入库流量及供水量之水平衡关系，水库水位限制需大于零且小于水库设计之最大库容水位。 2) 生态需求部份： 本部份研究主要目的为帮助研拟水资源永续管理策略，故以类神经网络所推估之生物多样性:Shannon Index，为生态需求目标函数；石门水库经石门大圳、桃园大圳取水而放流至下游大汉溪河段的流量变化形成河川流态并影响下游水质因子，河川流态及水质因子即可应用类神经网络推求其河川中鱼类之生物多样性，主要的想法为较佳之河川流态能提供较适合鱼类生存之环境，从而具较高的生物多样性(式(5))。 (5) 其中Estimated Shannon Index为复合式类神经网络推估值。  水文指标近年来已被广泛地应用，其在集水区生态永续经营扮演极重要角色。本研究以台湾生态水文指针系统(Taiwan Ecohydrologic Indicator System，TEIS)为分析指针，该系统系依据Olden与Poff的研究成果为基础 [ 4 ] ，参考Richter等人在1996年所发展之「水文变化指标(IHA)」中所考虑的架构 [ 8 ] ，并以季节性、台风效应、用水之管理考虑及鱼类个体生态矩阵与水文因子之间的关系为基础，将河川流态的水文变量分为一般流量变量指针、高/低流量变量指针、频率变量指针及时间变量指针等四大类别，各水文指标依此架构择定，以期能整合水文的物理过程与生态的生物过程，其指标之定义如表1所示，以下将针对TEIS四大类别分别概述之。  复合式学习法即将网络分别以两种不同的学习法来学习、调整连结权重；以辐状基底函数类神经网络(RBFNN)为例，建构RBFNN一般采用复合式学习法，前阶段以非监督式学习选取中心点，而后阶段采监督式学习调整连结权重向量。在前阶段非监督式学习中，采用中心点选取法，亦即在选取中心点的过程中，同时决定了隐藏层神经元的个数与位置。本研究即在RBFNN的前阶段部份，使用自组特征映像网络(SOM)取代原先的中心点选取法，透过SOM对数据特性做分类，并以拓扑结构的中心点作为RBFNN之辐状基底函数中心点。 自主性类神经网络具有三个特征：1) 能够在输入范例的学习过程中，产生自我组织性而不需要依靠目标输出值的误差修正，2) 可以展现输入范例的分布或相似性，3) 具有将输入范例聚类到相似群组中的能力 [ 19 ] 。因此本研究架构一自组特征辐状基底类神经网络 [ 3 ] [ 20 ] ，此网络不但具有将TEIS指针依特性分类的能力，也具备了对生物多样性做推估的能力。 在本研究中所采用的类神经网络为结合自组特征映像网络(SOM)与辐状基底函数类神经网络(RBFNN)如图3所示，其架构由输入层、一层隐藏层(拓扑层)及输出层结合而成，并采用复合式学习法建构此网络，称为自组特征辐状基底类神经网络(SORBN)。  在此多目标演算模式采用2001年Deb发展的非支配排序遗传算法II (Non-dominating Sorting GA II, NSGA-II) [ 13 ] [ 14 ] 改进了NSGA的缺点。NSGA II为以遗传算法基本精神发展而成的多目标进化式算法，能有效率地搜寻多目标优化问题中的非支配解，整体朝向柏拉图最佳解收敛 [ 21 ] 。演算流程概述如下(如图4)。  本研究使用均方根差(Root Mean Square Error, RMSE)及相关系数(Correlation Coefficient, CC)两项指针来评估模式推估之准确性，前者值越接近0表示推估越精准，后者若越接近1，表示效能越佳，此2项评估指标之 Table 1 水文指标 一般流量变量(量值，改变率，趋势) 各旬平均流量(36旬) 枯水期*平均流量上升速率、丰水期*平均流量上升速率 枯水期平均流量下降速率、丰水期平均流量下降速率 高/低流量变数(量值，延时) 枯水期单日最小值、枯水期十日最小值、枯水期三十日最小值 枯水期九十日最小值、枯水期单日最大值、枯水期十日最大值 枯水期三十日最大值 丰水期单日最小值、丰水期十日最小值、丰水期三十日最小值 丰水期单日最大值、丰水期三日最大值、丰水期十日最大值 丰水期三十日最大值 频率变量(频率) 枯水期低流量*事件、丰水期低流量事件 枯水期高流量*事件、丰水期高流量事件 连续三年低流量事件、连续三年高流量事件 枯水期水文历线反转数、丰水期水文历线反转数 时间变量(时间，延时) 枯水期单日最小值发生日、枯水期单日最大值发生日 丰水期单日最大值发生日 枯水期低流量事件平均延时、枯水期高流量事件平均延时 丰水期低流量事件平均延时、丰水期高流量事件平均延时 表1. 台湾生态水文指针系统 注：丰水期：五月至十月；枯水期：十一月至来年四月；低流量：平均日流量之0.25倍；高流量：平均日流量之2倍。 计算公式如下： (6) (7) 式中： 是推估值， 为推估值之平均， 观测值， 为观测值之平均以及N代表数据总笔数。"
"本研究复合式类神经网络(SORBN)，利用流量测站数据计算出台湾生态水文指针系统中的30个指针为网络输入项推估测站之生物多样性，由于资料笔数仅有11笔(生态调查资料较为缺乏)，因此采用交叉验证法架构模式，以确定模式之可靠度，其推估结果如表2所示，SORBN在训练部份RMSE为0.25，相关系数高达0.81， 图3. 复合式类神经网络(SORBN)架构图 图4. NSGA II的演算流程 而在测试部分虽然RMSE增加为0.28，但其相关系数仍有0.76，由图5可更清楚的看出网络推估值与实际值的关系，虽然每个点无法皆准确推估，但整体来说，各测站生物多样性的推估结果皆相当不错，因为环境生物多样性的推估属于较大范围、大尺度，故可以容忍较大误差，并不像洪水预报模式需要精准的推估其洪水量值， Table 2 Training Testing RMSE CC RMSE CC 0.25 0.81 0.28 0.76 表2. 模式评比指针结果比较 图5. SORBN推估散布图(交叉验证) 否则将会对生命财产有严重的影响，并且计算科歧异度实际值需要依靠现地调查来获取资料，而现地调查的准确性则会因调查方式或天候环境影响等因素而有误差，因此就CC及RMSE两项评比指标，SORBN对生物多样性的推估具有良好的效果。  水库供水在枯水年之情况下，较易产生人类用水供不应求，而需要与下游河川生态系统抢水之情况，故多目标优化方面采用非支配排序遗传演算II (NSGA-II)优选过去枯水年(1988年)之历史流量分别进行模拟操作，并和水库真实操作结果做比较。NSGA-II同时对人类需求目标及生态需求目标进行多目标优化优选，搜寻的最佳解为多目标之柏拉图最佳解，在NSGA-II的优选参数方面初始群集设定为1000，交配率设为0.9，突变机率设为0.02，停止代数订为400代。图6为1988年NSGA-II在各代数之搜寻结果，水平轴代表人类需求目标值(供水满意度)，垂直轴为生态需求目标值(生物多样性，SI)。 由图6可以发现，在第25代时，解集合在搜寻一开始为随机散布在解空间，随者演算代数的增加，渐渐的朝2个目标函数收敛，柏拉图锋(Pareto Front)逐渐清楚明显；图7为演算代数400代之结果，米字型标示为搜寻第400代之非支配解，也就是柏拉图最佳解；柏拉图最佳解意义为同时满足2个目标函数之最佳解，值得注意的是在单目标优化问题中最佳解只有一个，但在多目标优化问题中为一最佳解群集(柏拉图最佳解)，而解集合中每一个单独解都代表一水库操作的最佳操作，同时满足人类需求目标函数与生态需求目标。图中A点为最佳生态目标函数之解，可使下游生物多样性达最大之解，图B则代表最佳人类目标函数之解，即代表供水最满足下游人类用水需求之解，而C区则为妥协解，同时满足人类用水需求，且也能提升下游生态，从C区妥协解越趋近A点，则表示其解越满足生态需求，越趋近B点，则表示其解越满足人类需求；水资源决策者，可依其所重 图6. 各演算代数之柏拉图解 视之目标，选择合适之水库操作。 由以上结果可以发现藉由NSGA-II搜寻可提供多种水库操作方式；本部份研究主要优点在于除同时满足人类与生态的需求外，另提供多组弹性的水库操作方法，水库操作并不再是固定的，而是可以配合生态复育规划同时进行；水库操作可参考NSGA-II所搜寻到之解集合，了解若按照此进行操作会影响下游鱼类之生物多样性达到何种状况，以提供决策者参考。从另一角度来看，若对河川系统进行生态复育规划，希望藉由水资源管理来提升鱼类之生物多样性，即可依规划决定要将河段内鱼类生物多样性提升到何种预期之结果，进而选定NSGA-II柏拉图解集合中的某组解作为水库操作之依据，使其生物多样性达到规划水平。"
"本研究针对石门水库运转操作，结合类神经网络与模糊规划理论之多目标优化方法，搜寻多目标水库操作模式的最佳规划操作，以利于溪流生态复育，结论如下： 本研究为探讨完整水域生态系统之整体变化，选用了探讨物种歧异度之SI指标，透过具有分类效果之类神经网络建置复合式类神经网络并进行生物多样性之推估，各样站生物多样性的推估结果皆具有一定的精确度； 图7. 柏拉图最佳解(演算代数：400代) 因河川生态系统之环境生物多样性的推估属于较大范围、大尺度，故与水文模式相比较，可以容忍较大之误差，且现地调查的准确性亦会因调查方式或天候环境影响等因素而有误差，因此就CC及RMSE两评比指标来看，SORBN对鱼类生物多样性的推估已具有相当可靠的推估效果。 本研究研拟水资源永续管理策略；人类需求目标以满足下游每一旬之各水权单位供水需求为目的；类神经网络所推估之生物多样性，为生态需求目标函数；在多目标优化方面采用非支配排序遗传算法II (NSGA II)优选石门水库最佳蓄水历程与放流历程，搜寻的最佳解为多目标之柏拉图最佳解(Pareto-optimal solutions)，提供了一群同时满足多个目标函数的解集合，由NSGA-II搜寻可提供多种水库操作方式，同时也将生态需求一并加入，主要优点在于除同时满足人类与生态的需求外，另提供多组弹性的水库操作方法，水库操作不再是固定的，而是可以配合生态复育规划同时进行；多目标优化所搜寻出来的柏拉图最佳解能同时满足人类需求与生态系统需求。"
