"生产线仿真是对制造车间进行生产规划、调度的有效手段。本文针对某轨道交通装备制造企业SMT车间AGV调度系统设计过程中AGV数量规划、路径规划等问题，建立了基于Plant Simulation的生产系统仿真模型，以物料配送时间最小化为目标，总结最优车辆配置与布局方案，为车间生产物流方案提供决策支持。 关键词 :自动导引车，仿真，Plant Simulation，建模 Copyright © 2020 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"随着自动化程度的不断提高，SMT产线的高度自动化与仓储物料执行的传统手工作业越来越不相协调，劳动用工分配不合理 [ 1 ]。因此，自动导引车(Automated Guided Vehicle，AGV)逐渐成为生产线自动化物流系统的关键设备，来实现物料的仓储、分拣、校核、配送的自动化和智能化。由多辆AGV组成的自动导引车系统(Automated Guided Vehicle System，AGVS)广泛运用于许多行业的物流自动化中 [ 2 ]。然而由于AGVS属于典型的离散事件动态系统，在系统分析与优化过程中需要考虑的方面很多，如：AGV导引路径网络布局及装卸点位置安排、AGV配置数量确定、AGVS任务调度策略，以及AGVS交通管理策略等等 [ 3 ]。AGV价格昂贵，且AGV数量过多反而会阻碍其利用率的提升，造成资源浪费 [ 4 ]。因此如何根据生产计划配置相应数量的AGV并制定合适的调度策略，使其满足产能需求一直是企业关注的问题。 本文以某公司SMT车间为研究对象，针对车间AGV物流系统，以物料配送时间最小化为目标，基于Plant Simulation仿真软件建立模型，以改变AGV配置数量以及车间单元布局为手段，总结最优车辆配置与布局方案，为车间生产物流方案提供决策支持。"
"以AGVS在某公司SMT车间的应用为例，车间布局如图1所示。 图1. 车间布局示意图 图1中车间布局涉及到物料配送区和贴胶工位区。贴胶工位区又可分为四个区域，包括： ➢ 区域1：全自动贴胶机区域 ➢ 区域2：紧凑型在线贴附机区域 ➢ 区域3：多功能贴标机区域 ➢ 区域4：全自动贴胶机区域 其中，区域3共有工位24个，上下料点12个；区域2共有工位16个，上下料点8个；区域3共有工位23个，上下料点5个；区域4共有22个，上下料点11个。全部车间包含两种加工设备：压敏胶贴合55台，高温胶贴合46台。两种设备所用物料与物料配比均相同，仅生产节拍不同。"
"生产物流系统属于典型的离散事件系统，离散事件系统仿真的一般步骤包括：系统建模、确定仿真算法、建立仿真模型、设计仿真试验、运行仿真实验以及输出仿真结果分析数据 [ 5 ]。  目前应用于生产线仿真的软件有 Plant Simulation、Flexsim、Witness等，都采用了面向对象的虚拟仿真技术，并可以对模型系统进行模型规划和数据统计等操作。Plant Simulation原名em-plant，是以色列Tecnomatix开发的软件工具，被西门子公司收购后改名。  根据上文描述，贴胶工位涉及到的设备包括：压敏胶贴合55台，高温胶贴合46台，并且两种设备所用物料与物料配比均相同，仅生产节拍不同，因此在本次仿真中采用相同的模型。通过设置相应的节拍时间以区别两种设备。   在Plant Simulation中，AGV运行轨道用Track对象实现，采用单向单通道的方法，AGV在轨道上只能按照规定的方法依次通过。在装卸站点附近时，当AGV执行装卸作业时，该轨道仍将被占用，后续车辆不得通过。 每段线路根据其长度与AGV长度，限制了其可容纳车辆数量，因此当车辆进入各轨道前，设置传感器触发检测路段容量程序，程序由Method对象中编程语言实现。 在轨道的交汇点，通过设置sensor对象，控制车辆遵循先到先行的原则。  AGVS由AGV、导引路径网络以及AGVS控制系统组成，在Plant Simulation仿真软件中，AGV和导引路径可分别用Transporter和Track等对象来表示。AGVS控制系统可以分为AGVS中央决策层与AGV执行层。其中，中央决策层负责接受来自MES系统的物料配送指令，然后发布出库、备料、AGV调度等控制指令，并反馈执行信息给MES系统。物料配送流程如图2所示。 AGV每次只能搬运一个托盘，AGV运行速度为1 m/s，装卸载时间为25 s。AGV蓄电池充电特性为：每工作4 h需充电1 h。  每台AGV的工作均在上位机系统监控下运行，AGV随时向系统汇报自身工作状态，等待系统给出下一步将要经过的线路指令 [ 6 ]。当多辆AGV运行于同一个路径系统中时，不可避免地会存在相互干涉、冲突的现象。在单向路径网络中，AGV运行过程中常见的干涉如图3所示。 AGV运行过程中常见的干涉如图3所示。 图2. 物料配送流程 图3. AGV运行过程中常见的干涉现象 本次仿真由于车间轨道布局原因，采用等待规则，即若下一路段已被其他车辆占用，则车辆不能通行，必须等待系统许可后，继续前行。  搬运任务分配及AGV调度可理解为当系统中存 在多个搬运任务和空闲AGV时，确定搬运任务和AGV的分配关系。针对本文所研究的系统，采用先到先服务的策略，在Plant Simulation中，可以通过Table对象记录新的搬运任务及其产生的时刻，当系统中产生一辆空闲AGV时，立即执行Table对象中最先记录的搬运任务。 由于本文所研究的AGVS均是基于单向路径网络，AGV在每条路径段上允许的运行方向预先确定且在运行过程中不变，这就使得AGV自主路径规划成为可能，各AGV均存有地图(路径网络)，各AGV一旦获得目标工位点，即可通过Dijkstra算法规划一条从自身位置到目标节点的最短有向路径。 按照上述信息，结合本文研究对象实际背景构建仿真模型如图4。 图4. 车间设备布局仿真界面"
"根据该车间生产实际情况，随机生成多份模拟订单待完成；AGV中央系统获得订单后，将待加工原材料储存于物料柜，并开始发布任务。AGV每次运载柔性电路板原料12套或贴纸5份，其中每份贴纸可供生产10套电路板。AGV运行速度为1 m/s，原料取料及卸料时间均为30 s。 该生产车间为71个加工工位，根据本项目所设计物流方案，每两个工位公用一个送料点与一个回收点，生产节拍均假设为1 min/套。工位上料阈值为2套，即当线边暂存区库存低于2套时，向上位机系统发布上料请求。  由于AGV成本昂贵，AGV数量过多，不仅会造成资源浪费，也容易引起AGV之间的干涉和冲突，造成堵塞，增加调度的难度。反之，若AGV数量不足，将无法满足生产需求，造成设备等待和停机，影响车间的经济效益。 为此，本项目首先基于系统仿真模型和上述的参数设置，评估保证生产车间满负荷运行、稳定运行所需要的AGV数量，在此基础上制定AGV调度策略。仿真时，将系统中所需AGV数量作为可变参数，逐渐增加模型中的AGV数量。在每一班开始工作前，需AGV提前配送各工位所需物料，在每一种AGV数量下，记录AGV完成全部工位上料的准备时间作为评价指标。仿真结果如图5所示。 图5. AGV数量与准备时间之间关系 从图中可以得出如下结论： 1) 当AGV数量低于5辆时，增加AGV数量可以有效提高物料配送效率，减少生产前的准备时间。例如，当配置三辆AGV时，AGV完成全部工位上料任务所需时间为2.52 h，而当AGV数量为5辆，AGV完成全部工位上料任务所需时间为1.8 h； 2) AGV数量的增加与准备时间的缩短不完全成反比关系。随着车辆数量的增加，准备时间减少趋于不明显。尤其，当AGV数量达到5辆以后原因在于：多辆AGV同时作业时，需共用同一取料点，当前序车辆在取料点取料时，后续车辆不得通过或同时进行取料作业，造成堵塞。 另外，本项目所设计的轨道布局较为简单，任意两点之间路径均为唯一的，当车辆的行驶路段上，有其余车辆正在进行卸料或取料回库作业，同样会造成车辆堵塞，降低物流效率。 因此当AGV数量超过五辆后，单纯地增加车辆数量已毫无意义。 3) 在现有参数下，五辆AGV已足以将准备时间缩短至最小。考虑在满足生产实际需要的同时，需留有一定的余裕，因此配置六辆AGV是较为理想的方案。  根据上述结论，当前方案所设计的单一取料点，在AGV数量增加的情况下，容易造成堵塞，不能满足物料配送需求，因此设计仿真试验，改变取料点数量，分析其与生产物流系统性能之间的关系，为确定AGV最佳停靠点设置提供合理依据。仿真方案及主要性能指标比较见图6。 图6. 取料点数量与准备时间之间关系 由图中可以看出，增加取料点可以实现多台AGV同时取料，提高AGV取料效率，从而降低取料点堵塞程度，缩短准备时间。但是当取料点超过3以后，取料点数量对缩短准备时间的作用趋于不显著。原因在于：本仿真试验中AGV数量为固定值，当仿真运行时，很少存在过多AGV同时等待取料的现象，此时继续增加取料点数量则不能发挥相应的作用。"
"本文以Plant Simulation仿真软件为工具，以某轨道交通企业电子器件SMT生产车间为研究对象，建立了系统仿真模型并完成一系列仿真实验，得到系统在各种参数配置和调度策略下系统的性能指标，详细分析了AGV数量、停靠点设置与生产准备时间、加工设备利用率之间的对应关系。在此基础上得出结论：同时也验证了本项目所设计的AGV智能调度算法相较于简单调度策略的合理性与可行性，有效地提高了AGV服务能力。"
