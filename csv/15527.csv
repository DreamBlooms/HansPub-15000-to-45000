"为了满足镜头中心偏差测量中十字丝中心精确定位的要求，本文提出了一种基于微分算子和直线拟合的十字丝中心定位方法。根据十字丝成像的特殊性，首先，使用微分算子分别在X方向和Y方向求差分得到十字丝X方向和Y方向的边缘。接着，采用正交最小二乘法将刚刚得到的X方向和Y方向的边缘分别拟合为X方向和Y方向上的两条直线方程。最后，计算两条拟合直线的交点作为十字丝的中心。实验结果表明：在分辨率为1292 × 964像元为3.75 μm × 3.75 μm的CCD采集到的图像中十字丝中心的定位精度小于1个像素，在镜头中心偏差测量过程中其定位精度小于2 μm。基本满足镜头中心偏差测量对十字丝中心定位精度高、抗干扰能力强、重复性好等要求。 关键词 :十字丝中心，微分算子，直线拟合，亚像素"
"图像测量[ 1 ] 技术是近年来在测量领域中新兴的一种高性能测量技术。它以光学技术为基础，将光电子学、计算机技术、激光技术、图像处理技术等多种现代科学技术融合为一体，构成光、机、电、算综合体的测量系统。所谓的图像测量，就是把测量对像图像当作检测和传递信息的手段或载体加以利用的精确测量技术，是一种结合视频图像和计算机识别的图像处理技术，是测量被测对象时把图像当作检测和传递的手段或载体加以利用的测量方法，其目的是从图像中提取有用的信号。它通过对于获得的二维图像进行处理和分析，得到需要的三维场景的信息，最终实现测量的目的。目前视频图像的测量理论还没有通用的方法和算法，针对不同测量对象和条件，要研究不同的实用方法和算法。图像测量技术广泛应用于智能交通、安防、工业产品质量检测等各个领域，并且随着计算机技术和信息技术的发展，其实现方法和手段也将日新月异。 由于十字丝[ 2 ] 成像的特殊性，其经常被作为传递信息的载体用于图像测量技术之中。基于反射式的光学镜头中心偏差测量系统[ 3 ] 是一种光学镜头辅助装调设备[ 4 ] ，其工作过程为：将光源产生的十字丝聚焦在被测镜面的球心相对于其上所有镜面成像的像点上，通过反射成像在CCD上，旋转转台记录十字丝在CCD上成像的运动轨迹，将运动轨迹的零点位置和由运动轨迹拟合出的圆的直径作为两个重要参数代入光学公式中进行计算。因此，是否能够准确地定位十字丝中心的位置对整个光学镜头中心偏差测量系统的精度有着重要的影响。 本文针对十字丝成像正交性的特点，提出了一种结合微分算子[ 5 ] 和直线拟合[ 6 ] 定位十字丝中心的方法，即首先使用微分算子分别在X方向和Y方向求差分得到十字丝X方向和Y方向的边缘，然后采用正交最小二乘法将得到的X方向和Y方向的边缘拟合为X方向和Y方向上的两条直线方程，最后计算两条拟合直线的交点作为十字丝的中心坐标。实验结果表明，该方法具有良好的重复性，定位精度可以达到亚像素级[ 7 ] ，基本满足镜头中心偏差测量对十字丝中心定位[ 8 ] 精度高的要求。"
"对于离散的数字图像来说，一元函数f(x)一阶微分可以定义为差分形式： 而对于一幅二维数字图像而言，X方向和Y方向上的一阶微分可以分别定义为： 参照常用的Roberts算子、Prewitt算子、Sobel算子[ 9 ] 等边缘检测[ 10 ] 算子的定义，我们可以定义如图1所示的垂直算子和水平算子用于提取十字丝的垂直边缘和水平边缘。 在光学镜头中心偏差测量系统中使用的分辨率为1292 × 964的CCD采集到的实时显示的十字丝图像如图2所示。 的十字丝垂直边缘和水平边缘如图3所示。图3仅为中间输出结果的示意图，在实际应用的过程中只需保存垂直方向结果的x、y坐标以及水平方向结果的x、y坐标用于接下来的直线拟合即可。"
"经典的最小二乘直线拟合如图4所示，其基本过程为： 1) 假设拟合后的直线方程为y = kx + b，其中k为斜率，b为截距，是最终要求的两个量； 2) 假定任意一点的x坐标x i 是准确的，求使得 取得最小值时的k和b； 3) 根据2中的要求，应有 成立； 4) 解3中的方程可得：  在经典的最小二乘直线拟合过程中假定任意一点的x坐标x i 是准确的，然而在系统中得到的十字丝边缘的x、y坐标都是随机的，因此我们考虑使用如图5所示的正交的最小二乘[ 11 ] 直线拟合方法，以任意一点到拟合直线的距离为参考标准拟合X方向和Y方向的两条直线，其基本过程为：1) 假设拟合后的直线方程为y = kx + b，其中k为斜率，b为截距，是最终要求的两个量； 2) 计算任意一点(x i , y i )到直线y = kx + b的距离 ； 3) 求使得 取得最小值时的k和b； 4) 根据3中的要求同样应有 成立，即 5) 解4中的方程可得： 其中， 解得的竖直方向和水平方向直线方程各有两组解，在拟合竖直方向直线方程时取k的绝对值较大的一组解，在拟合水平方向直线方程时取k的绝对值较小的一组解。"
"为了验证本文提出方法的精度和重复性，我们将被测镜头固定后在光学镜头中心偏差测量系统上进行了实验，相机采用分辨率为1292 × 964、像元尺寸为3.75 μm × 3.75 μm的CCD。表1为将CCD曝光时间设置为25 ms，每隔10帧采集一次，用本文提出的方法计算10次十字丝中心位置得到的测量结果。 从表1列出的实验结果可以看出，在同一位置计算得到的十字丝中心最大位置和最小位置间的距离小于1个像素，能够达到亚像素级[ 12 ] ，多次测量的结果之间小于2 μm，具有较高的重复定位精度。 为了验证本文提出方法对光照的抗干扰能力，我们将被测镜头固定后分别在不同的曝光时间下采集到的图像如图6所示，表2为在不同曝光时间下计算得到的十字丝中心位置。 Table 1 测量次数 X图像位置(pixel) Y图像位置(pixel) X实际位置(μm) Y实际位置(μm) 1 680.15863 681.59857 2550.59473 2555.99463 2 680.22156 681.67889 2550.83081 2556.29590 3 680.34992 681.57111 2551.31201 2555.89160 4 680.27301 681.70746 2551.02368 2556.40308 5 680.42780 681.65851 2551.60425 2556.21948 6 680.21527 681.69531 2550.80713 2556.35742 7 680.39099 681.58215 2551.46631 2555.93311 8 680.25781 681.41876 2550.96680 2555.32056 9 680.18817 681.53333 2550.70557 2555.74976 10 680.20648 681.46826 2550.77417 2555.50586 平均值 680.26892 681.59126 2551.00855 2555.96719 方差 0.07455 0.08531 1.04861 1.19985 标准差 0.27303 0.29209 1.02401 1.09537 Table 2 曝光时间(ms) X图像位置(pixel) Y图像位置(pixel) X实际位置(μm) Y实际位置(μm) 10 679.87457 681.45491 2549.52954 2555.45581 15 679.95636 681.76788 2549.83643 2556.62964 20 679.99896 681.51349 2549.99609 2555.67554 25 680.15820 681.41388 2550.59326 2555.30200 30 680.24719 681.69016 2550.92700 2556.33814 35 680.33637 681.34298 2551.26148 2555.03613 40 680.31522 681.44219 2551.18213 2555.40820 45 680.26746 681.51128 2551.00293 2555.66724 平均值 680.14435 681.51709 2550.54102 2555.68897 方差 0.22126 0.14336 3.11163 2.01606 标准差 0.47038 0.37863 1.76398 1.41988 从表2列出的实验结果可以看出，在同一位置不同曝光时间下计算得到的十字丝中心最大位置和最小位置间的距离也小于1个像素，同样能够达到亚像素级，多次测量的结果之间小于2 μm，对光照强度的变化具有较高的抗干扰能力。"
"本文根据光学镜头中心偏差测量系统检测精度高的要求并针对十字丝成像的特点，提出了一种结合微分算子和直线拟合定位十字丝中心的方法，并将该方法应用于光学镜头中心偏差测量系统中。首先提取垂直和水平方向的边缘，然后拟合两个方向的直线方程，最后计算两条直线方程的交点作为十字丝中心位置。实验结果证明：在光学镜头中心偏差测量系统中采用的分辨率为1292 × 964像元为3.75 μm × 3.75 μm的CCD采集到的图像中，十字丝中心的定位精度小于1个像素，在镜头中心偏差测量过程中其定位精度小于2 μm。基本满足镜头中心偏差测量对十字丝中心定位精度高、抗干扰能力强、重复性好的要求。"
