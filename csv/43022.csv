"为了实现微直流的非接触测量，文中设计了一种基于磁阻效应原理的新型测量系统。该系统采用地静磁屏蔽，利用差分放大电路，有效地增强了磁阻元件的信号输出，实现了对微电流进行测量时无需将电流串入测量回路，利用间接测量恒磁场强度的方法达到测量电流的目的。该系统灵敏度高，结构简单，测量稳定，可满足5 mA以上微直流的非接触测量需要。"
"在电力的生产及输送环节中，微小直流电流广泛存在。微小直流电流作为一个重要的基础参数，在很多工业领域都需要进行测量、分析和监控，常规的做法是在线路中串入测量单元，这种做法不仅会引起信号的损耗，更引入了潜在的故障点，降低了系统的可靠性。采用非接触方式检测微小直流电流能够很好的避免以上弊端，本文设计了一种基于磁阻效应原理的新型微小直流电流测量系统。该系统采用地静磁屏蔽，利用差分放大电路，有效地增强了磁阻元件的信号输出，测量微电流时无需将电流串入测量回路，利用间接测量恒磁场强度的方法实现测量微直流电流的目的。"
"取如左图1所示的直角坐标系，C点坐标(0, 0, z 1 )，D点坐标(0, 0, z 2 )， L = z 2 − z 1 。把此直线电流看成电流元的集合，对直导线上的任一电流元 I d l ，其大小为 I d z ，它到场点P的距离为r， θ 为电流元 I d l 与矢量 r 之间的夹角，根据毕奥–萨伐尔定律，此电流元在P点所激发的磁感强度 d B 的大小为： d B = μ 0 4 π I d z sin θ r 2 (1) 图1. 电流与磁场强度关系图 根据右手螺旋法则易知dB方向为负X轴方向，且每个电流元在P点产生的方向一致，因此可以通过沿路径L对上式进行积分求出P点的磁场强度。 B = ∫ L d B = ∫ L μ 0 4 π I d z sin θ r 2 (2) 根据 r 2 = r 0 2 + z 2 ， sin θ = sin ( π − θ ) = r 0 r = r 0 r 0 2 + z 2 。 z的取值范围为z 1 到z 2 ，则由(2)式可得: B = u 0 I 4 π ∫ z 1 z 2 r 0 r 3 d z = u 0 I 4 π ∫ z 1 z 2 r 0 ( z 2 + r 0 2 ) 3 2 d z (3) 积分可得： B = u 0 I 4 π r 0 ( z 2 z 2 2 + r 0 2 − z 1 z 1 2 + r 0 2 ) (4) 当 z 1 , z 2 ≫ r 0 时， B = u 0 I 2 π r 0 (5) 由此可知电流正比于磁场强度，测量出直流电流产生的恒磁场即可间接测量出该电流的大小 [ 1 ]。"
"本文提出的基于磁阻效应的非接触式微直流检测系统的组成如图2所示，系统包括磁信号检测探头、信号放大、A/D转换、处理器、显示模块等几个组成部分。抗干扰探头将磁场强度转化为压差信号，经过精密放大电路对信号进行放大，经双极AD转换后，单片机实现数据读取及显示功能。 由于地球磁场强度在0.5~0.6高斯左右，为测量信号的200倍以上，因此设计一个抗干扰的探头和高性能的放大电路是该系统的关键和难点。 系统方框图如图2所示： 图2. 微电流非接触测量系统方框图  为实现在地磁影响下对微直流产生的微磁场的测量，本文研制了如图3所示抗干扰探头，该抗干扰探头由内部传感元件，测量磁场引导层以及外屏蔽层三部分组成，该结构除了能有效抗干扰外，还能有效降低由于测量导线的位置偏差所带来的误差。 图3. 抗干扰探头结构 探头外屏蔽层为筒状结构，采用高导磁材料制作，能有效屏蔽外来磁场的干扰 [ 2 ]。对于微小部分未能屏蔽的地磁影响，其径向对称结构可将地磁角度的变化所带来的测量影响转变成系统误差，使探头输出对于测量时不同的地磁角度具备一致性。 探头测量磁场引导层由高导磁低剩磁材料制成，作用为收集和约束待测磁场元件，并降低导线位置所带来的测量误差。测量磁场引导层做成“C”型结构，传感元件位于缺口位置，利于传感元件对磁场的测量 [ 3 ]。 探头系统测量核心部件是HMC1001磁阻传感器，HMC1001内部为惠斯通电桥结构，一路桥臂由具有磁阻效应的磁阻传感器组成，磁阻传感器阻值和外部磁场的磁矢量有关，电桥电阻的变化使电压输出产生相应的变化(内部结构见图4)。HMC1001传感器的桥式结构容易实现差分输入。 此磁阻传感器高达85 μ高斯的分辨率(电桥电压5 V，带宽10 Hz)是探头能测量微小电流的保障 [ 4 ]。 图4. 传感器内部结构  由于HMC1001传感器的灵敏度仅为1 mv/V/高斯，当测量微小磁场时，输出极为微弱，因此系统需要采用放大电路。放大电路采用精密仪用放大器INA128，该放大器内部由3个高精度运放组成，具有极低的偏置电压(50 uV)和温度漂移(0.5 uV/℃)，放大器高于10 10 欧姆的输入阻抗有利于改善传感器系统输入阻抗。 电路采用正负双电源供电，使系统具备测量正反双向电流功能外，同时为系统通过软件校零提供初始信号。 在管脚1和8之间外接电阻R G 即能实现1~10000的增益(见图5)，增益计算式为： G = 1 + 50   k Ω R G 。 图5. 放大电路示意图 放大倍速的选择与抗干扰探头的尺寸、制造材料的实际导磁率及系统量程有关 [ 5 ]。  本系统使用STC15芯片进行AD转换控制和显示控制。 考虑到探头结构的系统误差带来的零点漂移及需测电流的方向性，探头的电桥的输出有正、负电位可能，选取双极性的、具有参考电压输入端的A/D转换芯片，有利于后期数据处理。同时为配合抗干扰探头的高分辨率要求，使用转换精度为20位的差分输入双极性AD芯片CS5513。  系统采用模块化程序设计，使用了多个子程序，包括探头磁阻元件偏置/复位程序，系统零点校准程序、AD转换控制及接口程序、外中断/定时中断响应程序，显示程序等，完成了信号采集、信号处理、信号显示等功能(如图6)。 图6. 程序流程图"
"为了测试本文提出的基于磁阻效应的非接触式微电流检测系统(如图7所示)的性能，进行了一系列的实验，分别测试了系统的线性度和可重复性(即测量稳定性)。  为测试系统的测量精度及输入输出线性指标，本文通过使用简单恒压源和精密电阻产生微直流，经精密仪器校验后作为测试电流(如图8所示)，以此测试电流为X轴，放大器输出电压为Y轴建立坐标系，以5 mA和50 mA的数值作为始点和量程终点(满量程)，此两点连线建立系统端基输出拟合直线。考察系统输出线性度δ%， δ = Δ Y Y max − Y min ∗ 100 % 图7. 微直流非接触测量装置 图8. 微直流发生装置 测量数据如下表1： Table 1 测量点 1 2 3 4 5 6 7 8 9 实际电流(mA) 5 8.6 12.36 15.5 25 33.2 38.5 43.84 50 系统实际输出(V) / 0.843 1.209 1.515 2.403 3.212 3.718 4.229 / 端基输出拟合线数值(V) 0.488 0.832 1.19 1.49 2.379 3.18 3.685 4.195 4.783 偏差(%) / 0.256 0.442 0.582 0.559 0.745 0.768 0.792 / 表1. 测试电流与输出电压的基输出拟合直线 由上表数值可发现，线性偏差随输出增大而同时增大，若选择更好的拟合直线可使偏差范围缩小。  输入电流在5 mA到50 mA范围内随机选取某电流值,水平转到探头，独立测量3次，记录得到的放大器输出电压Y 1 ，Y 2 ，Y 3 。以下式表征测量稳定性A%： A % = | Y 1 − Y 2 | + | Y 2 − Y 3 | + | Y 1 − Y 3 | Y 1 + Y 2 + Y 3 随机选取9个点，分别计算A% (表2)。 Table 2 测量点 1 2 3 4 5 6 7 8 9 实际电流(mA) 5.60 9.33 12.45 17.52 28.40 34.80 37.50 41.45 49.3 Y 1 0.547 0.914 1.217 1.712 2.778 3.410 3.678 4.076 4.730 Y 2 0.548 0.915 1.218 1.714 2.780 3.433 3.697 4.106 4.748 Y 3 0.549 0.917 1.220 1.715 2.81 3.421 3.685 4.095 4.742 偏差(A%) 0.122 0.365 0.164 0.117 0.076 0.448 0.34 0.489 0.253 表2. 实测数据的稳定度 数值均小于0.5%，此测量稳定度数据意义极大，作为数字测量系统，可根据系统输入输出对应关系进行系统后期数据处理，结合线性度误差进行校验，使测量误差控制在0.5%以内，对于非接触测量系统，精度令人满意。"
"文中基于磁阻原理对微直流的非接触检测进行了阐述，重点介绍了抗干扰探头的结构和核心元器件的选用。该系统结构简单，分辨率高，反应灵敏度，对微电流的非接触测量进行了有益的尝试。此方案同样可满足微交流的非接触测量需要，基于交流频率对磁阻元件及AD转换器件的不同响应结果，本文对交流的测量情况不作探讨。"
