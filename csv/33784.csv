"振动筛筛面物料的疏密状态可以作为判断上层旋流器设备堵塞的辅助手段。采用图像处理的方法，使用振动筛筛面网格直线作为检测特征，以支持向量机分类器作为判别方法，设计了一种振动筛物料状态检测算法，利用计算机自动检测辅助人工监控，以及时发现堵塞情况，并减少疏漏。本文首先对总体算法思路进行了阐述；采用开运算与Canny边缘检测强化图像中的直线特征；然后使用基于累计概率霍夫变换的直线检测提取振动筛筛面上的特征直线；最后利用支持向量机作为分类器对提取到的特征进行准确分类。实验结果表明，本文方法能够有效地识别图像中振动筛筛面上物料状态，识别准确率达到97.38%。 关键词 :图像处理，开运算，Canny边缘检测，累计概率霍夫变换，支持向量机 Copyright © 2020 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"工作中的振动筛筛面上的物料状态可以视为判断上层旋流器设备是否出现堵塞的辅助手段，若工作中的振动筛筛面上物料稀疏甚至几乎没有，可视为是旋流器堵塞的间接证据；若物料稠密，则视为正常工作。因此对振动筛上物料状态进行监控具有一定意义。当旋流器入料口堵塞时，选煤厂依靠工作人员去发现中矸脱介筛物料的减少或精煤量突然增大、旋流器压力增大等来识别。因此可能会由于工作人员疏忽，致使发现堵塞时已经出现了严重的不利后果，如大量原煤进入精煤，造成精煤质量不合格；或原煤进入精煤，出现煤量过大，造成精煤离心机过负荷憋死；再者出现精煤皮带过负荷，出现压死精煤皮带等问题 [ 1 ]。 近年来，随着选煤厂智能化 [ 2 ] 概念的提出，许多选煤厂为了提高安全生产水平，在重要的生产厂区安装监控系统，以实现对现场的实时监控与录像，并通过网络传输和远程监视，期望及时发现并处理现场异常工作状况，尽早消除隐患。但在实际使用过程中，这种监控系统只能确保远程查看实时画面，仍然需要专职人员值守来监视生产现场的工作状况并进行人为判定 [ 3 ] [ 4 ]。长时间的监视工作易使工作人员产生疏漏，容易导致事故的发生。本文以某煤矿选煤厂为实际应用背景，在厂区现有监控系统的基础上，引入图像处理的方法，设计了振动筛物料状态检测算法。 为了解决在选煤厂中利用人工方式监控振动筛设备物料状态时，不仅会出现疏漏，还将消耗大量人力的问题，本文研究了基于图像的振动筛物料状态检测算法，利用厂房内布置的监控摄像头数据，经过图像灰度化、均衡化等经典图像处理方法，并使用图像的数学形态学处理，随后使用霍夫变换提取特征，随后利用SVM (支持向量机)进行分类检测，使计算机自动识别振动筛筛面上的物料状态，以实现对厂区内振动筛物料存在性的自动化监控，并以此为据，间接判断上层设备是否堵塞。"
"由节约人力成本与减少疏漏的目的出发，本文提出一种基于图像方法的振动筛物状态料检测算法，使计算机通过监控摄像头数据自动检测振动筛上物料状态是否稀疏，以辅助工作人员，减轻工作人员在振动筛监控中的工作压力。 基于图像方法的振动筛物料状态检测算法的原理框架如图1所示，首先将从监控画面得到的图像进行灰度化处理，并进行直方图均衡化，以增强整体监控画面；随后进行形态学处理，消除由于物料染色对振动筛筛面造成的特征不清晰问题；然后使用边缘检测提取振动筛及筛面轮廓；并利用累计概率霍夫变换检测图像中振动筛筛面上的直线作为特征；最后利用该特征，使用SVM分类器进行分类检测，达到检测振动筛筛面物料状态的目的。 图1. 振动筛物料检测算法总览"
"图像预处理的主要目的是消除图像中无关的信息，恢复有用的真实信息，增强有关信息的可检测性和最大限度地简化数据 [ 5 ]。选煤厂实际场景中，由于光线变化复杂、摄像头抖动等问题的存在，需要对原始图像进行预处理以增强可检测特征信息。本文使用筛面上的直线作为检测特征，因此进行图像预处理将图像内容简化，进而提取直线特征，提高特征提取的可靠性。  开运算是腐蚀运算与膨胀运算的组合 [ 6 ]，在第一步求腐蚀运算时，腐蚀掉比结构元素小的量细节并同时减弱图像整体的灰度值；第二步的膨胀运算提高整体图像的亮度，但对已腐蚀的细节不再引入。即对灰度图像进行开运算，将去除比结构元素小的亮细节。开运算的数学定义如式(1)所示： X ∘ S = ( X ⊖ S ) ⊕ S (1) 其中X表示像素集合，S为进行形态学处理的结构元素。 本文使用的图像数据采集自真实现场，振动筛筛面在工作中被物料染色，导致筛面网格直线不够清晰，因此采用形态学处理中的开运算消除小的色块，并在保留平滑边界的同时消除表面的突起与毛刺。对图像数据进行开运算后的效果如图2所示。 图2. 开运算效果  由于Canny算子使用了非极大值抑制的方法，其能够在检测中去除不是边缘的点；同时Canny算子采用双阈值检测和边缘连接 [ 7 ]，使用大阈值得到边缘的图像，小阈值控制边缘连接，在图像中弱边缘和强边缘相连时，使得弱边缘能够输出，从而使边缘闭合。Canny算子的数学表达如式(2)与式(3)所示，分为两个方向。 s x = [ − 1 1 − 1 1 ] (2) s y = [ 1 1 − 1 − 1 ] (3) 使用Canny算子进行边缘检测的主要步骤如下： 1) 使用高斯平滑滤波器卷积消除噪声干扰 2) 采用不同的梯度算子计算梯度幅值和方向 3) 对梯度幅值应用非极大值抑制，将图像梯度中局部极大值以外的值置零 4) 使用双阈值检测和连接边缘 本文使用Canny边缘检测以达到最优边缘检测的效果，首先采用高斯滤波对图像做平滑，后计算平滑后图像中各像素处的梯度幅值和方向，采用非极大值抑制细化边缘，并利用双阈值检测和连接边缘最终得到细化的边缘图像，同时进行图像二值化。为有效提取振动筛筛面的直线特征，使用Canny边缘检测提取筛面上的边缘信息，能够有效得到筛面网格直线，为特征直线的检测提供良好数据。Canny边缘检测的效果如图3所示。 图3. 边缘检测效果。(左：物料稠密；右：物料稀疏)"
"霍夫变换 [ 8 ] 是图像变换中的经典手段之一，主要用来从图像中分离出具有某种相同特征的几何形状(如直线、圆等)。霍夫变换寻找直线与圆的方法相比其他方法可以更好的减少噪声干扰。经典的霍夫变换常用来检测直线、圆、椭圆等。 霍夫变换的原理是将 x − y 轴坐标系下的直线变换到 r − θ 表示的极坐标系中。直线是图像中离散点的集合，因此极坐标系下直线可表示如下： r = x cos ( θ ) + y sin ( θ ) (4) 其中， ( x , y ) 为某点坐标，r为点到坐标原点的距离， θ 是点与原点连成直线的倾角。 如图4所示，当存在点 ( x 0 , y 0 ) ，r是一条正弦曲线，而其中的每一组 ( r , θ ) 都表示经过点 ( x 0 , y 0 ) 的一条直线。在图4中，当三条正弦曲线相交，则表示一条直线经过了3个不同的点。在实际应用中，需要设置一条直线经过的不同点的数量为阈值，根据阈值大小判断该 ( r , θ ) 是否表示原图中的一条直线。 图4. 霍夫空间。(左：一条霍夫空间曲线；右：三条曲线经过一点)  由于霍夫变换 [ 9 ] [ 10 ] 的计算将遍历图中的点，因此计算量大、消耗时间长、实时性差，累计概率霍夫变换的提出则解决了这一问题。假设图像中存在M个特征点，此方法将只计算其中的 m ( m < M ) 个特征点，特征点的选取存在概率性，因此称为累计概率霍夫变换。该方法是效率更高、效果更好的霍夫变换，不仅可以减少时间消耗，还能够输出直线段的端点 ( x 1 , y 1 ) 与 ( x 2 , y 2 ) ，使检测结果更加准确。算法的描述如下： 经过累计概率霍夫变换直线检测的效果如图5所示。 图5. 振动筛直线检测效果  SVM (支持向量机)是建立在统计学习理论的VC维理论和结构风险最小原理基础上的，根据有限的样本信息在模型的复杂性(即对特定训练样本的学习精度)和学习能力(即无错误地识别任意样本的能力)之间寻求最佳折中，以求获得最好的推广能力 [ 11 ] [ 12 ] [ 13 ]。在机器学习中，SVM是与相关的学习算法有关的监督学习模型，可以分析数据，识别模式，用于分类和回归分析。给定一组训练样本，每个标记为属于两类，一个SVM训练算法建立了一个模型，分配新的实例为一类或其他类，使其成为非概率二元线性分类 [ 14 ]。 本文使用的分类方法为SVM，由于它在处理小样本数据、非线性模式识别中有一定优势，且本文算法使用的训练数据集并不复杂，可以发挥出SVM的优势，以小样本得到良好的训练效果，因此采用SVM作为分类的方法应用在振动筛物料检测的分类阶段。 首先对物料稀疏和稠密时的振动筛视频各采集200帧画面，并提取其中筛面上检测到的特征直线数量，保存为训练与测试样本。由于本文所研究的问题属于小样本问题，分类内容较为简单，因此选取两种场景的样本中的前50个样本作为训练样本，其他样本作为测试样本。样本的分布情况如图6所示，两种场景的样本间具有较为明显的间隔，有利于SVM的使用，但仍存在难以判断的点，这将对分类器的训练结果产生影响。预测结果如图7所示，分类准确率达到97.67%。 图6. 物料稀疏与稠密时特征分布 图7. 预测效果"
"由于样本选择的随机性，训练的分类器效果会有所不同，为了减小样本选择偶然性的影响，本文在评估阶段使用交叉验证对本文算法进行评估；又因本文样本集较小，故使用四折交叉验证 [ 15 ]。首先，将所有的样本分为四个部分，每一部分共100个样本；其次，每次选择其中一部分作为训练样本，而其他四个部分用作测试样本，训练样本与测试样本不重复；随后，使用不同的训练样本与测试样本进行实验；最后，将每次实验的结果进行平均，得到最终的检测准确率。 本文四折验证的结果如图8所示，由结果可知，使用传统机器学习方法SVM作为分类器得到的检测结果较为稳定，波动较小，整体算法能够达到良好的检测效果。实验结果说明本文算法对振动筛筛面物料状态具有良好的检测效果，平均检测准确率达到97.38%，该研究能够达到辅助工作人员进行振动筛筛面物料状态监控的目的。 图8. 四折交叉验证检测准确率"
"本研究实现了对振动筛筛面物料状态的自动检测。采用开运算处理筛面上污点导致特征直线不清晰的问题；使用Canny算法进行筛面的边缘检测，得到边缘闭合的细化边缘图像；将累计概率霍夫变换法作为本文的核心算法，有效地辨析识别出振动筛筛面的网格直线特征，并且可以准确地判断出其特征直线的两端，可设置阈值筛选不同长度的直线；最后，使用SVM进行分类判别，以得到较为稳定准确的分类检测效果。由于筛面物料状态不同时，可提取到的特征直线数量具有较大差异，因此可以利用特征直线数量对振动筛物料状态进行检测。通过实验对本文算法进行验证，实验结果充分表明该算法在振动筛筛面物料检测中具有有效性和实用性，可以用作人工监控振动筛物料状态的辅助手段。后续工作将改善检测特征及分类算法以提高检测准确率和增强实时性等方面进行进一步研究。"
