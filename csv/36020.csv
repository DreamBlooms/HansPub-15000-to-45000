"本文针对大型建筑的紧急疏散问题，首先将建筑划分为多个区域，所有区域设为一个状态集合，区域人数设为状态值，区域间人员的转移数量设为状态转移量，构建出一个大型建筑的状态网络。然后，以疏散时间为决策变量，建立基于状态网络理论的动态优化模型。并在获得各区域的拥堵程度和潜在拥堵点的基础上，使用调度因子生成最优的疏散策略。最后，通过实例模拟验证了模型的可行性和疏散策略的高效性。 关键词 :紧急疏散，状态网络，动态优化，调度因子 Copyright © 2020 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY 4.0). http://creativecommons.org/licenses/by/4.0/"
"大型建筑通常都是当地的地标建筑，人群聚集场所。在火灾等突发状况下，由于建筑结构上的复杂性和建筑规模的庞大性，其人员快速疏散策略显得尤为重要，也得到了大型建筑设计者和管理者的广泛关注。早在20世纪30年代，人员疏散研究已经在美国初步兴起，主要用于火灾科学领域。20世纪50~60年代，前苏联Predtechenski，Milinski等人 [ 1 ] 进行了大量观测统计工作，归纳出人员疏散流动的基本规律。日本学者Togawa [ 2 ] 对密集人群的疏散行为、移动速度进行研究，推导出疏散时间近似公式。加拿大Pauls [ 3 ] 等人总结出一系列关于多层建筑疏散时间的经验公式，认为疏散速度与通道宽度呈非线性关系。我国在这一领域的研究主要集中于计算机模拟仿真，具有代表性的工作包括高层建筑人员疏散仿真模型Building Evac [ 4 ]、基于元胞自动机的人群疏散模型 [ 5 ]、以及基于几何方法的疏散仿真模型GAEvac [ 6 ] 等。 以上研究大多没有考虑到人员疏散的动态性，且在疏散过程中过于强调人为引导，给疏散工作带来难度。本文在充分考虑人员疏散的动态性的基础上，提出一种动态模型，将大型建筑抽象为状态网络 [ 7 ]，建立关于疏散人数变化的动态方程组，寻找潜在会发生拥堵的地点，再对这些点进行调度建立新的方程组，开发出紧急疏散下的动态优化 [ 8 ] 模型，最大化降低疏散工作难度，提高紧急疏散的效率。"
"大型建筑通常人员众多且出口有限，在紧急疏散时，很可能造成局部堵塞，会严重影响疏散的速度和安全 [ 9 ]。因此，进行疏散规划首先应找出建筑的潜在拥堵点，再对潜在拥堵点进行疏散优化，进而提高疏散效率。  为了寻找潜在拥堵点，首先将建筑的每一层都划分为多个区域，划分规则为：对于含有楼梯的区域，应保证通往下一层的楼梯数量尽可能相等；由于大型建筑内部构造往往是多样化的，为了便于计算，划分区域时应尽量保证各区域面积相近。然后将每一个区域抽象为一个状态空间，构成状态集，状态值为该区域的人数，将楼梯抽象为状态通路。通过观察人员紧急疏散时的本能反应 [ 10 ]，在没有人为干预疏散时，由疏散人员根据自己的主观判断进行疏散，通常有以下两种情形： 情形一：区域内有通往下一层的楼梯。 图1. 无干预疏散情形一的状态网络图 如图1所示，该区域的人员往往会优先选择通过楼梯疏散。建立状态网络进行描述，可得下列动态方程组： X 2 ( k ) = X 2 ( k − 1 ) − f 2 ( k ) (1) X 1 ( k ) = X 1 ( k − 1 ) − f 1 ( k ) + f 2 ( k ) (2) 其中， X 2 ( k ) 为k时刻状态2的人数，即状态值， X 2 ( k − 1 ) 为 k − 1 时刻状态2的状态值， X 1 ( k ) 、 X 1 ( k − 1 ) 同理； f 2 ( k ) 为状态2至状态1的状态转移量， f 1 ( k ) 同理。 情形二：区域内无楼梯或出口。 图2. 无干预疏散情形二的状态网络图 如图2所示，人员会向相邻的区域转移，转移人数通常与区域间人数差值有关，为了量化状态转移量，引入一个选择因子q作不同方向转移人数占总转移人数的权重，计算q值采用如下算法： q j = { 0 , X j ( k ) ≥ X i ( k ) X j ( k ) − X i ( k ) ∑ j = 1 n [ X j ( k ) − X i ( k ) ] , X j ( k ) < X i ( k ) (3) 其中， X i ( k ) 为k时刻没有楼梯口的区域i的人数， X j ( k ) 为k时刻相邻区域j的人数，n为相邻区域中满足 X j ( k ) < X i ( k ) 的区域个数。 将图2所示的转移过程用状态网络图描述，可得下列动态方程： X 0 ( k ) = X 0 ( k − 1 ) − q 1 ⋅ h 0 ( k ) − q 2 ⋅ h 0 ( k ) (4) 其中， X 0 ( k ) 为k时刻状态0的状态值， q 1 为状态0转移至状态1的选择因子， q 2 为状态0至状态2的选择因子， h 0 ( k ) 为k时刻状态0的总状态转移量。 对于所有的状态点，当 X ( k ) > X ( k − 1 ) 时，便将该状态视为潜在拥堵点。  1) 人流密度 人流密度反映一个空间内人员稠密程度 [ 11 ]，其值的计算为： D = N ⋅ f W ⋅ L ( m 2 / m 2 ) (5) 其中，N (个)为人流中人员的个数，f (m 2 )为平均每个人的水平投影面积，W (m)为人流宽度，L (m)为人流长度。由于各区域面积相等，W·L可以视为一个不变的常量。 2) 疏散速度 根据参考文献 [ 12 ] 可知，不同地点的疏散速度也是不同的： 紧急情况下，水平通道的平均疏散速度 [ 13 ] 为： V = ( 1.49 − 0.36 D ) × ( 112 D 4 − 380 D 3 + 434 D 2 − 217 D + 57 ) ( m / min ) (6) 其中D为人流密度，且 0 < D ≤ 0.92 。 紧急情况下，经过门的平均疏散速度 [ 13 ] 为： V 0 = V [ 1.17 + 0.13 sin ( 6.03 D − 0.12 ) ] ( m / min ) (7) 紧急情况下，下楼梯的平均疏散速度 [ 13 ] 为： V 1 = 1.21 V ⋅ [ 0.775 + 0.44 e − 0.39 D ⋅ sin ( 5.16 D − 0.224 ) ] 1.49 − 0.36 D ( m / min ) (8) 3) 状态转移量 某时刻的状态转移量是该时刻的速度与人流宽度的乘积除以单人平均面积，因此，某时刻水平通道的状态转移量、楼梯的状态转移量和经过门的状态转移量分别定义为： h ( k ) = V ( k ) ⋅ W f (9) f ( k ) = V 0 ( k ) ⋅ W f (10) g ( k ) = V 1 ( k ) ⋅ W f (11)  上述疏散方案所建立的状态网络中，含有楼梯口的状态点只能在各楼层间单向转移，与同一楼层内的状态点是不相通的。因此，尝试对潜在拥堵点中含有楼梯口的状态点进行适当调度 [ 14 ]，如图3所示，引入一个调度因子d，将0状态值与相邻状态值比较，与选择因子同理求出调度因子的值，即可得到向各相邻状态的转移量，建立动态方程组，然后比较调度前后的总疏散时间的大小，从而决定是否调度。这样能够有效缩短疏散时间，提高疏散效率和安全性。 图3. 调度因子作用下的状态网络图 图中， X 0 ( k ) 为潜在拥堵点；m为相邻状态点中满足 X 0 ( k ) > X j ( k ) 的个数； X m ( k ) 为与0状态相邻的第m个状态； d m 为0状态至m状态的调度因子，其计算方法为： d m = { 0 , X m ( k ) ≥ X 0 ( k ) X m ( k ) − X 0 ( k ) ∑ j = 1 m [ X j ( k ) − X 0 ( k ) ] , X m ( k ) < X 0 ( k ) (12) 对于0状态可建立如下动态方程： X 0 ( k ) = X 0 ( k − 1 ) − ∑ j = 1 m d j h 0 ( k ) (13) 最后建立整栋建筑所有状态的动态方程，计算不同调度点和数量下，最后一个被清空的状态所耗时间，该时间即为总疏散时间，且该时间越小，表明该疏散方案越优。"
"以卢浮宫 [ 15 ] 为例，使用模型进行紧急疏散仿真。为了便于求解，假设各个展区人数相等且均匀分布，将卢浮宫的出口等效为三个位于0层的小出口和一个位于−1层的大出口。然后对卢浮宫的−1层至2层进行等面积区域划分，构成状态集，按照模型中寻找潜在拥堵点的规则，初步规划疏散路线，构成边集，如图4所示。 图4. 卢浮宫状态网络示意图 然后对状态集建立动态方程组，以第1层为例，建立的动态方程组如下： { X A 1 ( k ) = X A 1 ( k − 1 ) + f A 2 ( k ) − f A 1 ( k ) + q A 1 h C 1 ( k ) X B 1 ( k ) = X B 1 ( k − 1 ) + f B 2 ( k ) − f B 1 ( k ) + q B 1 h C 1 ( k ) X C 1 ( k ) = X C 1 ( k − 1 ) + f C 2 ( k ) − h C 1 ( k ) X D 1 ( k ) = X D 1 ( k − 1 ) + f D 2 ( k ) − f D 1 ( k ) + q D 1 h C 1 ( k ) X E 1 ( k ) = X E 1 ( k − 1 ) − f E 1 ( k ) + q E 1 h C 1 ( k ) X F 1 ( k ) = X F 1 ( k − 1 ) − f F 1 ( k ) X G 1 ( k ) = X G 1 ( k − 1 ) − f G 1 ( k ) (14) 式中，A1至G1分别代表第1层的7个状态； X ( k ) 为k时刻的状态值； f ( k ) 为k时刻通过楼梯的状态转移量； h ( k ) 为k时刻通过水平通道的状态转移量；q为选择因子；其他楼层同理。 假设每个状态的初始值为50人，即 X ( 0 ) = 50 ，使用Matlab软件对动态方程组进行编程仿真，得到各楼层各状态值变化曲线，以−1层为例，结果如图5所示。 图5. 部分状态值变化曲线(以−1层为例) 观察各楼层状态值变化曲线，找出状态值变化曲线中含有增加阶段的状态有B0、D0、E0、F0、E − 1、F − 1，即为潜在拥堵点，然后可以结合实际情形，对这些状态进行适当调度。这里以对E0状态进行调度为例，使用模型中的调度因子进行调度，建立E0状态新的动态方程： X E 0 ( k ) = X E 0 ( k − 1 ) + f E 1 ( k ) − f E 0 ( k ) − d F 0 h E 0 ( k ) (15) 式中， X E 0 ( k ) 为k时刻E0的状态值， f E 1 ( k ) 为k时刻由E1至E0的状态转移量， f E 0 ( k ) 为k时刻由E1至E − 1的状态转移量， h E 0 ( k ) 为E0水平通道的状态转移量， d F 0 为E0至F0的调度因子，考虑人流方向不冲突，所以E0不应往C0或A0调度。 更新动态方程组并使用Matlab模拟仿真，能够发现拥堵程度大幅降低，且疏散时间也有所减小，如图6所示。 图6. 部分状态调度前后对比曲线 从图6中可以看出：调度后E0状态的拥堵程度有所降低，且疏散时间大幅减小，但也牺牲了相邻F0状态的疏散时间，而E − 1状态调度后拥堵程度和疏散时间都有大幅降低。 图7. 各楼层疏散时间 通过模拟仿真可得调度前后各楼层清空的时间(秒)，如图7所示，从图中可以看出：调度后有效减少了−1层的疏散时间，整栋建筑的疏散时间从450秒降到292秒，可见实施调度的可行性和必要性。"
"紧急疏散的动态规划模型考虑到疏散过程的动态性，代入建筑的相关参数，即可通过模型求解出建筑各处的拥堵程度及预测疏散状况，并且能反映人员疏散的行为，更形象、更真实地反映疏散过程。 紧急疏散的动态规划模型的独特之处在于：可以得到建筑的潜在拥堵点，在进行疏散规划时，只需要对潜在拥堵点进行适当调度，就能减小疏散管理规划的工作难度，同时也能提高疏散效率，另外还可以对潜在拥堵点所在的位置进行通道改造，具有一定的现实意义。 紧急疏散的动态规划模型从人流群体的角度进行分析，对人员间的差异性考虑不够完善，需要进一步的研究和完善。"
