"加工中心是先进制造业的基础装备，其可靠性水平直接关系到产品性能的优劣。目前，加工中心刀库及机械手等关键功能部件可靠性失效数据为非均匀离散数据，难以对加工中心的可靠性提高起明显作用。为此，本文提出采用马尔科夫模型与发生函数结合的方法，具体评估各分系统状态对寿命范围内加工中心可靠性的影响。基于发生函数获得的加工中心可靠度数据，建立响应面模型，获得各分系统对加工中心可靠性影响水平，进而得到了加工中心刀库及机械手等分系统参数对加工中心可靠性的影响因子，为加工中心的改进设计提供了理论与实验依据。"
"近年来，由于国产加工中心技术发展迅速，国内许多机床厂家都拥有了达到国际水平或接近国际水平自主开发的加工中心机床。但是，高质量、高可靠性加工中心的许多关键零部件，如五轴联动系统、丝杠、高速电主轴、直线导轨、刀库、ATC换刀机构等依然很大程度依赖进口 [ 1 ]。我国作为一个数控机床生产与使用的大国，更应该发展高可靠性、高性能且具有自主知识产权的加工中心。加速高档数控机床功能部件的国产化及产业化，不仅为推进高档数控机床进入国际市场创造条件，同时也为整个数控机床产业的发展奠定坚实的基础 [ 2 ]。 传统的加工中心可靠性评估立足于普通更新理论和非齐次随机过程，即把状态简单地分为“正常”和“失效”，前者代表加工中心在运行时处于最初始的“如新状态”，后者代表加工中心每次损坏维修后恢复到故障发生前的“如旧状态” [ 3 ]。然而现实情况却更加复杂，整个加工中心系统的大部分小型零部件可更换、中型零件可维修，只有极少数大型部件损坏才会导致系统彻底损毁。这就使得加工中心的运行状态可以分成多种层次，如机械手与刀库配合自动换刀的过程，除了简单分为换刀完美成功与换刀完全失败两种状态外，还包括：换刀成功，但是换刀时间变长、或者换刀精度衰退等情况。 目前加工中心可靠性失效数据采集大多是对在生产车间生产线上正常运转的加工中心进行现场可靠性试验，当发生故障时候，由机床的操作者或者维修人员根据故障现象和故障类型进行故障分析并记录。数据的采集周期长，且由于生产产品的不同，加工中心经常处于不同的运转工况，且截尾时间也不尽相同。而如果搭建加工中心试验平台，虽然可以克服试验周期长和试验不可重现的缺点，但成本巨大，绝大多数企业及高校无法搭建。为了克服上述问题，将加工中心系统拆分为多个互不影响的分系统，对每个分系统的状态进行单独测试及数据收集。每个分系统运行中存在各个状态，“状态”与“状态”之间由于故障或者检修等因素存在相互转移的关系。马尔科夫链是研究不同状态之间随机转移过程常用的方法，但当变量参数较多时，计算数据会变得相当复杂，因此本文采用马尔科夫模型与发生函数结合的办法，具体计算各分系统状态对寿命范围内加工中心可靠性的影响，然后基于发生函数获得的加工中心可靠度数据，建立响应面模型，获得各分系统对加工中心可靠性影响水平，从而研究得到改进方案 [ 4 ]。与传统计算方案相比，改方案数据收集效率更快，准确性更高，成本更低。"
"在复合型加工中心中，换刀装置一般分为刀库及机械手两个部分，刀库一般除了储存刀具的功能外，还需要负责在合适的时机将刀具传送至准确的地点，随后通过机械手将刀具从刀库转移至主轴并固定 [ 4 ]。在加工复杂零件时，可能需要在较短时间内多次交换刀具，这就使得换刀系统成为加工中心的可靠性薄弱环节。所以为了加工中心的应用前景，对加工中心的刀库及机械手的可靠性优化设计是非常有必要的。 加工中心换刀装置的可靠性是指其在指定的运行条件下，能够在规定时间内成功完成储刀选刀及换刀的能力。在已有的可靠性分析中，研究者一般对在生产车间现场正常运转的加工中心进行现场可靠性数据采集。当加工中心产生故障时，由生产企业的维修部门和机床操作者根据故障现象和故障类型进行记录并维修。此方法耗时较长，且获得的数据大多为离散数据，难以据此分析出具体的改进方案。为解决上述问题，本文通过将发生函数与马尔可夫模型相结合，以此获得较详细的可靠性数据并得出具体改进方案。 模型首先需确定对加工中心可靠性影响最大的性能参数。在执行换刀动作时，机械手和刀库需要完成的动作类型多、速度快、对定位准确性要求高。在加工复杂程度较高的零件时，更是有可能几十秒交换一次刀具，因此刀库和机械手是加工中心的可靠性薄弱环节 [ 5 ]。根据企业生产一线加工中心故障率统计，换刀系统的故障率占到整个加工中心系统故障的60%以上。本文根据刀库及机械手的运行要求，设定刀库及机械手的工作时间t及到位精度d为影响加工中心可靠性的主要性能参数 [ 6 ]。通过运行时间及次数的累积，工作时间t逐渐变长，到位精度d误差逐渐变大，在不产生重大故障导致加工中心彻底损毁换新的条件下，系统零件的磨损、疲劳、松动等问题会使换刀时间变长、精度逐渐衰退，而定期检修，添加润滑剂，更换磨损零件等行为等可以在一定程度上恢复性能，即时间t和到位精度d的连续多态性。 刀库及机械手的性能主要分为工作时间t及到位精度d，如表1所示： Table 1 系统 刀库 机械手 工作时间T 时间t 1 时间t 2 换刀精度D 精度d 1 精度d 2 表1. 系统性能评价指标 系统的性能函数指系统状态与分系统状态之间的关系，需要先通过系统整体可靠性与各个分系统具体性能参数之间的关系表达式直接建立可靠性模型 [ 7 ]。再根据刀库及机械手工作运行的特性，将加工中心换刀的工作时间等价为刀库及机械手运行时间相加之和，同时加工中心的换刀精度取分系统状态较差的部件状态。由此可得到各元件系统性能结构函数式(1)和(2)： G : ( G 1 ; G 2 ; G 3 , ⋯ , G n ) (1) { T ( n ) = t 1 ( n ) + t 2 ( n ) D ( n ) = max ( d 1 ( n ) , d 2 ( n ) ) (2)"
"发生函数法是常用的求解系统可靠度的方法，而对工程系统可靠性分析则需要建立多态分系统的发生函数 [ 8 ]。 加工中心系统由两个相互独立的分系统刀库X 1 和机械手X 2 组成，刀库系统的性能参数为：工作时间t 1 、运行精度d 1 ；机械手系统的性能参数为：工作时间t 2 、运行精度d 2 ，各分系统的实际性能值可通过对分系统单独测试试验获得 [ 9 ]。 设定 g min 为系统性能最好的状态， g max 为系统性能最差的状态，则系统性能函数的取值范围为 G n = [ g min , g max ] 。然后将连续的性能函数离散化，工作时间 t i ( i = 1 , 2 ) 分成 M t i 个子区间： [ t i , min , t i , 1 ) , [ t i , 1 , t i , 2 ) , ⋯ , [ t i , M t i − 1 , t i , max ] ；运行精度 d i ( i = 1 , 2 ) 分成 M d i 个子区间： [ d i , min , d i , 1 ) , [ d i , 1 , d i , 2 ) , ⋯ , [ d i , M d i − 1 , d i , max ] [ 10 ]；以此组成性能函数式(3)： 状 态 1 : ( t i , min , d i , min ) ≤ G ( t ) < ( t i , min , d i , 1 ) 状 态 2 : ( t i , min , d i , 1 ) ≤ G ( t ) < ( t i , 1 , d i , 1 )                                                     ⋮ 状 态 M : ( t i , M t i − 1 , d i , max ) ≤ G ( t ) ≤ ( t i , max , d i , max ) (3) 其中，状态1代表加工中心处于全新状态，所有分系统处于性能最完美的程度；状态M代表最差的状态，即完成一次换刀动作所需时间最长，运行精度最差的状态，状态1到状态M代表加工中心性能逐渐衰退的过程。分系统的性能值取各区间的中值，式(4)： G i ( t ) = { g i 1 , g i 2 , ⋯ , g i m } = { ( t i , min , d i , min + d i , 1 2 ) , ( t i , min + t i , 1 2 , d i , 1 ) , ⋯ , ( t i , M t i − 1 + t i , max 2 , d i , max ) } (4) 由此即可建立加工中心系统的可靠性发生函数 [ 11 ]： R ( t ) = U S = ∑ i = 1 n ∑ j = 1 m p i j s g i j (5) 式中 p i j 代表分系统i处于状态j的概率，当 t = 0 时，加工中心系统处于全新无损耗状态，此时 p i 1 = 1 ， p i 2 = p i 3 = ⋯ = p i M = 0 ，各状态的随机变量系数相乘，发生函数的指数根据性能函数G决定 [ 12 ]。"
"状态概率代表加工中心换刀系统在运行一定次数后处于各个状态的概率，可以定义为： p i ( t ) = { p 1 ( t ) , p 2 ( t ) , ⋯ , p M ( t ) } (6) 马尔可夫模型是1907年由俄国人马尔可夫提出用来研究随机过程的一种模型，研究的是系统“状态”与“状态”之间相互转移的关系。这种状态转移过程是完全随机的，即只要前一个状态的概率 p i ( t − 1 ) 确定了，下一个状态的概率 p i ( t ) 即可决定，并与更前面的状态无关，这一过程就被称为马尔可夫过程，即 [ 13 ]： P { p i ( t n ) | p i ( t n − 1 ) } = P { p i ( t n ) | p i ( t 1 ) , p i ( t 2 ) , ⋯ , p i ( t n − 1 ) } (7) 式中， p i ( t n ) 表示处于时间 t n 时的状态概率，说明 p i ( t 1 ) , p i ( t 2 ) , ⋯ , p i ( t n − 1 ) 这n − 1个时间下的条件概率等于 p i ( t n ) 时间下的条件概率。可以理解为在此之前的状态与现在的状态之间无关联，此称为无后效性。 分系统i的状态j的性能值为 g i j ，其中 i = 1 , 2 ， j = 1 , 2 , ⋯ , M i ，如果分系统当前处于状态j − 1，发生故障将会使其从状态j − 1转变为状态j，定期的检修或者更换零件会使其从状态j好转从而转变为状态j − 1，1的时候系统的状态最好，此时不需要进行维修，只会发生故障向状态2转变，M时状态最差，只能通过检修或者维修等向状态M − 1转变 [ 7 ]。根据加工中心机械手和刀库分系统的故障率和维修率建立马尔可夫模型的方程组，如式(8)所示： { d p 1 ( t ) d t = − λ 11 p 1 ( t ) + μ 21 p 2 ( t ) d p 2 ( t ) d t = λ 21 p 1 ( t ) − ( λ 21 + μ 21 ) p 2 ( t ) + μ 22 p 3 ( t )                                                     ⋮ d p M i ( t ) d t = μ ( M i − 1 ) M i p M i − 1 ( t ) − λ M i ( M i − 1 ) p M i ( t ) (8) 式中λ kjbj 为故障率，μ kjbj 为维修率，初始条件为所有部件处于最好的状态，即 p i 1 = 1 ， p i 2 = p i 3 = ⋯ = p i M = 0 ，由此可以解得加工中心换刀一定次数后各分系统处于某个状态的概率P。采用此模型即可解得运行一定次数下的加工中心可靠性的发生函数并计算获得可靠性。"
"通过实验或者模拟获得的可靠性数据无法形成直观的图形，因而也难以通过结果直接观察获得最优化点。即使能找出优化方案，但难以分辨各参数对最终结果影响的权重。为此，工程中通常采用响应面法来解决此类问题。响应面法是一种最优化方法，它是将体系的响应作为多个因素的函数，通过计算将这种函数关系显示出来，以此通过直观的函数来获得改进体系的最优点 [ 14 ]。 传统的响应面法是通过构造一个不含交叉项的二次多项式函数来拟合真实的状态函数，基本形式如(9)所示。该方法构造简单，计算效率高，在实际工程中得到了广泛应用 [ 15 ]。 g ( X ) = e + ∑ i = 1 n b i x i + ∑ i = 1 n c i x i 2 (9) 式中： e , b i , c i 为待定系数。 不过由于对可靠性产生影响的参数较多，所以直接使用响应面函数来拟合真实状态函数的方法计算量庞大，可操作性不强。 因此本文考虑先拟合出单一参数的响应面函数，然后在此基础上构造不含交叉项的二次多项式函数，以此减小误差。具体步骤如下： 1) 在其余参数保持不变的情况下，改变单一参数(如刀库运行时间的故障率)，通过运用马尔可夫模型与发生函数模拟计算获得运行一定次数后的可靠性数值，使用最小二乘法获得可靠性与该参数之间的响应面： R ( t ) = g ( X ) = e i + b i x i + c i x i 2 (10) 2) 求得每个参数对应的响应面参数以后，以 e , b i , c i 为初始点，初步建立整体的响应面函数 g ( X ) = e + ∑ i = 1 n b i x i + ∑ i = 1 n c i x i 2 (11) 式中： e = ( ∑ i = 1 n e i ) / n 。 3) 在初始点附近进行一组实验设计，进行数值分析，拟合目标响应面。 4) 判断是否满足拟合精度，若否，增加设计点返回步骤(3)，若满足，输出模型参数。 响应面拟合完成以后，根据各参数的系数大小可以判断各参数对加工中心换刀动作可靠性的影响程度，可以采取优先提高或降低该参数的措施来提高加工中心可靠性。"
"以某款加工中心为例，换刀次数随着运行时间增加以后，刀库的运行性能逐渐衰退，通过测试可将刀库的到位精度离散为3’、7’、30’、41’，其中3’为最理想状态41’定义为精度超标失效；将刀库的工作时间离散为7 s、9 s、11 s，13 s，其中7 s为最理想状态，13 s超过技术指标需求，如表2所示。则系统的性能状态可定义为： 状 态 1 : ( 7 ' , 3   s ) ≤ G ( t ) < ( 7 ' , 7   s ) 状 态 2 : ( 7 ' , 7   s ) ≤ G ( t ) < ( 9 ' , 7   s )                                             ⋮ 状 态 6 : ( 11 ' , 41   s ) ≤ G ( t ) ≤ ( 13 ' , 41   s ) (12) 每个状态之间转移都是由故障和维修引起的，一次转变只能在邻近状态之间发生，不考虑意外情况造成的突然失效，假设λ kjbj 为故障率，μ kjbj 为维修率： Table 2 到位精度 工作时间 3’ 7 s ↓故障率λ 11 ↑维修率μ 11 ↓故障率λ 21 ↑维修率μ 21 7’ 9 s ↓故障率λ 12 ↑维修率μ 12 ↓故障率λ 22 ↑维修率μ 22 30’ 11 s ↓故障率λ 13 ↑维修率μ 13 ↓故障率λ 23 ↑维修率μ 23 41’ 13 s 表2. 刀库状态分析 建立马尔可夫微分方程组： { d p 1 ( t ) d t = − λ 11 p 1 ( t ) + μ 11 p 2 ( t ) d p 2 ( t ) d t = λ 12 p 1 ( t ) − ( λ 21 + μ 21 ) p 2 ( t ) + μ 12 p 3 ( t )                                                 ⋮ d p 6 ( t ) d t = λ 23 p 5 ( t ) − μ 23 p 6 ( t ) (13) 其中 p 1 ( 0 ) = 1 , p 2 ( 0 ) = p 3 ( 0 ) = ⋯ = p 6 ( 0 ) = 0 , λ k i + 1 − 1 = λ k i − 1 − 3000 次 。 同理可对机械手的工作性能进行分析，如表3所示： Table 3 到位精度 工作时间 4’ 3 s ↓故障率λ 31 ↑维修率μ 31 ↓故障率λ 41 ↑维修率μ 41 11’ 4 s ↓故障率λ 32 ↑维修率μ 32 ↓故障率λ 42 ↑维修率μ 42 30’ 5 s ↓故障率λ 33 ↑维修率μ 33 ↓故障率λ 43 ↑维修率μ 43 45’ 7 s 表3. 机械手状态分析 假定刀库到位精度初始故障率为4万次 −1 ，初始维修率为5万次 −1 ，工作时间初始故障率为2.5万次 −1 ，初始维修率为4万次 −1 ；假定机械手到位精度初始故障率为2.5万次 −1 ，初始维修率为4万次 −1 ，工作时间初始故障率为2.5万次 −1 ，初始维修率为4万次 −1 。通过运行马尔可夫模型可以获得可靠性发生函数如下： R ( z , 100000 ) = ∑ j 1 = 1 M ∑ j 2 = 1 M ( ∏ i = 1 2 P i j i ( n ) z Φ ( g 1 i 1 , g 2 i 2 ) ) = 0.0643 z ( 10 , 5.5 ) + 0.0673 z ( 10.5 , 11 ) + 0.0488 z ( 11 , 20.5 ) + 0.0352 z ( 11.5 , 30 ) + 0.0225 z ( 12 , 37 , 5 ) + 0.219 z ( 13 , 45 )     + 0.0486 z ( 11 , 7 ) + 0.0508 z ( 11 , 11 ) + 0.0369 z ( 12 , 20.5 ) + 0.0266 z ( 12.5 , 30 ) + 0.0170 z ( 13 , 37.5 ) + 0.0165 z ( 14 , 45 )     + 0.0587 z ( 12 , 18.5 ) + 0.0614 z ( 12.5 , 18.5 ) + 0.0446 z ( 13 , 20.5 ) + 0.0321 z ( 13.5 , 30 ) + 0.0205 z ( 14 , 37.5 ) + 0.0200 z ( 15 , 45 ) (14) + 0.0283 z ( 13 , 30 ) + 0.0296 z ( 13.5 , 30 ) + 0.0215 z ( 14 , 30 ) + 0.0155 z ( 14.5 , 30 ) + 0.0099 z ( 15 , 37 ) + 0.0096 z ( 16 , 45 )     + 0.0294 z ( 14 , 35.5 ) + 0.0308 z ( 14.5 , 35.5 ) + 0.0223 z ( 15 , 35.5 ) + 0.0161 z ( 15.5 , 35 ) + 0.0103 z ( 16 , 37.5 ) + 0.0100 z ( 17 , 45 )     + 0.0180 z ( 15 , 41 ) + 0.0189 z ( 15.5 , 41 ) + 0.0137 z ( 16 , 41 ) + 0.099 z ( 16.5 , 41 ) + 0.0063 z ( 17 , 41 ) + 0.0061 z ( 18 , 45 ) 假设系统性能指标需求 w = ( 16 , 39 ) ，根据可靠度计算发生函数公式得到刀库及机械手可靠度 R ( 100000 ) = 0.8491 。 下表4为部分初始故障率与维修率数值对应下的可靠度： Table 4 刀库 机械手 可靠度 到位精度 工作时间 到位精度 工作时间 初始故障率/万次 −1 初始维修率/万次 −1 初始故障率/万次 −1 初始维修率/万次 −1 初始故障率/万次 −1 初始维修率/万次 −1 初始故障率/万次 −1 初始维修率/万次 −1 5 6 3.5 5 3.5 4.5 3.8 5 0.8998 4.8 5.8 3.3 4.8 3.3 4.3 3.6 4.8 0.8842 4.6 5.6 3.1 4.6 3.1 4.1 3.4 4.6 0.8654 4.4 5.4 2.9 4.4 2.9 3.9 3.2 4.4 0.8428 4.2 5.2 2.7 4.2 2.7 3.7 3 4.2 0.8153 4 5 2.5 4 2.5 3.5 2.8 4 0.7816 3.8 4.8 2.3 3.8 2.3 3.3 2.6 3.8 0.7398 3.6 4.6 2.1 3.6 2.1 3.1 2.4 3.6 0.6872 3.4 4.4 1.9 3.4 1.9 2.9 2.2 3.4 0.6199 3.2 4.2 1.7 3.2 1.7 2.7 2 3.2 0.5319 表4. 加工中心可靠度计算 随机采取2n + 1组抽样点及其可靠度带入响应面函数式：解出待定系数 e , b i , c i ( i = 1 , 2 , ⋯ , n ) ，得到式(15)二次多项式对应的各项系数，如表5所示： R = g ( X ) = e + ∑ i = 1 n b i x i + ∑ i = 1 n c i x i 2 (15) Table 5 e b 1 c 1 b 2 c 2 1.2112 −0.6586 −0.8752 −0.3191 −0.4704 b 3 c 3 b 4 c 4 0.1709 2.1596 0.1557 0.8825 b 5 c 5 b 6 c 6 −0.2734 0.7177 −0.1935 0.542 b 7 c 7 b 8 c 8 −0.2461 −0.8069 −0.0737 −0.7448 表5. 发生函数各项系数 由上述实例分析可以看出对加工中心换刀动作可靠性影响较大的参数是刀库到位精度的故障率。因此，想提高加工中心的可靠性可以采取优先提高刀库的零件质量的措施，通过降低刀库故障发生率来提高加工中心可靠性。"
"本文采用了基于马尔可夫模型的发生函数建立响应面的方法，给出了加工中心各分系统参数对加工中心可靠性的影响大小分析，定量评估刀库及机械手在特定性能需求下的可靠性。该方法代替传统可靠性研究，克服试验周期长、试验不可重现以及试验成本高昂的问题，通过模型计算获得加工中心刀库及机械手可靠性优化的具体方案。最后，本文通过加工中心动作可靠性实例研究发现对加工中心换刀动作可靠性影响较大的参数是刀库到位精度的故障率。因此，要提高加工中心的可靠性优先要提高刀库的零件的质量。"
