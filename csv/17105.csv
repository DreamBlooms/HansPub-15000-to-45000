"飞机驾驶舱系统自动化水平提高的关键在于科学合理地进行人机功能分配。为了提高飞机驾驶舱人机功能分配的可靠性，本文通过对遗传算法和BP神经网络这两种智能算法进行分析研究，提出了基于遗传BP神经网络的飞机驾驶舱人机功能分配方法。将机组成员飞行时的生理指标HRV 2 和TLI 2 作为网络的输入变量，使用遗传算法优化BP神经网络权值和阀值，输出飞行任务自动化等级，进而得到相应的人机功能分配方案。仿真结果表明，相比于传统的BP神经网络，该方法确定的人机功能分配方案可靠性更高。 关键词 :飞机驾驶舱，人机功能分配，BP神经网络，遗传算法"
"随着飞机驾驶舱自动化水平的不断提高，科学地处理人和机器之间的分工——人机功能分配日益成为飞机驾驶舱设计中的不可或缺的一部分。驾驶舱自动化的设计初衷是帮助飞行员克服一些人类自身的弱点，减轻飞行员的工作负荷，提高工作效率和飞行安全。若自动化水平较低，则不足以满足系统任务需求。然而，过度自动化有可能造成驾驶员的依赖性增强、技能下降和系统开发费用过高等弊端[ 1 ] 。因此，如何对人机功能进行合理地分配在飞机驾驶舱设计过程中具有举足轻重的作用。 目前，人机功能分配的一些成果已经应用与航空航天等领域[ 2 ] -[ 4 ] 。而国内在飞机驾驶舱人机功能分配方面的研究尚处于起步阶段。文献[ 5 ] 对无人机控制站系统的人机功能动态分配进行了研究，提出了基于场景的模糊多属性控制站功能分配的原则和方法。文献[ 6 ] 从系统整体效能的角度出发，引入模糊数学的多目标决策方法，初步建立了人机功能分配的基本流程和一般量化分析方法。 本文从飞机驾驶舱人机功能分配的角度出发，综合考虑对飞行员功能状态变化比较敏感的生理指标HRV 2 、TLI 2 等因素[ 7 ] [ 8 ] ，提出一种基于遗传BP神经网络的飞机驾驶舱人机功能分配方法。"
"人机功能分配的关键在于确定飞行任务的自动化等级。自动化等级(Levels of Automation, LOA)的概念是由Sheridan和Verplank提出，他们将人机系统中的功能划分为10个自动化等级[ 9 ] 。在实际的人机系统功能设计当中，这种划分方法不仅增加了系统的成本，而且使系统的操作更加复杂。 本文根据“谁”(机组成员或自动化子系统)对飞行任务具有最终控制权，将Sheridan和Verplank提出的自动化等级进行合并优化成5个自动化等级，如表1所示。"
"由于反向传播(Back Propagation, BP)神经网络具有极强的非线性映射能力，并且具有比较好的泛化能力，因此可以将其用于飞机驾驶舱人机功能分配。 BP神经网络是一种多层前馈神经网络。它能学习和存贮大量的输入——输出模式映射关系，而无需事前揭示描述这种映射关系的数学方程。它的学习规则是使用最速下降法，通过反向传播来不断调整网 络的权值和阈值，使网络的误差平方和最小。 BP神经网络模型拓扑结构包括输入层、隐含层和输出层。对于一个三层BP网络，其拓扑结构如图1所示。 网络输入向量 ，网络输出向量 ，隐含层输出向量 。输入节点与隐含层节点的网络权值为 ，( ; )。 BP神经网络预测前首先要训练网络，通过训练使网络具有联想记忆能力。BP网络训练的步骤如下： 1) 网络初始化 根据系统的输入和输出确定网络输入层节点数 ，隐含层节点数 ，输出层节点数 ，输入层与隐含层之间的连接权值 ( ; )，隐含层与输出层之间的连接权值 ( ; )，隐含层阈值 ，输出层阈值 以及学习速率和神经元激励函数。 2) 隐含层输出计算 根据输入值，输入层与隐含层之间的连接权值 以及隐含层阈值 ，计算隐含层输出 。 (1) Table 1 LOA 描述 5 系统自行决策和控制，拒绝机组成员干预 4 系统提供一个建议方案，如果机组成员同意则执行 3 系统缩小方案选择范围供机组成员选择 2 系统提供所有的决策或行动方案供机组成员选择 1 系统不提供任何帮助，机组成员必须完成所有的决策和操纵 表1. 飞行任务的自动化等级LOA 图1. 三层BP神经网络示意图 式中， 为隐含层激励函数，其表达式为 。 3) 输出层输出计算 根据隐含层输出 ，输入层与隐含层之间的连接权值 以及隐含层阈值 ，计算BP神经网络预测输出 。 (2) 4) 误差计算 根据网络预测输出 和期望输出 ，计算网络预测误差 。 (3) 5) 权值更新 根据网络预测误差E更新网络连接权值 ， (4) (5) 式中， 为学习速率； ； ； 。 6)阈值更新 根据网络预测误差E更新网络节点阈值A，B。 (6) (7) 式中， 为学习速率； ； ； 。 7) 判断算法是否结束。若没有结束，返回步骤2，直至结果满足要求为止。 本文通过实时测量对机组成员状态变化比较敏感的HRV 2 、TLI 2 等生理指标，将其与已有知识库中的数据进行匹配，获取当前数据对应的自动化等级，进而进行人机功能分配的动态调整。基于BP神经网络的飞机驾驶舱人机功能分配流程图如图2所示。"
"图2所示的飞机驾驶舱人机功能分配方案在一定程度上可以满足设计要求，但BP神经网络自身具有两个明显的缺点：一是该网络的初始的权值和阀值是随机选取的，倘若这些参数的选取不当，则会导致网络陷入局部极小值；二是该网络的收敛速度慢，需要较长的训练时间[ 10 ] 。采用遗传算法，建立遗传算法优化的BP神经网络模型可以避免上述问题。 遗传算法(Genetic Algorithm, GA)是一种并行随机搜索最优算法方法，具有全局搜索能力[ 11 ] 。将其与BP神经网络有机融合，利用遗传算法来弥补BP神c经网络连接权值和阀值选择上的随机性缺陷，不仅能发挥BP神经网络的非线性映射能力，而且加快BP神经网络的收敛速度，提高其学习能力。 遗传算法优化BP神经网络的算法流程如图3所示。 遗传算法优化BP神经网络的要素包括种群初始化、确定适应度函数、选择操作、交叉操作和变异操作。具体步骤如下： 图2. 基于BP神经网络的飞机驾驶舱人机功能分配流程图 图3. 遗传算法优化BP神经网络的算法流程 1) 种群初始化 个体采用实数编码。对图1所示网络，其编码的顺序依次为：输入层到隐含层的连接权值矩阵W1、隐含层到输出层的连接权值矩阵W2、输入层到隐含层的阀值矩阵B1、隐含层到输出层的阀值矩阵B2，它们的编码长度分别为： 。所以，染色体长度 。 2) 确定适应度函数 为了评估染色体性能，需要确定合适的适应度函数。本文以BP神经网络的输出和期望输出两者的绝对误差和的倒数作为适应度函数 。 (8) 3) 构造有效的遗传操作算子 遗传操作算子有选择、交叉和变异三种类型。其中： 选择操作：遗传算法选择操作有轮盘赌法、锦标赛法等多种方法，本文选择轮盘赌法，即适应度高的个体遗传到下一代的概率较大，而适应度低的个体遗传到下一代的概率较小。每个个体被选择的概率为 ： (9) 其中： 为种群个体的数目， 为个体 的适应值。 交叉操作：由于个体采用实数编码，所以采用实数交叉法，第k个染色体 和第l个染色体 在j位的交叉操作方法如下： (10) 其中： 为 间的随机数。 变异操作：选择第i个个体的第j个基因 进行变异，变异操作方法如下： (11) 其中： 为基因 的上界； 为基因 的下界； ； 为一个随机数；g为当前迭代次数； 是最大进化次数；r为 之间的随机数。 (4) 计算适应度函数值，若满足算法结束条件则输出优化的权值和阀值，若不满足则返回步骤3)继续进行优化。"
"通过大量的飞行模拟实验，并将关于生理指标的样本数据都进行归一化处理，本文假设飞行员的生理指标HRV 2 、TLI 2 和人机功能自动化等级的对应关系如图4所示。 由于网络有两个输入参数HRV 2 和TIL 2 ，一个输出参数LOA。所以设置的神经网络的结构为2-5-1，即输入层有两个节点，隐含层有5个节点，输出层有一个节点，共有 个权值， 个阈值，所以遗传算法个体编码的长度 。 使用MATLAB神经网络工具箱构造神经网络[ 12 ] 。利用线性插值法得到100组训练数据，另外选择20组数据作为测试数据。训练结束后，对BP神经网络测试结果如图5所示。 使用美国北卡罗来纳州立大学推出的GOAT遗传算法工具箱对网络进行优化。遗传算法参数设置：种群规模为20，进化代数为50，交叉概率为0.3，变异概率为0.1。使用同样的测试数据对遗传BP神经网络进行测试，测试结果如图6所示。 图4. HRV 2 、TLI 2 与LOA的对应关系 图5. BP神经网络测试结果 图6. 遗传BP神经网络测试结果 因为需要对网络输出的飞行任务自动化等级LOA进行取整操作，所以系统设计的最大误差是0.5。通过对比上述仿真实验结果，我们可以发现，BP神经网络在第5、11、15、19个测试点处的误差均超过0.5，而使用遗传BP神经网络可以有效地将误差控制在0.5以内。仿真结果表明：使用BP神经网络进行飞机驾驶舱人机功能分配的可靠性较差，而基于遗传BP神经网络的飞机驾驶舱人机功能分配可以更好地满足系统要求。"
"本文提出了基于遗传BP神经网络的飞机驾驶舱人机功能分配方法。通过遗传算法优化BP神经网络的权值和阈值，进而达到优化神经网络的目的。以驾驶员生理指标作为输入参数(HRV 2 , TLI 2 )，以功能的自动化等级(LOA)作为输出参数，实验结果表明：遗传BP神经网络大大降低了网络陷入局部极小值的可能，提高了网络收敛速度。基于遗传BP神经网络的驾驶舱人机功能分配方法，为驾驶舱人机系统功能分配研究提供了一种新的理论参考。相对于没有优化的BP神经网络模型，该模型对飞行任务自动化等级的确定具有更高的可靠性。"
