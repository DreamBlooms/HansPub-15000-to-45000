"为了使电枢控制式直流电机达到调速性能良好且便于工程实施的目的，通过对其数学建模并合理简化，得出转速与输入电压之间的传递函数，分别以理论推导和仿真试验得到传递函数中系数的求解方法，并根据所得系数设计出以伪微分反馈控制为算法的控制参数计算方法，据此采用AMEsim软件对直流电机速度响应能力、抗干扰性和鲁棒性能进行仿真分析，仿真结果表明采用伪微分反馈控制算法的直流电机调速系统具有响应快、抗干扰性能好、鲁棒性强等特点。 关键词 :AMESim，直流调速，伪微分反馈 Copyright © 2019 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"直流电机因原理简单、控制方便等因素得到广泛应用，其中以电枢控制式为典型，在其闭环调速领域出现了各种控制方法，以PID控制为代表。一个好的控制方法，应以控制效果好、使用简单为追求目标，文献 [ 1 ] 采用自适应模糊PID实现了对无刷直流电机的速度控制，但在工程实施时，对技术人员的理论要求较高，且对技术人员的经验水平依赖较强。笔者认为，要对某个对象进行控制，基本前提是对其有充分了解，对直流调速而言，除了知道输入输出之间的定性关系，还需要对这种关系进行量化，这种量化关系应在控制算法中体现，也就是控制参数应依据被控对象的参数进行设计，这样才能做到有的放矢。 控制效果好最基本的要求是响应速度快且无超调，对于一个二阶的闭环系统，当阻尼系数设置为过阻尼或临界阻尼时均不会出现超调，但是过阻尼会影响响应速度，因此为满足响应速度较快且无超调的要求，临界阻尼成了唯一选择，但仅仅依据这一条设计控制参数，还是不能满足响应速度快的要求。我们知道，如果提供给被控对象的能量越大，则响应也越快，但是能量的输出不应超过能量提供单元在线性范围内的最大能力，也就是不能在其饱和区工作，否则容易出现超调。因此选择临界阻尼和能量提供单元在线性范围内的最大能力成了设计控制参数的两条基本依据，正是由于能量的充分利用才使得系统的抗干扰性和鲁棒性得到极大的提升，因为它能对系统外在和自身参数的变化迅速做出反应并抑制。因此以系统外在和自身参数的变化的最大可能情况来进行系统及控制参数设计，就可以实现使用简单的目的，因为参数是一次性设计完成而不需要修改。文献 [ 2 ] 也是采取这种参数设计思想，但是其在参数推导过程中忽略了负载的阻尼系数，实验及仿真表明，负载的阻尼系数与负载惯量相比很小可忽略时，影响不大，但不能忽略时，如果控制参数没有考虑负载的阻尼系数会造成控制超调很大的情况 [ 3 ] 。"
"电枢控制式直流电机原理如图1所示 [ 4 ] 。 图1. 电枢控制式直流电机原理图 根据图1得到以下三个方程： 电枢回路电压平衡方程： u a ( t ) = L a d i a ( t ) d t + R a i a ( t ) + C e ω m ( t ) (1) 在工程应用中，电枢电感很小，可忽略不计，则式(1)可简化为下式： u a ( t ) = R a i a ( t ) + C e ω m ( t ) (2) 电机电磁转矩方程： T m ( t ) = C t i a ( t ) (3) 电机轴上转矩平衡方程： T m ( t ) = J d ω m ( t ) d t + B ω m ( t ) (4) 由式(2)、(3)和(4)可得到以电压 u a ( t ) 为输入量，角速度 ω m ( t ) 为输出量的微分方程： R a J R a B + C t C e d ω m ( t ) d t + ω m ( t ) = C t R a B + C t C e u a ( t ) (5) 进一步可得到速度对电压输入的传递函数，如式(6)所示： Ω m ( s ) U a ( s ) = 1 a s + b (6) 其中： a = R a J C t (7) (8) 由此看出在对直流电动机进行速度控制时，被控对象可看成一个一阶系统。 以上公式中各符号意义及量纲如下： u a ——电枢电压(V)； ——电枢电流(A)； L a ——电枢电感(H)； R a ——电枢电阻( Ω )； C e ——反电势系数(V∙s/rad)； ω m ——电动机角速度(rad/s)； C t ——电动机转矩系数(N∙m/A)； T m ——电动机电磁转矩(N∙m)；J——折合到电动机轴上的负载转动惯量(kg∙m 2 )；B——折合到电动机轴上的粘性负载阻尼系数(N∙m∙s/rad)。  在已知了 C t 、 C e 、J、B和 R a 这5个参数的前提下利用公式(7)及(8)可直接计算出a和b的值，对于实际的电机，往往某些参数的获取很难，这时可用实验的方法来获取，其原理如下：阶跃信号发生器的信号输出至功率放大器，功率放大器再把小信号放大并输出到直流电机的电枢，直流电机轴上连接速度传感器，转速信号通过示波器件以曲线方式显示。 根据以上方法，可得到如图2所示的速度——时间曲线。 图2. 直流电机参数辨识响应曲线 由图2可得到： b = r 0 ω max (9) a = T b (10) 式中 为阶跃输入信号； ω max 为直流电机稳态时的转速；T为当直流电机转速达到稳态值的0.632倍时所对应的时间。 试验时，可给定不同的阶跃输入，获得多条的响应曲线，计算出几组a和b的值，最后再取其算术平均值最为最终的参数。"
"伪微分反馈控制方法是由美国康奈尔大学R. M. Phelan教授首先提出 [ 5 ] ，针对如式(6)所示的一阶被控对象，伪微分反馈控制方法给出的控制框图如图3所示。 图3. 一阶被控对象伪微分反馈控制框图 图3中R为参考输入， Ω 为输出响应， K i 和 K d 为伪微分反馈控制参数，FCE为末级控制单元(Final control element)，即能量输出部件，其输出最大线性值为 M max 。 在推导伪微分反馈控制参数时，传统的做法是不考虑被控对象的参数b，这在b与a相比较小可忽略时，影响甚小，但当b较大不能忽略时，控制会出现较大的超调，其原因是较大的b吸收了传递到被控量的大部分能量，使得原本响应很快的系统响应变慢，引起控制器发生积分累积，引发过驱动 [ 3 ] ，因此在高精度控制中，需要考虑b的影响，由此伪微分反馈控制参数需要重新设计。 由图3可以得到系统闭环传递函数为： Ω ( s ) R ( s ) = K i a s 2 + ( K d + b ) s + K i (11) 由等极点条件得： K i = ( K d + b ) 2 4 a (12) 系统微分方程： a d 2 ω d t 2 + ( K d + b ) d ω d t + K i ω = K i r 0 (13) 微分方程的解： ω = r 0 [ 1 − ( 1 + K d + b 2 a t ) e − K d + b 2 a t ] (14) 在FCE的线性范围内有： m = a d ω d t + b ω (15) 把式(14)代入(15)，且令 d m d t = 0 ，得到当 t = 2 a K d − b 时，M有极大值，且M的极大值应满足： m ≤ m max (16) 式(16)取“=”时可得到下列公式： (17) 式(17)的lambertw为郎伯W函数，此式与式(12)共同构成一阶被控对象的伪微分反馈控制参数计算公式。"
"AMESim是基于直观的图形界面的建模平台，在整个仿真过程中系统模拟可以显示在该平台中，使用图标符号代表系统中的各个元件 [ 6 ] 。采用AMEsim软件进行被控对象参数辨识的模型如图4所示，各模块的参数值见表1。 根据表1可得到下列参数值： ， C e = 1.8   V ⋅ s / rad ， C t = 1.8   N ⋅ m / A ， R a = 0.6   Ω ， J = 5   kg ⋅ m 2 ， ， m max = 100   V 。 图4. AMEsim的直流电机参数辨识建模 Table 1 序号 模块 参数 值 1 step value after step 100 2 saturation minimum permitted value −100 maximum permitted value 100 3 dc motor reference temperature 20 degC armature winding resistance at reference temperature 0.6 Ohm armature winding inductance 0.012 H back EMF and torque constant at Reference temperature 1.8 V*s/rad 4 rotary load moment of inertia 5 kgm**2 coefficient of viscous friction 0.1 Nm/(rev/min) 5 constant constant value 0 6 其他 默认设置 表1. 模块参数表 由公式(7)、(8)及上述参数可计算出 a = 0.175 ， b = 0.222 。 根据图4仿真出转速曲线，并得到如下参数值：稳态时转速为 ω max = 450.797   rev / min ，达到稳态值的0.632倍时的时间 T = 0.79s ，则根据式(9)求得 b = 0.222 ，根据式(10)求得 a = 0.175 。 由此可见采用理论计算与仿真实验得到的结果是一致的，在实际操作中，采用真实实验测量的方法把一切不便测量的产生阻尼的因素均考虑在内，因此结果应比理论计算更加准确。  由伪微分反馈算法构成的直流电机速度控制AMEsim模型如图5所示，图中“step”模块的输入值设置为450，“speed transducer”模块的参数“gain of signal output”设置为“1 min/rev”，由公式(17)与(12)可求分别求得 K d = 0.322 ， K i = 0.423 ，其他模块的参数见表1。 由图6(a)中三条曲线从上到下依次为阶跃输入450、300和150时的速度响应仿真曲线，可以看出系统输出均没有出现超调；图6(b)中三条曲线从上到下依次为阶跃输入450、300和150时的能量输入仿真曲线，可知经伪微分运算之后输入到末级控制单元FCE中的能量在没有出现饱和状态，且在阶跃输入为450时瞬时达到了其线性范围的极大值，说明能量得到了充分利用，这是和设计初衷是相吻合的，另外两种输入下没有达到线性范围的极大值的原因是，伪微分的控制参数 K d 和 K i 是根据阶跃输入的极大值来进行计算的；图6(c)为阶跃输入450时，负载惯量减小100倍时的速度响应仿真曲线，可以看出系统输出仍然稳定且没有超调，即鲁棒性能好，鲁棒性能好带来的最直接的好处是在实际电机控制中，如果没有条件或不方便获取电机及负载的参数时，可以估算一组参数来计算控制参数，用于电机控制，观察响应性能是否满足要求，必要时适当修改控制参数直至满足响应性能要求；图6(d)为在0输入条件下，2秒时叠加10 Nm的干扰负载时的速度响应曲线，可知系统在此干扰负载作用下，速度变化很小，1%左右，说明采用该算法具有较强的抗干扰能力。 图5. 直流电机伪微分反馈速度控制AMEsim仿真原理图 图6. 仿真结果"
"任何一种控制效果好的算法都应对被控对象的参数有足够精度的把握，伪微分反馈控制根据被控对象参数设计了一套计算公式，极大地利用了末级控制单元的能量提供能力，而又不超出其能力范围，可以很快地调试出控制参数，避免了参数调整的盲目性，节省时间。 控制参数中体现了末级控制单元在线性范围内的极限输出能力，使得系统的响应速度大大提高；同时设计控制参数时考虑了闭环传递函数中的等效阻尼比为1，可以实现输出无超调，即可使系统输出达到又快又稳的效果。在遇到大阻尼特性机械负载时，由于控制参数考虑了对负载阻尼系数的补偿校正，不会因为较大的阻尼吸收过多的能量而出现响应慢，末级控制单元处于饱和区工作时间较长而造成输出超调的情况。因此，伪微分反馈控制在改善系统响应性、减小超调、系统稳定方面更为优越。"
