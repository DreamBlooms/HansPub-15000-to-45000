"舰船消防管网在战斗中发生战损后，如果不能及时隔离受损区域将会导致消防管网失压，因此及时找到受损位置并迅速隔离受损区域对于提高舰船消防管网生命力乃至保证舰船生命力都具有十分重要的作用。为了实现消防管网受损监测诊断，本文通过改进舰船消防管网水力计算方法，建立受损监测诊断模型，并采用SCEM-UA算法来求解该模型，并用实例验证了本文所提诊断模型的可行性和有效性。"
"舰船消防管网对于保障舰船安全、不沉行等具有十分重要的作用，一旦消防管网发生战损，不仅难以保障舰船消防安全，爆管对于舰船装备安全将带来巨大的安全风险，尤其在战时情况下，管网受损失压不仅难以保障正常的消防功能，还可能带来舱室进水蔓延造成舰船倾斜，对舰船安全构成严重威胁，因此，舰船消防管网发生受损事故后的发现、隔离、恢复对于提高舰船生命力具有非常重要的实际意义。为了减少由于战损导致的消防管网影响区域，可以通过管网探测、定位漏损点并通过关闭阀门来隔离受损区域，还可以通过在消防管网中安装一些调压阀，通过调低阀门开度降低受损区域的供水压力从而减小漏损程度 [ 1 ]。 近年来，国内外大量专家学者对管网漏损管理问题开展了大量研究。Nicolini M.等 [ 2 ] 提出了一种用于管网流量计和减压阀优化配置模型，该模型分别采用了遗传算法和穷举搜索来实现，并且将论文成果用于一个真实案例中，印证了所提方法的可行性。陶涛等 [ 3 ] 利用一个新的优化算法布谷鸟算法，建立管网调压阀优化模型，确定调压阀的数量、最优安装位置以及最优操作方式，并在算例管网中与遗传算法进行对比测试，验证了方法的可行性。Mohammad M. [ 4 ] 通过研究减压阀的配置最优模型来减少城市供水管网的漏损情况，并将用实际城市管网验证了所提方法的有效性。Zoran S. [ 5 ] 等建立了城市管网漏损探测的逆模型，并以改进遗传算法来求解该模型，相比传统遗传算法，具有计算精度更高、收敛效果更好、计算速度更快的优点。 本文建立了基于压力的舰船消防管网的水力分析模型，并以此为基础建立管网受损监测诊断模型，然后采用SCEM-UA算法来求解该受损监测诊断模型，实现舰船消防管网在线受损监测诊断。"
"舰船消防管网在稳定工况下，管网中各节点满足下列连续方程： ∑ j Q i j = Q D i + Q L i (1) H i − H j = K i j Q i j n (2) 式中， Q i j 为连接节点i和节点j的管段流量， Q D i 为节点i的用水量， Q L i 为节点i的漏损量， H i 为节点i的水压， K i j 为管段ij的摩阻系数，n为流量指数(海森–威廉公式取为1.85)。 节点i的用水量 Q D i 计算公式如下： Q D i = { Q D e m a n d i                                                                               当 H i > P i _ s e r 时 Q D e m a n d i ( P i − P i _ min P i − P i _ s e r ) 0.5             当 P i _ min ≤ H i ≤ 0                                                                                                       当 H i < P i _ min 时 P i _ s e r 时 (3) 式中， Q D e m a n d i 为节点i正常用水量， P i _ s e r 为节点i能满足正常用水量的最小节点水压值， P i _ min 为节点i的临界水压值，水压在 [ P i _ min , P i _ s e r ] 区间时节点i的用水量与水压成指数关系，而水压低于 P i _ min 时该值节点i出水量为0。 对于节点i漏损量的计算，本文采用基于水压驱动流量的计算方法，也就是说节点i漏损量 Q L i 与该节点i的水压成指数关系： Q L i = { K i ( H i − Z i ) β       当 H i > Z i 时 0                                                           当 H i ≤ Z i 时 (4) 式中， K i = C d , i A i ⋅ ( 2 g ) β ， C d , i 为局部损失系数， A i 为受损处的破口面积，g为重力加速度， Z i 为节点高程， β 为漏损指数，通常取值在0.5到2.8之间 [ 6 ]，这需要根据管网系统的具体情况具体分析。"
"1992年Duan等提出了用于求解非线性优化问题的SCE-UA全局优化算法。该方法综合了下山单纯形法、受控随机搜索理论、系统进化论、竞争性进化论等的特点，目的是在参数可行域中寻找最优参数值。SCE-UA方法首先在参数可行域内确定一个随机样本，然后利用下山单纯形法进行种群进化，使其趋于更优的参数可行域并逐步剔除具有低后验概率值的区域。SCE-UA算法通常能够找到模型参数空间中的全局最优点，但是该算法比较依赖于初始点的选取 [ 7 ]，如果没有选取到合适的初始点集，则会导致算法陷入局部最优解，且该算法在拟合效果上相比其他优化算法优势并不明显。SCEM-UA算法在SCE-UA的基础上，根据马尔可夫链蒙特卡罗(MCMC)理论，采用MH法(Metropolis-Hastings)取代SCE-UA算法中的下山单纯形法，以此估算可能性最大的参数集和后验概率密度分布函数，从而避免算法陷入局部最优解中。与MH算法相比，SCEM-UA的优点主要表现在两个方面：1) 该算法能同时得到模型最优解和后验概率密度函数；2) 为了使算法收敛，SCEUA需要先验概率密度分布函数，而SCEM-UA不需要先验概率密度分布函数。但是SCEM-UA算法计算复杂度要高于MH算法。 SCEM-UA算法的基本步骤如下 [ 8 ]： 1) 设定种群大小s和复合体个数q。对于待求参数的模型，s代表该种群随机抽取参数集的个数，每个参数集包括3个待求参数对应的值。q代表该种群被划分的复合体个数，每个复合体包含 m ( m = s / q ) 个参数集； 2) 计算该种群中每个参数集的后验分布密度。 3) 将s个参数集按其后验密度值从大到小排序，并将其存入数组D中。 4) 将D分为q个复合体 C K ( k = 1 , 2 , ⋯ , q ) ，每个复合体对应1条Markov链 S K ( k = 1 , 2 , ⋯ , q ) 每个复合体 C K 包含 m ( m = s / q ) 个参数集。 5) 将每个复合体 C K ( k = 1 , 2 , ⋯ , q ) 中具有最大后验密度值的点作为 Markov链 S K ( k = 1 , 2 , ⋯ , q ) 的起始点，利用SEM算法进行进化。 6) 将进化后的q个复合体 C K ( k = 1 , 2 , ⋯ , q ) 合并为D，并将进化后的新一代种群按后验密度值从大到小排序。 7) 检验是否满足Gelman-Rubin收敛准则。如果满足Gelman-Rubin收敛准则，或者达到最大进化次数，停止；否则，返回(4)。 使用Matlab编写SCEM-UA算法程序，然后调用Epanet计算相应的水力模型可以很方便的实现消防管网受损监测诊断功能，相应计算流程如图1所示。 图1. 舰船消防管网受损监测诊断流程图"
"为了验证本文所提模型的计算效果，利用如图所示的管网模型来仿真验证，本文采用如图2所示的管网模型。 图2. 消防管网的结构及其基本参数 管网物理模型如图2所示，受损位置模拟三种单受损点情况，三种情况下的受损点分别分布位于节点2、节点5和节点6上，受损时模拟其局部受损系数 C d , i = 0.68   L / ( s ⋅ m 0.5 ) ，压力监测点分别部署在节点3、节点4和节点7上。对于SCEM-UA算法，设置复合体个数q为7，种群大小s为350，最大进化次数为800，通过Matlab编写SCEM-UA程序来求解该管网的受损监测诊断模型。为对比本文算法的计算效果，本文采用遗传算法、并行遗传算法与SCEM-UA算法求解结果进行对比，遗传算法的最大遗传代数都取为800，并行遗传算法种群数量取为14个。计算结果如表1所示。 Table 1 可能的受损位置 实际受损数据 模型求解结果 遗传算法求解结果 并行遗传算法 SCEM-UA算法 受损位置发生在节点2时 A2 0.68 0.69 0.70 0.66 A5 0 0.08 0.05 0.02 A6 0 0.11 0.09 0.03 受损位置发生在节点5时 A2 0 0.06 0.02 0.04 A5 0.68 0.63 0.65 0.65 A6 0 0.13 0.14 0.07 受损位置发生在节点6时 A2 0 0.04 0.04 0.03 A5 0 0.05 0.01 0.02 A6 0.68 0.65 0.71 0.69 表1. 标准试验系统结果数据 上述表格分别使用了基本遗传算法、并行遗传算法和SCEM-UA算法来求解管网受损监测诊断模型获得的结果，由计算结果可知，SCEM-UA算法能够用于求解消防管网监测诊断模型中，且其计算结果相比遗传算法更优，因为其在非受损节点的局部损失系数要比受损节点的局部受损系数小得多，区分效果更好。"
"舰船消防管网发生战损后及时可靠的受损区域管理对于提高舰船生命力具有非常重要的作用，本文根据舰船消防管网的特点，分析其水力，并建立了消防管网受损监测诊断模型，提出使用SCEM-UA算法来求解该受损诊断模型，通过使用Matlab编写算法编码，调用Epanet计算管网水力情况，求解出最接近受损情况的管网局部受损系数分布情况，从而实现了舰船消防管网受损监测诊断的目的。通过仿真结果可以看到，通过SCEM-UA求解该模型具有收敛速度快、受损诊断结果准等优点，具有较高的实用价值。下一步考虑将本文所提算法用于大型供水管网中，实现其快速受损监测诊断。"
