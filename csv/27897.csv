"随着农业信息化和无线通讯技术的发展，利用便携式智能设备采集农田信息正在成为一种重要手段。为了解决果园信息采集问题，本文开发了一个基于ZigBee与RFID的苹果果园信息采集系统。系统硬件部分由PDA、ZigBee协调器模块(连接ZigBee无线传感器网络)、RFID模块以及服务器等组成。系统软件部分包括一个运行于PDA端的嵌入式果园信息采集系统以及一个运行于服务器端的远程服务器端果园数据交换系统。无线便携终端PDA阅读果树RFID信息，确定数据采集果树对象，通过集成于PDA的ZigBee协调器采集该果树周围布设的ZigBee无线传感器网络获取的信息(果树生长环境、果树生长状态以及传感器本身工作参数)，随后即可使用自定义的数据交换协议将采集数据发送至服务器，同时更新PDA端显示。服务器端接收数据后，保存到相应数据库并返回结果反馈信息。试运行表明，系统工作稳定，运行可靠，可实现果园果树数据的采集与保存，为后续数据分析提供服务，在农业生产领域具有一定的使用和推广价值。 关键词 :果园，信息采集，协议，PDA，ZigBee，RFID Copyright © 2018 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"农业作为我国的第一产业，是支撑国民经济建设与发展的基础，是我国粮食安全和社会经济可持续发展的可靠性保障 [ 1 ]。随着科学技术的迅速发展和农村市场经济的不断完善，农村劳动力的转移和产业结构调整，迫切需要由传统农业向现代化的信息农业转换 [ 2 ]。这些都为基于数字农业思想的果园数字化管理系统的应用提供了方便并提出了紧迫要求，项目的成功应用必将产生良好的经济与社会效益。 ZigBee是一种低速短距离传输的无线网络协议 [ 3 ]。ZigBee协议从下到上分别为物理层(PHY)、媒体访问控制层(MAC)、传输层(TL)、网络层(NWK)、应用层(APL)等 [ 4 ]。它的优势：1) 功耗低。在休眠状态下耗电量仅仅只有1 μW，通信距离短的情况下工作状态的耗电为30 mW，在低耗电待机模式下，两节普通5号干电池可使用6个月以上。2) 成本低。因为ZigBee数据传输速率低，协议简单，所以大大降低了成本。无线传感器网络中可以具有成千上万的节点，如果不能严格地控制节点的成本，那么网络的规模必将受到严重的制约，从而将严重地制约无线传感器网络的强大功能。3) 网络容量大。每个ZigBee网络最多可支持65,000个节点，也就是说每个ZigBee节点可以与数万节点相连接。所以ZigBee的网络容量大的特点非常符合WSN的需要。4) 工作频段灵活。使用的频段分别为2.4 GHz、868 MHz (欧洲)及915 MHz (美国)，均为免执照频段，具有16个扩频通信信道。相应的，ZigBee无线传感器网络采取2.4 GHz工作频段的特性将会更有利于无线传感器网络的发展。5) 安全。ZigBee提供了数据完整性检查功能，硬件本身支持CRC和AES-128。6) 自动动态组网和自主路由 [ 5 ]。无线传感器网络是动态变化的，无论是节点的能量耗尽，或者节点被敌人俘获，都能使节点退出网络，而且网络的使用者也希望能在需要的时候向已有的网络中加入新的传感器节点 [ 6 ]。这就希望无线传感器网络能具有动态组网、自主路由的功能，而ZigBee技术就正好能解决了无线传感器网络的这一需要 [ 7 ]。ZigBee作为一种短距离无线通信技术，由于其网络可以便捷的为用户提供无线数据传输功能，因此在物联网领域具有非常强的可应用性 [ 8 ]。 射频识别即RFID (Radio Frequency IDentification)技术，又称电子标签、无线射频识别，是一种通信技术，可通过无线电讯号识别特定目标并读写相关数据，而无需识别系统与特定目标之间建立机械或光学接触 [ 9 ]。它通过射频信号自动识别目标对象并获取相关数据，识别工作无需人工干预，作为条形码的无线版本，RFID技术具有条形码所不具备的防水、防磁、耐高温、使用寿命长、读取距离大、标签上数据可以加密、存储数据容量更大、存储信息更改自如等优点 [ 10 ]。基于以上特点，本文中选用了ZigBee作为苹果果园信息采集系统的无线通信技术，用RFID对每棵树进行唯一标识。"
"目前，国内外的信息采集系统的开发主要有以下三种方式 [ 11 ] ：以单片机为核心进行开发、在便携式计算机基础上进行开发和基于PDA开发的信息采集系统。基于单片机的开发方式简单实用、成本较低，但是功能比较单一，只能实现一个或几个要素的采集；便携式计算机的采集系统功能强大，但是系统体积较大，不太适合野外采集作业；基于PDA的嵌入式信息采集系统，内置多个功能模块，携带方便，功能也随着技术的进步逐渐增强，是信息采集系统的主要发展方向。 通常，由于果园的自然环境及果树分布特点，各种基于PDA的采集系统主要由四个部分组成：采集，控制，远程接收和传输四个部分 [ 12 ]。采集部分，主要是传感器，对信息进行取样和收集；控制部分(以PDA为主)，主要是控制中心，对采集部分进行控制，接收采集部分的数据以及发送或接收远程接收部分的数据；远程接收部分，主要是PC服务器以及数据库服务器，向控制部分发送以及接收采集信息并对信息进行处理；传输部分，主要是数据传输的途径，比如ZigBee、GPRS、3G、以太网、蓝牙等。信息采集系统基本结构如图1所示。 图1. 信息采集系统基本结构图 各种信息采集系统原理结构基本相同，但是具体实现方法有一定程度的差别。目前国内外的信息采集系统的具体构成主要有以下特点： 1) 采集部分 有PDA内置传感器模块，也有外接模块采集甚至人工采集。PDA本身内置了一些采集功能模块，比如GPS、RFID阅读器，或者PDA通过与之相连的串口去连接ZigBee模块从而获取ZigBee网络的采集信息。还有，人工使用设备采集作物信息后录入到PDA，不过效率低下，但硬件成本低 [ 13 ]。内置模块便于携带但很多时候需要定制，定制成本较高。必要时可部分内置，部分外接，便于控制成本。 2) 控制部分 主要是操作系统的不同。目前，大部分是Windows CE，还有部分Android，很少部分其他的例如Palm OS，Linux等等。首先，使用Windows CE平台的PDA，内置有RFID阅读器、GPS、蓝牙模块。RFID阅读器用来读取某一作物的唯一标识，蓝牙用来与采集模块交换信息。PDA软件使用Visual Studio开发，开发语言为C#。PDA端地图软件使用超图GIS软件。信息远程接收系统数据存储使用SQL Server，运行环境为Windows Server或者Windows XP。同时，信息远程接收系统使用IIS搭建网站，使用Webservice方式进行数据交换。C#平台软件开发容易，但微软产品费用较高(Windows, SQL Server) [ 14 ] ；另外，使用蓝牙以及GPRS传输数据，传输速度比较慢。第二，使用Android平台的PDA，内置有GPS模块、3G (同时支持GSM与WCDMA)模块，同时外加一个采集设备对信息进行采集，或者通过串口连接ZigBee模块读取ZigBee网络采集的数据。PDA软件使用Eclipse + ADT开发，使用Java语言。地图软件使用Google地图或者其他(百度)地图。信息远程接收系统使用Windows服务器，以及相应的数据库。PDA与服务器使用HTTP协议进行数据交换，搭建Asp.net网站接收PDA以Post或者Get方式发送的数据。此方案比较经济实惠。Android近几年来渐渐崭露头角，而且由于其开源，有很多人支持，未来会成为趋势。 3) 信息远程接收系统部分 主要是接收或者发送数据。一般来说，大部分选择都是Windows平台，上手比较快。信息远程接收系统主要有C/S和B/S两种结构，B/S结构又分Web Service以及普通网站(通过GET或者POST)交换数据。从开发难度上来说B/S简单些。关于数据库，大部分使用SQL Server，也有采用MySQL以及其他的免费开源数据库，MySQL是个不错的选择，但比SQL Server复杂一些。 4) 传输部分 有GPRS、3G、蓝牙、ZigBee、GPRS以及3G主要用于控制部分与信息远程接收系统部分的数据交换，GPRS覆盖范围比3G广泛，但是速度没有3G快。蓝牙以及ZigBee主要用在采集模块之间、采集模块与控制模块进行数据交换。ZigBee具有功耗极低、系统简单、成本低、低等待时间(Latency Time)和低数据速率的特点 [ 15 ]。非常适合于低功耗、低数据速率的监视及传感网络。蓝牙则适合于较高数据数率的应用，如语音和数据传输。显而易见，ZigBee由于其低功耗，十分适合野外的数据采集。 综上所述，本文提出了以下解决方案，无论从成本，开发难度，还是野外作业的适应性都具有较大优势。 采集部分，使用PDA内置RFID读取器、GPS、3G模块，通过外接ZigBee模块来获取需要采集的信息。 控制部分，使用开源的Android系统以及百度地图SDK。 信息远程接收系统部分，使用Windows系统以及C#编写Server软件，通过Socket以及自己定义的一套协议进行数据交换。数据库，使用MySQL数据库。 传输部分，控制部分与采集部分之间使用ZigBee进行数据传输，控制部分与果园信息远程接收系统部分使用3G或者GPRS网络进行数据传输。"
"PDA通过ZigBee协调器采集ZigBee无线传感器网络的上传信息(作物生长环境、生长状态、以及传感器本身工作状态等)。 果园信息远程接收系统开发采用Visual Studio 2010 + MySQL 5.6.果园信息移动采集系统开发采用Eclipse 4.2 (Juno) + ADT + Android SDK软件开发使用的操作系统为Windows 7旗舰版Service Pack 1。总体技术路线框图如图2所示。 图2. 总体技术路线框图"
"准确采集和掌握果园中的各种信息是实现果园精细管理的前提，果园中的环境变化，对作物的生长影响很大，及时得到果园中的环境信息，有利于促进作物的健康生长和提高作物的质量。因此系统需要采集的信息为果园边界信息、果树信息，其中果园边界信息为边界的经度、纬度、边界点的索引以及采集时间。果树信息包含果树的基本信息(经度、纬度、RFID、采集时间)和属性信息(土壤温度、土壤湿度、空气温度、空气湿度等)。其中RFID通过RFID读取器读取，属性信息通过串口连接的ZigBee模块读取ZigBee网络的信息来获得。 为了果树精细管理，定量施肥打药的需要， 果园信息移动采集系统，功能见表1： Table 1 功能分类 字段 果园边界管理 果园边界的增加、边界删除、边界清空等 果树信息管理 果树增加、果树删除、果树清空、属性信息采集等 果园数据管理 数据接收、数据解析、数据发送、数据打包等 可视化管理 地图加载、图层管理、定位管理等 硬件管理 RFID信息读取、ZigBee网络信息读取等等 其他辅助管理 程序加载页面、登录、设置、帮助、操作日志、关于等 表1. 果园信息移动采集系统主要功能 果园信息移动采集系统主要功能如图3所示。 图3. 果园信息移动采集系统功能图 果园信息远程接收系统，功能见表2： Table 2 功能分类 字段 数据管理 数据解析、数据保存、数据接收、数据打包、数据发送等 界面管理 主页、设置等 表2. 果园信息远程接收系统主要功能 果园信息远程接收系统功能如图4所示。"
"系统可行性分析即根据社会、经济和技术条件，确定系统开发的必要性和可能性。可行性分析的目的就是要用最小的代价在尽可能短的时间内确定问题是否能够解决。并通过分析解决方法的利弊，来判定系统目标和规模能否实现，系统完成后所能带来的效益是否达到值得去投资开发这个系统的程度。 基于移动终端和物联网的果园信息采集系统的可行性主要从以下几个方面考虑： 图4. 果园信息远程接收系统功能图 1) 经济可行性 果园的科学化、精细化管理使得果园信息的采集成为必须，从而为管理提供依据。本系统开发大量采用开源产品，从而将成本降到最低。 2) 技术可行性 果园信息远程接收系统采用Visual Studio IDE、C#语言进行开发，数据库采用MySQL，果园信息移动采集系统采用Eclipse IDE、Java语言进行开发，技术上是可行的。 3) 可维护性 系统的可维护性是确保系统长期稳定运行的关键因素，易于维护的系统能够节省用户的大量时间、精力和运行成本。系统使用易于维护和管理的硬件设备和软件开发系统以及开发方法，使整个系统具有较好的可维护性。本系统可维护性较强，而且也为之后的扩展预留了接口。"
"Android PDA采集ZigBee网络的传感器信息以及获得位置信息后，通过无线网络发送到果园信息远程接收系统的服务器，之后，数据被保存到数据库服务器并且向果园信息移动采集系统返回指令。苹果果园信息采集系统整体架构图如图5所示。 图5. 苹果果园信息采集系统整体架构图 使用基于Android的无线手持终端PDA (果园信息移动采集系统)采集果树的各种环境信息，然后把数据传给服务器(果园信息远程接收系统)进行处理，同时在PDA上进行可视化展示。"
"本文设计并构建了基于ZigBee与RFID的苹果果园信息采集系统。由于Android平台的开放性、PDA的便携性、ZigBee的低数据速率以及开发难度较低、成本低等优势，在未来的农业信息采集应用中会广泛使用。"
