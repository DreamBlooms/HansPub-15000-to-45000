"射频层析成像(Radio Tomographic Imaging, RTI)技术作为免携带设备定位(Device-free localization, DFL)的主要方式之一，具有广泛的应用前景。本文针对现有RTI技术中椭圆权重模型的不足，基于菲涅耳衍射理论提出了新的权重模型：双层椭圆阴影权重模型，它提高了RTI成像质量，也提升了免携带设备定位的定位精度。室内外实验结果表明，该方法的成像质量和定位精度都要优于现有RTI方法。 关键词 :免携带设备定位，射频层析成像，菲涅耳衍射理论 Copyright © 2018 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"与传统定位方式要求定位目标必须携带与定位系统相匹配的定位设备(如GPS接收机、手机等)不同，免携带设备定位(Device-free localization, DFL)无需定位目标携带任何定位装置，也无需定位目标主动参与定位过程 [ 1 ] [ 2 ] ，因此DFL在人员搜救、非法入侵检测、特殊情况下的老人照料等传统定位方法无法实现的定位领域可以发挥重要作用。相比于现有的基于摄像头，超宽带雷达，红外和超声波等技术的免携带设备定位 [ 3 ] [ 4 ] [ 5 ] ，基于无线传感器网络的DFL技术因其成本低、通用性好并能够穿透墙壁、烟雾进行定位等优点成为当前DFL领域的一个研究热点。同时，随着研究的深入，相关技术已经推广到了人体姿态识别和心率测量等 [ 6 ] 。因此，免携带设备定位技术及其衍生技术有着广阔的应用前景。 目前基于无线传感器网络的DFL方法大致可以分成3类，即指纹定位方法 [ 7 ] [ 8 ] 、射频层析成像方法(Radio Tomographic Imaging, RTI) [ 9 ] [ 10 ] 和几何定位方法 [ 11 ] [ 12 ] 等。其中RTI方法最早由犹他大学的Neal Patwari [ 9 ] [ 10 ] 等人提出，通过在目标区域的边缘布置若干收发节点，根据每个节点接收到的信号强度(Received signal strength, RSS)的变化来反映目标的影响，并借鉴医学CT思想用反演图像的方式呈现出定位结果，该方法由于其直观性强而受到较多关注。RTI方法的核心是通过一个阴影权重模型，构建RSS值变化与目标位置之间的关系，然后通过正则化方法反演出位置图像。因此，阴影权重模型成为决定RTI成像质量的关键因素之一，因而也成为RTI研究的重点之一。从最早Zhang等人提出的矩形模型开始到广泛应用的椭圆模型 [ 9 ] [ 10 ] ，都只单纯考虑了链路长度对于权重的影响，忽略了被定位目标与链路之间的距离关系。更为重要的是，这些模型认为椭圆内所有格点的权重相同，也不符合实际情况。为此，Hamilton等人提出了一种以包含目标的最小椭圆面积的倒数为权重值的IAEM模型 [ 13 ] ，一定程度上克服了原椭圆模型的缺点。最近菲涅耳衍射理论被越来越多地考虑，马鞍模型(SaS) [ 14 ] 和衍射模型 [ 15 ] [ 16 ] 中均将菲涅耳衍射理论作为建模依据。但这些模型给出的不再是单纯的权值，而是具体的RSS变化量，已无法直接用到现有RTI方法中。 因此本文针对上述问题，依据菲涅耳衍射理论提出了一个新的阴影权重模型：双层椭圆阴影权重模型。以此达到更精确描述RSS值变化与目标位置之间关系的目的，并将新模型运用到RTI中，改善成像质量，提高定位精度。"
"假设定位区域周围布置了L个无线节点，一共可以组成M = (L − 1)L/2条无线链路，并且将定位区域划分为N个网格，可以形象地将这些网格称为“像素”。相对于无目标时空区域，当待测目标进入定位区域时，会引起RSS值的变化： y = W x + n (1) 其中y表示目标进入定位区域前后RSS测量的差值，W是阴影权重矩阵，x是像素点上的信号衰落值，n为噪声。为了从测量数据中估计一个图像，通常需要在最小平方误差的情况下寻找最优解： x L S = arg min x ‖ W x − y ‖ 2 2 (2) 可以通过设置等于零的梯度来得到最小二乘解，结果是： x L S = ( W T W ) − 1 W T y (3) 在吉洪诺夫正则化中，将能量项加到最小二乘公式中，从而得到目标函数： f ( x ) = 1 2 ‖ W x − y ‖ 2 + α ‖ Q x ‖ 2 (4) 其中Q是吉洪诺夫矩阵，它使一个解具有一定的期望性质。 由于图像是二维的，所以正则化应该包括在垂直方向和水平方向上的分量。矩阵DX是水平方向的差分算子，DY是垂直方向的差分算子。正则化函数可以写成： f ( x ) = 1 2 ‖ W x − y ‖ 2 + α ( ‖ D X x ‖ 2 + ‖ D Y x ‖ 2 ) (5) 在求解过程中设置导数和等于零可得到结果： x = ( W T W + α ( D X T D X + D Y T D Y ) ) − 1 W T y (6)  现有的椭圆阴影权重模型是以一对收发节点为焦点构成一个椭圆，椭圆外部的像素点权值设为0，椭圆内部的像素点权值依据下式计算得到： W i j = { 1 d     i f     d i j ( 1 ) + d i j ( 2 ) < d i + λ 0                     o t h e r w i s e (7) 其中d i 表示第i条链路长度，d ij (1)，d ij (2)分别为像素点到两节点的距离，λ为椭圆短轴长度，i为链路序号，j为像素点序号。 该权值的计算依据在于：链路越长，当该条链路与其它链路相交时的权重就应该越低。一般来说，目标遮挡一条短链路对RSS值产生的影响要大于遮挡一条长链路产生的影响 [ 9 ] ，因此有一定的合理性。但是，许多实验表明仅仅依靠链路的长短来确定权值是不够的。由于人距离收发节点的远近不同会导致对链路不同的影响，因此对于同一条链路，将椭圆内所有像素设为同样的权值是不符合实际情况的，也会导致定位效果的变差。"
"菲涅耳衍射理论认为空间任意一点处的辐射场，是包围波源的任意封闭面上产生的所有次波在该点所产生场叠加结果 [ 17 ] [ 18 ] 。通过菲涅耳半波带法可以将链路周围的区域划分为若干个菲涅耳区，这些菲涅耳区是以收发节点为焦点的旋转椭球。若某点到收发节点的距离之和与链路长度相差n个半波长，则该点为第n菲涅耳区的边缘，而该椭球的短半轴长称为最大第n菲涅耳半径，如图1所示。 通过菲涅耳半波带法可以论证：某点的场主要取决于第一菲涅耳半波带，90%的能量都在第一菲涅耳区内传播 [ 17 ] [ 18 ] 。因此，可以认为当目标遮挡住链路的第一菲涅耳区时，视为有效遮挡。而当目标处在第一菲涅耳区外部时，可以认为对链路测量值的影响很小，此时权值和椭圆模型一样均设为0。下面重点分析像素在第一菲涅耳区内的权值设定。 首先，对于同一条链路，在距离收发节点距离不同的位置对于RSS值影响是不同的。当人遮挡的面积占第一菲涅耳区某截面的百分比越大时，对RSS值的影响也越大。故下文讨论对于同一条链路，人在不同位置遮挡住的面积占第一菲涅耳区在该处的截面面积的百分比的变化情况，如图2。 根据上图可以计算人遮挡住的面积占第一菲涅耳区在该处的截面面积的百分比P： P = r 1 2 − ( h 2 ) 2 * h + 4 π r 1 2 * arcsin h 2 r 1 360 π r 1 2 (8) 图1. 菲涅耳区示意图。S，R表示收发节点 图2. 将人近似视为圆柱体站在链路中，椭圆为第一菲涅耳区，人的体宽设为h，截面图中o为圆心，r 1 为第一菲涅耳半径 以下文使用的实验场景为例，链路最短大约是2 m，最长大约是72 m，与此对应的最大第一菲涅耳半径为0.21 m到0.556 m。若把人的体宽取为0.3 m，则P关于r1的函数图像如图3，可见在此范围内，函数是单调下降的。 对于一条链路，收发节点处对应的第一菲涅耳半径最小，逐渐扩大到链路中点对应的最大菲涅耳半径，根据上图可知，随着第一菲涅耳半径的扩大，P越来越小，因此对RRS值的影响也越小，故可将像素点权值的大小设为该点对应的第一菲涅耳半径的平方成反比。同时，考虑到对于同一条链路某位置的一个横截面，当人偏离链路时，遮挡的面积占截面百分比比人恰好在链路上时更小，对信号传播的影响也越小。因此，结合菲涅耳半波带法不难发现，越远离链路的位置传输的能量越小，对信号传播的影响也越小。综合这两点：在同一截面，越靠近链路的位置对RSS值影响越大，应赋予更高的权值。由此引入传播主区的概念，对第一菲涅尔区靠近链路和远离链路的区域的权值进行划分。传播主区是指第一菲涅耳区中面积占三分之一的空间区域，又称最小菲涅耳区，它对电波传播起主要作用。因此通过赋予传播主区区域内的像素更大的权值来对第一菲涅耳区内的像素进一步划分，按照第一菲涅耳区域内权重的赋值方法，得到了新的权重模型： W i j = { 1 r 0 2 * d i 1 r 1 2 * d i 0 i f D ≤ r 0 i f r 0 < D ≤ r 1 o t h e r w i s e (9) 其中，r 0 为第i条链路对应的最小菲涅耳半径，r 1 为第i条链路对应的第一菲涅耳半径，D为该像素点到链路的投影距离。菲涅耳半径的计算可参考文献 [ 18 ] 中的已有公式。 图3. 图为百分比P的函数图像，横坐标为第一菲涅耳半径，从0.21 m到0.556 m"
"为全面衡量本文方法的有效性，本文同时用室外和室内的实验数据对不同模型进行了对比研究。其中，室外数据选取犹他大学实验组的实测数据(数据来源：http://span .ece.utah.edu/rti-data-set)，在6.4*6.4 (米)区域的网络周围均匀布置28个节点测量得到的，通信频率为2.4 GHz。室内数据是在南京师范大学行健楼大厅测得，使用TI公司的CC2530模块组建定位网络，通信频率也为2.4 GHz，实验范围为5*5 m的区域，在周围均匀布置20个收发节点。图4为实验环境图片。  首先通过RTI成像图直观地感受三种模型的定位效果。图5的(a) (c) (e)分别是室外环境中椭圆模型、马鞍模型、双层椭圆模型在(0.91, 2.74)位置的定位图(单位：米)，(b) (d) (f)是室内环境中椭圆模型、马鞍模型、双层椭圆模型在(1,2)位置的定位图(单位：米)。 由上图比较可以发现，在室外定位情况下，双层椭圆模型相较于椭圆模型，定位目标被框定在更小的范围内，相较于马鞍模型，背景较为清晰。在室内定位情况下，由于墙壁的反射等原因，背景相较于室外更为复杂，但双层椭圆模型依然能成功实现定位，且效果良好。  为了更全面反映定位性能，本小节给出不同模型经过多次实验后的统计结果。通过选取若干个位置作为样本，每个位置选取50组测量数据，每一组数据都用RTI成像，把亮度值最高的像素点所在位置作为定位目标位置，再计算与真实位置之间的距离作为误差，对于同一样本的50组数据的误差取平均作为样本的误差。 室外数据随机选取了14组样本，在定位过程中，椭圆模型和马鞍模型都存在因为伪目标亮度高于目标而出现定位失败的情况，表1中的数据是在除去这些定位误差较大的位置之后计算所得，数据都是用样本的误差进行计算的。由此看出双层椭圆模型在直接取最亮点定位时效果较好，优于马鞍模型，且相比椭圆模型精度提高明显。这是因为利用本文提出的模型进行反演，所得成像结果的背景较为简单，伪目标较少，而椭圆模型和马鞍模型的背景较为复杂，可能会有一些伪目标的亮度值过高，导致定位失败。  室内实验中随机选取了13个样本，用三种不同的模型进行定位。表2展示了三种模型的定位误差。 从这些结果可以看出，在室内复杂环境下，本文提出的双层椭圆模型依然可以成功实现定位，并且相较于其他模型，在定位精度上具有较明显的优势。 图4. 单人测量图 图5. 三种模型在室内室外环境的定位图比较 Table 1 均值 中值 最大值 标准差 椭圆 0.23 m 0.24 m 0.35 m 0.09 m 马鞍 0.21 m 0.16 m 0.43 m 0.09 m 双层椭圆 0.19 m 0.17 m 0.43 m 0.08 m 表1. 室外数据三种模型定位误差比较 Table 2 均值 中值 最大值 标准差 椭圆 1.81 m 1.12 m 4.09 m 1.49 m 马鞍 1.20 m 0.57 m 4.36 m 1.42 m 双层椭圆 0.90 m 0.28 m 3.04 m 1.05 m 表2. 室内数据三种模型定位误差比较"
"本文针对现有RTI方法中权重模型的不足，提出了基于菲涅耳衍射理论的双层椭圆权重模型。通过对第一菲涅耳区和第零菲涅耳区内的像素点赋予不同权重，以及对距离收发节点远近不同的像素点赋予不同的权重，来提高RTI的成像质量和定位性能。室内外实验结果表明，该方法的成像质量和定位精度都要优于现有RTI方法。"
