"电站锅炉体积庞大且结构十分复杂。本文利用虚拟现实(VR)技术，针对YG240循环流化床电站锅炉建立了锅炉信息仿真系统。首先利用Creo和3DS Max建立了1:1的锅炉三维可视化模型。其次，在三维环境中构建电站锅炉的基本信息库，该信息库包括汽包、水冷壁等典型锅炉构件的属性信息以及烟气流程和汽水流程的VR视频展示。最后利用UE4开发引擎将部件属性、烟气流程和汽水流程进行整合。该系统可作为电站锅炉知识获取的一种新的途径和方法。"
"随着计算机仿真技术和互联网信息技术的发展，国家发展和改革委员会提出，要大力推进计算机信息技术和教学培训的融合发展，支持运用互联网、大数据和虚拟现实(Virtual Reality，简称VR)技术来探索未来教育发展的新模式。VR技术作为如今最前沿的计算机系统仿真技术之一 [ 1 ]，在人们的生产生活和学习中得到了越来越多的重视和应用 [ 2 ]。目前VR技术已经在农业、教育、建筑可视化、医疗器械、机械设计制造 [ 3 ]、化工、电力、航空航天等领域中得到了应用 [ 4 ]，并取得了显著的成效。在锅炉行业，VR技术也得到了应用。部分学者将VR技术应用在锅炉教学培训中，如闫海峰 [ 5 ] 利用虚拟现实技术对锅炉爆炸事故进行了模拟分析；王娜娜 [ 6 ] 通过采用基于VRML的建模方法，并与专业三维建模软件Pro/Engineer相结合，构建了电厂锅炉本体和主要设备的三维可视化模型，基本实现了用户管理、课程学习、知识要点总结和在线提问等功能。 电站锅炉的参数高、容量大，设备体积庞大且内部结构极其复杂，难以满足现场实物学习的要求 [ 3 ]。目前，电站锅炉信息获取模式多为实验教学和书本学习的方式，现场实践培训也只能满足人员对锅炉表面部件较浅的认知，对电站锅炉的内部结构缺乏直观的了解和认知 [ 7 ]。而VR技术具有沉浸性 [ 8 ]、交互性和多感知性等特点 [ 9 ]，可以自主地创造学习环境，激发学员的学习兴趣，获得更好的学习体验。 因此，将虚拟仿真与培训相结合，虚拟现实的沉浸式体验增加了培训和仿真过程的效率 [ 10 ]，同时也促进了VR技术在锅炉培训中的推广应用。"
"三维模型是构建虚拟锅炉培训系统的基础，模型文件的逼真程度直接影响虚拟仿真的效果。模型过于简单，无法让用户获得沉浸感和真实感；模型过于复杂，则导致虚拟场景加载过慢，用户无法获得流畅的体验感。虚拟场景的三维模型创建过程可以分为三部分：数据预处理、构建模型和模型优化，其流程如图1所示。数据预处理主要包括锅炉的二维图纸绘制和现场图像的采集，其中，根据二维图纸提取模型特征是构建模型的基础。首先通过Creo建立锅炉的三维模型，再利用3D Max对模型进行组件合并和格式转换，最后，模型优化是构建虚拟场景的关键，模型优化的好会加快虚拟系统加载时的速度，优化的差则会使得系统卡顿，并且对电脑的硬件要求也更高。 图1. 三维模型构件流程图 本文以YG240循环流化床锅炉为对象，选取Creo和3DS Max作为三维建模软件，根据图纸尺寸按照1:1的真实比例，使用Creo创建锅炉各组件的3D模型，如图2所示。 图2. YG240循环流化床锅炉模型 Creo创建的模型精细度高，会导致虚拟场景加载太慢，影响用户体验，因此还需要利用3DS Max对模型进行进一步塌陷处理。在建模过程中，添加的修改命令越多模型越复杂，通过塌陷处理后可以提高系统的运算效率，不然Max就会根据修改命令堆栈依次计算，每多一个命令堆栈就增加近4倍的运算量。本文以风机为例，如图3所示。在3DS Max中对风机模型进行塌陷减面操作后，面数得到减少，但从效果上看，精简前后模型几乎没有差别。 图3. Y风机模型。(a) 精简前与(b) 精简后(上)“线框”和(下)“面”模式截图   对模型进行优化后，将模型导出到UE4开发引擎进行虚拟场景搭建，在UE4中完成电站锅炉的组装、水循环与烟气循环 [ 11 ]。主要流程如图4所示。每一部分的内容描述如下： 图4. 虚拟系统实现流程图 1) 设置三维模型的物理属性：利用UE4的物理引擎为三维模型添加刚体属性、碰撞属性和物理材质等。 2) 制作水流、烟气、火焰等特效：利用UE4的材质、粒子系统，来模拟生成水流、烟气、火焰等自然界中形状不规则的物体，达到模拟现实的效果。 3) 三维模型材质的渲染：利用UE4的着色器对三维模型和虚拟场景的颜色、材质、光照和纹理贴图进行烘焙，使实体模型更加逼真。 4) 创建数据驱动模型：通过编辑蓝图脚本代码连接后台数据，实现对水流、烟气、火焰等特效的控制。 5) 漫游检查：通过编辑蓝图脚本，实现系统启动时的漫游状态检测。 6) 系统的操作控制：通过编辑蓝图脚本，实现手柄操作，添加开关按钮、拾取、丢弃等事件，实现对虚拟装配系统的操控。 7) 人机界面：通过UMG模块实现人机交互界面。 8) 动画制作：利用UE4的Matinee和Sequence模块，制作CFB电站锅炉的组装、水循环和烟气流程的动画，并通过UE4的视频播放模块将动画嵌入到虚拟装配和仿真系统中，实现用户在VR中观看视频的功能。 9) 系统发布：利用UE4的“打包”功能，根据需要选择发布的平台，生成可安装的或独立于UE4之外的免安装可执行文件。  如图5与图6所示，通过使用头戴式显示器和VR手柄，用户可以在虚拟场景中实现选取、显示、隐藏、拾取、丢弃锅炉部件等操作，还可以通过抛物线传送在场景中漫游。 图5. 抛物线传送示意图 图6. 拾取锅炉部件示意图 如图7所示是实现基础射线追踪算法的程序蓝图，将该蓝图附着在手柄上，可以使手柄实现“发现”场景中目标对象的功能。通常来说，使用射线追踪来发现哪些物体可以交互可以满足大多数需求。但它也有其不利的一面，当使用射线追踪时，用户很难与目标对象进行精确的交互，这种缺陷在距离目标对象距离较远时尤为明显。本文在研究射线追踪算法的基础上，进行了部分优化，提出一种基于抛物线的方法在最大限度上处理这种缺陷，其原理是在用户和目标对象之间比较最小抛物线长度。弧长越小，表征了视线与对象间的距离越小，运用这种方法所找到的交互对象也越符合用户的预期。根据位移计算公式 z = ( t × v z ) − ( 0.5 × g × t 2 ) ， y = t × v y ，其中 v z 为竖直方向速度， v y 为水平方向速度，g为重力加速度，可以搭建如图8所示的抛物线追踪函数蓝图。 图7. 射线追踪函数蓝图 图8. 抛物线追踪函数部分蓝图 实际使用中发现：抛物线追踪不仅可以在水平方向还可以在垂直方向进行对象追踪和交互，更适用于虚拟场景漫游。  除了上述介绍的用户通过与虚拟场景交互来学习电站锅炉的方式外，利用浏览器3D引擎three.js构建了电站锅炉的信息模型，该模型可以同时展示相应部件的3D模型及其相关基础知识和国家与行业规范内容。该功能的实现，首先通过临时内容数据库sqlite建立了基础信息和规范的数据库；利用three.js、webgl以及opengl先进的前端三维技术，实现了部件的信息及规范内容的精准对应，突破了传统纸质规范内容查找不够便捷的弊端，从而实现了“所见即所得”的知识获取途径。利用场景、摄像机以及渲染器三者相结合，建立了图9所示的虚拟电站锅炉信息系统模型。图中左侧以分组形式列出了锅炉的所有部件；中间是模型展示和操作区；底部是工具菜单，包含旋转、平移、缩放、界面分析、测量、分解模型等工具命令；右上角是导航球，可以快速对模型进行多视角观察。该信息系统支持三级模型展示，支持查看锅炉的每一个部件模型和属性信息，功能强大，界面友好。图10所示为锅炉汽包的模型展示与属性信息。 图9. 锅炉整体模型 图10. 汽包模型与信息展示"
"虚拟现实(VR)技术在工程领域的应用和发展前景十分广阔。本项目针对YG240循环流化床锅炉，开发了一套结合虚拟现实(VR)技术的虚拟电站锅炉信息仿真系统。综合利用了Creo和3DS Max等三维建模技术、three.js前端三维技术、MySQL数据库，实现了网络系统中锅炉3D模型集成信息的可视化与交互式动态展示。这种基于VR技术的电站锅炉网络信息查询，为锅炉相关从业人员、高等院校及特种设备研究院获取锅炉信息提供了便利，其推广和应用将会提高检修和运行人员的技术水平，为电站锅炉的安全、经济运行做出贡献。"
