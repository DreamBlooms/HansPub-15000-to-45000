"TTS (Text To Speech，文本转换为语音)以其便捷的特性，己在车载导航等领域得到了广泛的应用，但在航海领域还尚未进行过探讨。目前ECDIS警报主要是“哔哔”机械式的声响，驾驶员需要肉眼观看才能得知警报的内容，在一定程度上分散了驾驶员瞭望、操船等的精力，此时，ECDIS报警的语音提示功能就显得尤为重要。TTS技术能够缓解驾驶员的视觉疲劳，且使驾驶员更便捷的获取警报的内容，同时船舶安全航行也更有保障。 关键词 :TTS，ECDIS，报警，语音"
"随着航海技术的发展，船舶导航系统将电子海图与航海雷达，驾驶台控制综合显示台，船舶自动识别系统和全球定位系统等设备集成一体化，已经基本实现了集成显示与操作和船舶综合导航的功能，船舶导航自动化程度越来越高 [ 1 ] 。但是随着语音技术在其它领域不断地成功应用，语音技术应用到航海领域也是大势所趋。目前ECDIS警报主要是机械式的声音，非人的自然语音，不含有该警报的内容信息，海员听到机械式的语音警报，需要去分析警报的种类，然后再做出决策，在某种程度上分散了瞭望、操船等的精力，再加ECDIS有时候误报警，海员可能在避让繁忙的时候，直接取消该报警，造成对警报信息的错失，单人驾驶或者夜间航行的情况下尤其影响船舶的航行安全。我国内河运营的船舶一般吨位比较小，船舶成本又被加以控制，驾驶台单人驾驶的情况时有发生，夜航时，航海人员难免有精力不集中的时刻，没有对ECDIS报警做出正确决策。假若ECDIS提供人自然语音的声音报警则能够为航海安全提供一定的保障。"
"TTS是Text-to-Speech的缩写，也可以成为Speech Synthesis，即语音合成 [ 2 ] ，就是将文本转为语音输出的过程，这个过程的工作包括前端的文本分析和后端的语音合成 [ 3 ] 。当程序需要发声的时候就需要调用语音合成引擎，合成语音，将待合成文本处理后通过扬声器播放出来。语音引擎本文使用win7系统自带的Microsoft Speech SDK 7.0，语音库经过筛选之后使用美国Neospeech公司免费提供的VW Pual语音库 [ 4 ] 。  Microsoft Speech SDK提供关于语音处理的一套应用程序编程接口SAPI (Speech Application Programming Interface)。SAPI提供了实现语音合成和识别程序的基本函数，大大降低了编程带来的难度，降低了语音编程的工作量，可以直接应用到导航系统上，进行语音报警。 图1是Microsoft Speech SDK 7.0的结构。  在导航系统中使用Microsoft Speech SDK，应首先安装Microsoft Speech SDK (win7系统已经自带，XP系统需要进行安装)，其次还要安装语音库，win7系统自带的有2个语音库，分别是Microsoft Anna、Microsoft Lili，Anna是女声且只能讲英文，Lili也是女声但中英文都可以 [ 5 ] 。本文经过测试，目前比较成熟的语音库是美国Neospeech公司提供的VW Pual语音库，它发音的效果与自然语音十分相近，因此本文使用VW Pual语音库。 图1. Microsoft Speech SDK 7.0结构图  本文使用微软提供的TTS文字朗读引擎，它能够将本文转化为计算机语音信息，通过计算机声卡将文字内容朗读出来。 1. SpVoice类 SpVoice是支持语音合成TTS的核心类，通过SpVoice对象调用语音合成引擎，实现文本到语音的转换。 主要方法： Speak：完成将本文信息转换成语音信息并按指定的参数进行朗读。有Test和Flags两个参数，分别制定要朗读的文本和语音优先级。 Pause：暂停使用该对象的所有朗读进程。 Resume：恢复该对象所对应的呗暂停的朗读进行。 2. SpFileStream类 SpFileStream是实现语音波形文件操作的类。 方法： Close：关闭文件 Open：打开文件 Read：读入文件 Write：写文件 3. SpVoice Events类 SpVoice Events自动化对象定义了SpVoice对象能够从TTS引擎接受到消息类型。主要有： StartStream：表示TTS引擎开始朗读文本流。 EndStream：表示TTS引擎朗读完文本流。"
"1. 初始化COM，因为SAPI是COM的应用，使用前必须初始化。 2. 创建voice对象，即一个COM对象。 3. 实现朗读功能，即调用voice的speak方法。 部分程序如图2。 4. 将上述程序进行封装，以便于ECDIS报警程序进行调用。 最终在ECDIS中部分应用演示所示： 1) 当ECDIS检测到GPS信号未接入 [ 6 ] 时，发出“No GPS navigator interfaced.”的语音报警，如图3所示。 图2. 文本到语音程序界面 图3. GPS信号未接入的语音报警 2) 当ECDIS检测到有危险区域时，发出“Dangerous area warning”的语音报警，如图4所示。 3) 当ECDIS检测到与他船有碰撞危险时，发出“Collision warning with vessel”的语音报警，如图5所示。 图4. 危险区域语音报警 图5. 本船与他船有碰撞危险的语音报警"
"本文创新性的将TTS技术应用到航海领域，以ECDIS模拟器为应用平台实现了语音报警。TTS技术为ECDIS带来的改变主要有以下三点：一是，优化了海员的工作环境改变了以往“哔哔”式的报警，海员耳听警报的内容，放松了疲劳的眼睛；二是，管理多种报警多种警报响起时，可以根据听到警报种类，确定当前操作与警报的优先权；避免多种报警引起的慌乱；三是，保障船舶安全航行海员更便捷的获取ECDIS警报的内容，将会更加迅速的做出安全决策，对航行环境更加了解，从而保障了船舶的安全航行。"
