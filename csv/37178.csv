"本文研究的是一个带有延迟启动时间和部分故障的M/M/1/N排队系统。在此排队系统中，服务台从关闭期到正常工作期间，需要经过一段随机时长服从指数分布的启动期。本文中所研究的部分故障指的是，系统发生故障后并不会立即停止服务，而是以一个较低的速率服务系统中现存的顾客，同时拒绝新到达的顾客进入系统中，当所有现存顾客服务完成并离开后系统立即进入修复期。易知本文中的二维连续马尔可夫过程为拟生灭过程(QBD)，利用删失技巧及矩阵分析方法便可得到该系统的平稳分布，如此，赋予各参数不同的值，便可进一步分析系统对各参数的敏感度。 关键词 :M/M/1/N，延迟启动时间，部分故障，删失技巧，矩阵分析方法 Copyright © 2020 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY 4.0). http://creativecommons.org/licenses/by/4.0/"
"排队论是对排队等候过程中出现的拥挤和延误进行的数学研究，其研究内容涉及建模、性能、控制、仿真、计算、推理和优化等各个方面。排队论研究等待服务的每一个组成部分，包括到达过程、服务过程、服务台数量、等待空间的容量、排队规则和顾客数量(可能是人、数据包、汽车等)。 丹麦数学家Erlang [ 1 ] 在一个世纪以前第一次在他的论文中介绍了排队论，用来研究电话通话问题，从此开创了这门应用数学学科。Gnedenko和Kovalenko [ 2 ] 讨论了带有部分故障的排队系统并且研究了部分故障在M/G/1系统中的影响。部分故障意味着系统在正常工作期间的任意时间点都可能会发生故障，但是，当系统发生故障时，服务不会立即完全停止，而是继续以一个较低的速率继续工作，并且不再接受其他外来的顾客。Avi-Itzhak和Naor [ 3 ] 在他们的论文中关注的是两种带有故障的排队模型，其中一个模型是故障只会发生在服务台正在进行服务时，另外一个模型是故障可能会发生在系统空闲时。White和Christie [ 4 ] 在他们的论文中研究的是带有故障和带有优先权的排队系统的相似性，并且讨论了这两种效果。Sridharan和Jayashree [ 5 ] 研究的是具有一般故障、部分故障和完全故障的有限队列的一些特性，此处的部分故障是服务器发生故障时，允许顾客进入系统。Wang等人 [ 6 ] 研究的是带有部分故障的马尔可夫单服务台队列的均衡问题。Economou和Kanta [ 7 ] 研究的却是具有开关周期交替的马尔可夫单服务台排队系统。文章 [ 8 ] [ 9 ] [ 10 ] 考虑的都是具有工作故障的不同的排队模型。Xu等人 [ 11 ] 分析的是M/M/1排队系统中顾客的均衡策略行为，该排队系统是带有部分故障和可修复的条件。文章 [ 12 ] [ 13 ] [ 14 ] 讨论的都是带有延迟启动的排队系统。延迟启动的排队系统指的是，系统从关闭期到正常工作需要经过一段时间的启动期才能开始正常服务。杨喜娟等人 [ 15 ] 研究的是带有启动时间和工作故障的M/M/1/N排队系统。 基于上述学者的研究，本文考虑的是带有延迟启动时间和部分故障M/M/1/N排队系统的性能。QBD的特点和矩阵分析方法在解决二维马尔可夫过程中有非常重要的应用，相关问题在论文 [ 16 ] [ 17 ] [ 18 ] [ 19 ] 中有提及到。删失技巧在有限空间队列和无穷空间队列的排队模型中起着重要的作用，它可以使得计算更加的简便。 本文的排队系统可以模拟生活中的一些问题。假设有一台正常工作的机器在某一时刻发生了故障，它会立即被一台工作速率更低的备用机器所代替，以保障持续的工作。在这种情况下，备用机器仅完成系统内未完成的任务，当所有现存任务完成后，发生故障的机器才会被送去修理。 本文的组织结构如下：第2节描述了本文的模型；第3节中运用删失技巧和矩阵分析方法，得到了排队系统的平稳分布；第4节给出了一些数值算例；第5节总结。"
"本文考虑的是一个带有延迟启动时间和部分故障的M/M/1/N排队模型，其模型描述如下： 1) 系统中只有一个服务台，服务台每次只能服务一个顾客，队列最大容量为N。 2) 顾客的到达是一个泊松过程，参数为 λ 。 3) 当服务台正常服务完系统中所有的顾客后，立即进入一段随机长度为L的休眠期，L服从参数为 θ 的指数分布。若休眠期结束时，队列中有顾客，则服务台立即进入正常忙期，正常忙期内顾客的服务时长服从参数为 μ 的指数分布。否则，队列为空，系统立即进入关闭期。 4) 若服务台在正常工作过程中发生故障，则系统不再接受新到达的顾客，并且服务台将以较低的速率 μ w 进行服务，直到系统为空，此时系统立即进入修复期进行维修。维修完成后系统进入休眠期。假设系统发生故障的过程服从参数为 α 的泊松过程，维修时长服从参数为 β 的指数分布。 5) 在系统关闭期内，若有外部顾客到达，则关闭期结束，经过一段随机长度为T的启动期，系统进入正常忙期，T是服从参数为s的指数分布。 6) 上述的随机过程都是相互独立的，且在本文中规定 λ < μ w < μ ，以保证系统最终是平稳的。服务台的服务遵循先到先服务(FCFS)原则。"
"令 N ( t ) 表示t时刻系统队列中的顾客数， I ( t ) 表示t时刻系统的状态。根据第2节的模型描述，有： { I ( t ) = 0 ,     启 动 或 关 闭 状 态 I ( t ) = 1 ,     休 眠 状 态 I ( t ) = 2 ,     正 常 服 务 状 态 I ( t ) = 3 ,     故 障 状 态 I ( t ) = 4 ,     维 修 状 态 由此可知， { ( N ( t ) , I ( t ) ) , t ≥ 0 } 是一个二维连续时间马尔可夫过程，状态空间为 Ω = { { ( 0 , 0 ) , ( 0 , 1 ) , ( 0 , 4 ) } ∪ ( k , j ) : 1 ≤ k ≤ N , j = 0 , 1 , 2 , 3 } 。 特别地， ( 0 , 0 ) 表示的是系统关闭期； ( 0 , 1 ) 表示的是系统休眠期； ( 0 , 4 ) 表示系统维修期； ( k , j ) 表示系统当前状态为j，同时系统中有k个顾客。系统的状态转移图如图1所示。从图1中，可以看到上述二维连续时间马尔可夫过程是不可约的，根据 [ 20 ] 文中的定理6.2.16和推论6.2.6，可知本文系统的平稳分布是存在且唯一的。 令 P ( k , j ) = lim t → ∞ P { N ( t ) = k , I ( t ) = j }   ( 0 ≤ k ≤ N , j = 0 , 1 , 2 , 3 , 4 ) ，为系统的平稳分布，则平衡方程如下 λ P ( 0 , 0 ) = θ P ( 0 , 1 ) ， (1) ( λ + θ ) P ( 0 , 1 ) = μ P ( 1 , 2 ) + β P ( 0 , 4 ) ， (2) β P ( 0 , 4 ) = μ w P ( 1 , 3 ) ， (3) ( λ + s ) P ( 1 , 0 ) = λ P ( 0 , 0 ) ， (4) ( λ + θ ) P ( 1 , 1 ) = λ P ( 0 , 1 ) 。 (5) 由归一化条件知 P ( 0 , 0 ) + P ( 0 , 1 ) + P ( 0 , 4 ) + ∑ k = 1 N ∑ j = 0 3 P ( k , j ) = 1 (6) 图1. 状态转移图(a) 根据删失技巧，可以得到删失后的马尔可夫过程的状态转移图，如图2所示，然后通过一些简单的计算，就可以得到本文模型的平稳分布。 图2. 状态转移图(b) 删失掉状态 ( 0 , 0 ) ， ( 0 , 1 ) ， ( 0 , 4 ) ，可知一些状态转移速率变为： ( 1 , 3 ) → λ μ w / ( λ + θ ) ( 1 , 1 ) ， ( 1 , 3 ) → θ μ w / ( λ + θ ) ( 1 , 0 ) ， ( 1 , 2 ) → λ μ / ( λ + θ ) ( 1 , 1 ) ， ( 1 , 2 ) → μ θ / ( λ + θ ) ( 1 , 0 ) 。 下面我们就来研究删失后的马尔可夫过程。 根据图2，易知删失后的马尔可夫过程的Q矩阵为 Q = [ A 1 C B A C B A C ⋱ ⋱ ⋱ B A C B A N ] ， 其中 A 1 = [ − ( λ + s ) 0 s 0 0 − ( λ + θ ) θ 0 μ θ λ + θ λ μ λ + θ − ( λ + μ + α ) α θ μ w λ + θ λ μ w λ + θ 0 − μ w ] ， C = [ λ 0 0 0 0 λ 0 0 0 0 λ 0 0 0 0 0 ] ， B = [ 0 0 0 0 0 0 0 0 0 0 μ 0 0 0 0 μ w ] ， A = [ − ( λ + s ) 0 s 0 0 − ( λ + θ ) θ 0 0 0 − ( λ + μ + α ) α 0 0 0 μ w ] ， A N = [ − s 0 s 0 0 − θ θ 0 0 0 − ( α + μ ) α 0 0 0 − μ w ] ， 状态空间为 Ω 0 = { ( k , j ) , 1 ≤ k ≤ N , j = 0 , 1 , 2 , 3 } 。 根据上文中的Q矩阵，易知删失后的马尔可夫过程是不可约的，且有唯一的平稳分布。下面我们先给出如下定义： π k j = lim t → ∞ P { N ( t ) = k , I ( t ) = j } ， ( k , j ) ∈ Ω 0 ， π k = ( π k 0 , π k 1 , π k 2 , π k 3 ) ， 1 ≤ k ≤ N ， π = ( π 1 , π 2 , π 3 , ⋯ , π N ) 。 根据删失后的马尔可夫过程的平衡方程，可得 π 1 A 1 + π 2 B = 0 ， (7) π 1 C + π 2 A + π 3 B = 0 ， (8) π k − 1 C + π k A + π k + 1 B = 0 ， k = 2 , 3 , ⋯ , N − 2 ， (9) π N − 2 C + π N − 1 A + π N B = 0 ， (10) π N − 1 C + π N A N = 0 。 (11) 假设 π k = π k − 1 R k ， 2 ≤ k ≤ N ， (12) 其中 R k 是4阶方阵。如果 A 1 和 A N 是非奇异的，则 π 1 = − π 2 B A 1 − 1 = π 2 R 1 ， (13) π N = − π N − 1 C A N − 1 = π N − 1 R N ， (14) 其中 R 1 = − B A 1 − 1 ， R N = − C A N − 1 。 接下来，将(14)代入(10)中，如果 ( A − C A N − 1 B ) 也是非奇异的，可得 π N − 1 = − π N − 2 C ( A − C A N − 1 B ) − 1 = π N − 2 R N − 1 ， (15) 其中 R N − 1 = − C ( A − C A N − 1 B ) − 1 。 最后，根据(9)和(12)，有 π k = − π k − 1 C ( A + R k + 1 B ) − 1 = π k − 1 R k ， k = 2 , 3 , ⋯ , N − 2 ， (16) 其中 R k = − C ( A + R k + 1 B ) − 1 。 显然， R k 可由(12)~(16)推出。根据Elhafs和Molle [ 16 ] 文中所述，可知 π k = π 2 R k * ， k = 2 , 3 , ⋯ , N ， 其中 R k * = ∏ j = 2 k R j ， R 1 = − B A 1 − 1 ， R 2 = I 。在(12)中，令 k = 3 ，可得 π 3 = π 2 R 3 。 (17) 将(13)和(17)代入(8)中， π 2 ( R 1 C + A + R 3 B ) = 0 。 (18) 根据归一化条件 π 1 e 1 + ∑ k = 2 N π k e = 1 ， 得 π 1 e + π 2 ∑ k = 2 N R k * e = 1 ， (19) 其中e是单位列向量。将(13)代入(19)中，易得 π 2 ( R 1 e + ∑ k = 2 N R k * e ) = 1 。 (20) 结合(18)和(20)， π 2 易知，再由(13)便可得 π 1 。接着根据(12)，有 π k = π k − 1 R k = π k − 2 R R k − 1 k = ⋯ = π 2 R k * ， 2 ≤ k ≤ N 。 由于删失后的马尔可夫过程满足下面的归一化条件 ∑ k = 1 N ∑ j = 0 3 π k j = 1 ， (21) 由(6)和(21)，易知 π k j = P ( k , j ) 1 − P ( 0 , 0 ) − P ( 0 , 1 ) − P ( 0 , 4 ) ， ( 1 ≤ k ≤ N , j = 0 , 1 , 2 , 3 ) 。 同时，基于(3)~(5)，可以得到下面的等式： { P ( 0 , 0 ) = ( λ + s ) π 10 / λ 1 + ( λ + s ) π 10 / λ + μ π 11 / ( λ + θ ) + μ w π 13 / β P ( 0 , 1 ) = μ π 11 / ( λ + θ ) 1 + ( λ + s ) π 10 / λ + μ π 11 / ( λ + θ ) + μ w π 13 / β P ( 0 , 4 ) = μ w π 13 / β 1 + ( λ + s ) π 10 / λ + μ π 11 / ( λ + θ ) + μ w π 13 / β"
"设 m = 1 − P ( 0 , 0 ) − P ( 0 , 1 ) − P ( 0 , 4 ) 。系统的稳态性能定义如下： 1) 系统吞吐率 T P = ∑ k = 1 N [ P ( k , 2 ) ⋅ μ + P ( k , 3 ) ⋅ μ w ] = m ∑ k = 1 N ( π k 2 μ + π k 3 μ w ) 。 2) 系统稳态可用度 A v a i = ∑ k = 1 N [ P ( k , 2 ) + P ( k , 3 ) ] = m ∑ k = 1 N ( π k 2 + π k 3 ) 。 3) 系统稳态队长 L e n g t h = ∑ k = 1 N [ k ⋅ ∑ i = 0 3 P ( k , i ) ] + 0 ⋅ P ( 0 , 4 ) = m ∑ k = 1 N ( k ⋅ ∑ i = 0 3 π k i ) 。 4) 系统处于正常忙期的概率 P n = ∑ k = 1 N P ( k , 2 ) = m ∑ k = 1 N π k 2 。 5) 系统处于故障忙期的概率 P b = ∑ k = 1 N P ( k , 3 ) = m ∑ k = 1 N π k 3 。 6) 系统处于修复期的概率 P r = P ( 0 , 4 ) 。 7) 系统处于关闭期的概率 P I d l e = P ( 0 , 0 ) 。 其次，我们给出了一些数值算例来说明一些参数对系统性能的影响情况。 图3反映的是 λ 对 T P 的影响，当其它参数不变时， T P 随着 λ 的增大而增大，即系统吞吐量随着到达速率的增大而增大。图4反映的是 α 对 A v a i 的影响和 μ 对 L e n g t h 的影响，当 α 不断增大时 A v a i 先减小到某一数值后不断增大，当 μ 增大时 L e n g t h 随之而减小。图5反映的是 θ 和s对 P n 的影响，当 θ 的增大时， P n 先增大到某一数值后不断减小，而 P n 随着s的增大而增大直到趋于一个固定的值。图6反映的是 μ w 对 P b 和 P r 的影响，显然， P b 和 P r 随着 μ w 的增大而减小。图7反映了 θ 对 P I d l e 的影响，其中 P I d l e 随着 θ 的增大而增大。 图3. 当 ( α , β , μ , μ w , θ , s , N ) = ( 2 , 2 , 4 , 3 , 2 , 3 , 15 ) 时， λ 对 T P 的影响 图4. 当 ( β , λ , μ , μ w , θ , s , N ) = ( 2 , 2 , 4 , 3 , 2 , 3 , 15 ) 时， α 对 A v a i 的影响；当 ( α , β , λ , μ w , θ , s , N ) = ( 2 , 2 , 2 , 3 , 2 , 3 , 15 ) 时， μ 对 L e n g t h 的影响 图5. 当 ( α , β , λ , μ , μ w , s , N ) = ( 2 , 2 , 2 , 4 , 3 , 3 , 15 ) 时， θ 对 P n 的影响；当 ( α , β , λ , μ , μ w , θ , N ) = ( 2 , 2 , 2 , 4 , 3 , 2 , 15 ) 时，s对 P n 的影响 图6. 当 ( α , β , λ , μ , θ , s , N ) = ( 2 , 2 , 2 , 4 , 2 , 3 , 15 ) 时， μ w 对 P b 和 P r 的影响 图7. 当 ( α , β , λ , μ , μ w , s , N ) = ( 2 , 2 , 2 , 4 , 3 , 3 , 15 ) 时， θ 对 P I d l e 的影响"
"本文主要研究的是带有延迟启动时间和部分故障的M/M/1/N排队系统的性能，根据删失技巧和矩阵分析方法，得到了该系统的平稳分布然后分析了系统的性能。作为本文的拓展，我们将考虑带有无限等待队列的排队系统，使用同样的技巧，可以研究排队系统的尾部渐近性。"
