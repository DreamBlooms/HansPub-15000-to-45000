"目前的停车管理的智能化水平较低，多数管理系统适用性差，使得停车难的问题已经成为了阻碍城市交通发展的一大障碍，基于物联网技术的车位管理系统的研究是为解决车位管理效率低下而设计。现提出一种由在线车位查询与预定、无障碍出入停车场、室内泊车诱导、反向寻车和后端云管理平台、物联网相关底层硬件设备等模块构成的车位管理系统，各模块之间相互联系，底层获取数据、应用层对数据进行分析反馈，共同组成了智慧停车的智能化管理。试验结果表明，此系统能够克服传统管理低效的弊端，具有运行稳定、精确检测自动识别车辆，提升管理水平实现智能化车位管理，满足车位自动管理需求，具有不错的应用前景。 关键词 :智能车位管理，物联网技术，无障碍出入，室内导航 Copyright © 2017 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"随着城市化建设的深入开展，全国汽车销量不断攀升，从而导致的城市交通管理压力也越来越大，停车已成为城市交通管理的首要问题之一。这就促使国内学者和业界研究人员对智能停车场管理进行研究，提出一些能够解决部分问题的停车管理方案。如文献 [ 1 ] 设计实现了停车场搜索、车位预定、车位导航功能的Android软件，有一定的应用价值。但该APP设计存在车位搜索依赖于百度地图等，公开数据较少，实用性较差。利用智能监控实现车位引导 [ 2 ] 对于车库管理者而言过于单一，无法实际部署。除此之外，基于车联网技术的停车场管理系统 [ 3 ] 虽然可加大停车场的管理效率、提高了车位的利用率，但投入成本与效益之间难以满足管理需求，而且并未构成一个闭环的管理流。为解决大型车库反向寻车难问题，文献 [ 4 ] [ 5 ] 提出的反向寻车以减少车站在大型停车场找寻停车时间，反向寻车的实现往往需要基于实时定位和导航，而此系统并未能较好的实现此功能，从而影响了系统的可用性；在反向寻车中，对寻车方法和室内路线规划算法 [ 6 ] [ 7 ] [ 8 ] [ 9 ] 的研究成果颇为丰富，但如何将这些研究成果实际应用到反响寻车及车位定位方面的研究尚有不足。 在停车管理方面，国外在停车场管理系统及停车诱导系统的研究具有一定的借鉴意义。如停车诱导系统与PR (Parkingand Ride)模式结合 [ 10 ] ，使得停车设施能够满足停车需求。在使用ID卡实现用户和车位的对应关系关联 [ 11 ] 。每张卡的ID号码唯一，其唯一对应了一个停车位。如果有车辆进入，系统自动实现车辆和车位ID关联。当车辆离开时，验证车牌号、车主信息等，验证成功则可以离开。虽然此种方式对于车位管理较为精准，但对于国内车辆骤增，基数庞大的现状而言有些不适应。车位的实时监测是车位预定的前提，文献 [ 12 ] [ 13 ] 提出了一种车位探测实时更新系统，使用车位探测器进行空位置探测。在车位锁的设计中，文献 [ 14 ] [ 15 ] 分别提出了一种远程控制车位锁和一种可充电车位锁，但其实际部署方式需结合管理系统进行改进。而文献 [ 16 ] 结合机器学习相关方法提出了基于数据相关性判断，寻找空车位决定是否停车于此。Bonde D J等 [ 17 ] 研究人员利用传感器获取到的停车位信息，通过显示屏更新车位状态提出了一种自动化停车系统模型。综上所述，现阶段所取得的研究成果具有一定得参考价值，但大多仅实现车位管理中的部分环节，尚未从系统的整体性、适用性和较高的智能化管理方面着手。因此，本文提出了基于物联网技术的车位管理系统。本系统能够克服传统管理低效的弊端，具有运行稳定、精确检测自动识别车辆，提升管理水平实现智能化车位管理，满足车位自动管理需求。"
"较为完备的智能车位管理系统应该从用户需求出发，用户所关心的问题包括：车辆的安全性、费用收取的合理性、出/入停车场和停/取车的便利性等问题。针对这些需求，本系统应该具有以下功能特点： 1) 实现无障碍出入停车场/库：为减少车辆出入停车场/库时的时间，提高车辆进出效率，减少拥塞发生的可能性。 2) 车辆的识别和管理：以车辆和车牌号来进行车辆识别，以车牌号为主键进行计费。一号一位一车，避免车位非法占有，任何条件下均可高效识别车辆。 3) 车位状态监测：车位管理系统实时反馈整个停车场车位状态信息，以便用户使用车位预定功能。 4) 反向寻车：为方便用户快速找到停车位以及反向快速寻找车辆，实现室内停车位导引必不可少。 5) 停车费用缴纳方式：车位管理中的停车收费方式应该由传统的人工收费转变为线上支付，提前支付临时停车和长时间停车费，免去出口排队缴费。 6) 停车数据的挖掘：挖掘停车位的利用率情况、空车位的预测、停车时间的关联性分析，指导优化停车管理与资源配置，从而提高停车场车位利用率。  基于物联网技术的车位管理系统主要由终端信息采集设备、传输网络、云平台控制中心和在线预约系统四部分组成。数据传输主干网拓扑结构，如图1所示。 图1. 传输网络示意图 终端信息采集设备主要由多种传感器组成，用来采集数据、车位信息发布、语音提示等。传感器包括超声波传感器、地磁感应传感器、车牌识别摄像头、视频监控摄像机和显示屏等，各种硬件设备协同工作，为车位管理提供支撑。 传输网络主要是由交换机、路由器等通信设备组成的数据传输网络。用来将底层硬件采集到的车辆停泊情况、停车位置、空车位数量、车位状态和停车场环境状态等数据实时传输到云平台控制中心。传输网络运行环境支持WIFI、LIFI、Zigbee等技术，还可以搭建覆盖整个停车场Zigbee通信网络。 如图1传输网络示意图所示，在数据传输系统的设计过程中采用了传统的分层网络架构设计的方法，将系统划分为三个方面，分别是核心层、汇聚层和接入层。采用分层的设计可便于检修和故障排除，各层之间并未做严格的限制和明确的划分，实施者可因地制宜，便于使用和实施。由低层次的地磁探测器、车位指示灯和摄像头等硬件组成，低层次的设备实时采集数据。采集到的数据采用TCP/IP协议标准，通过接入设备将数据信息上传至系统管理后台。而且接入设备可为用户提供宽带服务，宽带服务的收费加入到停车收费当中，具体使用情况和收费情况，用户均可通过账户查询。 云平台控制中心主要由应用服务器、WEB服务器和存储设备等构成，云平台作为系统的核心部分，需要实现对通信设备的监测管理、车辆进出停车场的调度、用户管理、计费管理和记录查询、以及数据统计分析等服务，主要功能模块如图2所示。 在线预约功能也可以放入到云平台控制中心进行阐述，为突出其重要性，在阐述过程中单独提出进行说明。在线预约主要为用户提供车位预定、导航服务、室内停车诱导、空车位数量显示、反向查询服务、停车缴费，以及历史记录查询等功能。"
"车牌识别的过程包括图像采集、图像处理和号码识别等一些处理算法。其主要流程大抵为：当车辆进入感应线圈感应范围内时，感应线圈采集车辆数量、行驶速度等数据，并启动图像采集系统；图像采集设备将所采集的图像上传至后台进行处理，后台图像处理软件对所采集车辆图像进行预处理，然后从图像中定位车牌区域、分割出车牌部分，再使用字符分割技术提取车牌号码。其中字符分割技术是从图像中分割出字符所在的最小区域，且需要保证识别的准确性，最后在车牌号码区域提取车牌号码，如图3所示。 图2. 系统功能结构图 图3. 车牌识别流程示意图 (一) 图像预处理 在采集车辆图像时，由于环境等因素，可能由急会存在图像质量低下等问题。因此，需要对摄像头采集的初始图像数据进行预处理，提升图像的质量以便于系统后续处理。图像预处理主要包括对图像进行灰度化以及减噪处理。通常情况下，摄像头所采集到的车牌图像为24位RGB数字图像。由于所采集图像为带有色彩的图像，因此，存储相应增大，后续处理复杂度也增加。数字灰色图像具有空间占用少、处理较为容易的特点。所以，需将摄像头采集图像转换为灰度图像。而灰度化处理又包括：加权平均法、最大值法及平均值法。 本文采用加权平均法，如公式(1)所示： (1) 其中， 为采样点处理后新值。 (二) 车牌区域边缘检测 边缘检测是利用边缘临近一阶、二阶方向导数变化考察图像的每个像素在某个邻域内灰度的变化情况，可用微分算子对图像进行边缘检测，使用Sobel算子利用3 * 3的模板和图像进行卷积处理。Sobel算子通过在距离中心像素较近的像素位置加权值2来实现某种程度的平滑效果，Sobel算子的梯度差分 ， 分别如下所示： (2) (3) 梯度近似值为： (4) (三) 字符分割 车牌字符分割是将采集到的车牌号码分割并输出准确的对应字符。本文采用字符具有的投影特征和标准大小及固定间距等来分割字符 [ 18 ] 。主要步骤包括： ①利用前述处理方法处理输入的图像，得到字符二值车牌区域图像。 ②计算所得列方向上像素值，然后进行垂直投影。 ③选取较小的像素与阈值，扫描图像第一字符左边缘，然后根据车牌自身宽与高比例，确定字符右边缘。 ④重复步骤3中的方法，因此划分出图像所有字符，存放在数组中。 ⑤对步骤4切分后的字符进行水平投影操作，确定字符上下边界。 (四) 字符识别 字符识别包括三个基本环节：字符描述、特征提取和字符的择与分类。对分割出来的字符实行归一化处理，使得字符的大小一致且车牌中所含有汉字数量较少，因此本文采用模板匹配法进行字符识别。模式匹配法乃是将模板图像与所采集的字符图像逐点比较，以相似度为依据选出字符。  对于车主来说当停车场车辆较多时，经常出现反向寻车难的问题。反向寻车难问题不仅浪费车主寻车的大量时间，而且对运营者来说，也直接影响到车位的利用效率。因此，对室内的导航和反向寻车的研究具有非常好的价值。而车辆进入室内停车场后，依靠GPS实时定位并不理想，身处室内停车场往往需要解决三个基本问题：所处位置？目的地在哪？如何去？这就涉及到室内导航的三个重要组成部分：室内地图构建、室内定位、路线规划。实时定位与地图创建的目的是尽可能地把未知环境转变为已知地图。对于室内导航来说，如何能快速计算出室内最优导航路径，需要使用相应的数据结构来表达室内路径信息。而导航网格技术的研究使得在生成室内地图时智能寻径。 (一) 室内导航网格的构建 导航网格是由多个节点组成的凸多边形的集合。每一个导航网格好比是节点模型的一个节点，它连接相邻的其节点。如果要分割运动轨迹，那么每一小段轨迹便可认为是在同一平面。而这些节点所有连接形成的每个导航网格为凸多边形，而凸多边形中的任意一条路径均被认为是可通行的最短路径。 通常导航网格是由凸多边形所组成，而一个凸多边形的表示可以使用三角形来表示，利用三角形可更加方便地抽象室内空间，而构建导航网格的基础为一个个三维空间，由面和点来组成。因此，在导航网格的构建时可使用三角形作为导航网格的最小单元。在室内导航网格的构建过程中遵循着一下三个原则：1) 所有三角形需在同一个面。2) 相邻三角形有一条公共边并且共享其中两个顶点。3) 任意两个三角形面都是相互独立的没有公共的内部交集。 在导航网格生成时，首先需要确定室内空间的哪些区域是不可通行的，所以需要使用相关算法生成不可通行区域，即可自动生成导航网格。室内不可通行区域生成算法流程，如表1所示。 不可通行区域生成后，接下来就可以将可通行区域转换为导航网格。导航网格需要使用凸多边形来表示，在此使用三角形来表示导航网格的最小单元，生成算法的关键是三角化任意多边形，以及在约束条件下Delaunay三角网的生成算法，如表2所示。 Table 1 输入：数据集S，由离散值属性表示； 输出：图形展示不可通行区域 1) 提取所有可通行面的边缘，从而计算出墙体并以线条来展示。 2) 提取所有出入口信息，使用圆点来表示出入口的位置。若不存在墙体，则不需要用圆点来表示。 3) 对线条所展示的墙体按照一定宽度进行修正，形成面状墙体。 4) 将其中不可通信的地方与墙体合并，最终形成不可通信区域。 表1. 室内不可通行区域生成算法 (二) 室内定位 室内地图的生成为室内导航提供了路径规划基础条件，而所处位置的精确判定解决了室内导航过程中“所处位置？目的地在哪？”的问题，室内定位导航如图4所示。 由于室内建筑墙壁皆为钢筋混凝土等障碍物，当GPS的信号在穿越墙壁时衰减很大，对于地下车库来说无法提供优质的定位服务。对于部署大量无线AP的停车场，可采用WiFi定位技术实现室内定位。 (三) 路线规划 对于计算机而言，计算机需要将所有采集到的道路信息数据化才能够在计算机中存储和处理。路线的生成需要选取恰当的路径规划算法计算出最佳出行路线。A*算法是公认的计算效率教高、效果较好的路线规划算法，所有本文采用A*算法找出一条合适的路径。 1) 基于导航网格的道路规划算法 在上面两节中已经对导航网格的生成和室内定位进行了阐述说明。那么，以导航网格为前提条件的道路规划算法主要包括三个步骤： 步骤一：寻找出路线经过的所有网格； 步骤二：生成路线点，将所有路线点连接形成路线； 步骤三：路径优化处理。 Table 2 输入：数据集S，三角形相关参数； 输出：导航网格 1) 取任意一条外边界的边P1P2。 2) 计算DT点P3，构成约束Delaunay三角形ΔP1P2P3 3) 若生成的P1P3边为非约束边，在堆栈中进行查询。若存在， 4) 如果堆栈不空，取其中一条边，转步骤3；否则，算法停止。 备注：其中，P1、P2、P3表示三角形的三个顶点。 DT点：与一条边相对的顶点称为这个边的DT点。 表2. 导航网格生成算法 图4. 室内定位导航流程图 其中，寻找最优的经过网格是基于A*算法实现。 2) A*算法 A*算法是一种将常规方法与启发式搜索算法结合起来的算法，目前在各种虚拟、现实地图中应用较广，用来查询两点之间的最短路径。设定： 节点n与目标节点之间的最短路径的实际代价， 为从开始节点到节点n的一个最短路径的代价。在A*算法中，最重要的是维护启发式估价函数 ： (5) A*算法需要维护两个集合：P表和Q表。其中，P表用来存储已经搜索到、但目前还没有存入到最优路径树上的节点数据；Q表用来存放已经加入到最优路径树上的节点数据。"
"在系统开发的数据库逻辑结构设计阶段，若要对数据库所需要的表的功能和数量予以确定时，需要将软件设计模型转变成对应的数据结构关系。下面给出部分数据表结构包括：用户信息表、车位预定信息表、停车费用收取表、停车位置信息表和评论表等，如图5所示。  用户可通过车位搜索功能搜索目的地附近停车场，及该停车场是否尚有空闲车位。若有空闲车位尚未预订，可生成导航信息。界面展示如图6所示。 在线预约功能为用户提供车位预定、费用支付、车位查询、预约记录和用户信息查询等功能。界面展示如图7所示。 用户完成在线预约后，可通过支付宝、微信支付等接口在线支付一定金额作为订金，订金支付需要在指定时间内完成，否则订单取消。界面展示如图8所示。 图5. 数据库关系示意图 图6. 车位搜索 图7. 在线预约 图8. 费用支付"
"本文基于对当前车位管理应用现状的调查研究，分析了智能化车位管理系统的需求及所应该具备的功能。从而提出了结合物联网技术、云计算平台、移动互联网等技术，设计实现了一套由在线车位查询与预定、无障碍出入停车场、室内泊车诱导、反向寻车和云平台数据分析等模块组成的基于物联网技术的车位管理系统。本系统各模块之间相互联系，底层获取数据、应用层对数据进行分析反馈，共同组成了智慧停车的智能化管理。尤其，基于图像识别技术的车牌识别实现自动抓拍车辆运行情况，远距离识别车辆，从而实现了车辆无障碍出入停车场/库，为减少车辆进出停车场/库时的时间，提高车辆进出效率，减少拥塞发生的可能性。而为方便用户快速找到停车位及反向快速寻找车辆，本文研究了室内地图构建、室内定位、路线规划等算法，解决了反向寻车浪费大量时间问题，提高了运营车位的利用效率。同时，本系统实现了车位预定、费用支付、停车位查询等功能，能够应用于停车场的车位智能化管理，减少人工操作成本、提升管理水平实现智能化车位管理，满足车位自动管理需求，具有不错的应用前景。"
