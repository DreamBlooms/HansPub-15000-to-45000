"为保障移动终端在多点波束HTS (High Throughput Satellite)通信系统中的业务连续性，研究高效的点波束切换技术尤为重要。本文对HTS系统中波束切换过程进行了分段，分析了各阶段影响切换性能的主要因素，阐述了切换决策阶段中信道资源预留机制的主要原理，并提出了适用于HTS系统的波束切换动态资源预留机制。NS2平台的仿真结果证明，文中所提的动态资源预留方式可以降低系统的切换失败率，并获得较好的GoS性能。该资源预留方式及性能分析的结果对工程实际具有重要参考意义。 关键词 :波束切换，信道预留，HTS系统，移动终端 Copyright © 2018 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"HTS (High Throughput Satellite)通信系统，即高通量卫星通信系统，是新一代宽带卫星通信系统的统称，“高通量”指的是，相对于同等轨道频谱的常规卫星，这类卫星具有常规卫星数倍或数十倍的容量，而高容量的实现主要通过频率复用、点波束和跳波束等技术。随着高清电视、电子商务、物联网、大数据等电信应用对宽带基础设施的需求的增长，引发了对更多卫星容量的需求 [ 1 ] ，发射和运营多波束的高吞吐量卫星系统成为必然选择 [ 2 ] ，并且随着移动互联网的兴起和发展 [ 3 ] ，HTS通信系统对移动终端(包括机载、铁路、车载、船载等)的支持成为必然趋势 [ 4 ] 。因此，为满足HTS通信系统中的移动终端通信需求，研究有效的移动性管理技术尤为重要 [ 5 ] 。卫星通信系统的移动性管理关键技术中，移动终端在多点波束中的切换策略是最为重要的部分，本文将聚焦于移动终端的切换接入技术展开研究。"
"本节将简要介绍本文所采用的波束切换的场景和阶段，并对切换接入机制对切换的影响进行分析。 在HTS系统中，每颗卫星对地面都具有一定的覆盖范围，每个覆盖范围由多个波束区域组成。当移动用户从一个波束区域进入到与之相邻的另一个波束区域内时，将会发生波束切换。如图1为移动终端波束切换示意图，图中为区域覆盖的单颗高通量卫星，可以直观地看出移动终端在其多点波束覆盖中的切换过程。为了保证用户在发生波束切换时仍然能保持通信状态，我们需要设计有效的波束切换机制。 我们将波束切换过程的主要步骤分为以下三个阶段：切换检测阶段，切换决策阶段及切换执行阶段。如图2为波束切换各阶段功能描述图。 其中切换检测阶段指的是终端和地面信关站对切换需求进行检测的阶段。此阶段终端通过周期性地检测和收集移动终端的相关参数，来判断当前波束是否仍适合驻留，监测切换需求的产生。切换检测的参数一般包括终端的地理位置、信道条件(如信噪比)等。本文将采用基于地理位置的切换检测方法 [ 6 ] 。终端在运动过程中，周期性地通过控制信令将切换检测相关参数同步给信关站，由信关站判断是否触发切换；或由终端根据相关参数判断是否触发切换，再由信关站进行决策。 切换决策阶段为波束切换的核心阶段，决策是否切换及如何切换都依赖于有效的切换决策机制。在切换决策机制中，由信关站对检测阶段的切换需求进行分析，根据当前系统波束内的资源和负载状况，来决策是否执行切换，以及何时执行切换。切换决策是否及时和准确执行，将会影响终端的切换时延和切换成功率。本文将采用结合剩余时间的切换排队决策机制。 图1. 移动终端波束切换示意图 图2. 波束切换各阶段功能描述图 切换执行阶段即信关站决定执行切换后，通过信关站与终端之间的切换信令交互，进行旧连接断开与新连接建立的阶段。在这个阶段中，信关站根据切换决策的结果发出切换信令，终端接收到信关站的切换命令后，断开与旧波束的连接，根据信关站分配的信道资源在新波束中进行登录，登录完成后开始在新波束中传输业务数据。 从以上分析可以看出，影响切换主要性能指标，如失败率的阶段主要是切换检测和切换决策阶段。不准确的切换检测机制可能导致检测过晚，从而导致切换失败。而不合理的切换决策机制可能导致资源分配不足，从而导致切换失败。下文将从切换决策机制中为切换申请分配资源的角度，提出一种基于资源预留的切换接入控制方法。"
"通过对切换过程的分析我们发现，影响切换成功的一大重要因素是目标波束的资源可用状况。而为了提高切换成功率通常有一个基本思路，那就是对资源预留。由于在一般场景下，比起新连接发起的阻塞，用户往往更讨厌正在进行的连接被强迫终止，因此在地面蜂窝通信系统和低轨卫星通信系统中，都有文献提出过一些策略，来考虑优先接纳切换请求。预留方案必须经过精心设计，在保证用户服务质量的同时提高资源利用率。被广泛采用的被称为保护信道的方案系列为切换目的保留了固定数量的信道，只要网络利用率低于给定的门限值，则同等对待新的连接和切换请求，若利用率高于给定的门限值，所有新的连接都被拒绝并且接受切换请求直到饱和。但是固定信道预留的方式难以随着系统状况动态变化，很多时候造成了一定的资源浪费。因此我们考虑使用动态资源预留机制，根据当前系统状况动态改变资源预留数量，以获得更好的切换性能。 由于用户在系统内移动时，网络状况(资源使用情况和需求)不断变化，因此高效预留方案的设计应考虑用户的移动模式，即移动速度和方向。终端的移动模式由很多因素决定，如终端的始发点和目的地，终端类型等。由于我们采用了基于地理位置的触发机制，和基于剩余时间估计的切换排队机制，终端在当前波束的剩余时间是可知的，我们根据 [ 7 ] ，将终端的连接时间概念引入，根据终端的移动模式和当前波束内的剩余时间估计，来动态改变预留的信道数。 而预留信道给切换请求，一定会带来新连接请求阻塞的代价。如何在新连接的接入和切换接入之间取得最佳平衡是一个非常复杂的问题。在包含移动终端的网络中，速度，位置和方向等移动信息，是资源预留和准入控制等策略可参考的关键参数。当终端在服务中移动向目标波束时，我们可通过预留目标波束的资源来保证当前即将发起切换的连接的服务质量，尽量减少切换失败率。因此，我们通过考虑终端的剩余连接时间来对波束内的信道数目进行动态预留。根据每个当前连接的剩余时间来估计每个点波束中将要向邻近点波束迁移的概率，以及可能在给定时间内释放资源的终端的概率，以最小化为切换目标波束中所需保留的信道数目。我们的预留机制旨在尽量降低切换失败的发生，同时也尽量减少预留策略对新呼叫阻塞概率的影响。 在此预留机制中，切换检测采用 [ 6 ] [ 8 ] 中的基于地理位置的触发方案和剩余时间估计方案，我们将满足切换检测条件的终端视为集合 Ω t r ，通过估计这些终端的连接时间，来确定是否在目标波束为其预留资源，信关站根据连接时间统计分布，估计它们在切换后仍然活动的概率如下： Pres = P { 此 连 接 在 当 前 波 束 内 不 结 束 } = P { con_res_time > t res } = ∫ Δ t ∞ f ( t ) d t (1) 其中con_res_time为该终端连接的剩余时间，满足con_res_time = con_time − t_setup。由于每个终端的连 接时间con_time可看作参数为μ的指数分布随机变量，即为服从参数为μ的负指数分布，均值为 1 μ 。式 (1)中，积分下限 Δ t 可通过 t res 和t_setup得到： Δ t = t now − t setup + t res (2) 此处的 t now 为当前系统时刻， t res 为根据终端移动模式的计算得出的终端在当前波束的剩余驻留时间，t_setup为该终端建立连接的初始时刻， f ( t ) 为连接时间的概率密度函数。 我们估计Pres的目的在于，对于可能在当前点波束内自发终止其连接的终端，不希望为其在目标点波束中进行资源预留。为此，我们也定义了一个概率门限值Threshold_in，当新连接请求到达时，计算此概率Pres。如图3为资源预留估计的流程图，若Pres >= Threshold_in，则预留信道数G_resv = G_resv + 1 (以CRA方式来计算)，若Pres < Threshold_in，则预留信道数G_resv = G_resv + 1*Pres。若Pres在此门限值以下，我们只保留与Pres成比例分配的信道资源。由于Pres是概率值，门限应Threshold_in在0~1内取值，而此概率Pres越小，代表越有可能在当前波束范围内结束此连接，我们希望为当前波束范围内有较大概率结束连接的终端不预留资源，因此Threshold_in取值应在0~0.5之间。此外，Inrcst表示考虑用于资源预留的终端的数量，而Tcu是累积变量，信关站用它来估计在来自相邻点波束的终端切换到发起新连接的点波束之前的平均延迟。该延迟定义为Delay_av，定义为Tcu与Inrcst之比。 为了更精准地在每个点波束中预留资源，我们应用同样的方法来估计该波束中可能终止的终端，以导出更准确的预测，即通过计算在即将切换的终端到达目标波束之前，可能在目标点波束中释放的资源量。信关站仍然根据连接寿命统计分布估计在时间Delay_av之前目标波束中有资源释放(即连接终止)的概率如下： Pdie = P { 目 标 波 束 中 终 端 释 放 资 源 概 率 } = P { con _ res _ time < Delay _ av } = ∫ − ∞ Δ t d f ( t ) d t (3) 我们将Pdie定义为目标波束中当前正在保持的连接在Delay_av时间过去之前自然终止的概率， Δ t d 表示未来的一刻，即来自相邻点波束的终端切换至目标波束的时刻，这是通过连接建立时间t_setup和Delay_av计算的。 Δ t d = t now − t setup + Delay_av (4) 图3. 资源预留估计流程图 如图4为资源释放估计流程图，其中Ωde表示目标波束正在连接的终端集合，此处也定义了一个概率门限值Threshold_out，当新连接请求到达时，计算此概率Pdie，并根据流程图计算相应的信道资源释放数量。同理门限Threshold_out也应在0~1内取值，而概率Pdie越大，代表目标波束中连接的终端越有可能在当前波束范围内释放资源，我们希望为当前波束范围内有较大概率结束连接的终端释放资源，因此Threshold_in取值应在0.5~1之间。 通过这两种估计方法，一旦G_resv已经计算，并四舍五入到最接近的整数，则信关站计算当前空闲资源，即C_avai，然后应用准入流程对新连接进行资源分配，如图5为连接请求准入机制。如果容量可用C_avai >= 0，则新连接请求或切换请求将被允许接入，信关站将发出切换命令或为新连接登陆请求分配资源。若无可用容量，则新连接阻塞或切换请求失败。 在固定信道预留机制中，我们可以通过一维马尔科夫链来估计终端在不同状态中转移的概率，从而通过理论推导得到切换性能分析的结果，然而在本文所提的动态预留机制中，G_resv是随时间动态变化的，较难推导得到一个数值概率结果，因此在下文中将通过仿真分析来说明该机制的作用。 当然，切换过程主要的指标仍然采用经典的切换性能评价指标：新连接的阻塞率 P n b 和切换失败率 P h f 。新连接的阻塞指的是当终端发起新连接请求后，主站不能及时分配资源让其登陆，导致新连接建立的过程受到阻塞，阻塞率由阻塞的次数除以新连接发起的次数求得；而切换失败指的是终端在发起切换请求后，最终没能成功切换到新波束中，导致失败的原因可能是切换请求发起后一直无法分配资源，终端移动到波束边缘信号微弱断开连接，也可能是切换过程中的丢包与错包导致，切换失败率由失败的次数除以发起切换的次数求得。根据 [ 9 ] ，由于系统对切换失败率的要求往往比对新连接阻塞率的要求低一 图4. 资源释放估计流程图 图5. 连接请求准入机制 个数量级，所以可以给予切换失败率高一个数量级的加权值，定义服务等级变量GoS (Grade of Service)如下： GoS = K ∗ P h f + P n b (5) 其中K为比例因子，根据文献 [ 9 ] K值通常取值为5~20，因为对于切换失败比新连接阻塞对于用户体验更加不能忍受。"
"本文采用NS2软件对3中所提机制进行仿真分析，在NS2平台上搭建一个基于交互式协议的单颗卫星多波束包级别的仿真平台，该平台的主要功能包括终端的初始登陆过程、切换接入过程和主站给终端的资源分配过程等。波束的拓扑结构为一个中心点波束和六个环绕在该中心点波束周围的波束，每个波束半径为200 km，地面信关站结点与中心点波束在同一位置。移动终端结点的初始位置则随机分布在每个点波束中，假设中心点波束为波束0，周围波束为波束1~6，波束1~6中的终端在波束0中随机选取一个目的点，并以给定速度朝目的点移动，而波束0中的终端在波束1~6中随机选取一个波束，再随机选取波束中的目的点，并以给定速度朝目的点移动，在仿真过程中就此往复。本文主要分析中心点波束0中的资源预留机制对切换性能的影响，因为在网络负载均衡的情况下，针对一个点波束的性能分析可以表征系统的性能情况。 仿真参数如下：终端移动速度为1200 km/h，Threshold_in和Threshold_out分别为0.3和0.7，终端 的连接时间服从负指数分布，均值 1 μ = 20 min，终端的新连接到达服从泊松过程，到达率 λ 从0.4到1 (次/min) 变化，每次仿真使用一个 λ 值，每次仿真时长为4500 s，每个波束中总的信道数C取32，比例因子K取值为10。 如图6为仿真所得的新连接阻塞率，我们可以看到，随着新连接到达率的增加，不管是哪种资源预留方式，新连接阻塞率都随之增大，这是因为随着到达率的增加，系统的负载也随之增加，被占用的信道资源越来越多，因此新连接阻塞率越来越大。图中还可以看出，无资源预留方式的新连接阻塞率相比与预留6.25%的固定资源方式和本文所提的动态资源预留方式，新连接阻塞率始终保持在最低，这是因为无资源预留方式中，新连接和切换连接享有同样的接入优先级，而在另外两种方式中，一部分信道资源是给切换连接专用的，因此无资源预留方式的新连接阻塞率始终保持最低。同时也可以看到，动态资源预留方式相比于预留6.25%的固定资源方式，新连接阻塞率略高。 如图7为仿真所得的切换失败率，可以明显看出，随着新连接到达率的增加，不管是哪种资源预留方式，切换率都随之增大，这也是因为随着到达率的增加，系统的负载也随之增加，被占用的信道资源越来越多，因此留给切换接入的资源越来越少，因而切换失败率越来越大。图中还可以看出，在较低的到达率时，三种方式之间的切换失败率差别并不大，而在较高的到达率时，我们所提的动态资源预留方式的切换失败率明显低于其余两种，而固定预留低于不预留。固定预留的切换失败率低于不预留的原因很明显，我们将部分信道资源给切换连接专用。而动态预留方式的切换失败率之所以低于其余两种，是因为我们考虑了连接的时间，根据剩余时间，当前时刻和连接时间等因素动态计算了波束0中预留的信道数量，避免了在不必要预留的时刻多预留，和需要多预留的时刻少预留的情况导致的切换失败。 如图8为仿真所得的GoS值，随着到达率的增加，我们所提的动态预留机制的GoS值明显低于其他两种方式，这代表在此种服务等级衡量方式下，我们所提机制的服务质量要高于无预留方式和固定预留方式，并且我们所提机制的优点在较高的到达率，即较高的系统负载情况下，具有较明显的优势。 图6. 新连接阻塞率 图7. 切换失败率 图8. GoS (服务等级)"
"本文阐述了HTS系统中的波束切换过程，分析了影响切换性能的主要因素，阐述了波束切换时的信道资源预留机制的主要原理，并参考地面移动网络的动态接入控制方式，提出了适用于HTS系统的波束切换动态资源预留机制。并通过NS2仿真结果证明，所提方式可以降低系统的切换失败率，并获得较好的GoS性能。并且文中所提资源预留方式及性能分析结果对工程实际具有重要参考意义。"
