"本文旨在建立数学模型，就小区结构、周围道路结构、车流量等因素定量分析小区开放对周围道路的通行能力的影响。通过调查统计，我们构建了三种类型的小区，并用我们的评价指标体系进行评价，得到小区开放对周边道路的影响是利大于弊。而且，我们还建立了BP神经网络模型用来解决道路通行能力的问题，元胞自动机模型用来模拟车辆在道路上行驶的情况。最后BP神经网络模型与元胞自动机模型结合，生成车辆通行能力的模型，并用Matlab软件对其进行仿真模拟，得出在小区开放的前提下，车辆通行与小区周边道路的状况密切相关。随后，我们以小区结构为变量，周边道路结构和车流量为定量，结合相关数据，算出小区开放前后的小区周边道路的通行能力。通过对小区开放前后相关数据的对比，得出小区开放后，周边道路行驶能力大大提高以及道路行驶能力与小区结构、周边道路结构和车流量成正比关系的结论。最后，我们从交通通行的角度总结出小区开放后的一些有利因素和不利因素，并针对这些因素，向城市规划和交通管理部门分别提出关于小区开放的建议。比如，对城市规划部门提出开放小区，要做到小区出让地块或独立开发的面积，应以不大于2.25公顷为宜。 关键词 :评价指标体系，通行能力，BP神经网络模型，元胞自动机模型，Matlab"
"2016年2月21日，国务院发布相关规定，原则上不再建设封闭住宅小区，已建成的住宅小区和单位大院要逐步开放等意见，引起了广泛的关注和讨论。 其中议论的焦点之一是：开放小区能否达到优化路网结构，提高道路通行能力，改善交通状况的目的，以及改善效果如何。以下有一些观点认为封闭式小区破坏了城市路网结构，相对容易造成交通阻塞，小区开放后，路网密度提高，通行能力自然会有提升；当然这也与小区面积、位置、外部及内部道路状况等诸多因素有关，不能一概而论；如果小区开放后，虽然可通行道路增多了，但是相应地，小区周边主路上进出小区的交叉路口的车辆同样也会增多并会影响主路的通行速度。  问题一：请选取合适的评价指标体系，用以评价小区开放对周边道路通行的影响。 问题二：请建立关于车辆通行的数学模型，用以研究小区开放对周边道路通行的影响。 问题三：小区开放产生的效果，可能会与小区结构及周边道路结构、车流量有关。请选取或构建不同类型的小区，应用你们建立的模型，定量比较各类型小区开放前后对道路通行的影响。 问题四：根据你们的研究结果，从交通通行的角度，向城市规划和交通管理部门提出你们关于小区开放的合理化建议。"
"1、假设每个双车道十字形交叉口都设有红绿灯； 2、假设车与车之间的停车距离是等距的； 3、假设每一辆车的状态只与其附近车的状态相关； 4、假设排队长度与之后一段连续的车辆成正比例关系； 5、假设车流量会随时间有所增加； 6、假设我们从网上找的数据都是真实可靠的。"
"为了选取合适的评价指标体系，用以评价小区开放对周边道路通行的影响。首先，我们从小区的自身因素和小区周边道路的自身因素考虑，但是由于这些因素太多，有些不容易量化。因此，我们从中选取了一些主要的评价指标，从而建立起合适的评价指标体系，对小区开放后周边道路通行的影响进行有效评估。并通过实例进行分析。  通过分析，我们选取了合适的评价指标，建立评价小区开放对周边道路通行的影响的评价指标体系，如图1所示：道路交通运行指数、行程时间可靠性指数、车辆排队长度、车辆行驶速度、通过小区时间、通达度 [ 1 ] 。 (1) 道路交通运行指数 道路交通运行指数是综合反映道路网交通运行状况的指标(也称道路交通拥堵指数)。 通过查阅参考文献 [ 2 ] ，可以得到计算道路交通运行指数的计算步骤： Step 1：按照GB 50220-1995划分的道路等级，以不高于15 min为统计间隔，计算道路网中各路段的平均行程速度； Step 2：分别统计快速路、主干路、次干路和支路中处于严重拥堵运行等级的路段里程比例，其中路段交通运行等级的确定见表1； Step 3：对各等级道路拥堵里程比例以VKT比例作为权重进行加权，计算确定道路网拥堵里程比例； Step 4：按照道路网拥堵里程比例与道路交通运行指数的转换关系，计算道路交通运行指数。 (2) 行程时间可靠性指数 行程时间可靠性指数反映道路网交通运行的波动性。 通过查阅资料 [ 2 ] ，我们得出行程时间可靠性指数计算步骤： Step 1：按照公式(1)计算统计间隔内道路网各路段的行程时间可靠性指数； (1) 式中： 为路段j的行程时间可靠性指数； 为95%概率条件下通过j路段的行程时间； 图1. 小区开放对周边道路通行的影响的评价指标体系 Table 1 运行等级 畅通 基本畅通 轻度拥堵 中度拥堵 严重拥堵 快速路 v > 65 50 < v £ 65 35 < v £ 50 20 < v £ 35 v £ 20 主干路 v > 40 30 < v £ 40 20 < v £ 30 15 < v £ 20 v £ 15 次干路、支路 v > 35 25 < v £ 35 15 < v £ 25 10 < v £ 15 v£ 10 表1. 路段交通运行等级划分(单位：km/h) 注：v表示路段平均行程速度。 为路段j的平均行程时间； 为畅通状态下路段j的行程时间。 Step 2：以路段长度作为权重，统计各等级道路行程时间可靠性指数； Step 3：对各等级道路行程时间可靠性指数以VKT比例作为权重进行加权，计算道路网行程时间可靠性指数。 (3) 车辆排队长度 通过分析，我们可以推出： 排队长度 = 初始车辆的排队长度 + 车与车之间的间距总和 + (车辆流入量 − 车辆流出量) × 车辆长度，利用公式符号表达如下： 式中： 排队长度， 为初始车辆的排队长度， 为车与车之间的间距总和， 为车辆流入量， 为车辆流出量， 为车辆长度。 (4) 车辆行驶速度 由于车辆类型不同，在道路上行驶的速度要求也不同，为了减小误差方便统一计算，我们用任意一辆车的平均速度来表示，设车辆平均速度为vkm/h。利用公式符号表达： 为任意一辆车的平均速度， 为一辆车在一段时间所通过的路程， 为一辆车通过的一段路程所花的时间。 如果我们采用一辆车行驶时的瞬时速度作为行驶速度，那么第一这种数据会使后面运算误差很大，第二在现实生活中我们很难统计其瞬时速度，故采用平均速度来代替。 (5) 通过小区时间 由于车辆种类不同，小区种类不同，导致车辆通过小区的时间不同。影响的因素无论从车辆自身因素分析还是从小区分析实在太多，也不容易得到结果。因此，我们只有先不考虑车辆和小区自身因素，我们可以直接统计出任意车辆从进入任何一个小区到离开那个小区所经历的时间，可以避开很多麻烦，简单快捷，设车辆为通过小区的时间为 。利用公式符号表达： 为任意一辆车所通过小区所花的时间， 为车辆进入小区的瞬时时刻， 为车辆离开小区的瞬时时刻。 (6) 通达度 通达度，主要是指往四周的交通干线的数量。我们可以将通达度直接用小区周围道路干线的数量K来表示。我们通过查阅文献 [ 3 ] ，可以得到下图2。 我们通过调查统计，构建了三类居民小区。下表2所示是第一类型的居民小区开放前后相关数据的对比。下表3所示是第二类型的居民小区开放前后相关数据的对比。下表4所示是第三类型的居民小区开放前后相关数据的对比。 从以上三种类型的小区各个指标的数据构建的评价体系进行对比，我们不难发现，从总体来说开放前各种指标远远大于开放后的指标。所以我们在这里可以认为小区开放对周边道路的影响还是利大于弊的。 图2. 小区开放前后的对比图 Table 2 类别 开放前 开放后 道路交通运行指数 6 9 行程时间可靠性指数 10 6 车辆排队长度(m) 230 200 行驶速度(km/h) 0.7 1.3 通过小区时间(min) 70 45 通达度 5 7 表2. 第一类型的居民小区开放前后相关数据的对比 Table 3 类别 开放前 开放后 道路交通运行指数 8 13 行程时间可靠性指数 12 4 车辆排队长度(米) 180 100 行驶速度(km/h) 0.6 1.5 通过小区时间(分钟) 50 20 通达度 4 8 表3. 第二类型的居民小区开放前后相关数据的对比 Table 4 类别 开放前 开放后 道路交通运行指数 3 6 行程时间可靠性指数 8 2 车辆排队长度(米) 210 130 行驶速度(km/h) 0.5 1.1 通过小区时间(分钟) 45 25 通达度 2 6 表4. 第三类型的居民小区开放前后相关数据的对比   在本题中我们先求出道路的实际通行能力，然后在此基础上，建立关于车辆通行的数学模型，用以研究小区开放对周边道路通行的影响。由于双车道公路是我国公路网中最长、最普遍的一种公路形式，并且十字形交叉路口比较常见，所以我们选取具有双车道的十字形交叉路口作为研究对象。 考虑到实际交通系统中，路段的最大交通量不仅会受一些确定性的因素的影响，还会受许多随机性因素的影响。为了更好地完善道路通行能力，我们通过BP神经网络建立数学模型，可以更好地对通行能力的影响因素和实际通行能力之间的函数关系进行逼近，最终得到相应的拟合公式。然后，我们用元胞自动机模型模拟出日常道路的车辆通行情况。最后，得到车辆通行的数学模型。  (1) 求解通行能力 ① 双车道道路的通行能力： 通行能力是指道路设施所能疏导交通流的能力。即在一定的时段(通常取15 min或1 h)和正常的道路、交通、管制以及运行质量要求下，道路设施通过交通流质点的能力。通过查阅参考文献 [ 4 ] ，可以得到具有双车道的十字形交叉路口道路的实际通行能力的数学模型，计算公式为： 式中： 为具有双车道的十字形交叉路口道路的实际通行能力； 为理论通行能力，即车道的饱和率； 为车道宽度及侧向净宽小于理想条件时对通行能力的修正系数； 为设计速度小于54 km/h对通行能力的修正系数； 为车辆组成修正系数； 为交通量方向对通行能力的修正分布系数； 为引道坡度校正系数； 为公共汽车停在十字形交叉口范围内阻塞影响作用校正系数； 为邻近车道停车情况及该车道停车次数校正系数。 ② BP神经网络： 理论依据 [ 5 ] ： BP算法的基本思想是整个学习过程由信号的正向传播和误差的反向传播2个过程组成。正向传播时，模式作用于输人层，经隐层处理后传向输出层。若输出层未能得到期望的输出，则转人误差的反向传播阶段，将输出误差按照某种形式通过隐层向输人层逐层返回，并“分摊”给各层的所有单元，从而获得各层单元的参考误差或称误差信号，以作为修改各层单元权值的依据。这种信号正向传播与误差反向传播的各层权值矩阵的修改过程，是周而复始地进行的。权值不断修改的过程就是网络的学习过程。此过程一直进行到网络输出的误差逐渐减少到可接受的程度或达到设定的学习次数为止。用BP神经网络方法计算路段实际通行能力的具体步骤为： Step 1：分析影响路段实际通行能力的各种因素，确定神经网络的输人元； Step 2：将已经实际观测，实际通行能力及其影响参数已知的路段数据作为样本，并对样本进行归一化处理，作为神经网络训练的样本模式； Step 3：启动神经网络进行学习。初始权值介于0、1之间的随机初始值，由系统自动给予赋值，经反复迭代直至收敛，便可得到较为准确的内部表示的神经网络模型； Step 4：利用剩余样本验证得到的神经网络模型； Step 5：将验证通过的神经网络模型存人知识库中，该模型便可用于计算其他路段的实际通行能力了。 我们通过查询，选择一个小区周边道路的数据，然后用Matlab软件去仿真基于BP神经网络模型的道路通行能力。模拟出小区开放前后相关数据并进行对比，再加以图像的说明，如下图3所示。 通过图3我们可以很清晰的观察出其变化。最后得出结论，小区开放后大大加强了小区周边道路的通行能力 [ 6 ] 。 (2) 建立元胞自动机模型 [ 7 ] 确定因素： ① 方格道路： 道路被看作是一个个格子组成的，我们选取双车道4道口作为研究对象，因而有4n个格子组成，假设每个“车辆”占一个格子。简单来说，也就是 ② 车辆行驶速度： 每一辆车都有一个行驶速度，而这个速度有下限与上限： 图3. 小区开放前后周边道路通行能力(左图为开放后) (附录一) 1代表了15 km/h，4代表了60 km/h。但是当车辆遇到红灯时，会减速。这里的减速有两种方法，一种是慢慢减小，另一种是急速刹车，也就是减小到一个定值。也就是说，如果司机前方v个格子内有其他车辆(假设距离为a)，那么司机会移到该车之后，而且速度会减小。 ③ 改道： 司机有时会选择改道以超过其他车辆或者进入更加畅通的区域，所以他会选择在前面有车的情况下改道。只要有 四个条件中有1个成立，司机就有可能选择改道。因而这里假设了各个改道的几率。 也就是 道改道至 道的概率(假定 为不变道的概率)，很显然要满足以下一些关系： ④ 道路拥堵： 道路拥堵主要是受上下班高峰期的影响，当在正前方很短距离有车时，司机会选择减速，这样的减速就会造成一定的拥堵。我们假定司机有0.95的几率减速到1，有0.15的几率减速到2，这样的减速是造成拥堵的主要原因。 ⑤ 等待时间： 由于拥堵情况的发生，导致车辆的等待的时间也有所不同，我们可以用来表示，我们假定的范围为10~3600 s之间。 为等待的时间段， 为等待后出发的时刻， 为开始等待的时刻。 ⑥ 车流量与车流密度 我们可以取30 s为周期，在此周期内通过某一段路的车辆总数即为车流量，用u表示；我们可以利用研究电流与电荷的方法来研究车流密度和车流量。所以，在这里我们用 表示。关系式如下所示。 为某一段路的长度， 为车流量， 为车流密度。 数值分析： 瞬时排队队伍数量数对于这样的自动机，我们能够通过计算机，利用Matlab软件进行模拟，从而得到车辆运动的动画，如下图4所示。 我们选取某些因素进行分析，如下图5所示。 我们用Matlab对该模型的排队车辆数量进行了数值分析。结果比较符合我们所观察到的曲线。这是一个先震荡后上升的曲线，可见每秒车辆增加数随着时间增加而不断变大，从而导致该队伍不断变长。但是这样增加的变化率，我们假定其在这一期间一直线性增加，也就是说该队伍依照此规律长度继续增加。   小区开放对周围的道路会产生很多影响，但是其中的因素不外乎包括小区结构、道路结构、车流量等因素。下面将从选取的四个具有代表性的小区结合前面的评价指标体系和车辆通行的数学模型加以研究小区结构、周围道路结构和车流量之间的关系。  如下图6所示从左往右依次是A、B、C、D四个小区的平面图。 图4. 用元胞自动机模型模拟在有红绿灯下的车辆通行情况(附录二) 图5. 运用元胞模型的程序模拟的因素图形 并对它们进行比较分析，如下表5所示。 下面选取的某些数据是在某一天的上下班高峰时测得的数据，如下表6所示。 根据以上数据，我们可以初步看出开放后的小区对周围道路的影响还是不小的。下面将从本质上去对比分析。 首先，我们将这四个小区周围的道路都视为双向四车道，因为双车道很普遍具有很强的代表性。其次，将通过四个小区周围的道路上的车流统一化，保证车流通行能力一致。将周边道路结构与车流量当作定量，小区结构定位变量，这样就可以很快找出小区结构与周边道路结构、车流量之间的关系。 对于车流通行情况，我们仍然要用元胞自动机去模拟现实情况。只有这样才能保证BP网络算法中的相关系数保持一致，直接考虑由小区结构不同所导致变化的系数，再加以公式运算得到开放前后小区对十字交叉路口道路的实际通行能力，最后根据计算得到的结果加以对比说明。以下是在车流量统一、都是双向四车道情况下小区开放前后的相关系数表，如下表7所示。 下面是计算后得到的结果，如下表8所示。 车道的饱和率定义标准，如表9所示。 用Excel加以四个小区开放前后周边道路通行能力的数据，画出小区开放前后周边道路情况的对比图，如下图7所示。 如图所示，1、2分别表示A小区开放前后的道路通行能力，3、4分别表示B小区开放前后的道路 图6. 四个小区的平面图 Table 5 类型 A B C D 小区结构 特点 1、近似梯形； 2、内部有流动的水渠； 3、内部道路环环包围小区 且道路较多 1、梯形； 2、内部同样有水渠贯穿整个小区； 3、内部道路数相比是四个小区最多 1、矩形； 2、内部无水渠； 3、主干道较多， 支路很少； 1、扇形； 2、内部无水渠； 3、内部道路最少； 周围道路 特点 四周都有干路包围 三面是干路，一面有河 三面是干路，一面有河 周围都被干路包围 车流量 最少 较少 较少 最多 表5. 四个小区的比较 通行能力，5、6分别表示C小区开放前后的道路通行能力，7、8分别表示D小区开放前后的道路通行能力。 虽然在这种情况下，车流量和周围道路结构为定量，而小区结构为变量，不过我们仍然可以利用控制变量法推测出道路通行能力和小区结构、周围道路结构、车流量是成正比关系的。 Table 6 道路通行能力的指标 A B C D 道路交通运行指数 5 8 6 4 行程时间可靠性指数 10 14 8 3 车辆排队长度(米） 70 55 60 40 行驶速度(km/h) 23 17 20 15 通过小区时间(分钟) 12 8 5 3 通达度 9 12 4 1 表6. 四个小区周围道路通行能力的各项指标 Table 7 小区开放前后 A B C D 0.3 0.45 0.5 0.8 0.35 0.5 0.7 0.9 1.2 1.2 1.2 1.2 1.5 1.5 1.5 1.5 0.8 0.8 0.8 0.8 0.6 0.6 0.6 0.6 0.85 0.85 0.85 0.85 0.55 0.55 0.55 0.55 0.7 0.7 0.7 0.7 表7. 四个小区周围道路的通行能力在开放前后的相关系数 Table 8 小区开放前后 A B C D 0.085 0.127 0.141 0.226 0.099 0.141 0.198 0.255 表8. 四个小区周围道路通行能力在开放前后的计算结果 Table 9 车道的饱和率 较差 良好 优秀 表9. 车道的饱和率定义标准   小区开放是好事，但是多多少少也会带来一些麻烦，比如原本封闭式小区开放后，小区内部楼道被贴满小广告；被推销人员经常骚扰；以前清静现在变的很吵；物业因为小区开放为由提出要增加物业管理费等不必要的麻烦。综上所述，我们仍有必要向相关部门提出有效建议，解决人们日常生活中因此造成的较为头疼的问题。小区开放是由城市规划部门和交通规划部门两者共同协商管理的，故此我们主要向这两个部门提出真正实用的建议 [ 8 ] 。 图7. A、B、C、D四个小区周围道路通行能力值的对比图像  1、对城市规划部门的建议： ① 通过数据我们发现小区都存在停车位不足的情况，停车难已经成为居民最头疼的问题之一。因此城市规划局在审批小区建设时应该注意到在小区内设置的车位数量，若车位不足，则不予审批。对于车位紧张的小区可以考虑建设立体车位，如考虑增加地下大型车库的数量。 ② 可以在小区附近架设合适的立交桥来为居民出行增添新选择，但这样的城市内部快速路段主要是在大板块、长距离之间的出行当中发挥快速通行的速度优势，在解决近距离局部交通问题时，效果就不一定那么明显，所以在架设合适的立交桥的时候就应该充分考虑缩短小区之间的距离。 ③ 开放小区，广义上就是缩小居住区规模，将原先的居住区周围的道路变为城市公共道路。要做到这点，就要大幅度缩小让地块面积。从出行效率的角度，150 m间距的路网更能适应多数的交通流和满足慢行交通的出行需求。因此，小区出让地块或独立开发的面积，应以不大于2.25公顷(150 m × 150 m)为宜。 2、对交通部门部门的建议： ① 检查小区周围道路红绿灯时间并调整其时间设置，根据日常属实情况合理对车流和人流通过路口的时间进行调节。 ② 开放小区的同时，要尽可能的连上两侧主干路，局域要构成行程可循环的路网，而杜绝所谓的“断头路”；如果出现“断头路”，也应尽力做到“区区对接”，将“断头路”打通，实现道路之间的连接。 ③ 为了减少由汽车喇叭和行驶过程发出的噪声对家人的不良影响，建议尽可能的在交叉路口处和小区出入口处多多设置隔声屏。 出于小区开放后安全问题的考虑，可以在小区里设门禁，也必须是以适度规模和不妨碍城市交通为前提 [ 9 ] 。"
"国际上，元胞自动机和神经网络、GIS相结合来进行土地利用的动态模拟已经实现；在国内，元胞自动机广泛应用于交通仿真模拟。现如今，元胞自动机也用于各个学科领域，在生态学中，它用于兔子、草、等生物动态变化过程以及群体行为的模拟，展示出令人满意的动态效果；另外，基于元宝自动机模型的生物群落的扩散模拟也是当前的一个应用热点；在计算机科学中，元胞自动机已应用于计算机图形学和数论的研究，例如素数过滤器。另外，在环境学上，也有人运用元胞自动机来模拟还上室友泄漏后的油污扩散、工厂周围废水、废气的扩散等过程的模拟。 心理学家和认知科学家研究BP神经网络的目的在于探索人脑加工、储存和搜索信息的机制，弄清人脑功能的机理，建立人类认知过程的微结构理论。生物学、医学、脑科学专家通过神经网络的研究推动脑科学向定量、精确和理论化体系发展，同时也寄希望于临床医学的新突破。另外，在网络模型与算法研究的基础上，可以利用人工神经网络组成实际的应用系统，例如，完成某种信号处理或模式识别的功能、构作专家系统、制成机器人等等。   1、元胞自动机能方便地确定模型参数和模型结构，消除常规模拟方法带来的弊端。 2、能够以动画的形式展现出车辆通行的状况，直观明了。 3、用元胞自动机来模拟省去了许多不必要的麻烦，大大节省了人力、财力、时间。 4、如果BP神经网络做出错误的判决，则通过网络自身的学习，会大大减少下次犯同样错误的机会，同样会使误差大大降低。  1、元胞自动机虽然只有模拟功能，但实际生活中的一些交通特殊情况无法进行模拟预测，比如说车辆有大有小，不仅仅是大小轿车问题同样也有其它不同种类的问题，因此我们模拟所得的结果与实际还是有一定程度的差别。 2、由于学习速率是固定的，因此网络的收敛速度慢，需要较长的训练时间。对于一些复杂问题，BP算法需要的训练时间可能较长，这主要是由于学习速率太小造成的，可采用变化的学习速率或自适应的学习速率加以改进。"
