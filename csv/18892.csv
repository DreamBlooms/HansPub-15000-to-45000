"文本图像在扫描阶段的倾斜现象会对后续的图像分割以及光学字符识别(OCR)等处理造成极大的影响。本文提出了一种方向白游程算法的改进算法，通过对文本图像旋转从而对不同倾角的白游程进行扫描，然后统计每一个倾角上的白游程长度，最后找出最大白游程长度的倾角来调整文本图像。实验结果表明该算法能够准确并快速的校正文本图像。 关键词 :OCR，白游程，倾斜校正"
"随着数字化技术的发展，“无纸化”已经成为办公自动化的显著特点。将纸质文章拍摄成为照片，不仅能够保持原文件的书写特征，而且可以使用JPEG、TIFF等图像编码格式表示，易于存储建档并在互联网中传输。文本图像在存储后可以运用信息处理技术提取感兴趣的信息，因此在各类信息系统汇总得到了广泛的应用。然而在将纸质文件转换为文本图像的过程中，由于机械操作和人为的原因，不可避免地会造成文本图像的倾斜，这种倾斜显然将对文本图像的分析，如图像分割、版面分析和理解及光学字符识别处理等产生不利的影响。因此，文本图像倾斜角度的检测和校正是文本图像预处理中一个必不可少的技术环节。 目前，已有很多研究人员开展了图像的倾斜校正方面的研究工作。主要的方法有基于Hough变换 [ 1 ] 的图像倾斜校正的方法 [ 2 ] 、基于投影的方法 [ 3 ] [ 4 ] 、直线拟合方法 [ 5 ] 等。Hough变换方法是把倾斜角度检测问题看作直线检测问题，通过把图像上的点映射为参数空间上的线，然后在参数空间上求多条直线的交点得到图像空间上的直线参数，从而完成倾斜角度检测。该方法精度较高，但是耗费时间比较多，需要的存储空间也比较大。方向投影法是用不同倾斜角度对图像进行投影，同时把各个角度下的投影值保存下来，最后通过取得投影最大值时的方向或者通过设定的能量函数求得最小值时的方向作为图像的倾斜方向。该方法效果较好，但需要对各个方向投影，由粗到精，所以运算量较大，时间较长。直线拟合的方法通过对图像做傅里叶变换，然后在傅里叶能量谱中获得亮线所在的方向，该方向垂直的方向即为图像倾角方向。由于要对图像做二维傅里叶变换，所以运算量也很大。前人提出了一种基于方向白游程的倾角检测，只对图像进行一遍扫描，只对少于百分之一的像素点计算方向白游程，故计算量很小，速度较快。但是该算法对于行间距较大的文本图像存在误差，所以本文基于上述算法提出了一种改进算法。本算法通过对图像旋转从不同倾角白游程进行扫描，然后统计每个方向上白游程长度，最后通过不断的调整与对图像倾斜角度不断的精确化，从而达到对文本图像倾斜校正的目的。"
"白游程是指从一个白色的像素点出发，一直沿着直线方向向前走，直到遇到黑色的点或者到达图像的边缘为止，得到的白点走过的线段。如果沿着不同方向的直线向前走，直到遇到黑色的点或者到达图像的边缘为止，就得到了方向白游程 [ 6 ] 。由方向白游程概念可以知道，选择文本行中间的白像素点作为中心点时，当游程线的方向与图像的倾斜角度一致时，游程的长度达到最大。因此可以通过计算最大游程长度所在方向来获得图像的倾斜角度。 基于方向白游程的倾斜检测步骤如下：首先，基于方向白游程的倾斜检测重要的的一点就是确定选取的中心点在文本行之间，而不是在文字的内部，其次，单一的选择一个中心点会受到文字间距或者字间距的干扰，所以要选取多个样本中心点进行检测，然后找到各个样本点中白游程最大值的样本点倾角作为倾斜角度。 此种方法对普通文本具有较好的倾斜校正，但是对于一些文本行间距较大的图像，此种方法取得效果并不理想，为此，本文在此处提出了改进。 首先，对图像进行预处理，去除离散点以及噪声的干扰，对图像中的点去除边界白像素的干扰，找到文本行列的第一个黑色像素点，作为采样区域。按照水平和垂直方向都间隔十个点取一个采样点，依次取得全图的样本点。 对样本点进行分析，首先判断其是否是行之间的中心点，如果该采样点50 × 50的区域内有黑像素点，则去掉此样本点，否则，记下该点的所在的位置。 对满足条件的各个样本点分别作为图像中心，以一度为单位，分别计算白游程的长度，找出各个样本点的白游程长度最大值，然后从各个样本点白游程长度最大值方向上向上向下搜索每个角度的白游程，只要碰到有黑色像素点的白游程就停止搜索，这样得到行间的各个角度的白游程，将得到的这几个角度取平均值，记下该角度值，然后对各个满足条件的样本点都进行上述步骤，将各个样本点得到的角度平均值再次去平均 [ 7 ] ，即得到准确的倾斜角度。"
"在找到准确的倾斜角度后，再通过图像旋转才能达到倾斜校正的目的 [ 8 ] 。如果从图像的(0, 0)点开始旋转，就会有一部分图像文本内容旋转到图像区域之外，造成信息的丢失。所以本文以图像的中心点作为原点进行旋转。任意一点(x, y)旋转后的横纵坐标公式如下："
"结果分析：实验选取了二十幅图像，经测试均能正确的进行倾斜校正，并且为后续步骤打下了基础。图1为校正前的图像，图2为校正之后的图像。此方法之所以能取得较好的校正效果，主要因为选取了多个采样点，并且都计算了各个方向上白游程，并且通过调整和对各个方向上白游程取平均值作为"
