"随着信息技术的发展和经济水平的提高，用户更趋于个性化、高效化、自动化的生活。基于物联网、计算机、电子工程等技术的智能家居系统能够将日常生活中不同的设备相结合，实现用户对家居的智能化控制。家庭智能监控作为智能家居系统的基本功能，近些年来产生的安全事故使其安全性受到用户的质疑。本文以常见的人体红外监控系统为基础，提出了压力、激光、人体红外联合监控技术。同时，注重系统自身防破坏功能的设计，通过传输加密，硬件回路自检等方式，对不法分子拦截控制信号、物理攻击系统的行为进行监控，全面保障用户生命财产安全，能够满足用户对生活质量和效率的需求，具有较大的研究价值和良好的发展前景。 关键词 :智能监控，物联网，加密传输 Copyright © 2019 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"智能监控作为智能家居系统的重要组成部分，主要包括住宅状态监控及报警功能 [ 1 ] [ 2 ]。监控系统与用户手机、平板电脑等终端设备连接后，用户可以随时随地使用终端应用程序对家庭状态进行监控，并在不法入侵发生时第一时间得到通知 [ 3 ]。智能监控系统的控制方式通常包括红外遥控器、手机客户端等 [ 4 ] ，其中红外遥控器按键编码信息透明，安全性较低，易被拦截和重放，即不法分子可以在截获系统红外遥控器所发送的脉冲信号后使用红外发射器重放按键信号，达到对智能监控系统非法控制的目的 [ 5 ] ；而常见的手机客户端传输数据所采用的蓝牙或ZigBee协议相关漏洞已经透明，安全性较低，故不适用于权限较高的智能监控系统 [ 6 ] [ 7 ]。因此，本文将SSH协议用于物联网嵌入式设备中，采用非对称密钥加密、隧道传输等技术实现客户端与服务器间的通信加密功能，试验表明此种加密方式能够有效防止重放等常见类型攻击；同时，本文在现有视频监控、人体红外传感器的基础上提出了压力、激光、回路等新型入侵检测方案，具有隐蔽性高、鲁棒性强等特点，对保护用户生命财产安全具有重大意义。"
"本系统以树莓派为核心，自制压力、激光等传感器为基础，安卓应用程序为终端，实现用户对智能监控系统的控制功能。本系统上电后，用户运行终端应用程序，输入智能监控系统的IP、用户名、密码信息，并在登录成功后获取本系统的控制权限，从而进行相关操作。设计功能包括安保系统启停控制、家庭监控查看，系统使用情况监控等功能，用户通过单击对应按钮使用相关功能，其架构图与流程图如图1、图2所示。  本系统硬件部分由自制压力、激光、人体红外传感器、树莓派、路由器等组成。压力与激光传感器用于辅助人体红外传感器检测非法入侵行为，树莓派作为控制节点，通过路由器接入外部网络并监听用户请求，其中传感器及树莓派采用5 V电源供电，路由器采用9 V电源供电，整个系统由市电供电。 图1. 系统架构图 图2. 系统流程图 压力传感器由锡纸、纸板、海绵等材料制作而成，传感器的一端与3.3 V引脚相连，另一端与树莓派的GPIO引脚相连，当纸板竖直方向压力大于阈值时上下两层锡纸接触，压力传感器电阻为零，脚本程序通过监测GPIO跳变沿信号实现对非法入侵行为的捕捉，其硬件原理图如图3所示。考虑到不法分子破坏门锁后极易踩踏压力传感器，因此可将其伪装为地毯置于门后，从而具有良好的隐蔽性，其外观如图4所示。 图3. 压力传感器原理图 图4. 压力传感器图 激光传感器包含激光发射与接收模块，如图5所示。发射模块安装于门锁截面，接收模块安装于门框内部。安保服务启动后相关脚本开始监听接收模块信号，由于不法分子暴力破坏门锁的行为能够破坏该传感器结构，因此该传感器能够有效监测门锁实际情况，同时与压力传感器相结合后隐蔽性较高，能够在门锁打开时输出高电平，用于触发后续的报警功能。 图5. 激光传感器图 人体红外传感器已在诸多领域的安防监控中得到广泛应用，外观如图6所示。该传感器对人体辐射的红外线波段尤为敏感，通常安装于房间角落，能够在较大空间内侦测人员活动情况，触发时可产生输出电平，经过后续放大电路完成报警功能。但因制作工艺等因素限制，此类传感器仍存在较大的盲区，不法分子通过盲区进入房间时存在绕过人体红外传感器的可能，故不宜作为入侵检测的唯一手段。 图6. 人体红外传感器图 为打击不法分子剪断信号电缆等行为，本系统提出了回环电路检测机制，其原理图如图7所示。在电源与信号电缆的外侧设计了冗余回环探测电路，该电路完整时输出高电平，被暴力剪断后被下拉至低电平，树莓派内相关脚本实时读取回环电路状态，全面检测不法入侵行为。 图7. 回环电路原理图  本监控系统软件部分由Raspbian Stretch/Linux操作系统、安卓客户端、GPIO脚本控制程序等组成，用于实现用户对智能监控系统的管理和控制功能。 Raspbian Stretch/Linux系统由树莓派基金会官方提供支持，开发人员可以通过NOOBS软件自动安装，或下载镜像文件进行手动安装。安装完成后将TF卡插入树莓派，开机后系统将进行自动分区，稳定性较高，适用于智能家居等嵌入式系统的开发。 客户端名称为KUAYUE，用于实现用户对本系统的管理与控制功能。用户运行客户端后输入服务器IP、用户名、密码登录本系统，认证成功后可以查看家庭内部影像监控、系统软硬件资源信息，启动、停止安保监控，关闭、重启智能监控系统等。 GPIO作为树莓派的通用IO接口，可通过C程序或Python脚本程序实现包括写电平、读电平等相关功能。本系统采用模块化编程思想，将GPIO控制脚本单独封装，使其能够被不同函数直接调用，对于后期维护具有较大意义，脚本调用语法为：sudo GPIOControl.py ，程序代码如  图8所示。 图8. 脚本程序代码图"
"智能监控系统涉及到用户家庭内部状态的监控与报警功能，系统自身的安全性不容小觑。鉴于多数智能家居采用的ZigBee协议漏洞已大量公开，本系统提出了基于SSH协议的加密传输机制，保证系统整体安全。由安卓客户端向服务器端发起SSH建立请求，验证服务器指纹通过后开始传输用户名、密码信息，服务器端认证通过后提供Shell操作权限，客户端所有请求以Bash命令的形式在SSH隧道中加密传输，安全性相比于ZigBee协议大幅提高，对营造安全舒适的家居生活具有重大意义。基于密码认证的SSH协议传输原理如图9所示。 图9. 基于密码认证的SSH协议原理图 图10. 系统实验结果图"
"系统上电后路由器及树莓派开始启动，树莓派启动后OpenSSH服务开始监听TCP 22号端口，路由器为树莓派分配硬件地址绑定的IP地址192.168.1.100/24。用户通过客户端系统提供的安卓应用程序建立SSH隧道并完成身份认证工作。认证成功后用户可以操作客户端程序，程序中的影像查看按钮调用系统默认浏览器动态显示指定区域监控影像，资源查看按钮返回树莓派处理器、内存、存储、网络等信息，安保启动、停止按钮启动、停止相关红外、激光、压力、回环等监控。系统重启、关机按钮实现对智能监控系统的重新启动与关机操作。传感器环境检测正常时系统显示正常，出现异常时，安卓应用程序将显示异常信息，以实现用户远程对家庭状态的监控需求，系统实验结果如图10所示。"
"本系统基于传统的人体红外报警设备，提出了压力、激光、人体红外联合监测的新型家庭监控系统，注重设备硬件自检功能设计，能够有效监测并响应不法分子的破坏行为。用户通过安卓客户端可以随时启停安保监控，查看家庭影像、软硬件资源使用情况、相关监控状态等，并能在危险情况发生时及时得到通知，有利于保障用户的生命财产安全，为用户带来安全舒适的生活体验。"
