"针对装配机器人在运行过程中因发生速度、加速度的突变以及冲击、振动等不良现象而致使其定位精度低的问题，提出了一种误差补偿方法。首先，运用D-H法构建各关节的坐标变换矩阵，推导机器人的数学模型；其次，釆用传递矩阵法构建基于D-H参数的机器人误差模型及表达式；最后，釆用摄动补偿法对误差模型进行补偿，建立误差测量平台进行实测，用最小二乘算法计算辨识出机器人结构参数误差，并在此基础上进行误差补偿实验，实验表明所提出的误差补偿方法能够有效地提高装配机器人末端的定位精度，对装配机器人的进一步研究提供参考。 关键词 :装配机器人，运动学分析，误差建模，误差补偿"
"位姿精度是研究机器人的关键性能指标。国内外学者一直关注 [ 1 ] [ 2 ] 并不断研究发现多种多样的误差补偿方法 [ 3 ] 如硬件补偿法、摄动补偿算法和直接修正算法 [ 4 ] 对机器人的位姿误差进行补偿。陈明哲与张启先 [ 5 ] 采用雅可比矩阵构建了结构参数与位姿误差间的传递函数表达式，来分析位姿误差受结构参数误差的影响程度。黄真教授和K. Sugimoto [ 6 ] [ 7 ] 建立机器人末端误差的表达式。徐卫良 [ 8 ] 构建机器人末端误差函数计算式，并完成了机器人在工作空间内的误差概率分析。焦国太教授 [ 9 ] [ 10 ] 研究了静态因素及连杆和关节柔性对机械手误差的影响。安永辰与王兴海 [ 11 ] 使用有限元分析的方法 [ 12 ] [ 13 ] 得到了动应力及弹性变形导致的位姿误差。 因为有诸多因素的影响而导致机器人末端产生误差，其位姿误差不能完全由机器人本身的控制系统来消除机器人存在的种种误差影响。于是，针对补偿算法的具体研究及误差模型的构建 [ 14 ] [ 15 ] ，并考虑其成本以及实用性，运用摄动补偿算法来补偿装配机器人的误差，即通过末端的附加运动减少或消除实际运动误差。"
"装配机器人由一系列关节连接起来的连杆构成，故而建立各相邻关节之间的位姿误差关系。用四个参数来表述机器人的杆件，其中两个参数表示机器人各相邻杆件间的连接关系。设连杆两端关节 和 的公法线长度即连杆结构参数变量用 来表示，在垂直于连杆 的平面内由关节 和 的中心线组成的夹角称为连杆扭转角，用 来表示，相邻连杆的物理偏移量用 来表示，相邻连杆间的相对角位移用 来表示，当杆件 转动时，参数变量 会跟着连杆的转动而引起改变，而 、 、 不变化；各杆件间的参数关系，如图1所示。 对各连杆设立局部坐标系，通过齐次坐标变换矩阵表示连杆坐标系之间的相互关系，根据D-H法建立连杆坐标系。相邻的两连杆 与 间的相对关系也就可以由两个移动和两个转动变量来确立，通过矩阵变换建立的4 × 4齐次变换矩阵 为： (1) 图1. 连杆参数关系 由式(1)可以推导出机器人末端连杆坐标系相对于基坐标系的齐次变换矩阵为： (2) 因此装配机器人位姿误差可以归算为各组成连杆变量和连杆参数误差。 在空间坐标系中，装配机器人末端在基坐标系中的位姿由位置和方向确定，因此装配机器人末端的位置可在基坐标系中用 ， ， 的坐标分量表示为： (3) 为了完整的表示机器人的运动状态，除了要表示在基坐标系 中的位置外，还要表示物体在空间坐标系内的方向。装配机器人末端的方向可表示为： (4) 为旋转矩阵，其中 、 、 的分量用来描述在末端坐标系内的单位向量投影到基坐标系的方向余弦。 由式(3)和式(4)可以推导出机器人末端在基坐标系中的位姿，即相对应的变换矩阵 为： (5) 式中，矩阵 为基坐标系 与末端坐标系 间的平移变换与旋转变换。 若机器人的几何结构已定，机器人连杆的长度 、转角 及距离 便是已定的，连杆的转角 为变量。运动学方程能用其各个关节角的函数关系描述为： (6) 式(6)即表示装配机器人末端的位姿与各个关节变量的运动关系。"
"机器人的位姿误差的影响因素是其各连杆的制造误差、磨损误差等，致使各连杆的参数变量 产生误差，从而引起机器人的末端位姿产生误差。通过研究误差的传递状况，机器人的末端位置和姿态误差与各杆件的运动变量误差间有着必然的数学关系。 机器人的末端位置误差可表示为： (7) 而机器人的末端姿态误差可表示为： (8) 装配机器人末端位置的广义坐标对连杆的对各连杆参数 ， ， ， 的偏导数为： (9) 装配机器人的广义坐标为： (10) 由式(9)和式(10)可以得到装配机器人末端位置和姿态广义坐标对于各连杆的运动变量和结构参量的偏导数，将其代入式(7)和式(8)即可得到机器人末端执行器的位置和姿态误差。"
"装配机器人不能由本身的控制系统减小或消除其机械误差及控制误差引起的影响，故而用控制软件修正补偿其末端位姿，最终得以补偿由各种因素引起的位姿误差。 摄动补偿算法来补偿机器人末端误差的工作原理如图2所示 [ 16 ] ，对机器人末端的期望位姿 进行矩阵逆变换，计算出装配机器人末端在期望位置的运动参数变量。装配机器人各连杆参数误差会导致其末端产生位姿误差 。因此，当装配机器人的各杆件运动改变p时，其末端的实际位姿就会变为 。为使装配机器人的末端位姿得以修正，要事先附加一个微小位姿输入量 ，这时机器人的末端位姿就会变成 。再通过机器人运动学的矩阵逆变换，机器人的各关节的运动结构参数改变为 。这时，事先预加的微小的位姿输入量 ，就会减小或消除机器人末端位姿产生的误差 ，让机器人的末端执行器的位姿无限接近期望的末端位姿 。  本文研究的装配机器人包含3个旋转关节与1个直线关节，在某一时刻机器人的末端执行器实际输出位姿是 ，其理论输出位姿是 。此时所对应的各关节的输入变量为 。在各种因素的综合影响下，机器人的末端产生的误差为 (包括位置误差 与姿态误差 )。为了能够抵消摄动的位姿误差 ，在机器人的各关节上事先要预置一个微小的附加输入变量 ，该微小输入变量会致使机器人的末端产生一个对应的附加位姿 。若机器人末端执行器的摄动位姿 与其末端产生的误差 可以相互抵消，就能对机器人末端产生的位姿误差进行补偿。依据构建的机器人误差的数学模型，可知其产生的位姿误差 表示为： 图2. 机器人误差补偿原理图 (11) 对机器人的各个关节的运动参数变量上事先附加一个预置的微小输入变量 后，其末端就会产生与之相对应的运动位姿 ，即： (12) 令 ，即 ， ，可得： (13) 由式(18)即可计算出输入的各关节运动变量上附加的预置微小输入变量 。"
"实验平台由整个装配机器人系统和东芝TELI工业摄像机及其相关的配件组合而成。装配机器人系统的人机编程界面控制各运动关节的控制指令，东芝TELI工业摄像机及其相关的配件测量末端实际位置的三维坐标，用最小二乘算法辨识出各项误差的参数值，对其进行相应的实验补偿。通过最小二乘算法能辨识出其各项误差的参数值，来对其进行相应的实验补偿。装配机器人的误差测量实验平台，如图3所示。  该装配机器人能通过其人机操作界面给定各个关节的运动输入变量，然后对输入的变量进行变换，使其以脉冲量的方式来控制机器人各电机的运动，使其末端能运动到预定的理想位置。该实验根据人机 图3. 误差测量实验装置 操作界面控制装配机器人各关节的输入运动变量，并使用东芝TELI工业摄像机及其相关的配件测量计算出在不同关节输入变量时其末端的坐标值，再根据运算数据求解出已给的指令坐标与实验测得坐标间的误差值，最后再使用运算出的误差值与各输入变量来对其参数误差进行辨识运算，得到结构参数的误差数值，再对机器人末端引起的误差进行实验补偿分析。   机器人参数辨识是指根据实验测得或者运用某算法计算求出其实际运动参数的过程。装配机器人的参数误差与其末端的位置误差间的关系为： (14) 其中： 为机器人的误差传递矩阵； 为机器人的参数误差矩阵； 为机器人末端的实测值与理论值间的误差。 由实验测量出机器人的末端三维坐标，运算得到实际坐标值与理论坐标值间的误差 ，再根据式(14)即能辨识计算得到机器人的误差参数值。利用最小二乘算法优化误差参数使 的范数平方和最小，得出机器人的实际参数误差。 在标定测量完成的基础上，选取在测量范围内 轴综合运动的12个采集点的测量信息进行实验验证，测量得到的采集点的坐标信息如表1所示，表中计算坐标值为各点按照标定测量的结果计算得出的世界坐标系的坐标，测量值为各点的实际坐标值。 通过获得的12个采集点的理论计算值与实验测量值以及其他有效的参数测量值，通过机器人的逆解运算来求解得到相对应的关节变量值，进而可以求出各个点的理论 、 、 坐标值，运算求解各测量点的绝对误差值，如表2所示。其中，X坐标的绝对误差最大为0.1470 (mm)，Y坐标的绝对误差最大为0.5849 (mm)，Z坐标的绝对误差最大为0.6775 (mm)。 由表2中计算出的各测量点的误差值与关节变量值，并把上述的误差值代到所建立的模型中，利用最小二乘算法以辨识求解机器人的结构参数误差值，最后通过运算获得辨识各结构参数的误差值，如表3所示。  由辨识运算得到各项参数的误差值后，根据摄动补偿方法重新运算求解运动到12个测量点的指令位置的三维坐标；再由人机操作界面控制其按照重新求出的指令位置坐标运动作业，并测量其实际的三维坐标。通过运算就可求得其误差在补偿前后的各测量点的绝对定位误差变化曲线，如图4所示。 Table 1 序号 计算坐标值 测量坐标值 x/mm y/mm z/mm x/mm y/mm z/mm 1 56.7200 279.6980 −25 56.7111 279.6944 −24.5767 2 56.7010 329.3701 −25 56.6877 329.3685 −24.9866 3 56.7131 378.9552 −25 56.8299 378.9563 −24.8755 4 6.8680 279.0831 −25 6.8573 279.0776 −24.8871 5 6.5301 328.7783 −25 6.5184 328.7748 −25.6775 6 6.3972 378.6301 −25 6.3816 378.6290 −25.1681 7 −109.6933 320.9131 10 −109.8101 320.9220 10.1522 8 −109.6871 332.8752 10 −109.8033 333.3028 10.5645 9 −109.6435 339.9662 10 −109.7905 339.5847 9.4175 10 −129.3855 320.2761 10 −129.4905 320.2683 10.2557 11 −128.9766 332.7872 10 −129.0126 333.3721 10.4751 12 −129.1351 339.8751 10 −129.1468 339.4783 10.1022 表1. 采集点的测量信息 Table 2 序号 △x/mm △y/mm △z/mm 1 0.0089 0.0036 −0.4233 2 0.0133 0.0016 −0.0134 3 −0.1168 −0.0011 −0.1245 4 0.0107 0.0055 0.1129 5 0.0117 0.0035 0.6775 6 0.0156 0.0011 0.1681 7 0.1168 −0.0089 −0.1522 8 0.1162 −0.4276 −0.5645 9 0.1470 0.3815 0.5825 10 0.1050 0.0078 0.2557 11 0.0360 −0.5849 0.4751 12 0.0117 0.3968 0.1022 表2. 采集点的绝对误差值 Table 3 1 0.00031 −0.06721 −0.04310 0.00061 2 −0.00056 −0.05016 −0.05531 0.000023 3 −0.00102 0.08236 −0.05121 −0.00010 4 0.00011 0.02018 −0.06281 0.00012 表3. 辨识得到的装配机器人结构参数的误差 图4. 补偿前后采集点绝对定位误差 通过对图4的分析可知，装配机器人经过摄动位姿补偿算法的补偿后，釆集点的绝对定位误差明显减小，最大综合绝对定位误差由补偿前的约0.6 mm减少到0.2 mm，补偿后的误差基本都在0.2 mm以下，符合机器人设计时所给定的定位误差值，并使机器人的定位精度有了极大地提升，且从实验的方面表明了所研究的补偿算法是可行实用的。"
"1) 本文在D-H法的基础上，利用传递矩阵法推导出了机器人末端位姿误差和运动学参数误差间的函数关系式，构建了机器人的位姿误差数学模型。 2) 运用摄动法对构建的误差模型进行补偿研究。建立该装配机器人的误差测量平台，测量其多个位置的三维坐标；采用最小二乘算法辨识运算机器人的结构误差，并用对所求的参数误差进行实验补偿。分析补偿前后的实验数据，可知通过误差补偿，其精度有了很大提高，并从实验方面验证了补偿算法的实际可行性。 3) 本文在误差补偿方面，虽然通过摄动误差补偿算法对其末端产生的误差进行了补偿，但没有考虑外力等其他因素的影响，还需要对其进一步的研究。"
