"生产满足特定功能的正交非圆面齿轮副，需要先建立齿轮副的模型。本文先采用齿形法线法对非圆齿轮进行设计、生成模型，然后基于SolidWorks的二次开发，利用宏录制，对面齿轮毛坯进行连续的布尔减操作，模拟了刀具加工面齿轮的范成运动。通过ADAMS对模型进行运动学仿真，仿真结果验证了理论方法可行性和模型的正确性。 关键词 :面齿轮，SolidWorks，模拟加工，运动学仿真 Copyright © 2017 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"正交非圆面齿轮副是一种结合了非圆齿轮、非圆锥齿轮、面齿轮三者传动特点的新型齿轮副，可以实现相交轴间的变传动比传动 [ 1 ] 。非圆面齿轮副结构简单，由非圆齿轮和非圆面齿轮啮合组成 [ 2 ] 。与非圆锥齿轮相比，变传动比面齿轮重量更轻、强度更大、使用寿命更长久 [ 3 ] ，而且最为重要的是，面齿轮加工方便，成本低，可以进行大规模批量生产 [ 4 ] 。 目前应用在越野汽车上的限滑差速器上的齿轮大多以非圆锥齿轮为主 [ 5 ] ，本文提出一种新的设计思路，设计出满足特定传动规律的非圆面齿轮，替代常用的圆锥齿轮以及非圆锥齿轮。根据给定的传动比函数，可以设计出非圆齿轮节曲线，根据空间坐标转换和齿轮啮合定理，求出与之啮合的面齿轮的节曲线 [ 6 ] 。然后利用齿形法线法设计出非圆齿轮的齿廓，进而生成非圆齿轮模型 [ 7 ] 。本文基于SolidWorks (2013版本)的二次开发功能，利用展成法原理，在面齿轮毛坯上包络出与之啮合的面齿轮 [ 8 ] 。利用ADAMS (2013版本)对变传动比面齿轮副的啮合运动进行仿真，验证了其运动满足设计的传动比函数，从而为将变传动比面齿轮应用在其他领域奠定了基础 [ 9 ] [ 10 ] 。"
"非圆齿轮和非圆面齿轮啮合传动过程，仍然满足两齿轮的节曲线做纯滚动运动。以两条节曲线为基础，建立非圆面齿轮副的传动坐标系，图1所示为非圆面齿轮副传动简图。 坐标系 s 10 ( x 10 , y 10 , z 10 ) 为非圆齿轮机架固连的静坐标系， s 1 ( x 1 , y 1 , z 1 ) 为与非圆齿轮固连的动坐标系，初始时刻，两坐标系重合；坐标系 s 20 ( x 20 , y 20 , z 20 ) 为与面齿轮机架固连的静坐标系， s 2 ( x 2 , y 2 , z 2 ) 为与面齿轮固连的动坐标系，初始时刻，两坐标系重合。令非圆齿轮绕 o 10 z 10 轴顺时针转动，角速度为 ω 1 ；面齿轮绕 o 20 z 20 轴逆时针转动，角速度为 ω 2 。 初始时刻两节曲线在 A 0 点重合，经过一段时间，非圆齿轮转角为 θ 1 ，面齿轮转角为 θ 2 ，非圆齿轮节曲线上的点 A 与面齿轮节曲线上的点 A ′ 重合。 r ( θ 1 ) 为非圆齿轮上 A 点的向径， R 为面齿轮节曲线所在圆柱面的半径。根据齿轮啮合原理，当两点重合时， A 点速度与 A ′ 点速度相等，因此可以得出 r ( θ 1 ) ω 1 = R ω 2 。 则面齿轮和非圆齿轮的传动比表达式为 i 21 = d θ 2 d θ 1 = ω 2 ω 1 = r ( θ 1 ) R (1) 图1. 非圆面齿轮副传动简图；1-非圆齿轮节曲线；2-面齿轮节曲线  本课题组经过多年研究，确定该限滑差速器设计的传动比函数为 i 21 = z 1 z 2 ( 1 + c cos 3 θ 1 ) (2) 式中 z 1 为非圆齿轮齿数， z 2 为面齿轮齿数， c 为小于1且大于0的常数，其值直接决定差速器的紧锁系数。合并两个方程式，即得 i 21 = d θ 2 d θ 1 = ω 2 ω 1 = r ( θ 1 ) R = z 1 z 2 ( 1 + c cos 3 θ 1 ) (3) 非圆齿轮节曲线的极坐标方程也可求出，为 r ( φ ) = R z 1 z 2 ( 1 + c cos 3 φ ) (4) 式中 φ 为非圆齿轮节曲线的极角，极角与转角大小相等，方向相反， r ( φ ) 为非圆齿轮节曲线的极径。 根据上图所示， A 点为非圆齿轮节曲线上的一点， A ′ 点为面齿轮节曲线上与 A 点相对应的点。当非圆齿轮转过角度为 θ 1 、面齿轮转过角度为 θ 2 时， A 点与 A ′ 点重合。 非圆齿轮的动坐标系 s 1 ( x 1 , y 1 , z 1 ) 到面齿轮动坐标系 s 2 ( x 2 , y 2 , z 2 ) 的变换矩阵为 M S 2 , S 1 = [ sin θ 1 sin θ 2 − cos θ 1 sin θ 2 cos θ 2 − R cos θ 2 − cos θ 2 sin θ 1 cos θ 1 cos θ 2 sin θ 2 − R sin θ 2 − cos θ 1 − sin θ 1 0 r ( 0 ) 0 0 0 1 ] (5) 根据齿轮啮合原理，在非圆齿轮动坐标系中的节曲线上 A 点经过坐标变换，就可以得到面齿轮动坐标系中的节曲线上对应的 A ′ 点。 A 点在 s 1 ( x 1 , y 1 , z 1 ) 坐标系下坐标为 ( r ( θ 1 ) cos θ 1 , r ( θ 1 ) sin θ 1 , 0 ) ，因此 A ′ 在 s 2 ( x 2 , y 2 , z 2 ) 坐标系下坐标为 [ x 2 y 2 z 2 1 ] = M s 2 , s 1 [ r ( θ 1 ) cos θ 1 r ( θ 1 ) sin θ 1 0 1 ] = [ − R cos θ 2 − R sin θ 2 r ( 0 ) − r ( θ 1 ) 1 ] (6)  圆齿轮的齿廓是在基圆的基础上进行设计的渐开线，每个齿轮的齿廓形状都是完全相同的。非圆齿轮没有基圆，其齿形是根据齿形的渐屈线求出，其不同齿的齿廓以及同一个齿的左右齿廓都不尽相同。本文基于齿形法线法求解非圆齿轮的解析方程，如图2所示。 如图所示，令直角坐标系的X轴与极坐标系的极轴重合。图中 n 为齿形上任一点， a 为齿形上 n 点处的法线与节曲线的交点， φ 为点 a 的极角， t 为节曲线上 a 处的正向切线， r φ 为 a 点的向径， μ 为 r φ 与矢量 t 的夹角， α n 为 t 与 a n 的夹角， a 0 为齿形与节曲线交点， r f 为齿形上任意一点 n 的向径。从图中可以看出齿形上任一点 n 的向量方程式为 r f = r φ + a n (7) a n = S cos α n ，其中 S 为 a 0 点与 a 点之间的弧长。令 a 点处节曲线切线正方向与X轴正向夹角为 β ，即 β = φ + μ ， β 可通过 a 点的斜率求出 { β = π + arctan d y d x , φ ≤ π β = 2 π + arctan d y d x , π ≤ φ ≤ 2 π (8) d y d x = d ( r sin α ) d α / d ( r cos φ ) d φ = − 3 c sin 3 φ sin φ + ( 1 + c cos 3 φ ) cos φ − 3 c sin 3 φ cos φ − ( 1 + c cos 3 φ ) sin φ (9) 综上所述，非圆齿轮齿形的方程式为 图2. 求解非圆齿轮齿廓示意图 左齿形： { x l = r φ cos φ ± S cos α n cos ( β − α n ) y l = r φ sin φ ± S cos α n sin ( β − α n ) (10) 右齿形： { x r = r φ cos φ ∓ S cos α n cos ( β + α n ) y r = r φ sin φ ∓ S cos α n sin ( β + α n ) (11) 当齿形上的点在节曲线上段时，取上面符号；当齿形上的点在节曲线下段时，取下面符号。"
"1) 在SolidWorks中依次点击插入—曲线—通过XYZ点的曲线，将求解的坐标值导入，生成相应的曲线。 2) 选取前视基准面正视，然后点击绘制草图，选择转换实体引用，将导入的曲线转换为草图中的实体。 3) 选取样条曲线命令，将齿根底部用圆滑过渡的曲线与齿根曲线进行衔接，然后选取裁剪实体命令，将齿廓、齿顶曲线、齿根曲线的多余部分裁剪掉，得到非圆齿轮的二维图。如图3所示，浅蓝色部分为被裁剪部分，深蓝色和黑色为实体部分。 4) 隐藏导入的曲线，对实体部分进行拉伸，然后进行镜像，得到非圆齿轮的三分之一部分，如图4所示。 5) 新建一个装配体，将三个三分之一齿轮通过配合关系组合成一个完整的非圆齿轮，如图5所示。  SolidWorks现有功能无法满足对面齿轮进行建模，需要编辑宏指令，实现非圆齿轮和面齿轮的连续布尔操作，可以模拟刀具加工齿轮，最终包络出面齿轮。 图3. 非圆齿轮齿廓二维图 图4. 非圆柱齿轮部分三维模型图 图5. 非圆齿轮三维模型图 刀具的模型即非圆柱齿轮模型，可以直接导入装配体使用。根据装配关系，将非圆齿轮和非圆面齿轮毛坯装配在一起，如图6所示。 根据两齿轮节曲线纯滚动的运动关系，加工过程中令非圆齿轮刀具绕其回转中心转动一个角度 d θ 1 ，非圆面齿轮毛坯相应转过的 d θ 2 角度。转动角度关系根据传动比函数求得 θ 2 = ∫ 0 θ 1 z 1 / z 2 [ 1 + c cos 3 θ 1 ] d θ 1 = z 1 / z 2 ( θ 1 + c / 3 sin 3 θ 1 ) (12) 图6. 非圆齿轮和毛坯装配图 在该步骤完成后，进行布尔减操作，实现刀具的切削毛坯的第一步过程。将上述过程采用宏录制记录下来，即自动生成刀具切削毛坯的编码，然后根据传动比函数，对编码中的相关参数指令进行修改，然后再加入循环指令，可以实现的刀具和毛坯的连续布尔减运算，最终模拟加工出非圆面齿轮，如图7所示。"
"将SolidWorks生成的非圆柱齿轮和非圆面齿轮模型导入到ADAMS软件中进行装配，定义相关参数，如图8所示。 定义两齿轮的材料属性为“steel”，在非圆柱齿轮上取一点A如图所示。非圆面齿轮与大地为转动副连接，非圆柱齿轮与非圆面齿轮接触力接触，并且绕其轴心定义转动副连接。  在ADAMS里添加非圆柱齿轮一个转动驱动，设定角速度 ω 1 = 3600 ，输入 θ 1 = 3600 t 。根据传动比关系可以求得理论的非圆面齿轮角速度为 ω 2 = ω 1 i 21 = ω 1 z 1 z 2 ( 1 + c cos 3 θ 1 ) = 2700 ( 1 + 0.1 cos 60 π t ) (13) 设置仿真终止持续为0.5S，步数为5000，开始仿真，得到仿真曲线如图9所示。 将仿真后得到的A点的角速度曲线导出，然后将该仿真曲线与理论曲线放在MATLAB同一窗口下进行比较，如图10所示。其中红色虚线表示仿真值，蓝色实线表示理论值。 图7. 非圆面齿轮三维模型图 图8. 非圆面齿轮副模型装配图  将刚才定义的非圆柱齿轮的转动驱动的角速度参数改为 ω 1 = 3600 t ，输入 θ 1 = 1800 t 2 。根据传动比关系求得理论的非圆面齿轮角速度为 ω 2 = ω 1 i 21 = ω 1 z 1 z 2 ( 1 + c cos 3 θ 1 ) = 2700 t ( 1 + 0.1 cos 10 π t 2 ) (14) 设置仿真终止持续为0.5S，步数为5000，开始仿真，得到仿真曲线如图11所示。 图9. A点角速度仿真曲线 图10. A点角速度理论与仿真曲线 将仿真后得到的A点的角速度曲线导出，然后将该仿真曲线与理论曲线放在MATLAB同一窗口下进行比较，如图12所示。其中红色虚线表示仿真值，蓝色实线表示理论值。  当非圆柱齿轮做匀速转动时，A点角速度的理论值曲线与仿真值曲线的变化规律一致，极值点和极值也基本吻合；当非圆柱齿轮做加速运动时，A点角速度的仿真值曲线有几处波动，但与理论值曲线的 图11. A点角速度仿真曲线 图12. A点角速度理论与仿真曲线 变化规律基本一致，因此验证了该模型的有效性，也证明了该齿轮设计理论和设计思想的正确性。 分析仿真曲线出现波动、产生误差的原因为： 1) 齿轮在开始啮合和离开啮合时出现冲击，导致速度变化异常。 2) 非圆面齿轮是由非圆柱齿轮包络生成，面齿轮表面不平滑，导致出现仿真曲线的波峰处跟理论值偏差较大。 3) ADAMS处理接触力接触的问题时算法计算不连续。"
"基于SolidWorks的二次开发环境，通过将非圆柱齿轮作为刀具，包络出了与之啮合的非圆面齿轮，建立了非圆齿轮副的模型。提出了将非圆面齿轮副替换限滑差速器上常用的非圆锥齿轮的设计思路，通过ADAMS软件对齿轮副的传动进行运动学仿真，验证了该模型的传动规律符合限滑差速器的传动要求，因此该想法是可行的。考虑到面齿轮的其他优点，为将面齿轮应用在其他领域奠定了基础。"
