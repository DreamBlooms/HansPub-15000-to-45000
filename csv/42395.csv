"本文针对机场出租车如何使载客收益最大化这一问题进行建模。首先运用协方差检验，排除出租车数量和想要乘坐出租车返城的乘客数量这两个因素对司机选择的影响。结合出租车定价标准和查阅得到的相关数据，分别建立两种选择下出租车司机载客净收益与等待时间的函数模型，并求得其交点，该交点是影响司机决策的重要因素。最后结合排队论，建立出司机基于观察到的信息判断等待时间的数学模型，进而得到司机的选择策略。最后以深圳宝安机场的真实航班和出租车数据，对模型进行仿真检验。"
"现如今，很多乘坐飞机出行的乘客下飞机后要去其所到达的目的地时，会选择出租车作为主要的交通工具。国内多数机场都是将送客通道与接客通道分开的。送客到机场的出租车司机将会有两个选择：1) 前往接客区排队等待载客返回市区。出租车必须到指定的“蓄车池”，依“先来后到”的原则排队进场载客，司机需要付出一定的时间成本去等待，等待的时间长短取决于排队出租车和乘客的数量多少。2) 直接放空返回市区载客。出租车司机会付出空载费用和可能损失潜在的载客收益。 对于出租车，上客区服务等此类问题，已有学者专家进行过研究分析，于晗丹等(2019) [ 1 ] 研究了基于排队论下的机场出租车调度问题，通过对影响出租车司机决策的相关因素进行机理分析，综合考虑相关因素，建立出模型。魏中华等 [ 2 ] 研究了基于排队论下的枢纽内出租车上客区服务台优化。对出租车上客区排队服务分三类进行了描述。 本文首先运用协方差检验，排除出租车数量和想要乘坐出租车返城的乘客数量这两个因素对司机选择的影响。结合出租车定价标准和查阅得到的相关数据，分别建立两种选择下出租车司机载客净收益与等待时间的函数模型，结合排队论，建立出司机基于观察到的信息判断等待时间的数学模型，进而得到司机的选择策略。"
"送客到机场的出租车司机面临着排队等待载客返回和空载返回市区拉客两种选择，送客到机场的出租车数量和想要乘坐出租车返城的乘客数量的匹配程度直接影响了出租车司机的选择。若出租车数量很多，而乘客数量很少，需要付出的时间成本很大，则会导致出租车做出第二种选择的概率增大；反之，若出租车数量很少，而乘客数量很多，出租车司机为了赚更多的钱则大多都会做出第一种选择。 模型的建立 通过查阅资料我们得到了深圳宝安机场每小时的进出港航班数据，利用Python的matplotlib库将数据可视化得到下图1： 图1. 进出港航班量 假设进出机场的乘客选择出租车作为出行方式的概率相等，采用协方差公式 [ 3 ] 进行计算， E ( X ) , E ( Y ) 分别为进港航班数量和出港航班数量的期望值： C o v ( X , Y ) = E [ ( X − E [ X ] ) ( Y − E [ Y ] ) ] = E [ X Y ] − 2 E [ Y ] E [ X ] + E [ X ] [ Y ] = E [ X Y ] − E [ X ] E [ Y ] (1) 通过Excel计算得到进出港航班数的协方差值约为78.4560，说明二者具有很强相关性 [ 3 ]，即送客到机场的出租车数量和想要乘车返城的乘客数量几乎相同。因此可以排除机场中出租车数量和想要乘出租车返城的乘客数量极其不匹配的情况，影响出租车司机决策的主要因素是出租车司机的收益，而出租车司机的收益受到出租车司机载客净收入、“蓄车池”排队等候时间、机场乘客数量等因素的影响。 1) 出租车净收入模型 结合实际考虑，出租车司机的收益受到出租车所行驶的距离、出租车平均时速、耗油量、油价、在机场等待时间等多方面因素影响。为了更好的分析，我们查阅资料 [ 4 ] 得到全国各个地区平均乘客乘坐出租车所需支付的费用与出租车所行驶的路程的数据，如下表1： Table 1 白天(7:00~21:00) 夜间(22:00~6:00) 0-3千米 14元起步价 18元起步价 3-15千米 2.5元/千米 3.1元/千米 大于15千米 3.6元/千米 4.7元/千米 表1. 出租车定价标准 得到乘客乘出租车支付费用与行驶路程的函数关系： 白天： W = { 14 ( l ≤ 3 ) 2.5 l + 6.5 ( 3 ≤ l ≤ 15 ) 3.6 l − 10 ( l ≥ 15 ) (2) 夜间： W = { 18 ( l ≤ 3 ) 3.1 l + 8.7 ( 3 ≤ l ≤ 15 ) 4.7 l − 15.3 ( l ≥ 15 ) (3) 考虑到出租车司机需自己承担所耗油量的费用，得出出租车司机净收入表达式： w = W − a b l (4) 其中为a油价(元/升)，为b出租车耗油量(元/公里)。 接下来对出租车司机面临的两种选择进行具体分析。 2) 出租车机场等待收益函数 若出租车司机想要载客返回市区，必须要耗费时间来排队等待载客，假设付出的时间成本为t，载客时间为T，将出租车司机的收益量化，可以得到函数： y = w t + T = w t + l v (5) 由于车速、油价、耗油量、往返公里数等因素不受司机的决策影响，我们假设这些因素都是恒定常量。经查阅资料我们得到平均各地出租车在去往机场的时速、平均各地油价、出租车耗油量、平均各地机场距市区距离等数据，分别为： v = 60   km / h 、 a = 6   yuan / L 、 b = 0.1   L / km 、 l = 45   km 得到以下函数模型 白天： y = 125 t + 0.75 (6) 夜间： y = 169.2 t + 0.75 (7) 3) 出租车返回市区收益函数 若出租车司机直接空载返回市区，则可以省出等待的时间t去市区里接更多的客人；但空载返回时所耗的油费需自己承担，并且还可能损失潜在的载客收益。 通过上述方法，我们得出出租车司机净收入表达式： 白天： w = 3 v t − 10 − a b l (8) 夜间： w = 4.1 v t − 15.3 − a b l (9) 由于出租车在市区的时速与在高速公里上相差较大，经过查阅资料得出出租车在市区时速约为 v = 25   km / l 。 白天： w = 75 t − 37 (10) 夜间： w = 117.5 t − 42.3 (11) 考虑到现实生活中，出租车在日常工作时会存在空载的情况，空载率约为40%，得到以下净收益率与时间的 y ( t ) 函数模型： 白天： y = 45 − 22.2 t (12) 夜间： y = 70.5 − 25.38 t (13) 4) 两种选择的对比 分别做出白天和夜间出租车司机选择两种方案的载客收益图像，见图2、图3： 图2. 白天出租车司机载客收益 图3. 夜间出租车司机载客收益 通过Python的sympy库计算出日间出租车司机载客收益图像交点的横坐标：2.66019847739026，夜间出租车司机载客收益图像交点的横坐标：2.13638189838798。因此在白天时，等待时长在2.66小时内，做出机场等待选择的出租车司机收益更大；在夜间，等待时长在2.14小时内，做出回到市区选择的出租车司机收益更大。 5) 乘客数量与航班数关系 通过查阅机场的相关资料，每趟航班的满载率约为80%，平均每架飞机拥有250个座位，在白天只有15%的乘客选择出租车作为返程交通方式；在夜间有45%的乘客选择出租车返回 [ 5 ]，我们得出乘客数量c与抵达的航班数量d符合以下函数关系： 白天： c = 12 % d ⋅ 250 (14) 夜间： c = 36 % d ⋅ 250 (15) 6) 乘客排队乘车的生灭过程 抵达航班数量和“蓄车池”内已有车辆数是出租车司机可观测到的确定信息，这成为其判断选择的主要因素。机场的交通转换迅速，流量大，出租车的到发、“蓄车池”的管理，是机场应该具有的功能。想乘坐出租车的乘客会在指定的上车点排队候车，想要载客返城的出租车在“蓄车池”内排队接客。因此乘客队伍的长度和“蓄车池”内已有的车辆数成为出租车司机判断等候时间的重要因素。 在机场的出发车道边，输入过程为出租车行驶到车道边，服务是在落客位下车 [ 6 ]，排队规则是等待制。到达机场的乘客大概在30分钟内离开机场，他们随着航班的到达而出现又会在一定的时间内离开，所以应用生灭过程 [ 7 ] 来描述这种情况。 生灭过程表示在任何时刻，状态最多只能转移到临近状态，即若处于0状态，则只能转移到1状态；若在t时刻处于n状态，在 ( t , t + Δ t ) 间隔内： 转移到 ( n + 1 ) 状态的概率为 λ n ( t ) Δ t + ο ( Δ t ) ， 转移到状态 ( n − 1 ) 的概率为 μ n ( t ) Δ t + ο ( Δ t ) ， 转移到其他状态的概率为 ο ( Δ t ) 。 生灭过程可以应用于排队论 [ 8 ] [ 9 ]，乘客的到达和离开对应于生灭过程的生和灭；任意时刻和状态，到达率和离开率均为相同的常数； λ n = λ ， μ n = μ 。 设有s个上客点，乘客到达服从泊松分布，根据以上理论可以导出以下几个关键指标： 服务强度： ρ = λ μ (16) 服务台繁忙时服务强度： ρ ∗ = λ S μ (17) 服务台空闲时稳态概率： P o = [ ∑ n = 0 S − 1 ( ρ n n ! ) + ρ S S ! 1 1 − ρ / S ] − 1 (18) 等待平均人数： L q = λ S ρ * S ! P 0 (19) 平均等待时间： W q = L q λ (20) 当 ρ s < 1 时，排队能够消散，不会越排越长 [ 7 ]。通过查阅相关资料可以知道每辆车平均坐1.5个乘客 [ 5 ]，每个乘客上车时间约为30秒，由此得 μ = 3 。进而得到关于出租车在机场等待时间t的函数模型： t = 1.5 e W q L q (21) 代入上述 y ( t ) 函数模型，我们用出租车司机的净收入率作为出租车司机做出选择的判断依据，得到最终的模型： 机场等待： 白天： y = 125 L q W q 1.5 e + 0.75 (22) 夜间： y = 169.2 L q W q 1.5 e + 0.75 (23) 回到市区： 白天： y = 45 − 33.3 e L q W q (24) 夜间： y = 70.5 − 38.7 e L q W q (25)"
"通过以上讨论与分析，我们得到了出租车司机选择决策的基本模型。我们收集国内某一机场及其所在的城市出租车的相关数据，再给出该机场出租车司机的选择方案并对模型进行分析。  以深圳市为例，通过查阅有关资料，我们获得了全市五天各个时间段出租车GPS数据数百万条。再通过查阅地图得到深圳宝安机场经纬度：[113.821676, 22.627641]，使用Python筛选位于机场范围内的出租车，得到这五天的数据35923条。为了简化计算，我们选择6月12日的数据作为分析材料，以小时为单位，按时间进行聚合，得到下表2： Table 2 时间(时) 0 1 2 3 4 5 6 7 8 9 10 11 机场车辆数(量) 420 417 62 59 2 9 3 719 416 542 356 401 时间(时) 12 13 14 15 16 17 18 19 20 21 22 23 机场车辆数(量) 220 542 301 280 195 356 370 363 542 311 619 405 表2. 每时刻机场车辆数 为了更直接的观测与分析，我们利用Python的matplotlib库将数据做成折线图，如下图4： 图4. 6月12日每时刻机场车辆数–时间图像  由于航抵达的航班数量与乘客数量大致呈一次函数关系，我们使用Python编写爬虫，获得携程网从0点到23点深圳宝安机场实际抵达航班时刻表，以小时为单位，按时间进行聚合，如表3、图5： Table 3 时间(时) 实际航班数量(趟) 时间(时) 实际航班数量(趟) 时间(时) 实际航班数(趟) 时间(时) 实际航班数(趟) 时间(时) 实际航班数(趟) 0 71 5 0 10 62 15 51 20 79 1 4 6 0 11 52 16 49 21 83 2 0 7 1 12 37 17 93 22 88 3 0 8 27 13 73 18 108 23 108 4 0 9 66 14 57 19 91 表3. 实际抵达航班数量 图5. 实际抵达航班数量–时间图像 结合第一个问求得的乘客数量与抵达航班数量的函数关系，我们得到了一个月内深圳宝安机场平均每小时选择出租车的乘客数量，如下表4： Table 4 时间(时) 选择出租车乘客数(人) 时间(时) 选择出租车乘客数(人) 时间(时) 选择出租车乘客数(人) 时间(时) 选择出租车乘客数(人) 时间(时) 选择出租车乘客数(人) 0 6930 5 0 10 1860 15 1530 20 2370 1 360 6 0 11 1560 16 1470 21 2490 2 0 7 30 12 1110 17 2790 22 2640 3 0 8 810 13 2190 18 3240 23 3240 4 0 9 1980 14 1710 19 2730 表4. 选择出租车的乘客人数 通过查阅文献 [ 10 ]，获得总人数为200时的到达率 λ 对时间数据，如图6： 图6. 到达率–时间图像 将乘客数量代入第一个问建立的模型中，可推算出每个时刻的平均等待时间。其中服务台数s为7， 实际到达率 λ 需要根据乘客数量放缩原有的数值进行计算，即 λ * = c 200 λ 。全部计算完成后，得到数据 如下表5： Table 5 时刻 平均等待人数 平均等待时间 蓄车池中车辆数 出租车预期等待时间 机场等待收益 回到市区收益 选择 0 170.4875804 9.840552978 420 36.36363636 124.7731844 28.623 机场等待 1 6.65E−05 4.92E−05 17 inf 0 70.5 回到市区 2 0 0 62 inf 0 70.5 回到市区 3 0 0 59 inf 0 70.5 回到市区 4 0 0 2 inf 0 70.5 回到市区 5 0 0 9 inf 0 70.5 回到市区 6 0 0 3 inf 0 70.5 回到市区 7 8.81E−06 8.51E−06 79 inf 0 45 回到市区 8 170.1374469 9.76959213 416 35.83118002 92.78597688 7.825673077 机场等待 9 52644.22445 1063.519686 542 16.42424242 122.101628 −36.099631 机场等待 10 5935.720592 182.3570074 356 16.40552995 122.1388368 −36.19213483 机场等待 11 140.7933636 9.500226965 401 40.58704453 87.63008515 12.18164589 机场等待 12 86.76123981 4.342404395 220 16.51651652 121.9184769 −35.64654545 机场等待 13 110.7620313 5.057627001 542 37.12328767 91.32610509 9.119557196 机场等待 14 1043.403792 40.67851039 301 17.60233918 119.80383 −30.6717608 机场等待 15 150.7568889 9.853391432 280 27.45098039 103.5182679 −3.522857143 机场等待 16 26.99039033 2.824739961 195 30.6122449 99.1902834 1.488 机场等待 17 5431.487186 169.2843131 356 16.64329126 121.6677411 −35.03224719 机场等待 18 237.0630033 10.45251337 370 24.47089947 107.9588728 −9.432 机场等待 19 49.35669243 2.410583269 363 26.59340659 104.7582502 −5.087603306 机场等待 20 68.94116645 5.817819954 542 68.60759494 89.36022284 25.58523985 机场等待 21 143.4001946 9.5984066 311 31.2248996 133.1848261 2.341736334 机场等待 22 22.95537153 2.484347568 619 100.487013 69.77942424 55.34580291 机场等待 23 0.581909799 0.119734527 405 125 59.71764706 58.3176 机场等待 表5. 计算结果"
"在分析研究排队模型时，发现其后期存在病态的单调增加，函数值已经超过正常范围，函数图像如下图7： 图7. 平均等待时间–实际到达率图像 该情况在前文得到的计算结果中也可以观察到(表6)： Table 6 实际到达率 总服务强度 稳态概率 服务强度 平均等待人数 平均等待时间 函数状况 17.325 0.825 0.002223088 5.775 170.4875804 9.840552978 1.35 0.064285714 0.637628149 0.45 6.65E−05 4.92E−05 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1.035 0.049285714 0.708220353 0.345 8.81E−06 8.51E−06 17.415 0.829285714 0.002128442 5.805 170.1374469 9.76959213 49.5 2.357142857 0.000154582 16.5 52644.22445 1063.519686 病态 32.55 1.55 0.000498558 10.85 5935.720592 182.3570074 病态 14.82 0.705714286 0.006403927 4.94 140.7933636 9.500226965 19.98 0.951428571 0.000361586 6.66 86.76123981 4.342404395 21.9 1.042857143 0.000221558 7.3 110.7620313 5.057627001 25.65 1.221428571 0.000589391 8.55 1043.403792 40.67851039 15.3 0.728571429 0.005313682 5.1 150.7568889 9.853391432 9.555 0.455 0.041116247 3.185 26.99039033 2.824739961 32.085 1.527857143 0.000511861 10.695 5431.487186 169.2843131 病态 22.68 1.08 0.000358401 7.56 237.0630033 10.45251337 表6. 计算结果函数状况 由于在现实中，排队乘客积累时，后来的乘客会根据所看到的现象进行判断，大多不会再选择排队，而会选择其他方式离开机场，这是病态产生的原因。而在本文的模型中，决定乘客积累速度的到达率恒定。随后我们观察到该问题产生的病态在最终结果中并未体现(表7)： Table 7 平均等待人数 平均等待时间 机场等待收益 函数状况 170.4875804 9.840552978 124.7731844 6.65E−05 4.92E−05 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 8.81E−06 8.51E−06 0 170.1374469 9.76959213 92.78597688 52644.22445 1063.519686 122.101628 病态 5935.720592 182.3570074 122.1388368 病态 140.7933636 9.500226965 87.63008515 86.76123981 4.342404395 121.9184769 110.7620313 5.057627001 91.32610509 1043.403792 40.67851039 119.80383 150.7568889 9.853391432 103.5182679 26.99039033 2.824739961 99.1902834 5431.487186 169.2843131 121.6677411 病态 237.0630033 10.45251337 107.9588728 表7. 最终结果函数状况 病态的等待人数、等待时间经过后面的计算后最终被映射到一个鞍点，使得我们最终得到的评估机场等待收益函数依然可以保持正确的形态，证明模型整体上具有良好的鲁棒性。  问题一的函数模型直接使用长途收益期望来表示机场的所有业务，即用从机场返回市区的公里数l直接代入公式，没有考虑到可能出现的短途情况，可能会导致结果趋于均一。在具体运算中，通过长途收益期望解出的两种选择的横坐标交点约为两小时，但通过问题二中实际数据的计算，在有一定航班的情况下，等待时间全部低于两小时，但这仅代表一种平均情况，如果考虑一定比例的短途业务，就有可能发生变化。"
"以上所述，为针对机场出租车载客决策优化的方法，考虑了要解决的问题的主体要点，排除干扰因素影响，根据要点通过生灭过程模型对乘客排队进行建模。建立的模型具有良好的鲁棒性，可以将函数部分病态值抹平，保证运算结果的正确性，较好地结合了实际情况，实用性强，可以推广使用。例如火车站、客运站等大型枢纽，提高各种资源的利用效率。实际情况中，近远途的里程数是不确定的，本文所作计算只是大致反映状态。并不能考虑到所有情况，实际应用时需要及时调节各类参数以提高准确性。"
