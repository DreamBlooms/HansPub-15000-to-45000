"指数追踪是一种用少量的成分股来追踪某一市场指数走势的方法，它是消极投资组合管理策略中的一种，近年来在我国发展迅速。本文通过三种选股方法选出三个样本股空间，并构建了基于线性回归的指数追踪模型，为了避免线性回归的系数受到极端值的影响，本文还建立了基于分位数回归的指数追踪模型。具体来说，本文选取了上证50指数为目标指数，通过给出建立指数追踪模型的约束条件，再构建两个指数追踪模型，最后分别通过最大权重选股法、最大市值选股法以及最大相关系数选股法对上证50指数的成分股进行选股，选取每种选股法的前15只股票作为样本股空间，最后通过对真实数据的拟合来对选定的成分股分配权重。 关键词 :指数追踪，线性回归，分位数回归，上证50指数 Copyright © 2019 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"投资组合管理策略分为积极投资组合管理策略和消极投资组合管理策略，其中积极投资是指投资者通过主观行为，以追求最大收益或超越市场表现而做出投资管理的策略行为，通常情况下积极投资与投资风格、进出市场时机、行业以及股票的选择等相关。消极投资是一种只期望与市场指数取得相同的收益，而不超越市场指数的投资策略。 近年来随着基金管理越来越成熟，并且大多数的基金倾向于用指数化的方式进行投资，故而指数追踪必然是大部分投资者的选择。同时，随着市场管理制度的健全，想要在低于股票本身真实价值的价格买入股票的可行性越来越小，指数追踪正是完美解决这一困境的有效途径。 对指数追踪进行研究，这对我国资本市场甚至是国际资本市场，都有重要的实际意义和理论意义。研究者研究新的追踪方法，从而使得追踪误差更小，对于投资者而言就有着更便利而且多品种的投资选择，同时获得更高的投资回报。 在国外，最早提出投资组合理论的是Markowitz (1952) [ 1 ] ，该理论包含均值–方差模型和投资组合有效边界模型；Gilli和Kellezi (2002) [ 2 ] 提出了一种关于指数追踪的门限接受算法；Koenker和Bassett (1978) [ 3 ] 最早提出了分位数回归的概念；此后，学界开始对分位数回归的理论进行了深刻的研究，如Koenker和Bassett (1978) [ 4 ] 推导出了分位数回归系数的渐进分布；而Mezali和Beasley (2013) [ 5 ] 则提出用分位数回归来构建金融追踪组合。 在国内，沈双生和郭子忠(2003) [ 8 ] 全面的介绍了指数型基金具有的优势；范旭东(2006) [ 9 ] 通过比较分层抽样中的五种选股方法发现遗传算法在DMinMax模型下的效果最好；后来，杨国梁、赵社涛和徐成贤(2009) [ 10 ] 构建了基于支持向量机(SVM)的指数追踪模型，通过与Ruiz-Torrubiano (2009) [ 7 ] 的模型进行对比，证明了基于SVM的指数追踪模型有更好的效果；Baestaens (1994) [ 6 ] 首先用人工神经网络对指数追踪问题进行研究。 本文将会在第2节先对变量进行详细介绍；在第3节给出本文相对应的约束条件；第4节介绍非线性转换；第5节给出回归模型的建立，包括线性回归的指数追踪和分位数回归的指数追踪；第6节实证分析，分别对线性回归的指数追踪模型和分位数回归的指数追踪模型进行实例分析；第7节将总结全文，提出该方法的优缺点。"
"我们需要观察N只股票在时间 0 , 1 , ⋯ , T 的价格，以及所追踪的市场指数在相同时间段的表现。本文将从这N只股票中选出K (K < N)只股票构建一个投资组合来追踪所选择的市场指数。该投资组合的建立包括K只股票的选择，每只股票的购买数量或投资比例。 一般构建指数追踪模型涉及的变量： ε i ，指数追踪组合中第i只股票的最小投资比例； δ i ，指数追踪组合中第i只股票的最大投资比例； X i ，当前追踪组合中第i只股票的持有数量，若新建追踪组合，则 X i = 0 ； V i t ，第i只股票在t时刻的价格； I t ，所追踪的市场指数在t时刻的价格； r i t ，所构建的追踪组合在t时刻的收益率，本文中 r i t = ln V i t V i , t − 1 ； R t ，所追踪的市场指数在t时刻的收益率，本文中 R t = ln I t I t − 1 ； C，构建指数追踪的总资本，总资本等于指数追踪的总价格和交易费之和； f i s ，卖出第i只股票所需要缴纳的经手费和证管费的比率； f i b ，买入第i只股票所需要缴纳的经手费和证管费的比率； h i s ，卖出第i只股票所需要缴纳的过户费的比率； h i b ，买入第i只股票所需要缴纳的过户费的比率； M i s ，在t时刻第i只股票能够卖出的最大数量； M i b ，在t时刻第i只股票能够买入的最大数量； γ ，总交易费用在总资本中的最大占比，且 0 < γ < 1 ； 决策变量： x i ，新的指数追踪组合中第i只股票的持有数量； ，是一个0~1变量， z i = 1 表示在新的指数追踪中有第i只股票， z i = 0 表示在新的指数追踪中没有第i只股票； a i s ，是一个0~1变量， α i s = 1 表示卖出第i只股票， α i s = 0 表示没卖出第i只股票； a i b ，是一个0~1变量， 表示买入第i只股票， α i s = 0 表示没买入第i只股票； ，表示第i只股票的卖出数量， y i s ≥ 0 ； p i b ，表示第i只股票的买入数量， y i b ≥ 0 ； 为了更好的构建追踪组合，我们先做如下的假设条件： 1) 交易有成本。 2) 股票不能够卖空，即 x i ≥ 0 。 3) 由于中国股市的股票是以一手(100股)为单位买卖的，因此 x i 是以百为单位的一个数。"
"现在来考虑一下问题的约束条件，主要有： ∑ i = 1 N z i = K (3.1) ε i z i ≤ x i V i t C ≤ δ i z i ,       i = 1 , ⋯ , N (3.2) x i = X i + y i b − y i s ,       i = 1 , ⋯ , N (3.3) a i s + a i b ≤ 1 ,       i = 1 , ⋯ , N (3.4) p i s ≤ min [ M i s , x i ] a i s ,       i = 1 , ⋯ , N (3.5) p i b ≤ M i b a i b ,       i = 1 , ⋯ , N (3.6) h i s = ⌈ y i s 1000 ⌉ ∗ 1 ,       i = 1 , ⋯ , N (3.7) h i b = ⌈ y i b 1000 ⌉ ∗ 1 ,       i = 1 , ⋯ , N (3.8) ∑ i = 1 N V i T x i = C − ∑ i = 1 N ( f i s V i T p i s + f i b V i T p i b + h i s + h i b ) (3.9) ∑ i = 1 N ( f i s V i T p i s + f i b V i T p i b + h i s a i s + h i b a i b ) ≤ γ C (3.10) p i s , p i b , x i ≥ 0 ,       i = 1 , ⋯ , N (3.11) a i s , a i b , z i ∈ [ 0 , 1 ] ,       i = 1 , ⋯ , N (3.12) (3.1)式是确保在新的指数追踪组合中只有K只股票；(3.2)式是确保如果第i只股票在新的追踪组合中(即 z i = 1 )，那么它的持有量满足一个上下限，如果第i只股票不在新的追踪组合中(即 z i = 0 )，那么它的持有量为0；(3.3)式表示经过重新调整之后第i只股票在新的追踪组合中的持有量；(3.4)式是确保在重新调整组合的过程中，第i只股票不会同时发生买入和卖出；(3.5)式是确保第i只股票的卖出量不超过 M i s 和 x i 的最小值，如果没有卖出，那么 p i s 为0；(3.6)式确保第i只股票的买入量不超过 M i b ，如果没有买入，那么 p i b 为0；(3.7)式和(3.8)式则分别定义了第i只股票卖出和买入时所需要缴纳的过户费，由于上海证券中以6为首位数的股票都需要缴纳过户费，且每一千股缴1元，不足一千股按一千股计算；(3.9)式是一个平衡约束，即新的追踪组合的总价值等于总投资金额(当前追踪组合在T时刻的总价值加上现金变化，即C)减去总的交易费用；(3.10)式是对总交易费用设定一个适当的界限；(3.11)式定义连续变量 y i s , y i b , x i 非负，(3.12)式定义 a i s , a i b , z i 为0~1变量。 通常我们允许根据投资者的偏好来塑造指数追踪组合，包含的约束有： ① 公式(3.1)中K关系到追踪组合中股票种类数量； ② 公式(3.2)中 ε i 和 δ i 关系到第i只股票的最小和最大投资比例； ③ 公式(3.5)和公式(3.6)中 M i s 和 M i b 关系到第i只股票能够卖出和买入的最大数量； ④ 公式(3.10)中 γ 关系到总交易费用在总投资额中的最大占比。"
"新的追踪组合在t时刻时的总收益率为 ln ∑ i = 1 N x i V i t ∑ i = 1 N x i V i , t − 1 ，很显然，这是一个关于决策变量 x i 的非线性 函数。为了线性化总收益率，我们借鉴了Beasley和Canakgoz (2008)的方法，假设它可以表示成单只股票收益的线性加权和，每只股票的权重表示了这只股票在追踪组合中所占的比例，且所有权重的总和为 1。假设所构建的追踪组合中的第i只股票在t时刻的所占权重为 W i t ，其中 ，且 ∑ i = 1 N W i t = 1 , i = 1 , ⋯ , N ，那么追踪组合在t时刻的总收益为 ∑ i = 1 N W i t r i t 。 通过 W i t 的表达式可以知道它仍是一个包含决策变量 x i 的非线性表达式，对 W i t 进行一个恒定的变换，使得 W i t 不依赖于时间t，假设 W i t 进行变换后为 w i ，那么 w i = x i V i T ∑ j = 1 N x j V j T 表示在T时刻第i只股票的所占比重。经过这个变换后，追踪组合在t时刻的总收益为 ∑ i = 1 N w i r i t 。但是 w i 还是一个非线性表达式，我们 通过公式(3.9)对它进行替换： w i = x i V i T ∑ j = 1 N x j V j T = x i V i T C − ∑ i = 1 N ( f i s V i T p i s + f i b V i T p i b + h i s + h i b ) (4.1) 又由公式(3.10)知道 ∑ i = 1 N ( f i s V i T p i s + f i b V i T p i b + h i s + h i b ) 的上界是 γ C ，因此我们可以对公式(3.13)继续进 行替换： w i = x i V i T C − ∑ i = 1 N ( f i s V i T p i s + f i b V i T p i b + h i s + h i b ) ≤ x i V i T C − γ C (4.2) 为了得到线性表达式，可以近似的估计 w i 的值，即： w i = x i V i T C − γ C ,       i = 1 , ⋯ , N (4.3) 通过近似估计之后追踪组合的收益可以近似表达为 ∑ i = 1 N w i r i t , t = 1 , ⋯ , T 。"
"根据一元回归方程我们可以建立第i只股票的收益率与市场指数收益率的关系式： r i t = α i + β i R t + ε i 其中 i = 1 , 2 , ⋯ , K 。从经济学上看 表示市场指数以外的部分对第i只股票收益的影响， β i 表示市场指数对第i只股票收益的影响。根据公式(4.3)可知在所构建的追踪组合中的每只股票所占权重分别为 w 1 , w 2 , ⋯ , w N ，那么追踪组合在t时刻的总收益 y t 为： y t = w 1 r 1 t + w 2 r 2 t + ⋯ + w N r N t = ∑ i = 1 N w i α i + ∑ i = 1 N w i β i R t (5.1) 令 ∑ i = 1 N w i α i = α ， ∑ i = 1 N w i β i = β ，那么公式(5.1)可以简写成 y t = α + β R t (5.2) 根据指数追踪的性质，我们希望公式(5.2)中的 α = 0 ， β = 1 ，这样就能完全复制所追踪的市场指数。 通过最小二乘法可以得到 α i 和 β i 的估计值为 α ^ i 和 β ^ i ，那么 α 和 β 的估计值为 α ^ 和 β ^ ，且 ∑ i = 1 N w i α ^ i = α ^ ， ∑ i = 1 N w i β ^ i = β ^ 。现在目标是使得 α ^ = 0 ， β ^ = 1 ，下面我们将介绍一种方法来尽可能达到 这个目标。我们将求解如下问题： min w λ 1 | α ^ − 0 | + λ 2 | β ^ − 1 | (5.3) 其中w满足的约束条件为公式(3.1)~(3.12)和(4.3)，并且 λ 1 , λ 2 ≥ 0 ， λ 1 + λ 2 = 1 。 λ 1 和 λ 2 是由投资者自己决定的，如果投资者偏向于获得不受追踪指数影响的收益的话，可以给 赋予更大的值；如果投资者偏向于更好的复制追踪指数的收益，可以给 λ 2 赋予更大的值。   在线性回归中我们是通过最小二乘法解决优化问题从而估计系数 α 和 β 。在分位数回归中可以模仿线性回归构建一个优化问题： min α q , β q ∑ i = 1 n ( q − I Y i ≤ α q + β q X i ) ( Y i − ( α q + β q X i ) ) (5.4) 其中 I Y i ≤ α q + β q X i = { 1       如 果 Y i ≤ α q + β q X i 0                       其 他 定义残差 u i = Y i − ( α q + β q X i ) ，那么 ( q − I Y i ≤ α q + β q X i ) ( Y i − ( α q + β q X i ) ) = ( q − I Y i ≤ α q + β q X i ) u i = { ( q − 1 ) u i         如 果 Y i ≤ α q + β q X i q u i                                       其 他 分位数回归模型(5.4)的系数 α q 和 β q 的值由以下得出： min α q , β q q ( ∑ i = 1 , u i ≥ 0 n | u i | ) + ( 1 − q ) ( ∑ i = 1 , u i < 0 n | u i | ) (5.5) 公式(5.5)中第一个式子是指正的残差之和(即 Y i 在回归线之上)，第二个式子是指负的残差之和(即 Y i 在回归线之下)。这里正的残差得到的权重为q，负的残差得到的权重为1 − q，随着q的增大将有更少的正残差，那么对它赋予更大的权重，随着q的减少则会有更多的正残差，那么就对它赋予更小的权重。 而公式(5.5)是非线性的模型，需要将其转化为线性的模型才可以求解。，模仿3.2.2中使用的方法，引入变量 u i + 和 ,分别代表正、负残差的绝对值，然后公式(5.5)可以转化为： min α q , β q q ( ∑ i = 1 n u i + ) + ( 1 − q ) ( ∑ i = 1 n u i − ) (5.6) s . t .     u i + ≥ Y i − ( α q + β q X i ) ,     i = 1 , ⋯ , n (5.7) u i − ≥ − [ Y i − ( α q + β q X i ) ] ,     i = 1 , ⋯ , n (5.8) u i + , u i − ≥ 0 (5.9) 这就是一个线性规划问题，从而很容易解决并得到 α q 和 β q 的值。  模仿5.1中用线性模型构建第i只股票的收益率与市场指数收益率的分位数回归关系式： r i t = α i q + β i q R t + ε i 追踪组合在t时刻的总收益 y t 为： y t = w 1 r 1 t + w 2 r 2 t + ⋯ + w N r N t = ∑ i = 1 N w i α i q + ∑ i = 1 N w i β i q R t (5.10) 令 ∑ i = 1 N w i α i q = α q ， ∑ i = 1 N w i β i q = β q ，那么公式(5.10)可以简写成 y t = α q + β q R t (5.11) 根据指数追踪的性质，我们希望公式(5.11)中的 α q = 0 ， β q = 1 ，这样就能完全复制所追踪的市场指数。 通过5.2.1可以得到 和 β i q 的估计值为 α ^ i q 和 β ^ i q ，那么 α q 和 β q 的估计值为 α ^ q 和 β ^ q ，且 ∑ i = 1 N w i α ^ i q = α ^ q ， ∑ i = 1 N w i β ^ i q = β ^ q 。与5.1相同，目标是使得 α ^ q = 0 ， ，使用的方法也与5.1类似： 本文的目标是 α ^ q = 0 ， β ^ q = 1 ，那么目标函数如下： min w λ 1 | α ^ q − 0 | + λ 2 | β ^ q − 1 | (5.12) s.t. 公式(3.1)~(3.12)，(4.3)"
"我们分别考虑① λ 1 = 1 和 λ 2 = 0 ，② λ 1 = 0 和 λ 2 = 1 ，③ λ 1 = 0.5 和 λ 2 = 0.5 这三种情况。第①种情况指投资者十分看重风险，只想获得基础的收益；第②情况指投资者不考虑投资风险，只想得到跟目标指数相同的收益；第③种情况则是投资者对风险和收益同样看重。我们将会在每种情况下分别对K = 5，10，15进行分析。 1) λ 1 = 1 和 λ 2 = 0 ，我们得到如表1的结果。 Table 1 K TE MINTD MAXTD TTD 最大权重选股法 5 0.00780711 −0.01406375 0.03783026 0.05189401 10 0.00437987 −0.01039402 0.01508337 0.02547740 15 0.00314657 −0.00626647 0.01773076 0.02399723 最大市值选股法 5 0.00556586 −0.01925019 0.02352433 0.04277452 10 0.00479479 −0.01686538 0.02092448 0.03778986 15 0.00450067 −0.01610522 0.01527108 0.03137629 最大相关系数选股法 5 0.00293484 −0.00828190 0.00735896 0.01564085 10 0.00518272 −0.01633555 0.01848220 0.03481775 15 0.00654416 −0.01795243 0.02240873 0.04036116 表1. 训练集中不同选股的跟踪误差表(1) 从表1中可以知道，最大权重选股法和最大市值选股法的追踪误差、最大偏差和最小偏差之间的差距都是随着K值的增加而减小的，且最大权重选股法的追踪误差比最大市值选股法的追踪误差减小的跨度更大，最大相关系数选股法得到的追踪误差、最大偏差和最小偏差之间的差距则都是随着K值的增加而变大。随着K值的增加，最大权重选股法所选的股票在上证50所占的权重越来越大，因此能够更好的拟合上证50。最大市值选股法跟最大权重选股法类似，因为上证50成分股的选取方法需要参考市值，且市值越大的越有可能所得到的权重越大，所以能够越来越好的拟合上证50。而最大相关系数选股法这是根据股票与上证50的走势相关程度选取的股票，也就是说所选出来的股票本身就跟上证50的走势非常相似，而 λ 1 = 1 , λ 2 = 0 则只要求追踪组合注重收益，不注重走势，会出现随着K值的增加而变大的原因可能是前5只股票已经能够很好的拟合上证50，限于对单只股票的最小权重为0.01的约束，反而分散了之前的效果。 下面我们来看看在不同的选股方法下得到的 α 和 β 值，如表2所示： Table 2  K α β 最大权重选股法 5 −1.83E−04 0.99296833 10 1.52E−14 0.93530902 15 −4.33E−13 0.80895191 最大市值选股法 5 −1.86E−13 1.05356978 10 −2.65E−14 0.96367029 15 −3.79E−13 0.90263570 最大相关系数选股法 5 −1.90E−14 0.88954092 10 −4.08E−13 0.79603920 15 −3.25E−14 0.71179569 表2. 训练集中不同选股的系数值表(1) 从表2中可以看出，三种方法的 β 值都会随着K值的增大而减小，且并不非常接近于1，而 α 值的变化与K值的关系不明显，但大部分的 α 值都达到了10 −13 级别，几乎可以认为为零了。现在来分析一下出现这种情况的原因，由于第①种情况就是完全只考虑 min | α − 0 | ，并且对 min | β − 1 | 完全不考虑，也就相当于只考虑 α = 0 ，不考虑 β = 1 ，这就导致出现了之前说的现象。 为了更直观的知道追踪组合在训练集与上证50收益的对比，同时结合表1和表2，我们分别给出在K = 15时的最大权重选股法和K = 5时的最大相关系数选股法在训练集中得到的追踪组合和上证50收益的对比图。 图1. 第①情况下最大权重选股法 图2. 第①情况下最大相关系数选股法 从图1、图2中我们可以看出这两种方法在所对应的K值下都可以很好的追踪上证50的收益。我们给出在这两种情况下追踪组合的表达式。 a) 最大权重选股法在K = 15时的追踪组合为： (6.1) 现在用该组合在测试集上进行测试，并与上证50进行比较，结果如图3所示： 图3. 第①情况下最大权重选股法预测图 此时的追踪误差(TE)为0.003067114107119，最大误差(MAXTD)为0.013027713614942，最小误差(MINTD)为−0.005054363525322，TTD的差距为0.018082077140264。从图3中看出，所构建的追踪组合对上证50的拟合效果很好。 b) 最大相关系数选股法在K = 5时的追踪组合为： y t = 0.19268375 ∗ 招 商 证 券 + 0.21163009 ∗ 中 国 平 安 + 0.16943079 ∗ 华 夏 银 行     + 0.20324995 ∗ 中 国 建 设 + 0.22300542 ∗ 工 商 银 行 (6.2) 将模型运用在测试集上，求出结果，并与上证50进行对比，结果如图4所示： 图4. 第①情况下最大系数选股法预测图 有TE = 0.002436240507776，MAXTD = 0.004084423670680，MINTD = −0.006281093979794，TTD = 0.010365517650473，所以追踪效果比较理想。对比最大权重选股法所得到的各值，可以发现在第①情况下我们使用最大系数法得到的追踪组合(6.2)的追踪效果更好。 2) λ 1 = 0.5 和 λ 2 = 0.5 。与第①情况的解答过程相似，得到不同选股方法在训练集中的结果，具体如表3： Table 3 K TE MINTD MAXTD TTD 最大权重选股法 5 0.00771768 −0.01363604 0.02864417 0.04228021 10 0.00553070 −0.01088305 0.02299540 0.03387845 15 0.00548098 −0.01086067 0.02174927 0.03260994 最大市值选股法 5 0.00490047 −0.01724971 0.01977285 0.03702255 10 0.00534804 −0.01815251 0.02378444 0.04193696 15 0.00583722 −0.01843911 0.02298435 0.04142345 最大相关系数选股法 5 0.00397358 −0.00762612 0.01748475 0.02511087 10 0.00364280 −0.00865190 0.01731564 0.02596754 15 0.00386472 −0.00857005 0.01705887 0.02562891 表3. 训练集中不同选股的跟踪误差表(2) 从表3中可以看出，最大权重选股法的追踪误差、最大误差和最小误差之间的差距是随着K值的增加而减小的；最大市值选股法的追踪误差是随着K值的增加而变大，最大误差与最小误差之间的差距变化趋势不明显；最大相关系数选股法的追踪误差，最大误差和最小误差之间的差距的变化趋势均不明显，其中K = 10的追踪误差最小。但是总体上来看的话最大相关系数选股法是最好的，其次是最大市值选股法，最大权重选股法则最不好。接下来我们来看看不同选股方法下得到的 α 和 值，如表4所示： Table 4  K β 最大权重选股法 5 −7.11E−04 0.9999999977 10 −5.59E−04 0.9999999963 15 −5.31E−04 0.9999999993 最大市值选股法 5 1.70E−04 0.9999999937 10 −8.00E−05 0.9999999999 15 −2.22E−04 0.9999999931 最大相关系数选股法 5 −6.37E−05 0.9999999934 10 −1.04E−04 0.9999999980 15 −1.80E−04 0.9999999999 表4. 训练集中不同选股的系数值表(2) 从表4中可以看出，三种方法的 α 值都是在10 −4 ~10 −5 级别，而 β 值都十分接近于1了，这是因为第②种情况是同样重视 min | α − 0 | 和 min | β − 1 | 的，即同等考虑 α = 0 和 β = 1 。且 α 值的变化只有最大权重法是随着K值的增加而变小，其他两种方法变化趋势不明显；而 β 值只有最大相关系数法是随着K值的增加而增加的，其他两种方法也不明显。 综合表3和表4，我们选取最大市值选股法在K = 10时与最大相关系数法在K = 15时的追踪组合，并分别做出它们在训练集与上证50收益的对比图。 图5. 第②情况下最大市值选 图6. 第②情况下最大相关系数选股法 从图5和图6中可以看出追踪组合可以很好的追踪上证50的走势，虽然某些时候收益不如上证50，但是趋势基本相同。下面我们给出这两种选股方法在对应的K值下追踪组合的表达式。 a) 最大市值选股法在K = 10时的追踪组合为： (6.3) 用该追踪组合在测试集上进行测试并与上证50进行比较，结果如图7所示： 图7. 第②情况下最大市值选股法预测图 有TE = 0.002654323796411，MAXTD = 0.006012923913141，MINTD = -0.007081818650823，TTD = 0.013094742563964，预测的效果还是不错的。 b) 最大相关系数选股法在K = 15时的追踪组合为： y t = 0.02787847 ∗ 招 商 证 券 + 0.05836566 ∗ 中 国 平 安 + 0.05093911 ∗ 华 夏 银 行     + 0.03419192 ∗ 中 国 建 设 + 0.44478759 ∗ 工 商 银 行 + 0.02772875 ∗ 中 信 证 券     + 0.02798614 ∗ 方 正 证 券 + 0.02621516 ∗ 国 金 证 券 + 0.08790818 ∗ 兴 业 银 行     + 0.06640021 ∗ 光 大 银 行 + 0.02996609 ∗ 中 国 人 寿 + 0.03408309 ∗ 中 国 太 保     + 0.02776262 ∗ 海 螺 水 泥 + 0.02672472 ∗ 华 泰 证 券 + 0.02906230 ∗ 国 泰 君 安 (6.4) 将该追踪组合的模型在测试集上进行测试并与上证50进行比较，如图8所示： 图8. 第②情况下最大相关系数选股法预测图 且有TE = 0.002719254704326，MAXTD = 0.006396698582851，MINTD = −0.007275034013586，TTD = 0.013671732596436，与最大市值法的预测结果相对比略有不足。 3) λ 1 = 0 和 λ 2 = 1 通过不同的选股方法，得到了如表5的追踪误差表： Table 5 K TE MINTD MAXTD TTD 最大权重选股法 5 0.00773147 −0.01372090 0.02856605 0.04228695 10 0.00564651 −0.01088297 0.02317750 0.03406047 15 0.00553598 −0.01088118 0.02199408 0.03287526 最大市值选股法 5 0.00489974 −0.01725042 0.01977915 0.03702958 10 0.00554149 −0.01805036 0.02410933 0.04215970 15 0.00593996 −0.01837904 0.02304957 0.04142861 最大相关系数选股法 5 0.00397381 −0.00762100 0.01752080 0.02514181 10 0.00363960 −0.00839328 0.01742451 0.02581780 15 0.00386855 −0.00843413 0.01709347 0.02552760 表5. 训练集中不同选股的跟踪误差表(3) 表5告诉了我们最大权重选股法的追踪误差、最大误差和最小误差直接的差距随着K值的增加而减小；最大市值选股法和最大相关系数选股法的这两个值变化与K值的关系不明确，其中最大市值法在K = 5时各值都为最小，而最大相关系数法在K = 10时追踪误差最小。但是总体上来看的话，最大相关系数选股法是优于其余两种选股法的。下面来讨论一下各方法得到的 α 和 β 值，如表6所示。 Table 6  K α β 最大权重选股法 5 −7.15E−04 0.999999993 10 −6.29E−04 0.999999993 15 −5.64E−04 0.999999998 最大市值选股法 5 1.71E−04 0.999999988 10 −2.36E−04 0.999999991 15 −3.06E−04 0.999999996 最大相关系数选股法 5 −6.46E−05 0.999999999 10 −1.25E−04 0.999999999 15 −1.89E−04 0.999999995 表6. 训练集中不同选股的系数值表(3) 从表6可以看出，所有的 β 值都是非常接近于1，而 α 都是在10 −4 ~10 −5 级别上的，这显然是因为第③情况导致的。第③情况是只重视 min | β − 1 | ，而不关心 min | α − 0 | ，所以会出现如此情况。但是和表4对比，两者差距并不大。也就是说，只要对 min | β − 1 | 的重视程度达到了一半以上，那么模型的 β 值都会非常接近1。因此我们选择最大市值选股法在K = 10时与最大相关系数法在K = 10时构建追踪组合，此刻省略它们在训练集上与上证50的对比图。下面分别给出它们所构建的追踪组合的具体表达式。 a) 最大市值选股法在K = 10时的追踪组合为： y t = 0.14196729 ∗ 工 商 银 行 + 0.08567349 ∗ 中 国 石 油 + 0.11568688 ∗ 中 国 银 行     + 0.13745083 ∗ 农 业 银 行 + 0.06920198 ∗ 中 国 人 寿 + 0.08546269 ∗ 中 国 石 化     + 0.09877374 ∗ 中 国 平 安 + 0.09337528 ∗ 招 商 银 行 + 0.10378138 ∗ 交 通 银 行     + 0.06862643 ∗ 贵 州 茅 台 (6.5) 用该组合在测试集上进行预测，将得到的结果与上证50进行比较，如图9所示。 有TE = 0.002659695694857，MINTD = −0.007891735554979，MAXTD = 0.006239609992775，TTD = 0.014131345547754，预测的追踪效果接近第②情况下最大市值选股法预测效果，也是较好的。 b) 最大相关系数选股法在K = 10时的追踪组合为： y t = 0.04495734 ∗ 招 商 证 券 + 0.09541614 ∗ 中 国 平 安 + 0.08110983 ∗ 华 夏 银 行     + 0.05660110 ∗ 中 国 建 设 + 0.34684853 ∗ 工 商 银 行 + 0.04540740 ∗ 中 信 证 券     + 0.04516149 ∗ 方 正 证 券 + 0.04243384 ∗ 国 金 证 券 + 0.14232487 ∗ 兴 业 银 行     + 0.09973946 ∗ 光 大 银 行 将该追踪组合的模型在测试集上进行测试并与上证50进行比较，如图10所示。 且TE = 0.002416360442177，MAXTD = 0.005831475971354，MINTD = −0.006883036973713，TTD = 0.012714512945067，略好于最大市值法。 图9. 第③情况下最大市值选股法预测图 图10. 第③情况下最大相关系数选股法预测图  为了让读者更清晰的感受到不同的q值对模型拟合的影响，本文选取了分位数 q = 0.2 , 0.5 , 0.8 三个值，并将模型在训练集中的拟合结果根据选股法的不同而分别放在一起。 从表7~9可以看出，三种选股方法在相同的股票组合时，在q，K不变时，而 λ 1 和 λ 2 变化，此时各拟合结果的变化情况较小；在K、 λ 1 和 λ 2 保持不变时，q增大，TE和TTD的变化不明显，但是 α 和 β 的值变化还是比较明显的；当然，当q、 λ 1 和 λ 2 不变时，只有K变化时，各拟合结果的变化也较大。 基于分位数回归的指数追踪模型的拟合效果是不如基于线性回归的指数追踪的拟合效果的，甚至可以说差距挺大。最大权重选股法和最大市值选股法的训练集内的追踪误差大致在0.01~0.016之间，TTD更是高达0.08，同时 α 的值大多数都在10 −1 级别，远不如4.3节的10 −4 ~10 −5 级别。因此，本节不给出在测试集中的拟合结果。 Table 7 λ 1 ， λ 2 ，q K的取值 α β 最大权重选股法 1，0,0.2 5 1.32578E−09 0.997916111 10 −0.0493879141 1.047250169 15 −0.1574067376 1.155241607 0.5，0.5，0.2 5 −0.0020825678 0.999999986 10 −0.0493879145 1.04725017 15 −0.1574067384 1.155241608 0，1，0.2 5 −0.0020835362 0.999999992 10 −0.0493880618 1.047250317 15 −0.1574068425 1.155241712 1，0，0.5 5 4.8038E−09 1.000266604 10 −0.0238495996 1.024135144 15 −0.1266058298 1.126865413 0.5，0.5，0.5 5 1.33655E−08 1.000266466 10 −0.0238496001 1.024135144 15 −0.1266058296 1.126865413 0，1，0.5 5 0.0002666993 0.999999994 10 −0.0238495856 1.02413513 15 −0.1266005911 1.126860176 1，0，0.8 5 2.77951E−09 1.002522507 10 1.52834E−09 1.002577145 15 −0.0780765879 1.080673506 0.5，0.5，0.8 5 2.38606E−09 1.002521921 10 1.2001E−08 1.002577104 15 −0.0780765879 1.080673506 0，1，0.8 5 0.0025231232 0.999999993 10 0.0025776699 0.999999992 15 −0.0780766759 1.080673594 表7. 训练集中最大权重选股法的拟合结果 Table 8 λ 1 ， λ 2 ，q K的取值 α β 最大市值选股法 1，0，0.2 5 −2.0593439535 3.055988364 10 −0.0981739446 1.095987303 15 −0.1781723828 1.175936141 0.5，0.5，0.2 5 −2.0593439534 3.055988364 10 −0.0981739446 1.095987303 15 −0.1781723841 1.175936143 最大市值选股法 0，1，0.2 5 −2.0593439538 3.055988364 10 −0.0981739447 1.095987303 15 −0.1781724835 1.175936242 1，0，0.5 5 −1.9638144477 2.963855646 10 −0.0747304837 1.074998948 15 −0.1571322358 1.157368909 0.5，0.5，0.5 5 −1.9638144468 2.963855646 10 −0.0747338397 1.075002303 15 −0.1571323127 1.157368986 0，1，0.5 5 −1.9638147698 2.963855968 10 −0.0747338401 1.075002303 15 −0.1571323135 1.157368987 1，0，0.8 5 −1.5898791992 2.592302569 10 −0.0268382774 1.029396884 15 −0.1124381460 1.114995013 0.5，0.5，0.8 5 −1.9638144468 2.963855646 10 −0.0268382774 1.029396884 15 −0.1124381465 1.114995014 0，1，0.8 5 −1.9638147698 2.963855968 10 −0.0747338401 1.075002303 15 −0.1571323135 1.157368987 表8. 训练集中最大市值选股法的拟合结果 Table 9 λ 1 ， λ 2 ，q K的取值 α β 最大相关系数选股法 1，0，0.2 5 −0.8684075516 1.866827228 10 −0.9648677602 1.96306862 15 −1.0543569470 2.052480171 0.5，0.5，0.2 5 −0.8684089915 1.866828666 10 −0.9648677578 1.963068618 15 −1.0543569488 2.052480173 0，1，0.2 5 −0.8684089920 1.866828667 10 −0.9648677555 1.963068615 15 −1.0543569508 2.052480175 1，0，0.5 5 −1.0073057835 2.007383577 10 −0.9504963885 1.950492607 15 −1.0448375084 2.044825207 0.5，0.5，0.5 5 −1.0073072130 2.007385007 10 −0.9504963886 1.950492608 15 −1.0448375085 2.044825207 最大相关系数选股法 0，1，0.5 5 −1.0073072131 2.007385007 10 −0.9504963886 1.950492608 15 −1.0448375086 2.044825207 1，0，0.8 5 −0.8368234654 1.837963817 10 −0.9825242094 1.983748709 15 −1.0788469296 2.080165672 0.5，0.5，0.8 5 −0.8368294026 1.837969758 10 −0.9825242077 1.983748707 15 −1.0788469265 2.080165669 0，1，0.8 5 −0.8368294024 1.837969758 10 −0.9825242060 1.983748705 15 −1.0788469234 2.080165666 表9. 训练集中最大相关系数选股法的拟合结果"
"本文主要是通过最大权重选股法、最大市值选股法和最大相关系数选股法来选出构建追踪组合的样本股，并且分别构建了基于线性回归和分位数回归的指数追踪模型。基于所构建的指数追踪模型通过选取不同的K值来对上证50指数进行了实证分析，得到了基于线性回归的指数追踪的效果比基于分位数回归的指数追踪的效果好这一结论，同时发现在不同的选股方法下，K值的增大对指数追踪的影响并不相同。 本文考虑了不同的选股方法对同一模型的影响，也考虑了同一种选股方法在不同的模型下结果的差距，更考虑了在同一选股法、同一模型下K值不同的影响，并对这些情况都进行了详细分析。在同一模型下，通过最大相关系数选股法得到的追踪组合的追踪效果整体上最好；在同一选股法下，基于线性回归的指数追踪模型的效果较好；在同一选股法、同一模型下，K值的变化对模型结果的影响并不相同，有的是随着K值的变大而效果更好，有的则相反。 在第6节中基于分位数回归的追踪模型的效果并不十分理想，这可能是由下面几个原因造成的：1) 2016年上半年的数据本身就线性性质明显，并没有太多极端值；2) 选股方法的局限；3) 计算分位数回归系数的程序迭代次数不够。 在未来，可以从以下几方面进行改进：1) 通过机器学习的方法进行选股，并且与前文的结果进行对比；2) 对于分位数系数估计的程序增加迭代次数。"
