"随着低空摄影测量技术的发展，如何利用该技术快速准确地测算出土方量成为了研究的热点。针对该技术在土方量测算过程中经常受到植被、建筑物等非地面点的影响，本文提出通过运用点云分类与编辑来剔除非地面点与噪点的方法。首先，利用飞控参数辅助地面控制点信息解密出测区点云坐标，进行点云分类，再分别对建筑物、植被等非地面点进行编辑，最后通过格网模型计算出土石方量。实验结果表明该方法能够满足土石方工程的精度要求，实现了低空摄影技术在土方工程方面的灵活运用。 关键词 :低空摄影测量，土方量，飞控参数，点云分类 Copyright © 2018 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"随着国家经济的快速发展，对新技术的需求逐渐增大。土方工程作为工程建设的重要环节，能否快速准确地计算土石方量关系到工程的预算与决策问题。野外实测方法对其测量成本高、效率低、危险系数大；载人航空摄影测量生产周期长、成本高、受天气条件影响大；低空摄影测量技术利用新的搭载平台能够实时高效地获得地面的空间信息 [ 1 ] [ 2 ] 并计算土石方量，因此探索其可行性对工程建设有着重要的意义。载人动力三角翼和飞艇载荷量大、稳定性强，王海龙 [ 3 ] 运用载人动力三角翼获取低空影像并计算出土方量，但平台的机动性差且危险系数高。近年来，无人机的稳定性与载荷量不断增大，多镜头航摄仪很好的克服了精度问题。随后，赵云景等 [ 4 ] 通过运用PhotoScan Pro软件处理无人机数据，结合体积量算功能快速估算出滑坡体体积，由于航测影像无法透过植被采集到地面点信息，对滑坡体的估算会产生较大偏差。为此，如何剔除植被、建筑等非地面点并获得相应地区的DEM成为了测算土方量的关键，本文通过点云分类与剔除、空间插值等技术获取测区DTM，进而计算出土石方量，其生产流程如图1所示。"
"航测区域位于重庆市南岸区，区域内环境复杂，有植被、车辆等地物元素，根据测区的大小、形状、地形特征等因素确定航高、航向与影像重叠度，航测路线如图2所示，为了减少植被对生成DTM的影响，控制其航高且航向重叠度与旁向重叠度分别在60%、30%以上 [ 5 ] ，航空摄影规范要求航线弯曲度不大于3%，同一航线上相邻像片的航高差不大于30 m；最大航高和最小航高之差不大于50 m。 本项目采用复合翼垂直起降无人机平台，搭载Sony RX100M4非量测相机在航测区域共获取61张影像，影像质量评价如表1所示，航向与旁向重叠度均在60%左右，航线弯曲度为0.52%，相邻最大航高差为1 cm，整体航高差均在85 cm以内，说明影像质量较好，均可用于测区三维重建，无需补飞。 图1. 低空摄影测量计算土方量技术流程图 图2. 航摄规划与航线设计 Table 1 重叠度 航线弯曲度 飞行航高差 航向>60% 旁向>30% ≤3% H max − H min (50 m) H 1 − H 2 (30 m) 62%~74% 59%~74% 0.52% 0.85 m 0.01 m 表1. 影像质量评价表 对于控制点的布设，应根据野外实际情况，尽量立体、均匀分布，加强对测区边沿区域进行布设 [ 6 ] ，本文共布设了8个控制点均匀分布于测区内。  在航摄影像获取的过程中，由于受地形起伏、大气散射、空气冷热不均等因素的影响，航片之间、航带之间可能存在颜色、明暗程度的差异，为了保证后续处理的质量，首先对影像进行预处理。运用图像处理软件Photoshop对影像进行裁边、匀光匀色处理。此外，无人机搭载的非量测相机会造成影像畸变 [ 7 ] ，建模前需要利用正确的相机检校文件对原始影像进行畸变差改正 [ 8 ] 。 通过软件Photoshop对影像进行预处理后，将相机参数、影像数据和POS数据导入PhotoScan软件，软件自动量测出整个测区内的同名点，并对同名点进行平差计算和粗差剔除，利用获取的高精度POS数据，结合特征点匹配算法完成相对定向，并剔除残差较大的点。根据少量的控制点，利用GPS/IMU辅助空三平差，完成空三解密，生成测区的三维模型如图3所示，模型表面整体光滑连续，地面、车辆模型形态良好，只有植被有少量的孔洞产生，由于土方量测算需要剔除植被等要素，因此这些孔洞对计算土方量的准确度影响不大。  根据点云颜色采样出各地物的训练样本进而对其监督分类，提取出地面点与非地面点(植被、车辆、噪点等)，为了提高分类的可靠性，增加其地物类别采样的数量。对于颜色多样的车辆而言，采样幅度较大，存在较高的误分类，分类结果如图4所示，基于该地物形状规则的特点对其分类后的结果进行人工 图3. 航测区SfM三维重建 图4. 航测区点云分类 修改，将车辆轮廓以内其他类别点云的地物属性修改为车辆，尤其是要将误分为地面点的非地面点云分类出来。 分类后，对点云分类的结果进行评价，从整体上分析，通过提取点云纹理特征与地物的几何特征比较分析，根据线的曲直程度评价分类的结果；在局部方面评价，采集一片区域，如图5所示，该区域内具有所有点云种类(植被、地面、草丛、车辆)，比较真值，统计得点云分类的混淆矩阵如表2所示，近地面草丛易被误分为地面，因此召回率仅有53.68%，但对土方量的测算影响不大，总体准确率为93.72%,说明分类效果良好。 根据点云分类的结果对点云进行编辑，修正落在植被、车辆等非地表因素表面的点位。基于航拍影像与三维模型判断植被的高低，从剖面上分析，密集的低植被区且分不出是植被点还是地面点的不对其处理；针对高植被覆盖区域，筛选出两类点云，如图6所示，相机通过植被间的缝隙拍摄到地面点A 1 ，也有在植被上的非地面点A 2 ，根据点云颜色差异区分A 1 、A 2 ，随后删除A 2 类点云则有孔洞产生，运用样条函数对孔洞区域差值填充。 基于三次样条曲线的光滑性、局部性与凸包性等特点 [ 9 ] [ 10 ] ，使得该曲线能够更好地拟合连续复杂的地形特征。运用固定边界的三次样条插值方法求解孔洞区域的高程值，以一已知地面点为原点，该点与另一已知地面点连线在大地水平面上的投影为X轴，两地面点横坐标分别为x i 、x i+1 ，高程为S轴，拟定区间[x i , x i+1 ]的三次样条函数为： S i ( x ) = a i + b i x + c i x 2 + d i x 3 , i = 0 , 1 ⋅ ⋅ ⋅ , n − 1 ⑴ 由于孔洞区域A 1 类点云与边界点空间坐标已知，可得S(x i )、S(x i +1 )与S’(x i )、S’(x i +1 )，导入公式(1)求解常数a i 、b i 、c i 、d i ，从而得到函数表达式S(x)，并根据该样条函数计算出插值点x 0 的高程值S(x 0 )， 图5. 测试样本区 Table 2 类别 地面 植被 草丛 车辆 准确率 地面 975,386 3895 68,653 9579 92.23% 植被 2663 485,075 7543 982 97.75% 草丛 1997 6897 89,104 773 90.21% 车辆 497 2897 698 47,429 92.06% 召回率 99.47% 97.25% 53.68% 80.71% 表2. 点云分类的混淆矩阵 以此解算出孔洞区域各坐标点的高程值，插值结果如图7所示。 对于车辆停靠的区域，利用车辆周边地面点构成的矩形面将其覆盖。同时，对匹配错误区域进行改正，用于重建网格进而生成新的DTM。  由于实验区域受到植被的覆盖，标记点选在硬化地面上，土方量测算的目标区域为航测区域的一部分，如图8所示，区域内环境复杂，含有植被、车辆、草地等多种地物要素，能够代表土方量测算的常见环境。 图6. 植被区点类分析图 图7. 基于地面点云的三次样条法插值 图8. 土方量测算目标区域 土方量计算的众多格网模型中，规则格网具有简单、直观的特点，但不适应于复杂地形 [ 11 ] ，不规则三角网能够更好地描述真实地形，且格网密度与地形特征相一致 [ 12 ] [ 13 ] [ 14 ] 。因此，将点云数据导入ArcGIS软件中生成不规则三角网(如图9所示)，计算出土石方量为64,199.7733 m 3 。"
"精度评价是低空倾斜摄影技术的重要环节。本项目采用GPS实地测量16个点，8个作为控制点进行绝对定向，8个作为检查点与软件PhotoScan解译点的坐标进行比较。控制点残差值如表3所示，最大点位中误差为10 cm，碎部点高程Z的最大残差值△h为7.2 cm，如表4所示，残差中误差为8.44 cm，说明点云数据的精度良好。"
"通过GPS测量得到目标区域2.5 m间隔的点数据，导入CASS软件中计算得该区域高度为250 m以上的土石方量为64,679.9 m 3 。 通过野外实测法与低空倾斜摄影法分析比较可得(如表5所示)，在效率方面，低空倾斜摄影测量时效快，速度比野外实测方法提高了3倍。从精确度分析，基于无人机航摄技术的DTM法与野外实测法的复测偏差为0.75%，满足一般工程要求的10%误差 [ 15 ] 。 图9. 构建的TIN模型图 Table 3 点号 V x (m) V y (m) V z (m) CP01 0.053 0.013 0.024 CP02 0.031 −0.014 0.056 CP03 −0.072 0.009 0.033 CP04 0.057 −0.011 0.007 CP05 0.015 0.063 0.044 CP06 −0.037 0.017 −0.077 CP07 0.021 −0.051 0.019 CP08 0.091 −0.041 0.028 表3. 控制点残差表 Table 4 点号 Z 0 (m) Z (m) Δh (m) JC01 265.955 265.989 0.121 JC02 266.099 266.123 0.024 JC03 265.941 265.908 −0.033 JC04 266.106 266.161 0.055 JC05 266.026 266.03 0.145 JC06 265.511 265.497 −0.104 JC07 265.496 265.424 −0.072 JC08 265.663 265.689 0.026 表4. 碎步点高程精度评价表 Table 5 采集点数 土方量(m 3 ) 作业时间(h) GPS 625 64,679.9 4 UAV 12,334,574 64,199.77 1 偏差量 12,333,949 480.13 -3 偏差率(%) 99.99 0.75 -75 表5. GPS与UAV计算结果比较表"
"基于无人机高效、灵活的特点，并且能够适用于复杂环境的工作，为土方量的计算提供了新的突破。在航测过程中，密点云的误匹配、植被与建筑物等非地面点的干扰成为影响土方量测算的重要因素，本文运用了点云分类、地面点插值等方法重建航测区地形模型，经对比分析，该方法满足一般的工程需要。基于以上问题的解决将使低空摄影技术在土方量的应用越来越广泛。"
