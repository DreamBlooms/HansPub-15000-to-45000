"无线公网通信技术是智能配用电通信网关键技术之一。为了避免网络中由于流量并发而出现拥塞现象，本文提出了一种基于业务优先级的流量调度方法。首先通过分析智能配用电通信网中传输的不同业务信息呈现从上到下层级树的流量模型，接着将不同种类的流量根据业务重要性和通信需求划分优先级，最后，提出了基于业务优先级的流量调度和排队方法。结果显示，本文提出的流量调度和排队方法能够有效地减小网络时延。 关键词 :智能电网，智能配用电通信网，无线公网，流量调度，时延 Copyright © 2017 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"智能电网是利用通信和信息技术接收和收集类似消费者和供应商行为等信息并做出相应回应的电网，是当今世界电力系统发展变革的方向。它以自适应的方式，提升网络拓扑的可靠性、灵活性和效率，并实现负载调整，峰值削减/调平，需求响应，高级平台服务，电力流量控制等功能，保障电力运营的经济型和可持续性 [ 1 ] [ 2 ] 。现如今，我国智能电网技术正蓬勃发展，相应的业务应用也逐步完善，对电网通信网的要求也越来越高，电力数据传输的有效和可靠性等方面面临更大挑战。 智能配用电通信网是电力骨干通信网的向下延伸，属于骨干网接入层网络，覆盖到智能配电网的各级站点、用户智能电表、分布式新能源及电动汽车充电桩等相关设备，种类数目繁多，大多处在中低压的运营环境 [ 3 ] 。智能配用电通信网中常用的通信技术有电力线通信(PLC)技术，IEEE 802.15.4 (ZigBee)，IEEE 802.11 (WLAN或Wi-Fi)，EPON，GPRS，CDMA和LTE等。因此，智能配用电通信网是一个多种通信技术共存的复杂通信网络，各类通信技术都能用于电网数据的传递。由于配电网中业务节点多且分散，总信息量大但单点容量小，通信距离较远，运行维护量大，对通信方式和质量的要求也不尽相同 [ 4 ] ，在传输时可以根据承担的业务和适用场景选择相应通信技术，本文着重分析智能配用电网中在无线公网通信技术下的通信流量调度方法。 智能配用电通信网是一种分层的树形结构，用户扮演网络中的末梢叶节点，电力通信子站充当树根节点，由此实现用户和子站间的信息双向流动。通过电力供应商和消费者之间需求和能力的信息共享，供应商可以动态、智能地调整电力流动和用途情况，使电网的运行更加可靠稳定。业务数据和控制消息在网络中传输的过程中，如果出现同一时间信息大量并发，则很可能出现数据拥塞，增大传输延迟，出现负载失衡等情况，严重时可能造成网络瘫痪，影响电网系统的正常运行。因此需要对网络中的流量进行合理的调度，在传输时通过控制和管理实现负载均衡，使数据传递在延迟、吞吐率和带宽利用率等性能指标上有更好的表现。 因此，本文基于无线公网通信技术，考虑的业务有包括SCADA等的配电自动化及继电保护业务，计量自动化业务，视频监控业务以及其他管理数据业务。依据不同业务的重要性和通信需求，在树形结构下，将配电通信网中双向流动的业务流量划分不同类别的优先级，提出了一种流量调度和排队方法，在可能产生拥塞时，根据优先级确定传输顺序，使优先级高的业务能够被更快地处理，相对于基于数据流调度的方法，能够尽力消除最高优先级的业务的等待时延，而且尽可能地减小所有业务的总时延。"
"配用电是电网和用户连接的关键环节，通过配用电将用户所需的电能送达至分布在各个地区的不同用户，同时将用户的电力需求传达至电网，实现电网和用户之间双向的信息交互，为可靠供电和电网运行稳定提供了保障。作为实现电网智能化管理及配电业务应用的支撑系统，智能配用电通信网包含智能配电系统和智能用电服务系统，系统的配电和计量等单元沿着电网架构延伸到用户和发电单位，包括接入网络和各类应用，如图1所示。 根据配用电通信网中业务的重要性和不同的业务流量通信需求，将配用电业务主要分为四种，1) 配电自动化和继电保护；2) 智能计量业务；3) 视频监控；4) 管理数据业务。它们对时延、可靠性等数据质量要求依次递减。其中配电自动化业务中包括实时监测和SCADA等业务类别，智能计量包括大客户负荷管理和控制、配变监测等类别，视频业务提供特定地点的视频监控，管理数据业务则包括其他各类管理控制数据。为了方便对四种业务流量进行处理，不妨设这四种业务对应流量分别为A，B，C和D四类，下面研究针对四类流量的调度方法。 智能配用电通信网与电网拓扑结构相似 [ 5 ] ，遵循树形分层结构，树的末梢叶节点是电网的用户，根节点为电力通信子站。在用户从底部接入后，树形网络底层对流量进行识别和分类，可以借助类似数据头中的差异化服务代码点(DSCP, Differentiated service code point)标识符对流量进行标记，以便分类不同数据包。在层级树网络的中间节点部分，对传入的数据包执行PHB (Per-Hop-Behavior)特殊转发技术，为每类流量包提供相应的延迟绑定、抖动绑定和带宽，服务差异化单元用于支持差异化服务。位于配用电通信层级树网的顶层节点负责分析所有的诸如计量数据的各种流量类型，接着由DA生成不同的控制消息在层级树中向下传递，形成自下而上、自上而下的数据流。不同类别的业务通过Mesh网络通信，数据在层级树中一步步传输，以相同的方式传送至子站或下发至用户级，结构如图2所示。 接下来以计量业务为例，分析流量分布。来自用户的智能计量数据首先到达当地城市电网，这些计量数据包括不同用户的实际负荷，由城市电网汇聚点计算和监测不同时刻本地电网的实时负载。 在大电网中存在一些微网，它们根据附近用户需求选择将电能直接输入用户网络，或者是输入本地电网。假设共有 个微网，每个微网能够服务 个用户，它们的功率因数为 ，因此微网传输的总负载为每个微网负载之和，可以通过(1)式计算： (1) 这些微网增加了网络中的总负载，另外一部分是本地电网所承担的负载。假设有 个本地电网，每个本地电网能够服务 个用户，他们的功率因数为 ，因此由本地电网传输的总负载表示为(2)式： (2) 因此，电网总功率即为微网功率和本地电网负载之和，即： (3) 在微网和本地电网中的负载监测由智能计量业务提供，属于B类流量，这部分流量产生自各地用户计量采集终端，经过各层汇聚、传输，最终到达站点服务器。根据负载反馈，电网服务器掌握各区域电力使用情况，有利于优化负荷分配、提高电能使用效率。 图1. 智能配用电通信网结构图 图2. 配用电网树形分层结构"
"智能电网中选择合适的通信技术至关重要，它时刻影响着电网的服务质量和效益。由于电网规模庞大，实时性要求严苛，因此电网中需要一种容量大，覆盖率高，数据速率快的通信技术。 无线公网作为现如今广泛普及的高速无线通信技术，不依赖电网的架构，覆盖率高，网络搭建成本低，频谱效率好，广播性能佳，抗自然灾害能力比较强，还具备带宽大、传输距离远和非视距传输等优点，正好弥补电网缺陷，非常适合电网需求，能够为电网提供有效的数据传递服务 [ 6 ] 。对于类似配电自动化和智能计量这样的最后一公里应用业务，最为合适的通信技术是蜂窝技术，近年来无线公网技术在配电自动化试点建造中也得到了广泛应用 [ 7 ] [ 8 ] 。如计量业务中的流量是周期性数据和随机数据混合组成的，包括类似计量信息等定期顺序流动的数据类型和类似故障通知等随机流动的数据类型。对于具有50个馈线的传感器，所有周期性的流量负载为12 Kbps的上行数据和24 Kbps的下行数据，因此，无线公网中的任何动态调度技术都可以承载此流量。 在配用电通信网中，用户数目的众多，当大量数据并发时，网络中极易出现流量分布不均等情况，造成网络拥塞现象 [ 9 ] 。因此如何调整网络负载均衡，合理分配流量增强网络性能具有重要意义。在配用电通信网业务流量传输过程中，若出现了数据拥塞，相应传输时延必定增大，可以把时延作为反映数据流量是否拥塞的直观表现。对于配用电通信网中数据总时延可以划分为排队时延( )、调度时延( )和传输时延( )，表示如下，其中i代表特定类别流量的数据： (4) 在上下行链路中都存在这三种延迟，传输时延是在上下行链路上从一端到另一段所耗费的时间，仅与传输距离相关，它取决于通信网络性能，这类延迟不能通过相应策略进行优化，而无线公网由于其覆盖度好，这个时延通常较小。因此，在使用无线公网传输数据时，可以通过调整数据发送策略减少调度时延和排队时延来降低数据传输总时延。 在无线公网中，正常调度时间在10 ms左右，即在一次调度发送完成时，几毫秒后即可重新调度数据包，但对于流量密度低的业务，在流量达到时大多数设备都处于空闲状态。在流量从这些设备开始传输或是到达这些设备之前，首先需要将设备从空闲模式切换至活跃链接模式，接着数据才能够被传送，所以需要从更多的角度考虑。 例如在时域双工帧结构的情况下，设置5.5~6.5 ms的窗口和5 ms的物理随机接入信道周期，平均调度时间为86.6 ms，只为数据预留了13.4 ms的可用时间，使得可靠性不能达到要求 [ 10 ] ，但是若保持所有的设备处于在线状态，那么这个问题就可以被解决。通过将所有设备保持在线状态，能够消除从空闲状态切换到连接状态的延迟。 为了保证高优先级流量延迟最小，可以预留部分带宽给指定流量，以降低频谱效率为代价来减少排队时延。以无线公网中的LTE技术为例，它为每个数据包提供的带宽的分组是以资源块(RB, Resource Blocks)形式的，每个LTE帧为10 ms，它又被划分为10个1 ms的子帧，其中每个子帧进一步被划分成2个0.5 ms，这两个0.5 ms的时隙即资源块RB，帧结构如图3所示。这些资源块即是实际承载数据的单位，为数据流量越大的用户分配更多的资源块，以便给这部分流量在传输速率上提供更多的容量。为了避免高优先级流量的长排队时延，为它们分配4个RB，帧中剩下的资源块分配至其他流量类型。在一个传输时间间隔中传输80 bytes的数据包，而传输时间间隔即调度时间，意味着在每帧通过后，会根据当前时刻的流量重新被分配帧资源即RB。 因此，将所有设备保持在线，并为高优先级业务流量预留带宽，是减少调度和排队时延的一个重要解决方案。将流量根据业务重要性和延迟需求分为不同类别后，进一步利用排队具体方法，使得高优先级流量获得更少的排队时延。 排队模型将A类流量视为最高优先级，希望A类具有最小的排队时延，接下来分别是B类、C类和D类。通过分析流量排队模型，可以降低等式(4)中第一部分描述的排队时延 。 图3. LTE帧结构划分 将流量划分为不同类型后，对于最高优先级的A类流量，采用非原始队列。对其他三类较低级别的业务流量，采用加权的轮询调度算法，通过权重处理轻微差异，尽力以相同的方式处理这些流量。每种类型的流量数据的平均到达时间 用(5)式计算： (5) 其中 是每类流量的数据包大小， 是每类流量的带宽。另一个重要的参数是平均服务率，表示为： (6) C代表输出带宽，它计算为： (7) 其中 是介于0到1之间的常数因子，在排队模型中，i代表输入数据包的优先等级，到达率 服从泊松过程，服务时间和到达时间相互独立。若将每类流量的流量强度用，那么主要目标就是计算第i类输入流量在队列中的等待时间 和它的系统总时间 ，它们分别计算为： (8) (9) 其中 是第j类流量服务时间的二阶矩。通过调整数据发送策略减少各类流量调度和排队时延的方法由此形成。"
"为了验证所提方法的有效性，模拟四种流量的到来和处理过程，观察其等待时间是否与分析结果一致能够减小调度和排队时延。 四种不同服务质量需求的流量动态带宽分配如表1所示，其中延迟需求为总时延。 表2和图4展示了队列中每类流量等待时间的模拟结果和分析结果的对比，平均到达时间为配用电通信网中在电力通信子站发往或来自各叶子用户节点的各类业务流量到达时间的平均，可以看出，特定业务要求的等待时间分析结果和本文提出策略的模拟结果相符。其中优先级别最高的A类流量等待时间为0，即通过合适的操作能够保证A类业务流量到来时无须排队即可进行传输，接下来依次保证了B、C和D类流量的排队时延，减小了各类业务流量的总时延。 Table 1 流量类别 延迟需求(ms) 带宽(kb/s) 典型业务 A类 10-15 128 配电自动化 B类 300-500 64 计量业务 C类 300-500 2000 视频监控业务 D类 500-1000 128 管理数据业务 表1. 四类流量动态带宽分配 Table 2 流量类别 平均到达时间 (s) 分析结果(s) 模拟结果(s) A类 0.007 0 0 B类 0.008 0.0041 0.0048 C类 0.029 0.0147 0.0154 D类 0.083 0.0503 0.0537 表2. 等待时间模拟和分析结果 图4. 等待时间模拟和分析结果对比"
"本文提出了一种基于配用电通信网业务优先级的流量调度方法，首先提出了配用电通信网从上到下的树形层次结构，展示了数据流动模式。接着将不同流量根据业务重要性和通信需求划分优先级并论述了无线公网作为配用电通信网中通信技术的优势，基于无线公网传输方式，提出了依据业务优先级的流量调度和排队方法，确保高优先级的流量优先。结果显示，本文提出的流量调度和排队方法能够保证越高优先级业务排队越短，相对于基于数据流调度的方法，不仅近乎完全消除了高优先级业务流量的等待时延，还能在很大程度上减小所有业务的总时延，有效地提升了网络性能。"
