"本文章在给定环境下，求出室内的稳态、动态温度分布 [ 1 ] [ 2 ]。通过傅立叶导热定律，采用热平衡法建立区域节点离散方程，利用雅克比迭代算法进行分析求解 [ 3 ] [ 4 ] [ 5 ]。通过围护结构耗热量公式计算出房间的基本耗热量 [ 6 ]，推导以房间温度为变量的能量守恒方程，求得出水口水温，然后确定定解条件，建立稳态导热内节点离散方程 [ 7 ] [ 8 ]，并利用雅克比迭代的方法表达连续介质各点在同一时刻的温度分布。把进水口流量分成等差值情况进行分析讨论，在不同流量下，依据能量守恒方程，便可通过假设出水口温度求出室内平均温度，进而分别求出每种流量下的室内温度分布。"
"房间内的温度对于普通百姓而言，温度大小的变化对他们的影响不是很大，没有强制性要求。但对于某些特殊行业(比如医药行业)而言，室温是有严格规定的，必须按照行业准则进行调控室内温度。在给定时刻的房间内温度随空间位置的变化，这是热量传递研究中要解决的主要问题之一。在换热器、反应器等化工设备中，由于两流体存在温差，或因反应具有热效应，形成温度分布。 许多城市冬季供暖采用热水供热的方式。每一户有一个进水口和出水口，热水通过进水口进入房间，由出水口离开房间。一个基本问题是，如何调整进水流量，使得在室外天气不断变化时，室内的温度维持在一个相对稳定的范围内。"
"假设房间大小为50平方米，房间高为2.8米，具体规格如图所示。房间南北为外墙，与室外接触，长为5米，每面墙上有一扇窗户，规格为2米 * 1.5米；东西为内墙，不与室外接触，长为10米。房间采用暖气片供热方式，共两扇，南北墙窗户正下方各一扇，每扇暖气片长2米，高1米。 房间进水口的流量介于每小时0.1到1立方米之间。进水口的水温为40度，出水口的水温未知。房间的室内温度标准为每天的平均温度为21度。 本文研究当室外温度为0度，进水口流量为每小时0.5立方米时，房间的空间温度分布是怎样的？当室外温度为0度，进水口流量在0.1~1之间变化时，房间的动态温度分布是怎样的？   物体各部分之间不发生相对位移时，依靠分子、原子及自由电子等微观粒子的热运动进行的热量传递称为热传导。在紧密的不透明物体内部，热量只能依靠热传导方式传递。温度场是指某时刻空间内所有各点温度的总称，若温度场随着时间变化，则称作稳定温度场，由此产生的导热为稳定导热；若温度场随时间改变，则称作不稳定温度场，不稳定温度场的导热为不稳定导热。温度场是温度有关时间和空间的函数，即： 三维非稳态温度场： t = f ( x , y , z , τ ) 三维稳态温度场： t = f ( x , y , z ) 二维稳态温度场： t = f ( x , y ) 一维稳态温度场： t = f ( x )  傅立叶导热定律，理论上讲，它给出的只是在已知温度梯度的某一个坐标向梯度方向传递热流的大小，是一个普适规律，一个物体内部任何一点的导热都要满足傅立叶定律，但整体上的能量传递效应，则需要热量守恒定律来管控。那么，对于三维直角坐标系下的某个坐标具有三个方向，即 q ( x ) = − λ ∂ t ∂ x q ( y ) = − λ ∂ t ∂ y q ( z ) = − λ ∂ t ∂ z 温度梯度如图1所示。 图1. 温度梯度图 三个坐标方向的单位矢量与该方向上温度梯度(热流密度)分量的乘积合成梯度矢量(热流密度矢量) g r a d   t = Δ t = ∂ t ∂ x i + ∂ t ∂ y j + ∂ t ∂ z k q = − λ ( ∂ t ∂ x i + ∂ t ∂ y j + ∂ t ∂ z k ) = − λ Δ t = − λ ∂ t ∂ n n 这个热流密度矢量就是一般形式的傅立叶定律。 傅立叶导热微分方程的一般形式： ρ c ∂ t ∂ τ = ∂ ∂ x ( λ ∂ t ∂ x ) + ∂ t ∂ ( λ ∂ t ∂ y ) + ∂ ∂ z ( λ ∂ t ∂ z ) + Φ ˙ 可知，运用该方程可求解房间内温度分布的通解，无法得到房间的具体位置的温度，方程也可表示为： ∂ t ∂ τ = λ ρ c ( ∂ 2 t ∂ x 2 + ∂ 2 t ∂ y 2 + ∂ 2 t ∂ z 2 ) + Φ ˙ ρ c 其中 Φ ρ c 是内热源项， λ ρ c 称为热扩散系数， ∂ t ∂ τ 称作非稳态项。  1) 结合实际生活可知，靠近暖气片的位置温度较高，随着距离的增加温度呈阶梯状减小。在分析暖气片散热对室内温度的影响情况时，假设房间是一个无内热源的二维空腔。由于本题要求解决房间的温度分布问题，考虑到其室内温度不仅仅与暖气片散热有关，还与房间内墙、外墙、外窗等围护结构的基本耗热情况有关。因围护结构的耗热消耗了室内的热量，故要把围护结构的基本耗热量考虑到解决吸收暖气片散热问题中去，具体的表达式为： 暖 气 片 的 散 热 量 Δ Q = 房 间 围 护 结 构 的 基 本 耗 热 量 ∑ Q ∑ Q = Q 南 外 墙 + Q 北 外 墙 + Q 东 西 内 墙 + Q 南 窗 + Q 北 窗 已知入水口温度为40℃，则可计算出水口水温： 查找围护结构传热系数表得： 外墙传热系数： K 1 = 2.08   W / ( m 2 ⋅ ˚ C ) 外窗传热系数： K 2 = 6.40   W / ( m 2 ⋅ ˚ C ) 内墙传热系数： K 3 = 1.72   W / ( m 2 ⋅ ˚ C ) 南北朝向的外墙及外窗的温差修正系数： α 1 = 1 东西朝向内墙温差修正系数： α 2 = 0.7 取室外温度 t w n = 0 ˚ C ，室内计算温度 t n = 21 ˚ C 南墙朝向修正率 ζ 1 = 1.5 % 北墙朝向修正率 ζ 2 = − 2.5 % 计算得： Q 南 外 墙 = ( 1 + 1.5 % ) α 1 K 1 F 1 ( t n − t w n ) = ( 1 + 1.5 % ) × 1 × 2.08 × ( 2.8 × 5 − 2 × 1.5 ) × ( t n − t w n ) Q 南 外 窗 = ( 1 + 1.5 % ) α 1 K 2 F 2 ( t n − t w n ) = ( 1 + 1.5 % ) × 1 × 6.4 × 2 × 1.5 × ( t n − t w n ) Q 北 外 墙 = ( 1 − 2.5 % ) α 1 K 1 F 1 ( t n − t w n ) = ( 1 − 2.5 % ) × 1 × 2.08 × ( 2.8 × 5 − 2 × 1.5 ) × ( t n − t w n ) Q 北 外 窗 = ( 1 − 2.5 % ) α 1 K 2 F 2 ( t n − t w n ) = ( 1 − 2.5 % ) × 1 × 6.40 × 2 × 1.5 × ( t n − t w n ) Q 东 西 内 墙 = α 2 K 3 F 3 ( t n − t w n ) = 0.7 × 1.72 × 10 × 2.5 × 2 × ( t n − t w n ) 求得房间基本耗热量 ∑ Q = 0.12 ( t n − t w n ) J / s 暖气片的散热量 Δ Q = ∑ Q 根据水的散热量与温降关系，求得出水口水温和室内温差的热量守恒方程为： 0.12 ( t n − t w n ) = c m Δ T 整理得到热量守恒方程： 0.12 ( t n − t w n ) G = 40 − T 出 在问题中已确定入水口温度为40℃，先假设出水口温度为35℃并代入确定的热量守恒方程中便可得出房内的平均温度为20.8℃，将入水口温度为40℃出水口温度为35℃。再代入雅克比迭代中，并将迭代终止条件之一设定为计算平均温度与迭代的平均温度保持误差在足够小的范围内，便可求出在该定解条件下的室内平均温度以及各点的温度分布的数值解。 2) 坐标离散化 把房间区域进行坐标化离散化，以便于求解温度分布的数值解，对房间内的各点采用热平衡法建立离散方程并给出边界条件进行求解。 以二维矩形区域为例给出区域离散化过程，所谓区域离散化，就是将研究区域分解成有限数量的小区域，单元的顶点作为节点，每个节点都有自己的控制区域，称作控制体(控制容积)，控制体内所有特性都是均匀的，节点的温度代表其所在控制体的温度。节点之间的距离称为空间步长。节点之间的连线称为网格线，控制容积的分界面称为界面。对于本题采用的内节点法网格划分方式，单元的中心点即为节点，相邻单元中心线所围起来的区域就是控制体。 3) 离散方程的建立 空间区域离散化后，就要针对每个节点来建立其导热微分方程，也被称之为离散方程。对于本题采用控制容积平衡的方法(也称为热平衡法)建立离散方程。对每个有限大小的控制容积应用热量守恒分析，从而获得温度场的代数方程组，从基本的物理现象和基本定律出发，依据热量守恒和傅立叶导热定律即可获得离散方程。 对于任意节点的热量守恒都可以写成下式： 流入控制体的总热流量 + 控制体内热源生成热 = 控制体内能的增量 Φ i + Φ g = Φ s t 单位：[W] 流入控制体的总热流量 Φ i ，是指从所有方向流入该控制体的热流量。以二维、稳态、有内热源的导热问题为例导出离散方程，假设导热是稳态的，所以从所有方向流入控制体的总热流量： Φ i + Φ g = 0 4) 节点的选取 以房间地面的东南角为O点；东墙与地面的交线为y轴；南墙为地面的交线为x轴；东墙与南墙的交线为y轴建立空间直角坐标系，如图2所示。 图2. 房间坐标系 将这个长为十米宽为五米的房间划分成51 × 101的网格，即网格所划分的区域为50 × 100。对于每个区域的边长分别为 Δ x , Δ y 其中 Δ x = Δ y = 0.1   m 。 划分网格所产生了三种节点它们的离散方程分别为： ① 内节点 t ( m , n ) = ( t 0 × ( m − 1 , n ) + t 0 ( m + 1 , n ) + t 0 ( m , n − 1 ) + t 0 ( m , n + 1 ) ) / 4 ② 四个角点 t ( 1 , 1 ) = ( t 0 × ( 2 , 1 ) + t 0 ( 1 , 2 ) + 2 × t 0 ( 2 , 2 ) ) / 4 t ( 1 , 51 ) = ( t 0 × ( 1 , 51 ) + t 0 ( 2 , 51 ) + 2 × t 0 ( 2 , 50 ) ) / 4 t ( 101 , 1 ) = ( t 0 × ( 100 , 1 ) + t 0 ( 101 , 2 ) + 2 × t 0 ( 100 , 2 ) ) / 4 t ( 101 , 51 ) = ( t 0 × ( 101 , 51 ) + t 0 ( 101 , 50 ) + 2 × t 0 ( 100 , 50 ) ) / 4 ③ 边界节点 左边界节点： t ( a , b ) = ( t 0 × ( a − 1 , b ) + t 0 ( a + 1 , b ) + 2 × t 0 ( a , b + 1 ) ) / 4 右边界节点： t ( a , b ) = ( t 0 × ( a − 1 , b ) + t 0 ( a + 1 , b ) + 2 × t 0 ( a , b − 1 ) ) / 4 上边界节点： t ( a , b ) = ( t 0 × ( a , b − 1 ) + t 0 ( a , b + 1 ) + 2 × t 0 ( a + 1 , b ) ) / 4 下边界节点： t ( a , b ) = ( t 0 × ( a , b − 1 ) + t 0 ( a , b + 1 ) + 2 × t 0 ( a − 1 , b ) ) / 4 5) 节点列写具体方法： 对于 ( m , n ) 节点来讲，与其相邻并具有传热面积的单元分别为 ( m − 1 , n ) 、 ( m + 1 , n ) 、 ( m , n − 1 ) 和 ( m , n + 1 ) 四个，温度节点分布情况如图3所示。 图3. 温度节点分布情况 Φ i = Φ ( m − 1 , n ) + Φ ( m + 1 , n ) + Φ ( m , n − 1 ) + Φ ( m , n + 1 ) 故方程 Φ i + Φ g = 0 可以写成如下形式： Φ i = Φ ( m − 1 , n ) + Φ ( m + 1 , n ) + Φ ( m , n − 1 ) + Φ ( m , n + 1 ) + Φ g 第一项 Φ ( m − 1 , n ) 在单元 ( m , n ) 的左侧，通过接触面积向右侧传递热流量时，用傅立叶定律计算： Φ ( m − 1 , n ) = − λ A d t d x = − λ Δ y d t d x 当温度场不确定时， d t d x 未知，故先假设相邻节点的温度分布形式。并且当网格划分足够密集的时候， 两个节点间的距离、空间的步长足够小时，空间温度的分布形式对结果没有影响。假设温度呈分段线性分布，每个节点代表一个温度，数值计算得到的是离散的点的温度，把所有的点都用折线连接起来。当节点越多，假设的分段线性分布越接近真实的温度分布。傅立叶定律的表达式就可以表示成采用相邻节点的温差与坐标差的比值来代替温度的一阶导数。 同理，可得其他三个方向上流入控制体的热流量： Φ ( m − 1 , n ) = − λ Δ y d t d x = − λ Δ y t ( m − 1 , n ) − t ( m , n ) x ( m − 1 , n ) − x ( m , n ) = λ Δ y t ( m − 1 , n ) − t ( m , n ) Δ x Φ ( m + 1 , n ) = λ Δ y t ( m + 1 , n ) − t ( m , n ) Δ x Φ ( m , n + 1 ) = λ Δ x t ( m , n + 1 ) − t ( m , n ) Δ y Φ ( m , n − 1 ) = λ Δ x t ( m , n − 1 ) − t ( m , n ) Δ y 以上四项是从上下左右四个方向相邻节点导入到 ( m , n ) 里面的热流量，内热源： Φ g = Φ ˙ ⋅ V = Φ ˙ ⋅ Δ x Δ y 把以上五项分别代入二维、稳态、有内热源的导热问题节点热量守恒方程： Φ i = Φ ( m − 1 , n ) + Φ ( m + 1 , n ) + Φ ( m , n − 1 ) + Φ ( m , n + 1 ) + Φ g 即可得到针对节点 ( m , n ) 的离散方程： λ Δ y t ( m − 1 , n ) − t ( m , n ) Δ x + λ Δ y t ( m + 1 , n ) − t ( m , n ) Δ x + λ Δ x t ( m , n + 1 ) − t ( m , n ) Δ y + λ Δ x t ( m , n − 1 ) − t ( m , n ) Δ y + Φ ˙ Δ x Δ y = 0 该离散方程的每一项都有其明确的物理意义，当物性是常数且在x方向和y方向的空间步长均匀且相等的时候 Δ x = Δ y 时，离散方程可以化简成： t ( m − 1 , n ) + t ( m + 1 , n ) + t ( m , n + 1 ) + t ( m , n − 1 ) − 4 t ( m , n ) + Δ x 2 λ Φ ˙ = 0 4 t ( m , n ) = t ( m − 1 , n ) + t ( m + 1 , n ) + t ( m , n + 1 ) + t ( m , n − 1 ) + Δ x 2 λ Φ ˙ 无内热源时，上式可继续简化为： 4 t ( m , n ) = t ( m − 1 , n ) + t ( m + 1 , n ) + t ( m , n + 1 ) + t ( m , n − 1 ) t ( m , n ) = ( t 0 × ( m − 1 , n ) + t 0 ( m + 1 , n ) + t 0 ( m , n − 1 ) + t 0 ( m , n + 1 ) ) / 4 采用热平衡的方法建立起来的离散方程，所求节点的温度前的系数等于其他所有相邻节点温度前的系数之和。这一结论也适用于边界节点，但这里不包括热流或热流密度和内热源之前的系数，这说明所建立的离散方程是正确的。 通过该分析方法便可得出其他三种节点，此处不再赘述。 6) 雅克比迭代法 将传统意义上的雅克比迭代通过改写约束条件，使迭代精度保持在0.005之内，使迭代结果中的平均温度与假设给定出水口温度情况下的计算平均温度二者误差在0.001之内，进而反证假设出水口温度时计算平均温度的合理性。 该算法可以得出室内各节点的温度的数值解以及室内平均温度和房间温度分布云图。"
"(一) 当室外温度为0度，进水口流量为每小时0.5立方米时，依据房间的长宽比，我们把房间分成了100 × 50个小正方形，并且利用热量守恒方程： 0.12 ( t n − t w n ) G = 40 − T 出 节点离散方程条件下的温度呈现点状发散分布，同时进水口温度为40℃，然后假设出水口温度为35℃，作为边界条件进行雅克比迭代演算(详细程序见《附录一》)，得到当室外温度为0℃，进水口流量为每小时0.5立方米时的演算结果如下。 结果一：ans = 20.7920； 结果二：Num = 3780； 结果三： 房间节点温度的数值解。(房间左半部分同右半部分结果呈对称分布，左半部分详细结果见《附录三》)； 结果四： 房间内的空间温度分布云图(见下图4和图5)。 图4. 西面和南面 图5. 东面 结果分析： 1) 通过热量守恒方程计算得到的室内平均温度为约等于20.8℃；而通过雅克比迭代计算出的室内平均温度为20.7920℃，由此证得热量守恒方程计算的室内平均温度的合理性。 2) 程序迭代次数为3780次。迭代次数越高，各节点温度分布精确度越高，但保真性较差，因而设置迭代次数为5000次以下比较合理。 3) 得到了房间各节点的温度分布的数值解，由于数据太大，我们每隔一列截取一列的节点温度，做成表格以供参考。左半部分房间节点温度见《附录三》。得到结果是靠近暖气片的温度最高，随着节点与暖气片距离的增加，温度逐渐降低。次结果仅适用于室内空气未强制对流情况下的结果。若室内有人员活动，各点平均温度将趋于室内的平均温度值。 4) 得到室内温度分布云图，直观的表达了室内的温度分布情况，可以看出温度分布与距离是呈指数函数关系递减。 (二) 当室外温度为0℃，进水口流量在0.1~1之间变化时，以0.1 m 3 /h的差值建立水流量间隔分配表(表1)，将每个给定的流量分别代入热量守恒方程中，计算出满足热量守恒得室内平均温度与出水口温度。再使用MATLAB进行雅克比迭代算法，基于问题的雅克比算法进行条件程序的改写，使得最终迭代的室内平均温度和热量守恒方程得出的室内平均温度在非常小的误差范围之内，这就保证了热量守恒方程所计算的出水口温度和室内平均温度的合理性。利用plot函数绘制房间重要区域温度分布集中曲线图来分析研究。 Table 1 序号 1 2 3 4 5 6 7 8 9 10 水流量(m 3 /h) 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 表1. 水流量间隔分配表 结果一： 分别对出水口温度和室内温度进行计算，并给出相应的结果与理由，并且对变流量下房间平均温度和出水口温度的变化情况建立了以下表2和折线图6。 Table 2 G ( m 3 / h ) 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 T 出 ( ˚ C ) 20.2 28.5 32.2 34 35 35.82 36.3 36.74 37 37.3 T 室 内 平 均 ( ˚ C ) 16.5 19.16 19.5 20 20.8 20.9 21.05 21.73 22 22.3 T 程 序 验 证 ( ˚ C ) 16.49 19.11 19.45 19.95 20.79 20.89 21.04 21.72 21.99 22.29 表2. 室内温度验证 结果二： 十种流量情况下房间内节点温度分布的数值解(部分)。 图6. 变流量房间动态平均温度 结果三： 并且对流量在0.1~1之间变化时，房间东墙、西墙以及中间部分建立了以下三个温度分布曲线图(见图7)。 图7. 不同流量下温度分布曲线图"
"由不同流量下温度分布数值解汇总表以及房间重要区域温度分布集中曲线图可知：在不同流量下房间内的温度分布趋势基本一致，且只与出水口温度相关。 在同一流量下，出水口温度越高，房间内的平均温度偏高；出水口温度越低，房间的平均温度越低。各节点的温度变化趋势与平均温度变化基本一致。 在不同流量下，出水口温度在一个稳定区域内变化时，若流量越大，则房间平均温度越高；流量越小，房间平均温度越低。各节点的温度变化趋势与平均温度变化基本一致。 由此验证：所假设的热量守恒方程中，流量、出水口温度和室内温度存在一定的关系和相关性。出水口温度和室内平均温度是负相关的；室内平均温度与流量是正相关的。即验证了热量守恒方程假设的合理性。 所构建的室内温度分布模型具有通用性。此模型可以根据温度源的温度，计算任何封闭空间内各个点的温度大小，并且能确定封闭空间下的平均温度，并且做出房间温度分布云图直观地了解温度分布。可以被类似于植物温室和植物工厂等多种需要考虑房间温度的封闭空间利用。将该模型及模拟算法与控制理论相结合，便可控制房间温度，维持稳态。"
