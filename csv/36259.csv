"转子动平衡是转子系统检修和出厂所必要的基本步骤。本文基于对抗生成网络的思想旨在解决转子测试信号数量较少特征单一的问题，将神经网络技术应用于转子动平衡过程中。结果表明，利用生成数据进行训练的神经网络可有效的预测不平衡大小和位置，进行动平衡，特别是对于非线性支撑的转子系统，神经网络动平衡的效果要优于传统线性方法(影响系数法)。 关键词 :动平衡，转子系统，对抗生成网络 Copyright © 2020 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY 4.0). http://creativecommons.org/licenses/by/4.0/"
"旋转机械如航空发动机、汽轮机、电动机等，在工业和国防领域有着广泛的应用，约占设备数量的80% [ 1 ]。转子系统作为旋转机械的核心部件，一旦发生故障，将造成重大的经济损失甚至人员伤亡。由于设计和结构方面的因素，由于材质不均匀和制造安装的误差等原因，所有实际转子的中心主惯轴都或多或少的偏离了旋转轴，这样，当转子转动时会形成不平衡力系，从而引起转子的挠曲和内应力，使机器产生噪声和振动，加速轴承和轴封等零件的磨耗，降低机器的工作效率。所以在生产及使用的各个环节，需对转子进行平衡。 工程上动平衡常采用影响系数法，但这意味着需多次启停试重，耗费大量时间和财力，效率低下。如何减少起车次数，只利用初始测得的不平衡响应来确定不平衡量的分布成为研究重点 [ 2 ] [ 3 ] [ 4 ]，这便是无试重平衡。无试重动平衡主要是基于模型进行的，建立准确的转子有限元模型对动平衡的效果具有直接的影响 [ 5 ] [ 6 ]。另一种方法是利用遗传算法等复杂算法进行配重的优化搜索 [ 7 ]。 近年来，深度学习以其在特征提取与模式识别方面独特优势与潜力被广泛应用于众多领域，已取得显著进展。这也为解决转子动平衡这一经典课题提供了新的思路和方向。与传统方法相比，利用神经网络进行信息处理可以减少数据的分析工作和建模工作，以非编程、自适应的处理方式完成复杂的非线性映射，并将信息存储与处理合而为一 [ 8 ]。Goodfellow [ 9 ] 等人2014年提出的生成对抗网络GAN，可解决用于训练的实际动平衡样本数据不足的问题。通过生成器和判别器巧妙地展开相互竞争，建立一个零和博弈的框架。在这个框架中，生成器和判别器各自获得更强的模拟原始数据样本和迭代识别的能力 [ 10 ]。 动平衡的实质是获知机组的不平衡量与振动响应的对应关系，此对应关系由于机组结构的复杂性往往表现为一个复杂的函数映射关系。拟合此类复杂的函数映射关系恰恰是人工神经网络的优势。而生成对抗网络GAN的出现将为解决训练样本数据不足的问题提供解决方案。"
"为了获得进行研究的初始数据样本，首先需要建立转子系统的动力学理论模型。Jeffcot转子模型 [ 11 ] 在转子系统的研究中被广泛采用。它将转轴看作弹性轴，将转盘视为质点。Stodola-Green模型在Jeffcot转子模型的基础上，将转盘视为刚体，从而可考虑陀螺效应对转子的影响。进一步考虑轴承对转子振动的影响，将轴承–转子系统作为一个整体进行建模。Hsieh [ 12 ] 等人提出修正传递矩阵法，在Riccati传递矩阵法 [ 13 ] 的基础上，进一步考虑扭振，从而对转子–支承系统的扭振和横向耦合问题进行研究。Cao [ 14 ] 等人建立了转子–支承系统的有限元模型，考虑轴承和转轴的离心力及陀螺力矩的影响，研究了系统的动态响应。 由多个圆盘组成，彼此间可以用不计质量的弹性轴连接的系统，称为多圆盘转子系统。在实际中，许多旋转机械具有多圆盘的形式，对于一些圆柱形或锥形结构的转子，也可以经过集中质量处理，简化为多盘转子系统。因此，本文采用具有非线性油膜力支承的双盘转子系统模型来进行初始数据的生成。 模型结构如图1所示，质量为m 2 和m 3 的圆盘分别位于弹性轴的1/3和2/3处，偏心距分别为e 2 和e 3 ，阻尼为c 2 和c 3 。 两端为滑动轴承，为突出考虑非线性油膜力的影响，在轴承轴颈处设置集中质量m 1 和m 4 ，其等效刚度和等效阻尼分别为k e 1 、c e 1 、k e 4 、c e 4 。不计转子重力，不考虑扭转振动和陀螺力矩，只考虑横向振动。 图1. 双盘单跨转子模型 设1、2、3、4处的径向位移分别为：x 1 、y 1 、x 2 、y 2 、x 3 、y 3 、x 4 、y 4, ，建立运动微分方程： { m 1 x ¨ 1 + c 1 x ˙ 1 + k 1 ( x 1 − x 2 ) = F x 1 m 1 y ¨ 1 + c 1 y ˙ 1 + k 1 ( y 1 − y 2 ) = F y 1 m 2 x ¨ 2 + c 2 x ˙ 2 + k 1 ( x 2 − x 1 ) + k 2 ( x 2 − x 3 ) = m ′ 2 e 2 Ω 2 cos ( Ω t + θ 2 ) m 2 y ¨ 2 + c 2 y ˙ 2 + k 1 ( y 2 − y 1 ) + k 2 ( y 2 − y 3 ) = m ′ 2 e 2 Ω 2 sin ( Ω t + θ 2 ) m 3 x ¨ 3 + c 3 x ˙ 3 + k 2 ( x 3 − x 2 ) + k 3 ( x 3 − x 4 ) = m ′ 3 e 3 Ω 2 cos ( Ω t + θ 3 ) m 3 y ¨ 3 + c 3 y ˙ 3 + k 2 ( y 3 − y 2 ) + k 3 ( y 3 − y 4 ) = m ′ 3 e 3 Ω 2 sin ( Ω t + θ 3 ) m 4 x ¨ 4 + c 4 x ˙ 4 + k 3 ( x 4 − x 3 ) = F x 4 m 4 y ¨ 4 + c 4 y ˙ 4 + k 3 ( y 4 − y 3 ) = F y 4 (1) 其中，F x 1 、F y 1 为1处的油膜力，F x 4 、F y 4 为4处的油膜力， m ′ 2 、 m ′ 3 为附加不平衡质量。写成矩阵形式为： M Z ¨ + C Z ˙ + K Z = F + F e (2) 即： [ m 1 0 0 0 0 m 2 0 0 0 0 m 3 0 0 0 0 m 4 ] [ z ¨ 1 z ¨ 2 z ¨ 3 z ¨ 4 ] + [ c 1 0 0 0 0 c 2 0 0 0 0 c 3 0 0 0 0 c 4 ] [ z ˙ 1 z ˙ 2 z ˙ 3 z ˙ 4 ] + [ k 1 − k 1 0 0 − k 1 k 1 + k 2 − k 2 0 0 − k 2 k 2 + k 3 − k 3 0 0 − k 3 k 3 ] [ z 1 z 2 z 3 z 4 ] = [ F 1 0 0 F 4 ] + [ 0 m ′ 2 Ω 2 e 2 j ( Ω t + θ 2 ) m ′ 3 Ω 2 e 3 j ( Ω t + θ 3 ) 0 ] (3) 其中 z i = x i + j y i , i = 1 , 2 , 3 , 4 是各点的复坐标形式。引入量纲变化矩阵： Δ = [ δ 1 0 0 0 0 δ 1 0 0 0 0 δ 4 0 0 0 0 δ 4 ] (4) 其中，δ 1 、δ 4 分别为两个滑动轴承的轴承间隙。 令： z = Δ z ¯ τ = Ω t (5) 得到无量纲矩阵形式： Z ¯ ¨ + C ¯ Z ¯ ˙ + K ¯ Z ¯ = F ¯ + F ¯ (6) 其中 Z ¯ = Z Δ , C ¯ = C Ω M , K ¯ = K Ω 2 Δ M , F ¯ = F Ω 2 Δ M = s f Ω 2 Δ M , F ¯ e = F e Ω 2 Δ M 展开为： [ 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 ] [ Z ¯ ¨ 1 Z ¯ ¨ 2 Z ¯ ¨ 3 Z ¯ ¨ 4 ] + [ c 1 Ω m 1 0 0 0 0 c 2 Ω m 2 0 0 0 0 c 3 Ω m 3 0 0 0 0 c 4 Ω m 4 ] [ Z ¯ ˙ 1 Z ¯ ˙ 2 Z ¯ ˙ 3 Z ¯ ˙ 4 ] + [ k 1 Ω 2 m 1 − k 1 Ω 2 m 1 0 0 − k 1 Ω 2 m 2 k 1 + k 2 Ω 2 m 2 − k 2 Ω 2 m 2 0 0 − k 2 Ω 2 m 3 k 2 + k 3 Ω 2 m 3 − k 3 Ω 2 m 3 0 0 − k 3 Ω 2 m 4 k 3 Ω 2 m 4 ] [ Z ¯ 1 Z ¯ 2 Z ¯ 3 Z ¯ 4 ] = [ s f 1 m 1 δ 1 Ω 2 0 0 s f 4 m 4 δ 4 Ω 2 ] + [ 0 m ′ 2 e 2 j ( τ + θ 2 ) m 2 δ 1 m ′ 3 e 3 j ( τ + θ 3 ) m 3 δ 4 0 ] (7) 油膜力模型采用Capone提出的动态油膜力模型 [ 15 ]，其表达式为 { f x f y } = [ ( x − 2 y ′ ) 2 + ( y + 2 x ′ ) 2 ] 1 / 2 1 − x 2 − y 2 × { 3 x V ( x , y , α ) − sin α G ( x , y , α ) − 2 cos α S ( x , y , α ) 3 y V ( x , y , α ) + cos α G ( x , y , α ) − 2 sin α S ( x , y , α ) } (8) 以上便是考虑非线性油膜力的具有不平衡质量的双盘转子的运动微分方程，给定一组参数取值 c = 1100   N ⋅ S / m ,     c 2 = 2100   N ⋅ S / m ,     c 3 = 2200   N ⋅ S / m m = 4   kg ,     m 2 = 32   kg ,     m 3 = 34   kg k = 2.5 × 10 7 N / m η = 0.018   Pa ⋅ s R = 25   mm L = 12   mm δ = 0.11   mm 进行模型的验算。仿真结果如图2所示。图2给出了非线性油膜力和不平衡质量力作用下，2盘x、y方向的振动曲线、轴心轨迹图。可以看到，由于不平衡力的简谐特性，系统响应为一振动曲线，又因为油膜力的线性分量，使得平衡位置发生偏移。 图2. 双盘单跨转子数值模拟结果"
"在进行不平衡量的大小和位置的模拟时，根据上一节的模型，假设两个转盘允许的最大不平衡质量均为5 kg，最大初始相位为180˚，由于两个盘的半径均为0.25 m，则模拟不平衡量大小取值范围为[0, 1.2]，初始相位范围为[0, π]。 分别以0.2和π/5为间隔划分模拟不平衡量的大小和相位的大小。然后随机组合不平衡量的大小和初始相位，作为振动微分方程右边的不平衡力输入，再通过龙格–库塔法求解相应的振动响应。选取振动响应稳定后100个值，并将两个转盘两个方向共4组响应数据整理成一行，再加上两个不平衡量的大小和初始相位共4个标签，总共404个数构成1个原始数据。一共进行200次求解，故得到200 * 404大小的矩阵，存入文件，供对抗神经网络学习使用。由于要对训练的网络进行测试，还需200组新数据作为测试数据。 由于振动数据和标签数据的绝对数值相差较大，需要进行归一化处理。本文采用的是最大值最小值归一化法。  构造生成器网络结构如图3所示。 图3. 生成器结构 构造判别器网络结构如图4所示。 图4. 判别器结构 用WGAN训练原始的200个数据，共训练2000次，产生20,000个模拟数据。判别器和生成器的损失函数如图5所示。 从图5可以看到网络的收敛速度较快，在训练趋于稳定后，判别器和生成器的损失函数在0附近。第90次训练以前，损失的绝对值一直在增加，从120次训练后绝对值开始下降，最终经过2000次训练稳定在0附近。 图5. 判别器和生成器的损失函数变化 图6. 全连接模块的结构 图7. 全连接网络训练误差和验证误差的变化 进一步，将得到的模拟数据和原始数据整合在一起，共有20,200个数据。将其中18,000个作为训练集，剩下的2200个作为验证集，对一用于进行不平衡预测的全连接型BP神经网络进行训练。网络结构如图6所示。 训练时的训练误差和验证误差的变化如图7所示，最终测试误差为0.0232。"
"Table 1 2盘不平衡质量 3盘不平衡质量 实际值 0 kg*m, 0.6π rad 0.72 kg*m, 0.8π rad 预测值 0.03012 kg*m, 0.4158π rad 0.6581 kg*m, 0.8181π rad 波动值 0.03012 kg*m, 0.58 rad 0.0619 kg*m, 0.05686 rad 表1. 神经网络预测值与实际值的比较 选取一组不平衡参数如表1所示，将其振动响应输入训练好的全连接神经网络，得到网络的预测值为[0.0251, 0.5484, 0.4158, 0.8181]，将其进行无量纲到真实值之间的转换，可得，2盘不平衡量分布为0.03012 kg*m，0.4158π，3盘不平衡量分布为0.6581 kg*m，0.8181π。2盘波动幅度为0.03012 kg*m，0.58弧度，3盘波动幅度为0.0619 kg*m，0.05686弧度。将系统按预测值进行平衡矫正，可见振动值大幅降低，如图8所示，证明网络预测有效。 图8. 神经网络预测值动平衡前后的振动响应对比 从图8中可以看到2盘、3盘在x，y两个方向的振动幅度明显下降且偏离转轴中心的程度明显减小。 进一步，将神经网络预测结果和影响系数法进行比较。由影响系数法易得，2盘不平衡量分布为0.0891 kg*m，0.2827 rad；3盘不平衡量分布为0.6259 kg*m，0.6746 rad。根据该结果进行动平衡前后得到的振动响应对比如表2和图9所示。 Table 2 2盘不平衡质量 3盘不平衡质量 实际值 0 kg*m, 0.6*π rad 0.72 kg*m, 0.8*π rad 神经网络预测值 0.03012 kg*m, 0.4158*π rad 0.6581 kg*m, 0.8181*π rad 影响系数法预测值 0.0891 kg*m, 0.2827 rad 0.6259 kg*m, 0.6746 rad 神经网络波动值 0.03012 kg*m, 0.58 rad 0.0619 kg*m, 0.05686 rad 影响系数法波动值 0.0891 kg*m, 1.3 rad 0.0941 kg*m, 1.84 rad 表2. 神经网络与影响系数法的预测结果对比 图9. 神经网络与影响系数法的平衡效果结果对比 图9中可以看到对于影响系数法，2盘、3盘在x方向偏离转轴中心的程度减小但振幅反而增加，在y方向偏离转轴中心的程度和振幅都增加了。由此可以看出对于存在非线性因素的转子，影响系数法的平衡效果并不理想。而神经网络却显示出很好的拟合非线性映射的能力，动平衡效果比较好。"
"随着神经网络的出现和深度学习的发展，其强大的特征提取和模式识别能力为现代设备的故障检测提供了新的方式。将神经网络运用于旋转机械智能故障诊断，在合理的设计优化下往往能获得优于主流故障诊断方法的结果。本文即尝试将神经网络应用于转子的动平衡，通过对抗神经网络模拟样本，由一个全连接网络进行预测。通过模型验证，证明神经网络预测值的动平衡效果明显好于影响系数法的动平衡效果。 通过比较神经网络的动平衡效果与影响系数法的动平衡效果，发现数据越具有多样性，神经网络方法所得到的效果要越优于传统算法。究其原因，传统算法是一种线性算法，使用线性映射的逆运算可以取得较好的结果，而一旦系统中存在不可忽视的非线性因素时，神经网络所使用的非线性映射方法，能更加有效的应对非线性因素带来的数据多样性(非线性多解性)和非线性增长的计算误差。"
