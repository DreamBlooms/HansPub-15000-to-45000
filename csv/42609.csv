"本文针对云边协同系统在能源互联网中的应用进行研究。在介绍相关研究现状的基础上，根据能源互联网的特点，讨论了云边协同能源系统构成；提出云边协同能源系统的实现方式和能源互联网云边协同算法。算法分为规则分类和人工智能预测两个阶段。同时，文章对基于云边协同的能源互联网典型业务场景进行规则阶段设计，并针对算法进行了仿真分析。在能源互联网中，云边协同系统可以在减少处理时延的同时提升系统整体性能，具有经济和技术可行性。"
"基于电能的瞬时性，以电能为主的能源互联网业务 [ 1 ] [ 2 ] 大多具有较为严格的时延要求，且随着网络规模的扩大，智能能源业务处理需要消耗大量的数据处理和计算通信资源，在此情况下，结合边缘计算与云平台的云边协同技术成为保障能源互联网正常运行的必要手段。 针对边缘计算和云协作进行研究。若仅考虑边缘计算，部分高复杂度业务将难以实现；若仅考虑云协作，系统面临着部分业务高时延和高带宽压力，由此云边协同是一种很好的协调解决方案。但目前云边协同的研究侧重于整体架构和具体应用场景研究，对于云边协同在能源互联网中的任务管理和具体分配算法流程鲜有设计，一定程度上阻碍了相关技术在能源互联网的落地。通过加强此方面的研究，会对云边协同系统的实际运行性能有较大的提升。 在参考已有研究的基础上，本文针对云边协同任务分配机制进行研究，所提算法前期根据业务特性实现云边协同业务划分，后期以前期结果为基础，基于神经网络实现业务的智能划分，相关神经网络训练采用目标函数最小化的方式。由此保证相关算法的规则性、智能性和自适应性。 本文后续章节结构如下：第2章提出云边协同系统构成；第3章提出云边协同系统的实现方式；第4章提出能源互联网云边协同算法；第5章设计典型业务场景；第6章进行仿真结果分析；第7章介绍云边协同研究背景；第8章进行总结。"
"云边协同包括云、边、端三个部分 [ 3 ]。针对能源互联网，“云”代表负责能源互联网管理、控制和运行的云平台，“端”代表底层受控的供用能设备终端，“边”既可以指靠近云平台的微网控制系统，也可以指靠近设备终端的能量控制设备。 如图1所示，云边协同技术贯穿于能源互联网控制系统各个层面，通过云边协同技术，能源互联网的上层信息分析和控制能力与底层设备所具有的物理实体运行功能能够实现有效的协调配合，为能源互联网的整体协作、高效运行提供及时的资源和决策支持。类似“粘合剂”和“协调员”功能，云边协同将整合信息采集层、边缘计算层、核心计算层、管理控制层、业务应用层和安全辅助层(见图2)的各层相关资源，实现物联网技术、分布式智能代理、大数据分析、“互联网+”运营、云边任务分配相关技术的有效集成。通过分散协同控制最大化网络运行效率，保障能源互联网平稳有效运行。 图1. 多微网云边协同示意图 图2. 云边协同系统体系架构"
"为了实现云边协同，能源互联网相关业务和资源需要在云、边、甚至端进行合理分配，通过相关资源的优化调度实现系统用能效率的最大化和系统平稳运行。云边协同系统在能源互联网中资源优化调度的实现分为传统基于处理时延和计算复杂度的运行方式，或创新基于分类距离的运行方式。  云边协同架构的提出主要是为了解决实时业务处理时延约束和主干网带宽约束以及边缘计算节点计算能力不足等问题 [ 4 ] [ 5 ]。基于传统的方法，将数据分析任务划分为若干子任务，子任务按类别划分，每一类具有明确的处理时延约束和计算能力要求。因而可以根据系统状态和任务间关联性，分类决定子任务的执行方式，分类方法中分类门限的确定可以采用决策树分类或贝叶斯分类以及SVM算法等。随着计算维度的提升，神经网络分类具有更好的可行性。 具体针对能源互联网或智能电网，因其包括很多实时和非实时业务，更适合进行云边协同。在能源互联网运行时，可以将时延要求高，且距离云计算中心较远的子任务分配到边缘计算设备实现本地化处理；但由于边缘计算设备普遍具有处理能力和计算资源约束，为达到最优性能和满足部分业务严格处理时延要求，有必要将部分非实时、高计算能力要求的任务移到云平台执行，如电力态势感知、增强学习、全网策略优化等涉及到高维空间搜索、高次数大数据量迭代、大矩阵求逆的能源互联网相关任务。对于云边两端均能处理的非实时、低复杂度处理子任务，可以以较低的优先级，结合规划理论实现任务的合理分配，以保证系统计算和通信资源的最优化利用和低时延任务的实时执行。  基于现有的能源互联网架构，能源系统的管理和运行以微网为单位，导致分布式供用能设备对能源网络的影响具有区域性，能源数据在不同层级对不同区域范围能源系统的管理和配置起作用，从而与特定等级的能源网络运行相关联。 在实际操作中，可以对本地历史数据进行k-means聚类和分类，对于需要处理的数据样本，判断其与所有分类中心的距离，如果到各个分类中心的距离均大于相关门限，可以认为其与本地数据关联不大，需要发送到数据中心进行处理，否则进行本地边缘计算。 在进行聚类/分类时，距离与策略性能成反比趋势(分类距离越小，策略执行越精确)。随着样本数量的增加，若保持每类样本数量近似不变，样本到云分类中心的距离分布将远小于样本到边分类中心的距离分布，将距离超过门限的样本发送到云中心进行处理将在一定程度上提升云边协同系统的运行性能。"
"通过综合考虑能源互联网业务处理时延、计算复杂度和数据关联性的多样性特点，本文提出一套基于云边协同的能源互联网业务处理算法，算法分为前期和后期两个阶段，分别对应基于规则的云边协同和基于人工智能(神经网络)预测的云边协同。  1) 根据具体的业务流程，将能源互联网相关业务划分为多个子业务(如负荷预测、参数拟合、模型优化、搜索求解等)并进行分类，每类子业务的时延约束和通信、计算资源要求存在不同，具有一定的先后依赖关系。 2) 设置云边协同系统参数，如各类业务处理复杂度门限、延时门限和置信度、支持度门限等，将系统参数传输到全网控制设备。 3) 能源互联网边缘计算设备首先确定需要处理的子业务，并将实时性高的子业务在边缘设备进行处理。然后判别是否为复杂度高的业务，并将高复杂度子业务送到能源互联网的云平台进行处理。对于非实时业务和复杂度不高的业务，判断云平台是否具有足够的剩余计算资源，且距数据产生终端较近，如果满足以上条件，则将部分相关子业务送到云平台进行处理。 4) 对于其它子业务，基于分类距离确定需要本地处理的能源数据。相关距离最小值小于门限的数据在边缘计算设备进行本地处理，否则将能源数据上传到云平台进行处理。 5) 将数据和数据处理后的结果按照处理设备类型进行存储，基于数据共享原则，能源互联网边缘计算设备的处理结果需要同时存储到本设备并上传到云平台，以方便云平台做进一步分析和处理；对于在云平台处理的非实时非高复杂度业务，相关数据存储在云数据中心并下发到边缘计算设备，以作为边缘计算任务的数据参考；其它数据本地保存。此种方式可以保证步骤4的有效性。 6) 基于运行结果对能源互联网数据–业务信息和相关参数进行调整，优化下一时段的任务分配策略。 图3. 云边协同系统业务处理流程(前期)  1) 记录和计算离线环境下能源互联网每类业务的实际运行性能相关指标(时延d、带宽/信息量i，能量成本消耗e等)，指标具体计算方法参考 [ 6 ]。 2) 当收集到足够数据后，使用人工神经网络对业务分配流程进行深度强化学习和训练，训练以运行时延最小、能量成本最优、云边通信量最小等为目标，或相关目标的加权和(如min (ad + bi + ce), a, b, c为加权系数)。基于已有云边协同架构，训练方式基于以下几种： · 独立训练：人工神经网络在云平台上进行训练，训练所得的参数发送到边缘智能设备对相关能源互联网业务进行任务分配。 · 协同训练：在云平台上训练人工神经网络的底层神经网络参数，训练所得的参数发送到边缘智能设备协同进行高层神经网络参数的训练，得到完整的参数结果后执行本地任务分配。 · 迁移训练：在云平台上基于共享能源互联网数据进行原始模型训练，所得模型发送到边缘智能设备，基于本地能源互联网数据对模型参数进行修正，使用修正后的模型进行任务分配。 3) 可以根据不同目标，将系统拆分为多个子网在云边分别同时进行训练。如参考 [ 6 ] 的状态函数网络(边端执行)，策略功能网络(边端执行)以及二者的联合优化网络(云边执行)。 4) 建立相关分配模型之后，可以在本地实时进行云边协同任务分配，优化能源互联网运行性能。"
"基于所提算法，这里针对能源互联网典型业务场景的云边协同算法前期流程进行具体分析和设计。场景设计主要针对能源互联网系统的电力部分。  分布式新能源接入是能源互联网的一个重要业务，为充分利用新能源，需要对其发电能力进行长期有效的预测，并能及时适应短期的生产波动性以实现合理调度，这为云网协同技术带来了用武之地。 针对本地分布式新能源短时预测和在线调整业务，由于具有较强的实时性，可以在边缘计算模块实现，并将运行结果上传到云平台。而针对全网分布式新能源的整体长期预测业务，该业务具有非实时性和全局性，当算法复杂度高时，可以在云平台进行计算；或者经过判断，如果距离云中心较近，或与本地数据关联性不大，同样需要在云平台进行处理。  能源互联网将利用光伏发电和风力发电等多种技术，此类发电设备具有一定的波动性，需要借助储能设备和高效调度以实现多能互补。通过多能互补，系统的稳定性和可靠性将得到大幅度提高，这为系统长期平稳优化运行提供了保证。 多能互补需要在长期供用能平衡的基础上实现系统的实时性优化。长期供用能平衡等业务实时性不强，复杂度不高但距离云中心较近或与本地数据关联度不高(具有全局性)，将在数据中心(云)利用全网生产和消费数据通过整体规划实现，该过程需要考虑各种全局性相关因素。系统实时用能优化类业务由于实时性要求高，需要通过本地边缘计算终端保证其业务快速、有效实现。通过云边协同，云计算中心和边缘计算设备将不断通过信息交互实现调度策略的调整和优化，将最终保证多能互补在能源互联网中的高效利用。  能源互联网的信息物理深度耦合导致了故障产生的多样性和复杂性。对于本地故障处理，基于近距离的优势，且该类业务实时性高，适合在边缘端执行。边缘计算设备可以实时感知故障的发生和故障发生后系统所处的状态，通过局域分析实时确定故障的位置和状态，并及时采取合理的策略对故障进行处理，尽量防止故障态势的扩大，同时将很难处理或故障判断精度不高的相关数据上传到云平台，由中心进行全局性分析和判断。基于对故障的全局监控和跨域协调处理相关业务，由于实时性相对较低，算法复杂度高，或算法复杂度不高但距数据中心较近或数据与本地数据关联性不大，主要在云计算中心实现。由云平台负责判断故障的影响范围，并通过区域协调及时解决边缘计算设备难以处理的故障耦合问题，保证能源互联网故障的迅速恢复和系统的正常运行。"
"在策略精度与样本分类距离呈反比的假设之下，下面使用k-means聚类对相关距离分布进行仿真。假定云端有10,000个历史样本，边端样本数量分别为云端样本数量的0.04，0.07和0.1倍，分别进行k-means聚类，每种样本集所产生的聚类数目与样本总数呈比例(平均每个聚类结果包含25个样本)。基于matlab仿真，横坐标对应类归一化距离(最长距离为1)，纵坐标代表所有样本到最近聚类中心距离的累积概率分布。 图4中，1，0.1，0.07和0.04代表分类数据占云端总数据的比例(此时后三种情况对应传统云边协同算法)。从图4可以看出，在保持分类大小不变的情况下，统计上，云端分类具有最小的分类距离分布(对应累计概率分布1)。随着数据比例的减少，累积分类距离分布曲线逐渐右移。在此情况下，将更多超过门限的数据转发到云中心进行处理，理论上所带来的性能提升也就越强。图4同时表明，对比步骤4，在分类距离与策略性能成反比的情况下，如果此时将经过前面步骤处理的数据不进行距离分类处理，所得到的算法性能估计理论上将明显小于本算法。由此，基于距离分类进行云边协同会在一定程度上提升系统性能。 下面对云边协同分配结果进行仿真，假定共有1000个业务待处理，其中高时延约束业务约占40%，低时延约束业务约占60%；所有业务中，高复杂度业务与低复杂度业务的比例约为1:1；20%的情况下，云平台具有足够的剩余计算资源，且距数据产生终端较近；10%的情况下，数据与本地数据关联性不高，需要将业务发送到云平台。图5右半部分为本文所提算法的业务分配结果，对比算法(左半部分)仅根据时延约束将业务在云和边之间进行分配。 从图5可以看出，相比于传统基于时延的分配算法，本文提出的算法更多的将任务分配到边节点，从而保证云中心有足够的计算资源处理高层任务并充分利用本地资源。整体业务处理时延进一步降低，从而保证系统具有更大的可扩展性和稳定性保证。 图4. 云边分类距离结果 图5. 云边分类算法结果比较"
"目前针对云边协同形成了大量的研究成果，国内以架构设计研究为基础 [ 7 ]，将云边协同广泛用于医疗 [ 8 ]，城市轨道交通视频监控 [ 9 ]，高铁 [ 10 ]，教学 [ 11 ]。6G边缘网络 [ 12 ]，配用电系统 [ 13 ]，电网企业国家智能平台 [ 14 ] 等方面。在算法研究方面，国内外主要采用技术包括多目标优化 [ 4 ] [ 15 ]，人工神经网络 [ 6 ] [ 16 ] [ 17 ]，规则分类聚类 [ 5 ] [ 18 ] [ 19 ] [ 20 ] 等。很少有文章将云边协同用于能源互联网运行，相关研究具有一定的前瞻性。"
"云边协同系统基于云平台和边缘计算终端的结合，将数据处理任务和相关业务合理地在“云”和“边”进行分配，并基于“端”提供采集信息支持，可以有效弥补单独使用“云计算”、“雾计算”的不足。根据能源互联网的部分实时性、复杂性业务要求，本文提出了两阶段的云边协同算法，分别基于规则分类和人工智能技术实现能源互联网云边协同。然后基于规则分类决策，对能源互联网相关业务场景的云边协同进行具体设计。通过相关分析和预测，可以有效解决实时业务、高复杂度业务、高数据关联性业务的资源分配问题，从而为能源互联网整体平稳、高效运行提供保证。"
