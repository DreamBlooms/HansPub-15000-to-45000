"针对遥感影像对不同屋顶材质的建筑物提取存在提取准确率和精度不高的问题，本文以高分2号卫星影像在计算机平台上进行建筑物信息的提取。采用面向对象分类、专家知识的决策树分类及基于IDL平台的循环结构结合SVM方法进行地类信息的提取。为了提高不同材质屋顶的建筑物提取精度，通过在ENVI/IDL的开放性遥感平台上，利用其二次开发功能中丰富的函数库，选择循环结构语句，采用支持向量机(SVM)的方法来进行代码编写，提取地类信息。三种模型的建筑物提取准确率为81.5%、91.5%、92.8%，其精确率为83.3%、89.5%、88.7%，其F 1 为0.91、0.93、0.95。模型3在保证提取准确率和精度前提下，能较高精度地提取到不同屋顶材质的建筑物。比较分析3种方法的提取效果，以期能对基于遥感影像的建筑物信息提取提供参考。"
"从上世纪七十年代第一颗遥感卫星发射上天以来，对遥感影像中的信息进行提取引起了人们的广大兴趣。在遥感影像的分辨率还低的初期，人们从像素处打开突破口。随着这些年遥感影像的分辨率逐渐提升，专业人员的研究方向从面向像素转到了面向对象来进行研究。现阶段被广泛采用的方法有结合纹理特征和光谱特征及基于数学形态学和形状特征的建筑物提取等 [ 1 ]。党涛等通过多层次分割分类附加特征空间的优化来进行建筑物的提取 [ 2 ]。Zhenghui Zhang等通过深度学习框架下的多任务全卷积神经网络实现SAR影像的分割 [ 3 ]。何漫芸等结合影像光谱特征和几何特征实现建筑物的提取。这是一种基于ISODATA算法和GABOR小波变换的图像分割方法 [ 4 ]。赵强等对建筑物的高度信息提取作了研究，提出了基于建筑物规则信息的面向对象建筑物高度提取方法 [ 5 ]。杨旭勃提出了一种轻量化的全连接分割网络ZF-FCN，使用较小的感受野获取更多局部信息，使用较少的最大池化操作避免剧烈的下采样 [ 6 ]。Philipp等使用混合全卷积神经网络从高分遥感影像中提取建筑物的边缘信息 [ 7 ]。于书媛等研究了基于决策树的面向对象分类对建筑物进行提取研究 [ 8 ]。赵翠晓针对城市复杂环境点云数据中建筑物和植被较难分离的问题，提出利用二者在高度、面积、坡度等信息的差异，先把建筑物区分，再利用建筑物的结果作为约束条件，达到将两者进行分离的目的 [ 9 ]。"
"研究区位于贵州省黔东南苗族侗族州三穗县，东经106˚38'15，北纬26˚22'11。属于我国的喀斯特地貌区，区域内部地物覆盖复杂，有起伏的山地和灌木丛，建筑、道路和裸地交错分布，如图1所示。遥感影像为高分2号卫星影像，共有四个波段，分别为蓝、绿、红和近红外四个波段。 图1. 研究区影像"
"面向对象分类方法以高分遥感影像为基础，依据遥感影像的光谱和形状，设置出一个合适的分割参数将遥感影像分割成独立的同质对象，再经过人工目视判读，根据其所具备的多元特征(颜色、形状、纹理等特征)来进行归类，这种分类的方法，不以地物的单个像素作为目标，而是通过影像的像元集合来进行综合的分析，将像元组成有意义、有区别的影像对象，然后设置合适的分割尺度，利用多尺度分割来对目标进行分类。在分割之后可以进行半自动的修正，来确保分割的精度 [ 10 ]。 eCognition Developer的最邻近方法属于监督分类。打开处理的图像，根据面向对象分类的基本流程，对影像进行分割，在经过对比之后，确定一个合适的分割参数。之后建立分类体系，选择使用的是监督分类的方式，需要去建立比较详细的分类体系，以方便选择对应的样本 [ 11 ]。然后是构建特征空间，特征空间指的是在进行监督分类的时候，参与分类的特征，之后便可执行分类。操作流程见图2。 图2. 监督分类操作流程  ENVI决策树分类方法其归属于一种多级分类器，它的作用方式是通过一系列的二叉树，每一个决策树在制定一个规则之后，会将图像中的元素像元分为两类，对于每一个新生成的类别而言，又能够根据新输入的规则继续往下分。根据结果的需要来定义决策树的规则节点，节点的个数是没有个数限制的，这也是决策树的特点之一 [ 12 ]。可以通过使用多源数据来生成决策树。决策树还有其他操作，可以进行交接互通式的编辑裁处决策树。该方法基于遥感影像数据，依据已有的专家经验总结、对数学中的统计以及归纳的方法进行应用，来得到一系列的分类规则，然后进行流程化的遥感信息分类 [ 13 ]。 在遥感图像中，植物绿叶中含有丰富的叶绿素，其对可见光范围内的阳光吸收作用是十分强烈的，特别是红光，其几乎不反射。而对于近红外波段，植物又几乎不会吸收，基本上全部反射。通过近红外波段与红光波段的比来运算来增强植被信息的亮度，按照此依据，研究人员推算出了归一化差异植被指数(NDVI)公式： N D V I = ( N I R − Re d ) / ( N I R + Re d ) (3-1) 该公式中，NIR为近红外波段，Red为红光波段，在土壤情况无差异的区域内，该公式能适用，比如在城市环境中需要将植被与其他地物区分开来，就可以采用此公式进行计算，如果土壤存在差异，需要引入一个土壤调节因子1，让深色和浅色的土壤中求得的植被指数相同。而土壤调整植被指数(SAVI)的公式： S A V I = [ ( N I R − R ) × ( 1 + L ) ] / ( N I R + R + L ) (3-2) 归一化建筑指数则是由查勇将杨山提出的归一化植被植被指数改称，其公式为： N D B I = ( M I R − N I R ) / ( M I R + N I R ) (3-3) 该指数主要适用于城市建筑用地的提取，其中MIR是中红外光，NIR是近红外光，影像数据中没有中红外光波段这一数据，故本实验不适用NDBI的归一化建筑指数，则采用归一化植被指数反过来将建筑物归类出来的方法，来提取建筑物轮廓。下面是根据图像上的像素大小结合归一化植被指数(NDVI)，再结合光谱知识，决策树流程图如图3所示。 图3. 决策树分类流程  在IDL下编译代码，使用FILE_SEARCH函数，得到指定目录里匹配的数据，然后获取目录里的所有数据 [ 14 ]。结合一系列的循环结构语句，来实现对地类信息数据的批处理，调用数据库里的函数，在进行程序编写前，需要加入三行语句，在代码中有体现，第一行进行编译。第二行则是恢复ENVI的SAV文件。第三行则是以非菜单方式来进行批处理的ENVI初始化，批处理的模式开启，然后在程序的末尾加一行语句结束批处理模式。用功能函数进行文件信息的查询，之后进行有符号长整数的赋予，进行波谱信息的选择。设置好之后，进行感兴趣区的处理，获取ROI的信息和ID，对感兴趣区的波段和名称进行处理 [ 15 ]。选择支持向量机(SVM)的方法，调用函数进行数据信息的分析，流程图如图4所示。 图4. IDL分类流程"
"对遥感图像进行分类之前，对图像进行处理，减弱图像存在的误差，这就包括了图像的辐射定标、几何校正、以及图像的裁剪等过程。完成预处理步骤，开始进行图像的分类提取工作。选择的分割方式是多尺度分割，属于一种自上而下(bottom-up)的分割方法，参与影像分割的波段为红、绿、蓝、以及近红外波段。在这里权重都设为1。设置分割的阈值为50之后，分割之后的图像如下，在分类好之后，新建分类系统，在监督分类中，建立清楚的分类体系，选择最近邻分类方法，在图像中选择对应的样本。其中红色部分为所提取的建筑用地，其他颜色为其他地物类别。 据遥感图像上的数据来设置规则，输入归一化植被指数{NDVI}和B1，B2时，选择其相应的数据波段，后面以此变量按照大于(gt)、大于等于(ge)、小于(lt)、小于等于(le)、等于(eq)等数学关系进行决策树的编写，并按波段进行计算，每一个步骤需要执行一次，直到图形中的分类完成，即得到了最终的决策树和提取到的建筑用地。图中的蓝色和紫色部分即为所提取的建筑用地，应用监督分类或者决策树分类，难免在图中还存在着小斑块和未利用地。 在ENVI Classic平台上，点击start ENVI Classic，输入Class_DOIT，进入监督分类页面，了解监督分类相关规则，进行代码的编写。其中ENVI波段运算的函数能够调用用户编写的程序进行定制的处理。波段运算的函数使用变量命名为b1(B1)，b2等。调用波段、波谱函数来使用，进行后续代码的编写。对影像数据进行感兴趣区的选择，因为我的图像建筑物类型比较多，把建筑物分成四类，选择好感兴趣区之后，输出ROI文件，放入指定的文件夹。选择监督分类方法中的支持向量机的方法(SVM)来进行地物的提取，程序代码见附件。其提取结果见图5~7： 图5. 模型1提取结果 图6. 模型2提取结果 图7. 模型3提取结果 常用的精度评价有两种方法：一是ROC曲线，第二种是混淆矩阵，混淆矩阵见表1。在做精度评价时，需要选择对比样本，一种选择标准的分类图；二是选择的验证样本，该设计选择使用感兴趣区域来对设计分类后的结果做精度评价。在完成图像地物识别后，需要对实验的图像分类结果进行正确有效的评价，提取结果见表2~4。通常依据地面真实数据，评估分类结果的准确性和合理性 [ 16 ]。文章采用4个高光谱图像分类精度指标来衡量分类算法的精度：生产者精度(Producer Accuracy, PA)、用户精度(User Accuracy, UA)、整体分类精度(Overall Accuracy, OA)以及Kappa系数。其可以细化为三个二级指标和一个三级指标，分别是准确率(Accuracy)，精确率(Precision)，灵敏度(Sensitivity)也就是召回率，F 1 score。其公式如下。 A c c u r a c y = T P + T N T P + T N + F P + F N (4-1) P r e c i s i o n = T P T P + F P (4-2) S e n s i t i v i t y = R e c a l l = T P T P + F N (4-3) F 1 = T P T P + F N + F P 2 (4-4) Table 1 混淆矩阵 真实值 Positive Negative 预测值 Positive TP FP Negative FN TN 表1. 混淆矩阵 Table 2 User class luodi zhibei daolu Build sum luodi 10 0 0 0 10 zhibei 0 107 0 0 107 daolu 0 0 10 2 12 Build 0 0 0 9 9 sum 10 107 10 11 138 表2. 模型1提取结果 Table 3 User class zhibei daolu build1 build2 sum zhibei 1889 0 0 1 1890 daolu 0 90 1 36 127 build1 0 0 207 1 208 build2 0 6 0 30 36 sum 1889 96 208 68 2261 表3. 模型2提取结果 Table 4 User class zhibei daolu build1 build2 build3 build4 luodi sum zhibei 83 0 0 11 0 0 0 94 daolu 0 34 9 7 15 2 5 72 build1 0 0 79 0 0 0 0 79 build2 0 6 0 33 0 0 0 33 build3 0 0 0 0 167 0 7 174 build4 0 0 0 0 0 87 0 87 luodi 0 0 61 0 0 0 0 61 sum 83 40 149 48 182 89 12 600 表4. 模型3提取结果 结果表明模型1对地物的提取比较宽泛，将地物类型分为了四大类，因此提取的地物块较大，地物不够细化，总体分类精度较高，其总体精度达到98.5%，kappa系数为0.962由于存在异物同谱现象，导致建筑和道路容易错分，其建筑物的提取准确率为81.2%，精确率为83.3%，召回率为100%，其F 1 为0.91。模型2根据光谱特性优化了决策树规则，提取到的地物数量大大增加。其对植被的提取精确度较高，其总体精度为98.0%，kappa系数为0.93。将建筑物的类别根据光谱特性划分为两类之后，其中一类建筑物的分类达到了较高精度，另一类型建筑物继续受到异物同谱的影响，导致一部分道路和建筑物的错分现象。其建筑物提取准确率为91.5%，精确率为89.5%，召回率为97%，其F 1 为0.93。对于模型1和模型2存在的问题，遥感图像上存在蓝顶、红顶、灰顶不同颜色的房屋，模型3采用循环结构 + svm的方法，结合建筑物光谱信息和形状信息，把建筑物细分为4类，取得了较高的提取精度，其建筑物提取的准确率为92.8%，精确率为88.7%，召回率为95%，其F 1 为0.95。在精度有提高的同时，能提取到更多不同屋顶颜色的建筑物。由于有裸地的存在，泥土的颜色和房屋颜色差异不大，导致裸地错分了一部分到建筑物里面，后续地物发生变化之后，模型提取效果会更佳。"
"这3种模型都会出现建筑物和裸地、道路错分在一起的情况，由于研究区域的影像数据很少，决策树受这方面的影响比较小，所有提取的效果还是不错的，假若影像区域大一点，影像数据的地类增多，影响的因子过杂的话，提取效果会大大下降，从而造成比较严重的错分漏分现象。监督分类中基于样本的面向对象方法，若设置好良好的分割尺度和融合之后可以将其分类成良好的具有独立信息的样本，选择良好的训练样本，能够将建筑物信息提取出来。对于模型3，考虑在图像分割时，进行噪声地物的去除，从而进行更精细化的建筑物提取，对多尺度特征的加入进行探索，以求能达到更好的提取准确度。"
