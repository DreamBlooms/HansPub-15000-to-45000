"为解决结构优化设计中存在的成本控制问题，在满足结构自身安全性以及相关设计规范的条件下寻求最低造价，提出一种基于BIM和免疫遗传算法的结构优化方法。首先建立BIM结构模型和以结构造价最低为优化目标的结构优化数学模型，然后对优化算法进行设计和编程，通过软件接口将算法程序与BIM模型对接，实现优化算法和BIM技术的有机结合。最后，通过一个算例验证此结构成本优化体系是切实可行的，将BIM与传统优化方法相结合，将提高工程建设的信息化水平。"
"框架结构是各类建筑中常见的结构形式，由于框架结构所具备的易于满足使用要求的多样性和拥有较好的延性性能这两大特点，使得框架结构在我国建筑市场上始终占据着一席之地。但随着建筑业不断发展，在提高框架结构设计水平方面也展露出了迫切的需求。在确定建筑用途和使用空间后，建设单位与设计单位需要同时考虑结构的受力性能和结构成本的制约，寻求二者均衡的综合优化方法，使得结构既能满足自身安全性和相关设计规范的条件又能实现结构设计阶段的成本控制，以此获得最优的结构设计，提高结构设计水平。国内外学者针对此问题进行了一些研究，Vaez H等 [ 1 ] 根据边界元素的概念和考虑钢筋布置的情况，提出了钢筋混凝土剪力墙的连续优化算法；陆回权 [ 2 ] 构建了一个基于BIM的结构配筋成本优化流程，并以梁和柱为研究重点，建立基于BIM的结构配筋成本优化模型，最后借助BIM技术进行钢筋成本分析、优化配筋以及深化施工图；Mangal M [ 3 ] 提出了一种基于BIM的结构优化框架，使用三阶段混合算法对剪力墙结构中的钢筋进行优化；A Kaveh [ 4 ] [ 5 ] 对比分析钢框架结构不同节点连接情况下采用两种不同优化算法，并比较了两种算法对于当前优化问题的性能。张柳春 [ 6 ] 建立了门式刚架截面优化模型，对遗传算法进行了改进，形成了基于改进遗传算法的门式刚架截面自动搜索优化程序，实现了截面形式和尺寸的协同优化。 传统的优化方法往往是以建立数学优化模型为基础，通过各类优化算法对模型进行求解，最终得到最优设计参数，在此过程中获得的数据信息的规模及准确性决定了优化模型与实际工程的贴合度，也决定了优化结果的合理度。但目前工程建设规模不断扩大，优化目标呈现多样化，传统的优化方法已经难以满足数据信息获取及数据处理方面的需求。 建筑信息模型(Building Information Modeling, BIM)作为新兴信息技术被广泛使用于设计、施工、运维阶段及各阶段的优化工作中，在优化过程中，BIM模型所提供的建筑物几何信息和物理信息等将作为优化工作的数据基础。当建筑物的规模及复杂程度逐渐增大到某一的程度时，仅凭借人力难以掌握所有信息，也无法通过单一技术或方法解决工程建设中的所有问题。因此，将多种技术和理论相结合，通过协同作业共同为现代工程建设服务。"
"BIM擅长可视化优化、工程信息储存和更新，但缺乏定量的理论计算；优化算法等基于优化模型的理论计算方法，具有严谨的定量分析优势，但缺乏工程信息获取渠道，且结果表达不够直观 [ 7 ]。若结合BIM与优化算法，可发挥现代信息技术优势，弥补优化算法中工程数据获取和处理等难题，进而提高工程建设项目优化水平。 为实现上述理念，本文构建BIM技术和免疫遗传算法相结合的结构成本优化架构体系，如图1所示，其中BIM与免疫遗传算法的协同主要通过软件MATLAB与PKPM的对接实现。首先依据设计图纸，利用BIM核心建模软件进行精确建模，生成建筑结构模型，通过BIM获取并处理庞大的工程基础数据，并将模型导入PKPM中完成建筑结构的分析；然后将结构设计和成本相关数据生成excel文件A，并在MATLAB中运行免疫遗传算法程序，修正文件A，输出优化结果excel文件B；最后将文件B导入PKPM中，再次对结构进行分析计算，生成新的设计方案并导出，导出的结构设计方案可以运用BIM模型继续指导施工及其他工作。 图1. 结构成本优化体系"
"优化是在给定的约束条件限定范围内通过对变量的所有取值进行搜索，从而确定一个最佳变量值，最终使得目标函数值最小或最大的过程。优化过程中存在三个要素：设计变量，目标函数，约束条件。  1) 框架柱布局优化 框架柱的合理布局能使结构在满足安全性的前提下，提供较大的建筑空间，最大程度满足使用要求，并在一定程度上降低结构工程造价。本文选择框架柱的柱距作为布局优化的变量。 2) 混凝土强度等级优化 钢筋混凝构件结构是由混凝土和钢筋两部分材料组成 [ 8 ]。在构件配筋阶段，当构件的截面尺寸确定时，钢筋用量和混凝土强度设计值一一对应，因此对混凝土强度进行优化是很有必要的。本文选取每层的框架柱作为优化对象，而框架梁的混凝土等级在优化开始前就预先输入，在整个优化过程中都不再发生改变。 3) 构件的截面尺寸优化 当构件的内力确定时，构件的造价完全是由截面尺寸决定，并且总是存在一个中间值，可以使构件造价降到最低。由此选取梁截面的宽和高、柱截面两个方向的边长为构件截面尺寸的设计变量。  目标函数是指所要达到的目标与其相关的因素或者某一变量与某些变量的函数关系。本文选用结构造价为目标函数，选择既能满足结构安全性和相关设计规范又能使得结构造价最低的设计。结构造价的影响因素有很多，有结构自身的因素，如：建筑构件的尺寸；也有外在因素，如：工人的专业技能、建筑材料的使用及保管、施工机具的合理选用、施工环境的恶劣程度等。为简化计算过程，合理确定约束条件，本文只考虑结构自身变化对结构优化前后的影响，目标函数则定义为结构中所有主体构件的造价之和，以下简称造价，具体计算公式如式(1)、(2)所示。 第i根构件的造价为： C i = C c b i h i l i + C s W 0 ( n l ⋅ l i + n s t ⋅ l s v ) (1) 式中：b i 、h i 、l i ——第i构件的截面宽度、高度、长度； C c ——混凝土单位体积价格； C s ——钢筋的单位重量价格； W 0 ——钢筋的理论重量，W 0 = 0.00617D 2 ，其中D为钢筋直径； nl——整根杆件的纵筋根数； nst——整根杆件的箍筋根数； l sv ——箍筋长度。 结构的总造价为： C = ∑ i = 1 n C i (2) 式中：n为结构总的杆件数。   1) 在规定水平力作用下，位移比满足δmax/δavg < 1.20； 2) 每层最大弹性层间位移角满足δi/hi < 1/550； 3) 周期比满足Tt/T 1 < 0.9； 4) 竖向抗侧力构件的截面尺寸和材料强度相同或者从下至上依次变小。 其中，δmax、/δavg分别表示楼层最大位移和平均位移；δi、hi分别表示第层层间相对位移和层高；Tt、T 1 分别表示结构的第一个扭转周期和第一个平动周期。  1) 正截面强度要求 梁构件的正截面强度要求如式(3)，柱构件的正截面强度如式(4)和式(5)； M ≤ M u (3) N ≤ N u (4) N e ≤ N u e (5) 2) 斜截面强度要求 V ≤ V u (6) 针对不同受力类型的结构构件，其具体计算公式均按照《混凝土结构设计规范》 [ 9 ] (GB50010-2010·2015年版，下文简称《规范》)进行选取，在此不详细列出。  1) 框架梁的截面尺寸 《规范》第11.3.5条规定框架梁截面尺寸应符合下列要求： ① 截面宽度不宜小于200 mm； ② 截面高度和宽度的比值不宜大于4。 2) 框架柱的截面尺寸 《规范》第11.4.11条规定框架柱截面尺寸应符合下列要求： ① 框架柱的最小截面尺寸根据截面类型、抗震等级和层数而具有不同的规定，在此不详细列出。 ② 柱的剪跨比宜大于2； ③ 柱截面长边和短边的边长之比不宜大于3。 3) 钢筋配置 所有构件的截面最大配筋率、最小配筋率，钢筋直径，钢筋最大间距、钢筋最小间距，以及箍筋肢数等参数均根据《规范》确定，力求提高优化结果的可行性。"
"免疫遗传算法的实质就是一种改进的遗传算法 [ 10 ]。它是以标准遗传算法为基础，引入生物免疫机制，模拟抗原识别、抗原与抗体结合以及抗体产生的全过程，并利用免疫系统的多样性和记忆原理，使基本遗传算法具有免疫功能。通过免疫遗传算法对优化问题进行求解的基本原理就是将约束条件和目标函数当作抗原，优化问题的解当做抗体，以此方式来模拟生物免疫系统中利用抗体排除抗原的整个过程。 免疫遗传算法的基本流程如下： 1) 随机产生初始父代种群； 2) 根据先验知识抽取疫苗； 3) 若当前的种群中已经包含最佳个体，算法结束；否则进行以下步骤； 4) 根据抗体浓度和适应度进行复制； 5) 对当前第代父代种群进行遗传操作，得到种群。 然后，重复3)~5)操作直到优化迭代运算收敛。  编码和解码其实是两个互逆的过程。编码是指将问题的可行解转换成算法能够识别并进行操作的字符串，这个过程就是个体基因链的组成过程；相反地，解码是将字符串形式转换成所要优化问题的原始形式的过程。 框架结构中框架柱的布局位置是相互独立的关系，二进制的基因编码特征正符合框架柱布局优化变量的特点，故采用传统的二进制编码对优化变量柱距和混凝土强度进行表示。 1) 柱距 本文采用4位二进制编码代表柱距情况，如图2所示的某框架结构楼层平面图，图中可调整的柱距共有8处，故共需要位编码来表示该层的柱距。0000表示最小柱距，1111表示最大柱距，其他编码通过线性插值并取300的倍数后确定柱距。 图2. 某框架结构楼层平面图 2) 混凝土强度等级 本文采用长度为3的二进制编码表示一层的混凝土强度等级，编码000至111的表示范围从C25至C60。例如，编码011所对应的实际值为C40，编码110所对应的实际值为C55。 本文二进制码解码方法为：每4位编码表示一个可调整柱距的取值情况，若共有n个可调整的柱距，则柱距编码将由4n个字符构成；之后的每3位表示第j层的混凝土强度等级，若结构总层数为m，则编码将由3m个字符构成。因此本文的编码构成如图3所示。 图3. 二进制编码的构成  在遗传算法中，适应度值是一个较为重要的参数，它将直接反应个体对当前环境的适应能力，同时为可行解的优劣程度提供判断依据。适应度值越大的个体被选入下一轮种群进化的概率越大，与之相反的适应度值小的个体往往在迭代过程中被淘汰，这正体现了遗传算法“优胜劣汰”的特点。若确定个体适应度与目标函数之间的数学映射关系，即适应度函数，便可以实现种群进化过程中对于优化问题目标函数的寻优。 造价问题的目标函数是求最小值，这就需要按照适应度函数的非负性原则对目标函数和适应度函数进行合理的转化，以便于准确评估个体的优劣。本文对目标函数进行如式(7)所示的转化，从而得到适应度函数。 F i t ( f ) = { c max − f f < c max 0 其 他 (7) 选择是种群选择父代个体的过程，根据个体适应度值的大小，从种群中选取优秀的个体，淘汰劣质的个体 [ 11 ]。常用的选择方法有适应度比例方法、排序选择法、轮盘赌选择法等 [ 12 ]，本文选用轮盘赌选择法。 交叉操作是模仿自然界生物交配得到子代个体的过程。本文采用单点交叉，其示意图如图4所示，具体操作是随机选取父代个体染色体字符串上的某个或者某几个基因编码进行位置互换，从而得到新的子代个体，进入到下一代种群。 图4. 单点交叉示意图 变异操作模仿了自然界中生物发生的基因突变现象 [ 13 ]。本文采用的变异类型为基本位变异，具体操作为针对基因编码的一位或者几位根据事先设定好的变异率进行变异操作，从而产生新的个体。如图5所示，若黑色代表1，白色代表0，变异操作即为1变0，0变1。 图5. 基本位变异示意图  免疫算子的主要作用是弥补标准遗传算法在搜索过程中出现的盲目性。遗传算法的搜索过程伴随着许多随机过程，可能会出现不收敛或者最优解被删除的情况，故引入免疫算子来解决标准遗传算法的缺陷。本文提取了两个免疫疫苗：混凝土强度等级疫苗和整体约束疫苗。混凝土强度等级疫苗可以将实际工程中的设计习惯和先验知识引入到算法中，使得所有个体所对应的结构都具有可行性；整体约束疫苗是为了明确优化算法的搜索方向，有利于整体适应度和算法的运行效率的提升。 混凝土强度等级疫苗是用于消除结构中可能存在的上层混凝土等级比下层大的情形。本文的混凝土强度等级疫苗直接采用了下层混凝土等级编码，比如编码“010 011”表示的含义是下层混凝土等级为C35，上层混凝土等级为C40，这样的混凝土等级设计显然是不合理的。此时便将代表上层编码“011”视为抗原，下层编码“010”视为疫苗，则疫苗将取代抗原形成新的个体“010010”，即上下两层均采用C35混凝土等级。整体约束疫苗是用来避免结构出现不符合整体约束的情形。整体约束疫苗包括位移比、位移角和周期比三项约束指标。  网格搜索法是指定参数值的一种穷举搜索方法，即将各个参数可能的取值进行排列组合，列出所有可能的组合结果生成“网格” [ 14 ]。在将所有参数组合代入拟合函数后，选取其中最佳的参数组合为最优解。 若将所有截面尺寸都转换为二进制编码，参与种群进化，基因编码将变得非常冗长，种群的规模会增多数倍或几十倍，收敛所需要的世代数也将成倍增长，因此运用网格搜索法单独优化构件的截面尺寸。网格搜索法是本文免疫遗传算法的有机组成部分，只有完成了网格搜索法，才能计算个体的适应度。 构件截面尺寸优化变量包括梁截 面的宽和高、柱截面的短边边长和长边边长。各构件截面尺寸的上、下限值事先确定，考虑到施工制作的方便程度，其余可供选择的尺寸在800 mm以下的按模数50 mm进行取值，800 mm以上的按模数100 mm进行取值。以某梁构件为例，选取最小高宽比和最大高宽比分别为1.5和2.5，最小宽度和最大宽度分别为200 mm和400 mm，则可选取的截面尺寸如表1所示。 Table 1 高 宽 300 350 400 450 500 550 600 650 700 750 800 900 1000 200 √ √ √ √ √ 250 √ √ √ √ √ 300 √ √ √ √ √ √ √ 350 √ √ √ √ √ √ 400 √ √ √ √ √ √ √ 表1. 某梁截面的高、宽参数组合 若将这些解转化为平面空间中的点集，则将形成如图6所示的网格状图形，故将此法称为网格搜索法。以梁为例，首先固定梁截面宽度，依次增大梁截面高度进行试算，一旦截面的配筋率达到最小配筋率退出内层循环(即截面高度不再增大)，回到外层循环(即将梁截面宽度增大50 mm)，直到试算完所有的可行解。 图6. 某梁截面尺寸优化的网格搜索法路线图  本文算法的总体流程如图7所示。 图7. 算法流程图"
"为论证本文提出的结构优化体系的可行性，以一个三层钢筋混凝土框架结构为例，算例结构平面图如图8所示。 图8. 算例结构初始平面示意图 该结构首层层高3.6 m，其余层高均为3 m，混凝土等级均为C40，构件截面尺寸初始设计值如表2所示。设计使用年限50年，建筑结构安全等级二级，框架抗震等级二级，地面粗糙度为B类，地震设防烈度为7度设防，设计地震基本加速度值为0.1 g，特征周期为0.40 s。楼面恒荷载取值5.0，活荷载取值2.0，基本风压为0.38。 Table 2 层数 砼强度等级 构件截面尺寸/mm Z1 Z2 L1 L2 一 C40 (C30) 600 × 600 (500 × 500) 550 × 550 (500 × 500) 300 × 550 (250 × 500) 300 × 600 (250 × 500) 二 C40 (C30) 500 × 500 (500 × 500) 550 × 550 (450 × 450) 300 × 550 (250 × 500) 300 × 600 (250 × 500) 三 C30 (C30) 500 × 500 (450 × 450) 500 × 500 (400 × 400) 300 × 500 (250 × 500) 300 × 550 (250 × 500) 柱距/mm 变量序号 1 2 3 4 5 6 7 优化前 6600 6000 6000 6600 6000 1800 6000 优化后 7200 5400 5400 7200 5400 3000 5400 表2. 变量优化前后数值 采用免疫遗传算法和网格搜索法共同求解，并在MATLAB软件中编写算法程序，具体设置如下：种群规模P = 20，最大迭代次数G = 20，交叉概率 = 0.5，变异概率 = 0.2，接种概率 = 0.2。运行程序后得到各迭代数次下种群的统计数据如图9所示，可以看出，计算运行结果的收敛性良好，经过数次迭代，最优造价趋于稳定。此时，优化结构造价23.94万元，相比原结构造价29.62万元，成本降低了19.2%，优化后的变量参数如表2括号内数值。 图9. 各代种群统计数据"
"BIM作为新兴信息技术被广泛使用于设计、施工、运维阶段及各阶段的优化工作中，在优化过程中，BIM模型所提供的建筑物几何信息和物理信息等将作为优化工作的数据基础。本文以BIM技术为信息技术支撑，数学模型和优化算法为数学支撑，构建了基于BIM和免疫遗传算法的结构优化体系，建立了钢筋混凝土框架结构的优化数学模型。主要得到以下结论： 1) 基于BIM的结构优化体系是为了系统的指导工程项目设计阶段结构优化环节而构建的流程体系，对推动结构优化理论及指导实际工程项目都具有重要意义。 2) 在结构优化中引入BIM技术，有利于提高工程建设的信息化水平，发挥现代信息技术优势。 3) 通过一个算例验证得到上述体系、模型、算法的可行性和正确性，这对于结构优化理论和工程实践都具有十分重要的意义。"
