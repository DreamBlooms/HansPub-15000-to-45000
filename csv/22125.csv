"某型号火箭炮伺服系统的特征参量，如谐振频率、阻尼、燃气流冲击以及负载干扰等，会随着带弹量、目标位置的变化以及工况变化的影响而相应产生相当大的变化，使得系统的不确定性非常大，让控制系统的设计者感到困难。 1982年，C. E. Garcia和M. Morari提出具有模型、控制、反馈环节的内模控制结构，其产生背景主要有两个方面：一是对当时的两种预测控制算法MAC和DMC进行系统分析；其次是作为Smith预估器的一种扩展，其设计更为简单，鲁棒性及抗干扰性大为改善。内模控制(Internal Model Control，简称IMC)是一种基于过程数学模型进行控制器设计的新型控制策略。IMC具有实用性强，结构简单，设计直观，不需要精确的对象模型，在线调节参数少，调整容易等优点。特别是对于鲁棒性及抗干扰性的改善和对大时滞系统的控制，效果尤为显著，而且也为非线性系统的控制提供了一条有效的途径。由于具有良好的跟踪性能和抗干扰能力，并对模型失配有一定的鲁棒性，使其在工业过程控制中获得了越来越广泛的应用。此外，内模控制还和许多其它控制方式相结合，如内模控制与模糊控制、内模控制和自适应控制、内模控制和最优控制、预测控制的结合使内模控制不断得到改进并广泛应用于工程实践中，取得了良好的效果。 本文通过对永磁同步电机转速特性的分析，采用自抗扰技术实现对电机速度的控制，该控制器由跟踪微分器(TD)、扩张状态观测器(ESO)、非线性状态误差反馈3部分组成 [ 1 ] 。该方法不依赖系统的具体数学模型，不区分系统的内部与外部扰动，而是直接观测并实时补偿系统的总扰动，使系统的鲁棒性强。"
"火箭炮伺服系统由PMSM、控制器、驱动器、传感器等组成，其目的是实现对给定位置的精确跟踪。假设定子为三相对称绕组，转子无阻尼绕组，气隙磁场呈正弦分布，磁路不饱和，不计磁滞和涡流损耗影响，PMSM的数学模型为： { ω ˙ = 3 p ψ f 2 J i q − B J ω − T L J d i q d t = − R L i q − p ω i d − p ψ f L ω + u q L d i d d t = − R L i d + p ω i q + u d L (1) 式中： ω 为转子机械角速度， p 为磁极对数， ψ f 为转子永磁体在定子上的耦合磁链， J 为折算到电机轴上的等效转动惯量， i d 、 i q 为定子电流矢量的 d 、 q 轴分量， B 为粘性摩擦系数， T L 为负载转矩(由摩擦力矩、惯性力矩叠加折算而成)， R 为绕组电阻， L 为绕组电感， u d 、 u q 为定子电压矢量的 d 、 q 轴分量。"
"内模控制器(IMC)的基本结构如图1(a)所示 [ 2 ] ， G ( s ) 为实际被控对象， G m ( s ) 为被控对象的数学模型， G I M C ( s ) 为内模控制器。将 图1(a)变换得到内模控制的等效结构如图1(b)所示。 对(1)进行Laplace变换，得到 U d ( s ) = L s I d ( s ) + R I d ( s ) − L p ω I q ( s ) (2) U q ( s ) = ( L s + R ) I q ( s ) + L p ω I d ( s ) + p ψ f ω (3) 由于 ψ f 为常数，可以定义如下的变换： U ′ q ( s ) = U q ( s ) − p ψ f ω (4) 得到： U ′ q ( s ) = ( L s + R ) I q ( s ) + L p ω I d ( s ) (5) 图1. 内模控制及等效反馈控制结构 令 I ( s ) = [ I d ( s ) I q ( s ) ] , U ( s ) = [ U d ( s ) U ′ q ( s ) ] 可得： I ( s ) = G ( s ) U ( s ) (6) 其中 G ( s ) = [ R + L s − L p ω L p ω R + L s ] − 1 对于PMSM的电流环控制， R ( s ) = I * ( s ) ( I * ( s ) 为给定电流信号)， Y ( s ) = I ( s ) ，如果 G I M C ( s ) = G − 1 ( s ) ，则构成内模控制使得输出 Y ( s ) = R ( s ) ，输出电流可以直接跟踪给定电流。 由于 G ( s ) 中没有纯延迟和右半平面零点，系统稳定。为了使系统具有一定的鲁棒性，可以加上一个前馈低通滤波器 Γ ( s ) ，则： G I M C ( s ) = G m − 1 ( s ) Γ ( s ) (7) 其中 Γ ( s ) = d i a g [ ω c s + ω c , ω c s + ω c ] 式中： ω c 为调节参数。 故设计的内模电流调节器为： G I M C ( s ) = G m − 1 ( s ) Γ ( s ) = [ R + L s − L p ω L p ω R + L s ] Γ ( s ) (8) 把内模控制的电流调节器等效成图1(b)所示的反馈控制器为 D ( s ) = ω c s [ R + L s − L p ω L p ω R + L s ] (9) 则可以得到PMSM电流环内模控制为 U d = ( ω c L + ω c R s ) I d − p ω ω c L s I q (10) U q = ( ω c L + ω c R s ) I q + p ω ω c L s I d + p ω ψ f (11)"
"自抗扰控制器通过跟踪微分器为给定输入信号安排过渡过程，并提取其微分信号，然后利用扩张状态观测器得到系统内外扰动的估计 [ 3 ] [ 4 ] 。最后利用非线性反馈控制律得到控制量。首先定义速度环内外扰动： d ( t ) = − B J ω − T L J (12) 根据(1)， ω ˙ = 3 p ψ f 2 J i q + d ( t ) (13) 由(13)可以看出，电机的速度方程为一阶方程，其二阶扩张状态观测器可以设计为 { ε = ω − z 21 z ˙ 21 = z 22 − β 01 f a l ( ε , α 1 , δ ) + b u ( t ) z ˙ 22 = − β 02 f a l ( ε , α 2 , δ ) (14) f a l ( ε , α , δ ) = { | ε | α s a t ( ε ) | ε | > δ ε / δ 1 − α | ε | ≤ δ (15) s a t ( ε , ς ) = { ε / ς | ε | ≤ ς s i g n ( ε ) | ε | > ς (16) 非线性状态误差反馈控制律设计为 { ε 1 = ω * − z 21 u 0 = β 03 f a l ( ε 1 , α 3 , δ 1 ) u = u 0 − z 22 / b (17) 式中， ω * 为参考速度， ω 为输出信号， ε 1 为速度误差； z 21 为速度的跟踪信号， z 22 为扰动信号 d ( t ) 的观测值， u 0 为非线性状态误差反馈的输出， u 为系统控制变量， b = 3 p ψ f / 2 J ； β 01 ， β 02 ， β 03 为输出误差的增益； δ 为扩张状态观测器的滤波系数； α 1 ， α 2 ， α 3 为非线性因子。"
"针对某火箭炮交流调速系统，参数如表1所示： 自抗扰控制器的参数设计为： β 01 = 5080 ， β 02 = 4100000 ， β 03 = 0.5 ， α 1 = 0.8 ， α 2 = 0.48 ， δ 1 = δ 2 = 0.5 ， ς 1 = ς 2 = 0.6 。内模控制器的参数设计为： ω c = 4900 ， d 轴参数变化估计的自适应律的参数设计为 [ 5 ] ： γ = 0.05 ， k p 1 = 11 ， k i 1 = 1600 ； q 轴参数变化估计的自适应律的参数设计为： k p 2 = 19 ， k i 2 = 5100 。 为了比较所提出控制策略的有效性，与传统的控制方法进行了仿真比较。传统方法的速度环使用PI控制 [ 6 ] ，电流环采用内模控制器；本文提出的控制策略 [ 7 ] ，速度环采用自抗扰控制器，电流环采用基于参数变化估计的内模控制器。位置环均采用PID控制。系统在1 s加入阶跃负载干扰14.86 N·m以及系统转 Table 1 系统参数 符号 单位 数值 转动惯量(折算至电机输出轴) J kg·m 2 2.627 × 10 −3 不平衡力矩及摩擦力矩(折算至电机输出轴) T f N·m 4.86 燃气流冲击力矩(折算至电机输出轴) T r N·m 10 电磁转矩系数 K t N·m/A 1.11 阻尼系数 B N·m·s 1.43 × 10 −4 定子电阻 R a Ω 2.6 绕组电感 L d = L q H 50 × 10 −3 额定电流 I e A 6.4 电机额定转速 n rpm 3000 容许最大电流 I max A 12.8 磁极对数 P n 4 表1. 俯仰位置伺服系统参数 动惯量减小50%时，采用传统方法与本文方法的仿真结果如图2，图3所示。1为传统方法的响应曲线，2为本文方法的响应曲线。由以上仿真结果可以看出，本文的自抗扰控制器的位置跟随性能明显好于传统控制器，可以使系统获得更强的鲁棒性和更好的抗干扰性能。"
"为了实现交流位置伺服系统的高精度位置控制，提出将一种自抗扰内模控制策略应用于交流位置伺 图2. 外加负载扰动响应曲线 图3. 系统转动惯量减小50% 服系统，以抑制各种不确定因素对受控对象的影响，增强系统的鲁棒性。仿真结果表明，这种控制策略既可以满足伺服系统的跟随特性，又可以有效地抑制干扰，降低系统对参数摄动的敏感程度。采用这种方法后，伺服系统的精度较高、鲁棒性强，可以满足指标要求，具有实际应用前景。"
