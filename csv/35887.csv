"随着新时代的发展，网络犯罪和网络暴力逐年增多，公安机关网安部门作为维护网络社会秩序的警察侦办的案件在增长。公安信息化随着计算机、互联网的信息科技化技术的发展已经得到了很大的提高，传统的案件管理系统并不适用于网安部门，现如今，很多网安民警在侦办案件时还采取线下手段进行案件审批，由于网安案件类型和使用手段要求的特殊性，导致案件的相关文书的审批手续十分繁琐。存在着案件管理缺乏整体规划、文书流程繁琐等问题 [ 1 ]。案件管理应该紧贴时代的发展，从这一点上以信息化的手段突破瓶颈，减轻公安机关网安民警的工作压力，更高效地打击犯罪。笔者根据公安部下发的网络技术措施使用规范的要求，结合四川省公安机关网安部门的实际工作经验，建设一个工作流审批的案件管理系统，希望能够给公安机关的实际工作带来便利。 关键词 :案件审批，JAVA，工作流 Copyright © 2020 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY 4.0). http://creativecommons.org/licenses/by/4.0/"
"近年来，公安信息化建设越来越受到国家的重视，信息化建设能够推动新时代公安实现高质量的发展。在国内犯罪案件发生频率高居不下的今天，公安人员办案也经受着巨大的压力，当案件发生时，公安办案人员往往采用纸张来记录案件相关信息，这种方式不仅效率低下，而且案件的存储记录也十分困难 [ 2 ]。针对目前公安办案系统在对案件信息收集、案件信息管理、案件文书审核审批、案件归档等方面存在着缺乏整体规划、手续繁琐、人力要求太高等多种问题，导致不能满足新时代公安科学规范的管理和实战的要求 [ 3 ]。基于工作流审批的案件管理系统会是一个弥补以上缺陷而设计的一个系统。 案件管理的信息化是必须的，本文的案件管理系统是针对公安机关网安部门日常办案的需求，网安部门作为新时代公安的标志之一，被称为网络上的警察，他们能够高效合理地运用网络资源打击犯罪，所以采用网络的手段是网安民警的必备技能；同时由于网络资源除了会有公开数据资源和低敏感数据资源外，还有行为数据资源、轨迹数据资源、高敏感数据资源、内容数据资源等比较敏感的资源 [ 4 ]，所以资源必须合法合理的运用；另一方面，网络资源是有限的，必须高效的运用。所以公安部对网络资源的运用有明确的规定，即网络资源的运用都必须有缘由，而案件侦办就是使用网络资源的依据 [ 5 ]。建设案件管理系统，也是落实正确合理使用网络技术措施手段、高效行使公安机关网安部门职责的正确手段。"
"工作流即Workflow [ 6 ]，它是办公领域中的先进技术，当它和Web技术相融合的时候，集成化的组件使得工作流能够很好的应用与业务流程处理中。工作流是一种计算模型，计算机可以通过这种计算模型实现对每一步工作的有效记录，按照计算模型的工作运行顺序、角色配置、任务内容、工作时间执行工作流的流程模型 [ 7 ]。工作流引擎是工作流能够运行的核心，引擎包含了规则引擎、表单引擎和数据转换引擎，它会对流程过程的定义做解释以及对流程进行实例化 [ 8 ]。基于工作流开发软件时，能够使业务流程根据定义好的工作流程运行，可以让程序开发脱离工作流程的束缚，实现低耦合性的优点。  系统的案件审批流程较为复杂，涉及了网络安全监督检查、案件初查、刑事案件、行政案件、信息管控、情报专案、重点人管控7类案件；同时有案件建立文书、呈请采取网络查询文书、呈请采取网络侦控文书、案件延期文书、案件阶段性报告文书、案件终结文书6类文书；行政区划涉及省、市、区县3级；不同的案件、文书、区域组合的审批流程都不尽相同，而且有些特定的案件类型只在特定区域里创建，呈请采取网络查询文书、呈请采取网络侦控文书的审批也会根据使用的数据资源类别不同而不同，数据的资源类别又可以分为公开数据、身份数据、地址数据、行为数据、轨迹数据、群聊数据、高敏感数据、内容数据8类。 审批流程的多样性和复杂性大量增加了线下审批的难度，也很难保证各类文书审批的实时性，往往会出现审批过程耗时长，审批中间环节搁置，审批流程混淆，审批的纸质文件遗失等头疼的问题。借助计算机系统实现审批的线上化成了网安民警办案人员和相关审批人员的迫切需求，在案件管理系统上进行案件文书的审批，不仅能够提升效率，也能保证审批的统一性，在需要对现有审批流程作优化调整时也能做到统一调整的作用。通过分析对案件文书相关规定的解读，结合网安民警的实际需求，设计了案件的审批流程，如图1为审批流程的表格图： 图1. 审批流程表格图  下面将以区县的各类文书的审批详细介绍文书审批流程。首先是建立案件的审批流程： ① 案事件初查流程：网安民警–网安大队负责人 ② 安全监督检查流程：网安民警–网安大队负责人 ③ 信息管控流程：网安民警–网安大队负责人 ④ 行政案件流程：网安民警–网安大队负责人–公安机关负责人 ⑤ 刑事案件流程：网安民警–网安大队负责人–公安机关负责人 ⑥ 情报专案流程：网安民警–网安大队负责人–公安机关主要负责人 ⑦ 重点人管控流程：网安民警–网安大队负责人–公安机关主要负责人 可以看出，案件的建立可以分为三类流程：案件初查、安全监督检查、信息管控为一类，行政案件、刑事案件为一类，情报专案、重点人管控案件为一类。设计对应的工作流时，针对区县案件的建立文书的审批只用3个工作流就可以实现审批。  《网络信息查询报告书》的审批，网络信息查询报告书的审批流程取决于所选择的数据资源种类，数据资源类型虽然有8类，区县只能使用前6类数据，其中前4类数据资源为一类审批，使用的资源包含后两类数据资源时为另一类审批。图2为审批的流程图。 图2. 区县网络信息查询报告书审批流程图  相比与《网络信息查询报告书》的审批，《网络侦控报告书》的审批环节会更多一些，总共需要6级审批，原因是《网络侦控报告书》使用要求更高的网络技术措施手段，使用它会设计到所有的8类数据资源，但由于区县行政区划等级的限制只能使用前6类数据资源，由于使用要求高，审批最后会跨越网安部门，终审需要公安机关负责人审批。如图3为《网络侦控报告书》的审批流程。 图3. 区县技术侦控措施报告书审批流程图 案件建立文书和网络措施使用的两类文书介绍完了，这也是系统最核心的文书。其他的文书还有延期报告文书、终结报告文书、阶段性报告文书目前的审批流程目前参照的是案件建立的流程。其中所有案件都必须要有终结报告文书和延期报告，而阶段性报告是情报专案和重点人管控这两类案件特有的。  针对案件管理系统中审批业务中流程呈现规范而又多样的特点，采用结合工作流引擎开发的方式来实现审批相关业务。下面将从角色定义、审批内容、流程设计、动作设计和可配置性设计这几个方面介绍系统的工作流设计。 1) 工作流的角色定义，参考了权限管理中的角色，选取了其中的6个角色参与工作流中各个流程，其中网安民警作为工作流的唯一发起者，网安业务部门负责人、网安法制员、网安部门负责人、网安部门主要负责人、公安机关负责人作为工作流的审批者。 2) 工作流的审批内容，案件管理系统中的审批任务都是伴随有相关文书的生成，所有审批的内容即为文书的内容，所以内容展示文书对应的文书页面，如一个刑事案件的申请，审批内容展示文书的pdf图片，并每审批一步就在图片对应的审批意见栏添加相应内容。 3) 工作流的流程设计，由于每个角色都可能存在多个用户的情况，用户可以自主选定审批人进行审批，系统设计为串行的审批流程，即只能选择一个下步审批人；同时在审批驳回时，会被驳回到发起人，如图4为案件审批的工作流流程图；然后是流程的条件触发设计，有时候会出现根据条件选择下一步的审批人角色，案件管理系统中主要是文书审批中会根据文书内容中数据资源类型作为触发条件，数据资源类型共8类，分别是：公开数据、身份数据、地址数据、行为数据、轨迹数据、群聊数据、高敏感数据、内容数据。前4、6、8类数据分别为触发条件。 图4. 案件工作流流程图 4) 工作流的动作设计，动作主要分为提交、通过、驳回和取消；申请时需要同时提交相应任务完成的内容信息，通过和驳回时都提供可选的原因说明输入。取消操作会根据审批任务进行配置是否可取消，如各类案件建立的审批，设置为不能取消审批，而案件结案时，可能会有新的案件进展而取消案件结案的审批。 5) 工作流可配置性相关的设计，工作流的核心意义是使得流程可配置，一般工作流的流程配置在系统后台进行，这样的设计就缺乏了灵活性和用户友好性。本系统设计为工作流有用户可以自己配置的工作流配置页面，包括审批流程的类型可以选择修改，审批的各个环节可以修改其定义，各个环节的角色也可修改。"
"根据审批流程定义工作流，审批流程相同的几个审批可以共用一个审批工作流，下图为根据所有业务流程定义的10个工作流，共有21个工作流覆盖了所有的审批流程。图5是案管系统定义的最新版本的工作流程。 图5. 工作流程定义界面 图6展示了一类审批流程图的定义界面。工作流主要由节点和连线组成，节点主要有开始节点、业务节点、条件节点和结束节点，还有图7展示流程图中对应的业务节点属性的定义。 图6. 工作流流程图定义界面 图7. 工作流节点属性定义 开始节点是工作流的入口，不用进行具体的配置，业务节点是配置的重点，一个业务节点一般需要配置以下内容： 1) 基本属性，基本属性包括节点的名称、环节代码和描述，其中环节代码的作用可以帮助工作流唯一的确定该节点。 2) 业务设置，包括了操作类别、业务操作、操作参数和事件bean，本系统主要用到了前三个设置，其中操作类型系统默认抢先(一般)，业务操作为审批页面，业务本身是案件的审批，案件的审批主要是用户进入审批页面，页面中加载对应的审批文书内容(pdf格式的文书样本)，用户通过审批页面的功能按钮实现审批的目的；操作参数主要定义了下一步审批人的角色代码，用户在当前审批节点点击通过后会根据下一步审批人的角色代码找到下一步审批人。 3) 权限定义，权限定义包括机构表达式、角色类型和角色编码。首先是选定角色所在的机构表达式，进一步才能选择类型，案件文书的审批的工作流，流程的第一个业务节点一般为办件角色、其他业务节点为审批角色，角色代码即选择对应的审批人。  工作流定义完成后，下一步是定义审批任务，审批任务定义主要有三个要点：第一选择工作流，即选择审批任务需要执行的工作流流程；第二定义任务编码，任务编码是案件管理系统业务在选择调用任务时的唯一标识，第三定义回调地址，审批每完成一步都会调用回调，案管系统后台收到回调后就会做对应的操作，实时更新案件或者文书的审批状态，同时在任务日志中记录审批日志。下图8是定义审批任务的界面实现和定义好的审批任务： 图8. 新增审批任务 审批任务列表如图9，每个任务都有唯一的编码，对应案管中调用任务的唯一值。 图9. 审批任务列表 用户在每执行一步审批案件操作后，都会调用回调接口，调用时会传入审批任务实例id，审批的文书或者案件类型、审批结果。回调接口会根据实例id找到对应的审批实例，根据类型和结果进行具体的数据更新。其中案件建立的审批通过后会修改案件状态为已审批；案件终结的审批通过后会修改案件状态为已结案；案件延期报告的审批通过后会修改案件的有效截止日期；所有的审批通过后都会修改文书的状态为已审批，包括7类案件建立的文书、延期报告文书、呈请采用网络信息查询文书、呈请采取网络技术侦控文书、阶段性报告文书、终结报告文书，从而实时的在页面中更新审批进度。   用户登录案件管理系统进入首页如图10，首页会展示在办案件、处理中案件、已结案件的简要信息，点击“快速新增案件”就可以录入案件的信息。案件的基本信息包括：案件名称、案件类别、案件性质、案件来源、归档期限、密集、提请单位、创建人、联系方式、填写时间、基本情况和备注。特殊的案件会录入特殊的信息：行政案件和刑事案件需要上传受案登记表和立案决定书，情报专案需要填情报专案类型，重点人管控需要录入重点人类型和重点人的基本信息。 图10. 案件管理系统首页  案件管理主要包括案件共享、案件移交、案件延期、案件注销、案件结案。案件建立以后，用户可以共享给其他用户，被共享的人员无需重复常见案件，即可查看案件的所有信息。当用户的案件需要移交给其他办案人员侦办时可以采取移交操作。一般案件的有效期为1个月，情报专案和重点人管控的有效期为3个月，用户认为案件有效期不够使用时可以选择案件延期操作，延期需要审批，审批同意即可生效，案件注销只针对为审批的案件，审批过后的案件不能注销，案件侦办完成后可以选择结案操作，结案也需要审批，结案人需要填写结案报告，结案审批通过后，案件变为结案状态。 案件共享：共享用户时除了选择被共享的用户外，还需要填写必要性说明。案件移交：点击案件移交后会让用户选择移交的用户，可选用户会从用户的组织机构树中选取。案件延期：点击案件延期按钮后，会让用户填写延期报告，延期报告的内容包括：案件名称(默认填入)、案件编号(默认填入)、延期时间、文书编号、延期必要性说明、备注(选填)这些信息。案件结案：申请结案时会填入案件名称、以及案件的工作成果、承办人意见一般指发起结案的网安民警的意见。"
"与传统的案件审批相比，基于工作流的审批更具有以下的优势：首先，从系统的实现上来看，基于工作流来制定审批流程，只需要通过工作流的定义界面定义好需要的各种工作流，这一步的操作相对简单且通俗易懂。然后在审批之前根据审批的任务类型，调用工作流引擎，找到审批的下一步并完成审批人审批的操作，接着根据这一步的审批结果来实现案件文书相关信息的变动，整个流程都可以通过实现一个通用的模块来完成，而传统审批系统中需要每个审批流程都用一套代码实现或者通过众多的分支来实现整个审批流程，所以基于工作流来实现案件的审批更加容易，减少了系统开发的开发人力时间成本。其次，在系统的灵活性上有明显的优势，流程并不是一成不变的，传统的案件审批系统在面对审批流程变动时需要专业的开发人员修改系统的底层实现，而且整个工作可能会随着流程的复杂性增加而变得困难，针对本系统的业务多样性和复杂性都高的情况，传统的案件审批不适用于审批流程有大变动的情况，而且本系统的用户群针对了省市县不同的用户群，审批的流程往往会有地方性的特点，流程的灵活性就显得尤为重要了，基于工作流来审批案件相关文书，可以针对实际情况快速调整，且通过用户自身就能做到，减少了系统维护的相关工作。 科技的发展带动各个行业的发展，人民公安负责案件的侦破，保护人民群众的生命财产安全不受到损失，是和谐社会的保护伞；公安行业作为维护治安打击犯罪的中坚力量，也需要跟随时代的步伐，利用科技化的手段执法不仅是提高公安机关战斗力的重要途径，也是在为社会稳定做积极贡献。本系统针对网安民警侦办案件的实际需要出发，旨在解决案件文书审批繁琐和不规范等实际问题。后续还会对系统的功能进行进一步的扩展，还要实现案件卷宗等模块的开发，真正实现一个系统覆盖案件相关尽可能多的功能。"
