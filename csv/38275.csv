"复合材料具有高减重效率及比强度、比刚度高的优点，已经广泛地应用于航空结构件。为了计算层合板复合材料的层间应力，必须按层建立三维有限元模型。应用有限元软件进行锥壳复材的模型建立，通过PCL编程实现材料特性的自动建立方法。为层压复合材料板层间应力的计算提供一种快捷、准确、有效的模型建立途径。"
"基于经典层压板理论的复合材料板壳分析主要用于分析层压板的面内应力分布，无法考虑各子层之间的相互作用 [ 1 ]。由于结构形式的多样性，以及层压板铺层顺序和方向的任意性，三维数值分析似乎是唯一能够胜任层间应力分析的方法 [ 2 ]。采用有限元软件进行实体建模，采用实体单元进行离散化 [ 3 ]，计算在温度环境下受面内压载荷作用某锥壳复合材料结构的层间应力。"
"为了计算层合板复合材料的层间应力，每层必须以实体单元进行网格划分，由于铺层方向的不同，局部坐标系的X轴要与铺层方向一致，这就导致需要建立一系列局部坐标系，材料特性按照局部坐标系逐一描述。 锥壳复合材料结构不同于平板结构，相同层按照剖分密度也需要建立局部坐标系，只有这样，才能满足严格的材料特性输入要求。有鉴于此，用PCL二次开发工具建立了材料特性的自动输入，大大提高了模型建立时间。 根据锥壳复合材料结构的参数形式，设计了图1所示的结构参数输入菜单。主要的PCL函数 [ 4 ] 是： a) uil_primary.get_menubar_id() //菜单标识 b) ui_menu_create() //创建菜单 c) ui_cascadeitem_create() //创建菜单条目 d) ui_item_create() //创建子菜单 e) ui_exec_function() //显示菜单条目 复合材料锥壳参数输入窗体 根据锥壳复合材料结构的参数描述，应用PCL语言编写了输入窗体。该程序需要应用有限元软件提供的窗体筐架定义(appforms.p, appstrings.p, uiforms.p)，同时所编写的PCL程序需要应用CPP编译转换为CPP程序，以此就包含了窗体筐架定义参数。主要的PCL函数是： a) ui_form_create() //建立窗体 b) ui_labelicon_create()//建立标识符 c) ui_databox_create( )//数据输入 d) ui_form_display() //显示窗体 e) ui_form_hide() //隐藏窗体 f) ui_writec() //消息输出 g) ui_wid_get() //获取输入数据 图1. 复合材料锥壳的参数输入菜单窗体"
"锥壳层合板复合材料共22层，单层厚度0.12 mm，铺层方向参见表1。由于每层厚度很小，网格尺寸受到限制，因此选取结构四分之一，根据结构循环对称，四分之一结构便利于约束的施加。网格划分：周向120等份，径向35等份。有限元模型见图2。 图2. 层1、9、12、20有限元模型  由于铺层方向包含45˚铺层形式，无法按照柱坐标进行描述，必须采用局部直角坐标。根据铺层方向，首先依据铺层方向建立4个基准局部坐标系(表1)，其它局部直角坐标系按照按周向120等份旋转而成，即： a) 铺层方向为0˚时，coord 1，coord 5：123；单元特性：D1-**； b) 铺层方向为45˚时，coord 2，coord 124：242；单元特性：D2-**； c) 铺层方向为90˚时，coord 3，coord 243：361；单元特性：D3-**； d) 铺层方向为−45˚时，coord 4，coord 362：480；单元特性：D4-**。 这样，共建立了480个局部坐标系(图3)。 图3. 局部坐标系显示  480个局部坐标系就意味着需要选择480次单元，虽然按照表1的描述可以清楚地完成材料特性的建立，但是，由于单元太多，逐一选择需花费太多时间而且容易出错。通过PCL编程实现材料特性的自动建立方法。 Table 1 层号 铺层方向/˚ 单元编号 局部坐标系 Ceng-1 45 1:4200 Coord 2 Ceng-2 −45 4201:8400 Coord 4 Ceng-3 90 8401:12600 Coord 3 Ceng-4 0 12601:16800 Coord 1 Ceng-5 90 16801:21000 Coord 3 Ceng-6 −45 21001:25200 Coord 4 Ceng-7 0 25201:29400 Coord 1 Ceng-8 90 29401:33600 Coord 3 Ceng-9 45 33601:37800 Coord 2 Ceng-10 0 37801:42000 Coord 1 Ceng-11 90 42001:46200 Coord 3 Ceng-12 45 46201:50400 Coord 2 Ceng-13 −45 50401:54600 Coord 4 Ceng-14 90 54601:58800 Coord 3 Ceng-15 0 58801:63000 Coord 1 Ceng-16 90 63001:67200 Coord 3 Ceng-17 −45 67201:71400 Coord 4 Ceng-18 0 71401:75600 Coord 1 Ceng-19 90 75601:79800 Coord 3 Ceng-20 45 79801:84000 Coord 2 Ceng-21 0 84001:88200 Coord 1 Ceng-22 90 88201:92400 Coord 3 表1. 铺层方向、组号及单元编号  由有限元模型可以看出，每层形式完全相同，单元编号非常规律，这正是程序实现的基本条件。按照有限元软件提供的PCL函数elementprops_create编写，elementprops_create具体描述如下： elementprops_create (D1-1, 71, 25, 30, 1, 1, 7, [13, 21], [5, 9], [m:m1-1, Coord 4], Element 16766:16800 29366:29400 41966:42000 62966:63000 75566:75600 88166:88200) 对于上述函数，粗体字为编程时需要更改的内容。按照表1的单元编号，以其所在层位置进行相应的替换。图4给出层4、7、15、21的第一剖分区域单元的首末单元编号的自动选择。 图4. 层4、7、15、21的单元的首末单元编号  PCL执行共有两步：第一步，在有限元软件平台的最底端命令输入窗口输入：!!input tx_shengcheng.pcl；第二步，在有限元软件平台的最底端命令输入窗口输入：tx_shengcheng。这样就完成了材料性能输入，图5给出了D1-100特性数据描述，其中粗线圆内容为自动选择，粗线方框内容为自动形成。"
"图6给出锥壳复合材料整体位移云图，各层位移虽有差异，但差异很小，而且变形形式与整体位移完全相同；图7给出锥壳复合材料整体等效应力云图。表2给出工况2层间应力计算结果。由表2可以看出：各层剪应力很小，最大剪应力为1.43E−3 MPa，发生在第1层与第2层之间；各层主应力小于0.1 MPa，最大主应力为9.66E−2 MPa，发生在第21层与第22层之间。 图5. D1-100特性数据描述 图6. 工况2整体位移云图 图7. 工况2整体等效应力云图 Table 2 组号 τ yz /MPa τ zx /MPa σ z /MPa Ceng-1 6.05E−4 1.43E−3 9.01E−2 Ceng-2 6.76E−4 8.98E−4 5.82E−2 Ceng-3 6.76E−4 6.44E−4 5.99E−2 Ceng-4 4.91E−4 6.44E−4 6.02E−2 Ceng-5 5.99E−4 6.07E−4 6.02E−2 Ceng-6 5.99E−4 8.56E−4 5.91E−2 Ceng-7 5.57E−4 8.53E−4 6.01E−2 Ceng-8 5.11E−4 7.51E−4 6.01E−2 Ceng-9 5.07E−4 7.23E−4 5.89E−2 Ceng-10 5.07E−4 7.23E−4 6.01E−2 Ceng-11 4.58E−4 6.49E−4 6.01E−2 Ceng-12 5.90E−4 6.41E−4 5.92E−2 Ceng-13 7.89E−4 6.41E−4 5.86E−2 Ceng-14 7.89E−4 6.92E−4 6.00E−2 Ceng-15 4.97E−4 6.92E−4 6.03E−2 Ceng-16 5.60E−4 6.81E−4 6.03E−2 Ceng-17 5.86E−4 7.91E−4 5.92E−2 Ceng-18 5.86E−4 7.91E−4 6.02E−2 Ceng-19 4.25E−4 6.35E−4 6.02E−2 Ceng-20 4.25E−4 9.42E−4 5.87E−2 Ceng-21 2.89E−4 9.42E−4 5.99E−2 Ceng-22 2.01E−4 6.82E−4 9.66E−2 表2. 层间应力计算结果"
"根据锥壳层合板复合材料的特点，以实体单元建立有限元模型，建立了一系列局部坐标系，通过PCL编程自动实现材料特性的自动建立，为层压复合材料板层间应力的计算提供一种快捷、准确、有效的模型建立途径。"
