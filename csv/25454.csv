"妊娠期高血压综合征(妊高征)是孕妇妊娠期特有的一种疾病，目前临床上预测妊高征的敏感指标主要是血管阻力和心排出量等血流动力学参数的变化，对孕妇的血流动力学参数指标展开动态分析就可以实现妊高征的早期预测，有效降低妊高征的发病率。本文针对妊高征的监测原理和妊高征居家监护的刚性需求，设计并实现了便携式居家妊高征患病监护系统。该系统依据血流动力学检测妊高征原理，实现了硬件检测终端、手机APP和云服务器紧密结合的智慧医疗模式，为孕妇提供了一种妊高征居家监护的解决方案，方便了孕妇妊高征的患病检测，对降低妊高征的发病率有着重要的意义。 关键词 :妊高征，脉搏波，血流动力学，iOS，云存储 Copyright © 2018 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"根据国内外关于孕产妇死亡原因的调查，妊高征在危害孕产妇生命健康的六大疾病中位居第二位 [ 1 ] 。妊高征除了对孕产妇造成一系列的不良后果，还给胎儿和新生儿的生命安全带来了隐患。因为妊高征的主要病理改变表现为全身小动脉痉挛，这会导致孕妇体内血容量减少，容易造成子宫胎盘血流灌注不足，引起胎盘功能减退，从而影响胎儿营养物质和氧气的摄取，导致胎儿宫内窘迫、发育迟缓和早产等，并且会随着妊高征病情加重而加重 [ 2 ] 。据相关报道显示，中度以上妊高征患者是发生死胎、死产的现象的主要来源对象；另外有研究表明妊高征是干预性早产中排在第一位的疾病，恰好早产就是导致新生儿死亡的一个重要因素。妊高征在我国的发病率大约为9.4%，其病因和发病机制至今还没有被彻底掌握。妊高征发病较为隐蔽，目前的诊断又相对滞后，只有在孕期出现高血压、蛋白尿等症状之后才能做出诊断，甚至存在一些发病急骤的病例，这些都给病情的预防造成了很大的困难。如果妊高征预测技术能够提高，做到早发现，早干预，就可以将母婴的发病率和死亡率显著降低 [ 3 ] 。 妊高征的生理病理变化有很多，研究发现小动脉痉挛是其最主要生理病理变化，从而引起总外周阻力增加，循环血流量减少。所以预测妊高征的敏感指标主要是血管阻力和心排出量等血流动力学参数的变化。所以在亚临床阶段，对孕妇的血流动力学参数指标展开动态分析能够实现妊高征的早期预测 [ 3 ] ，有效降低妊高征的发病率，减少病理性变化给母婴带来的危害，呵护孕妇和胎儿的安全。 目前，临床上研制的血流动力学检测仪器，虽然能对血流动力学参数进行有效的检测 [ 4 ] ，但是这些设备往往都是基于微机设计，存在体积庞大，价格昂贵，使用费用和维护成本高等弊端，只适合在医院固定科室中使用，无法达到居家监测的要求。而且在实际监测中，血流动力学的检测受到检测设备的制约和影响 [ 5 ] ，很难做到及时、准确的检测，所以孕妇孕期的保健和妊高征的监护存在很大的盲区。 鉴于妊高征的患病危害以及国内妊高征患病监测的现状，本文开发了一种基于iOS智能手机的掌上型孕妇妊高征监测系统，通过测量孕产妇的桡动脉的脉搏波，利用生物医学工程学原理的弹性管模型，计算得出孕产妇的各项血流动力学参数。通过监测孕产妇血流动力学指标的变化 [ 6 ] ，预测出妊娠期高血压疾病的风险，从而更好地呵护孕妇的孕期健康。"
"本系统主要由腕式脉搏波检测端、智能手机端和云服务器端组成。硬件检测终端通过压力传感器采集腕部桡动脉处脉搏波，信号经过硬件调理电路整形、放大和滤波处理后再进行AD转换，转换后的信号利用NFC技术结合蓝牙实现脉搏信号传输至手机终端，并在智能手机端开发APP程序，分析处理脉搏信号，得到妊高征预测相关的血流动力学参数。在此基础上，构建妊娠期高血压风险自动评价系统，实现妊高征的居家监测。通过综合分析、预测及筛查，监测妊高征前期及并发症的发生，为妊高征的居家及时预测和诊断提供可靠的依据。系统组成框图如图1所示。 本系统研发的可穿戴腕式采集端，设计出一种可穿戴的人体腕部桡动脉脉搏参数检测终端，并对采集到的脉搏信号进行了硬件电路和软件算法的双重消噪。其次把NFC技术和蓝牙传输有效结合，提出了基于NFC技术建立蓝牙短距离通信链路的方法。脉搏波测量端与智能手机端通过蓝牙实现数据的传输，简化了蓝牙配对过程，加快了数据的传输速率。并在智能手机端开发妊高征监测APP软件，显示脉搏波波形，分析血管动力学参数，实现妊高征的早期预测。最后云服务器能够持久地存储检测数据，并能将检测数据传送到医院远程监控中心，实现数据的共享，方便后续的分析和处理。  系统整体流程图如图2所示。 图1. 系统总体示意图 图2. 系统整体流程图 检测终端采集：采用的可穿戴的人体腕部桡动脉检测终端，既保证了脉搏波采集过程的稳定，信号检测的准确，也兼顾了检测过程的舒适性。 信号硬件滤波：从检测终端直接采集的脉搏信号并不能直接对其进行分析，因为采集过程中受到了很多干扰，致使波形中混入了大量干扰信号，对检测结果会造成很大的误差，因此对检测终端采集的脉搏信号首先就要进行波形的预处理，通过设计合理的前置处理电路对信号进行整形滤波，初步消除脉搏信号中的干扰信号。 MCU处理：MCU不仅控制着外围电路的正常工作，还对消噪后的信号进行A/D转换，同时做好系统的电源模块设计，蓝牙通讯模块等相关电路的设计处理。 信号算法消噪：经过硬件滤波处理过的脉搏信号已经消除了信号中的较大部分干扰信号，为了尽可能得到纯净的脉搏信号，提高计算的准确性，系统对硬件滤波后的脉搏信号进一步进行算法消噪处理。通过移植可靠的消噪算法到手机APP中，达到对脉搏信号的双重消噪处理。 手机终端显示：通过蓝牙传输，在手机APP上接收MCU输出的波形数据，完成波形的参数计算和波形显示，并将检测数据上传到云服务器进行存储。 云服务器存储：接收手机终端上传的波形数据，及时进行每次检测数据的存储，并能将数据发送给手机终端和相关医疗机构，实现数据的共享。"
"系统的硬件主要由脉搏信号检测终端、信号调理电路、STM32处理器、蓝牙模块电路、系统电源电路等部分组成。系统硬件设计框图如图3所示。 脉搏信号检测终端负责采集患者的脉搏信号，本系统选用了HK-2000B脉搏传感器，该传感器以PVDF压电薄膜为内部材料，体积小，反应灵敏，抗干扰强 [ 7 ] ，很好地满足了系统的脉搏信号采集要求。 信号调理电路对采集的脉搏信号进行滤波放大处理，本系统设计的信号调理电路由两级四阶Sallen-Key低通滤波器以及其他辅助电路构成，设计10倍左右的放大倍数，其中第一级放大2倍，第二级放大5倍。两级滤波放大的设计，符合系统的实际需求，可以将脉搏波中的噪声信号分步进行滤除，达到逐步提高信号信噪比的目的，提高了滤波的效果。此外，该滤波电路拥有较高的分辨率，系统A/D转换结果是12位的，且转换电路的电压为3.3 V，所以信号的最小分辨率为3.3 V/4096 ≈ 0.8 mV，可以计算出该滤波电路检测出的最小信号值大约为0.8 mV/10 ≈ 0.08 mV。因此通过脉搏信号采集探头，较微弱的压力变化也能被滤波电路检测，实际电路设计图如图4所示。 图框图 图4. MCP606滤波放大模块电路图 系统的MCU选用STM32高性能单片机，负责处理信号的A/D转换和外围电路的控制。 蓝牙模块选用USR-BLE101芯片，同时结合NFC技术完成蓝牙的快速配对。蓝牙传输具有显著的优点，但是存在配对过程相对繁琐的缺陷，使用NFC来替代蓝牙完成配对会使两者的连接速度大大加快，一般少于0.1 s [ 8 ] 。因此利用NFC完成设备配对，再通过蓝牙进行数据的传输能实现采集数据的快速上传。 系统电源供电模块包括升压电路和降压电路两部分，为系统各模块的工作提供合适的输入电压。升压电路以TI公司的TLV61220芯片为核心器件完成3.7 V电压到5 V电压的升压转换，降压电路分为两部分：1是以XC6206P332线性稳压器为核心器件完成3.7 V电压到3.3 V电压的降压转换；2是以ICL7660极性反转电源转换器为核心器件完成5 V电压到−5 V电压的降压转换。"
"本系统的软件部分主要由脉搏信号的采集与处理，智能手机APP和云服务器三部分组成。脉搏信号的采集与处理包含对脉搏信号的采集、A/D转换、蓝牙传输、处理等完整流程；智能手机APP包括了脉搏波数据的接收程序、波形参数计算、数据通信、显示和存储、系统管理等功能模块。用户能从APP上清楚地看到检测的波形、计算出的关键血流动力学参数和心率，得知本次检测的结果；云服务器负责存储APP上传的检测数据，及时保存用户每次的测试结果，并能随时将保存的历史测试数据发送给手机APP。  脉搏信号的采集与处理从硬件检测终端的信号采集开始，直到手机APP成功接收蓝牙发送的脉搏信号并完成处理分析。STM32系统初始化后，发送工作指令到脉搏波采集终端，开始信号的采集，待采集终端将脉搏信号发送到STM32进行处理，进而开启A/D转换，以合适的工作频率将模拟信号转换为数字信号。A/D转换完成的信号会通往蓝牙模块进行发送，传输到手机APP进行最后的算法消噪和波形特征参数提取，完成整个脉搏信号采集与处理的软件流程。完整工作流程图如图5所示。  本系统手机APP基于iOS系统平台进行开发，从架构上来说整体是基于MVC软件设计模式进行开发的 [ 9 ] 。M是指Model，表示业务模型层，V是指View，代表用户界面层，C是指Controller，代表控制器层。MVC设计模式将业务模型层、用户界面层和控制器层三者相互分离，不再耦合在一起。三层相互独立但又通过数据紧密相连，使系统在统一模型下能够具有不同的界面展现形式，并利用控制器控制模型层和界面层的同步和逻辑操作。 从功能上来说，本系统的手机APP主要包括了波形参数计算、显示和储存、数据通信、历史数据管理和系统管理五个功能模块。每个功能模块中又包含了各自的功能需求，共同完成了APP的系统要求。手机APP的系统组成框图如图6所示。 图5. 信号采集与处理软件流程图 图6. 手机APP的系统组成框图  云服务平台部署在阿里云平台，以ThinkPHP框架的基础上使用PHP语言进行编写，主要完成以下三个功能：1) 对用户在手机客户端进行的各种请求操作的响应；2) 接收并存储检测的脉搏波数据；3) 后台的管理维护，包括对数据的加密处理，服务器缓存的处理等。其结构框图如图7所示。"
"为了测试波形探头采集并处理后的波形状况，系统将测得的脉搏信号输出到示波器上进行显示，从示波器上可以观察采集到的波形情况，并分析波形的幅值和频率等参数，测试结果如下图8所示，从图中可以看出系统采集处理后的脉搏波形较为平滑，显示平稳，取得了预期的效果。   为测试系统的准确性和可靠性，组织了男女各10名志愿者进行脉搏信号检测，监测其血流动力学参数。初步判断系统测试的血流动力学参数是否在合理范围内。测试的数据结果如表1所示。 医学上人体正常的K值在0.3~0.4之间，SV在60~90之间，CO在4.0~8.0之间，SI在30~60之间，CI在2.5~4.2之间，TRP在09~1.2之间。从表格中的检测结果可以看出，系统测试的血流动力血参数基本都在正常范围内，且男女的测试结果符合性别差异性，个别数据存在误差。  将本系统通过脉搏波分析计算出来的心率值与临床心率计测得的心率值进行对比，判定心率的测试准确度，从侧面反映系统测得血流动力学参数的准确度。心率的实际测试对比如下图9所示，图中该次系统测试出来的心率值为80，标准心率计测试的结果为82，误差较小，系统的检测准确性得到了一定证明。为了进一步计算误差率，组织了10名志愿者，进行心率的测试对比，测试获得的数据如下表2所示，从表中可以看出，本系统测试的心率值与标准心率计的误差值普遍在1~2左右，只有一个误差值为4，证明了本系统心率检测的准确性。表明波形的参数检测准确度较高，从侧面说明了系统检测的血流动力学参数的可靠性。 图7. 云服务器平台结构框图 图8. 示波器波形测试 Table 1 序 号 性 别 基本测量参数 血流动力学测试参数 身高 (cm) 体重 (kg) Ps Pd K SV CO SI CI TPR 1 女 153 46 130 76 0.35 74.6 5.0 37.5 3.7 0.82 2 女 161 48 131 75 0.36 75.7 5.3 36.7 3.5 0.84 3 女 157 51 123 81 0.33 74.1 4.9 38.9 3.4 0.77 4 女 158 45 126 70 0.29 75.3 5.1 34.1 3.7 0.76 5 女 162 52 129 73 0.37 71.4 5.0 38.6 3.3 0.83 6 女 158 53 127 75 0.35 75.0 5.2 36.5 3.5 0.78 7 女 160 47 122 72 0.31 73 5.2 33.1 3.3 0.74 8 女 155 41 126 83 0.36 69 5.3 37.2 3.4 0.72 9 女 154 46 121 71 0.28 72 5.2 31.6 3.2 0.75 10 女 157 43 130 69 0.33 76 5.6 33.5 3.6 0.83 11 男 176 62 120 75 0.37 92 6.2 42.3 3.7 0.88 12 男 174 65 126 79 0.36 96 6.1 41.9 3.4 0.92 13 男 167 68 128 74 0.39 89 6.4 43.6 4.3 0.96 14 男 170 57 126 74 0.38 90 6.1 44.3 3.6 0.94 15 男 165 55 130 77 0.35 89 6.3 42.6 3.7 0.97 16 男 168 60 121 83 0.37 81 6.2 41.0 4.0 0.96 17 男 183 65 124 81 0.34 84 6.4 44.5 4.1 0.93 18 男 177 64 128 78 0.36 82 6.0 47.8 3.8 1.01 19 男 171 59 125 75 0.32 83 5.9 40.6 3.5 0.94 20 男 172 57 130 77 0.33 87 6.5 42.6 4.2 0.96 表1. 血流动力学测试数据表 Table 2 序号 测试心率值 本系统 标准心率计 1 81 82 2 83 85 3 85 83 4 79 83 5 81 79 6 82 84 7 78 80 8 84 82 9 82 81 10 80 78 表2. 心率测试数据表 图9. 心率测试对比图"
"本文设计并实现了基于智能手机的掌上型孕妇妊高征监测系统，为妊高征的预测提供了一种既科学有效、又便利经济的监控手段和方法。依据临床上广泛认可的血流动力学预测妊高征患病原理，保证了系统对妊高征监测的科学性和有效性。同时“掌上型”的便携式设计实现了妊高征的居家监测模式，可使每一个孕妇在家中随时都可以持续监测相关生理参数，从而降低妊娠期高血压的患病风险，减少并发症，降低孕产妇和胎儿的死亡率，也降低了社会医疗保健和服务的成本。随着互联网、云计算和大数据为代表的新一代信息技术的高速发展，移动医疗设备开始趋于小型化、智能化、网络化、家庭化，并逐渐被人们认可和接受。同时在二胎政策放开的背景下，未来孕妇的数量持续增加，基于以上两点，本系统打造的硬件+移动+服务的居家医疗监护模式，在孕妇市场具有广阔的应用前景，对孕妇的孕期呵护有着十分重要的意义。"
