"近几年迎来锂离子电池的研究热潮，建立可靠的电池模型和进行准确的电池参数辨识是开展电池研究的首要任务。文章以三元锂电池为研究对象，选用兼顾准确度和简易度的二阶RC电池模型，采用MATLAB自带的Parameter Estimation Toolbox对电池模型进行参数辨识。最后在HPPC工况和DST工况下验证了电池模型精准性，证明电池参数辨识具有很好的效果，该辨识方法简单实用，可以广泛用于电池的研究。"
"锂离子电池凭借着绿色环保、无记忆效应、有效寿命长以及体积小质量轻等诸多优势，已经成为新一代动力电池的主流 [ 1 ] [ 2 ] [ 3 ]。虽然锂离子电池的优势众多，但是由于锂电池材料本身的特性，使其在过充、过放、过温的工况下性能会严重衰减甚至出现安全问题 [ 4 ]。为了保证电池的性能、延长使用寿命，电池管理系统(BMS)起着关键作用。而对电池参数准确辨识，建立可以准确表征电池工作特性的电池模型，是电池管理系统有效工作的基础。 等效电路模型将电池内部复杂的电化学反应抽象化，利用电容、电阻等电子器件来表征电池的工作特性。目前常用的等效电路模型有3种：Thevenin模型、PNGV模型和多阶模型。经综合对比分析，二阶RC模型考虑了电池的极化现象，可以及时准确地反映电池的状态信息，在保证模型精度的同时也使模型相对简单。因此，选用二阶RC电路模型展开研究。 非线性最小二乘法可以对电池的参数进行有效辨识，是最常用的电池参数辨识方法之一 [ 5 ]。本文在搭建二阶RC电池模型后，使用MATLAB自带的Parameter Estimstion Toolbox对电池参数进行辨识，工具通过利用非线性最小二乘法将电池的试验数据与电池模型的仿真数据不断进行对比，来辨识电池模型参数。该方法只需要进行简单的图形化操作，不需编写代码，具有简单实用的优点。"
"二阶RC等效电路模型如图1所示，由一个稳定电压源、两个RC环、一个欧姆内阻串联组成。R 1 、C 1 模拟电池的极化影响，R 2 、C 2 模拟电池的扩散效应。 根据基尔霍夫定律可以得到电池模型的状态方程： { U O C ( t ) = I R 0 + U 1 + U 2 + U L ( t ) I = U 1 R 1 + C 1 d U 1 d t I = U 2 R 2 + C 2 d U 2 d t } (1) 式中， U O C 为稳定电压源， U 1 为第一个RC环的并联电压， U 2 为第二个RC环的并联电压， R 1 为极化电阻，C 1 为极化电容， R 2 为浓差电阻，C 2 为浓差电容，R 0 为电池的欧姆内阻，U L 为端电压，I为电流大小。 由式(1)可以看出，想要建立一个精确的电池模型来表征电池的特性，辨识出 R 1 、 C 1 、 R 2 、 C 2 、 R 0 这五个电池参数是关键。 图1. 二阶RC等效电路模型  常用的锂离子电池建模方法有Simulink建模和Simscape建模等，本文基于Simscape来搭建电池模型。Simscape提供了一个简单、高效的搭建模型的方法，其中的组件可以直接表示物理元件。使用Simscape搭建电池模型时，模型之间的连线与实物中连接一一对应，过程简单，不需要计算复杂的状态方程。根据二阶RC等效电路搭建的Simscape模型如图2所示。 图2. 二阶RC等效电路的Simscape模型 图2中，电池电动势E m 、R 1 、R 2 、C 1 和C 2 均随着电池荷电状态(SOC)的变化而取值。封装后的电池模型如图3所示。 图3. 封装后的电池等效模型 在图3的模型中，测试脉冲电流作为模型的激励，参数辨识的过程就是输出的仿真电压与输入的测试电压做匹配的过程。"
"电池模型建立后，输出的仿真电压与导入的测试电压动态相匹配，这样所搭建的电池模型才能代替真实的电池应用于汽车研究中。 本文使用Parameter Estimation Toolbox对电池参数进行辨识，通过在相同输入下，将输出的仿真数据与实验数据不断进行对比直至匹配，从而达到模型参数估计的目的，是一个优化的过程。其基础主界面如图4所示。 图4. Parameter Estimation Toolbox主界面 使用Parameter Estimation Toolbox辨识电池参数的流程如图5所示。首先导入测试得到的脉冲电流数据和电压数据。然后将通过改变参数使得仿真计算的电压与实验数据电压匹配。 图5. 参数估计流程"
"本文所使用的电池测试试验数据来自于美国马里兰大学CALCE电池研究小组 [ 6 ]，电池额定容量为2000 mAh，测试环境温度为25℃，脉冲电流倍率为0.5 C (即1 A)。 在进行电池参数辨识前，设定电池参数的初始值为：E m = 3.8，R 0 = 0.01，R = R 2 = 0.0001，C 1 = C 2 = 10000，导入的测试脉冲电流和测试电压以及辨识前模型输出的仿真电压如图6所示。 图6. 参数辨识前测量电压与仿真电压对比  电池参数辨识过程中仿真电压与测试电压的对比如图7所示，参数变化如图8所示。 图7. 测试电压与仿真电压对比 图8. 电池参数的变化 本文使用的优化方法是工具箱提供的非线性最小二乘法，使用的算法是Trust-Region-Reflective，由图7的参数估计结果可以看出，测试电压曲线与仿真电压曲线最终重合，仿真电压能够很好地跟踪测试电压，输出的仿真电压与导入的测试电压动态相匹配，说明采用Parameter Estimation Toolbox可以实现对电池参数的精确辨识。  参数辨识完成后，将估计结果与其他实验进行对比验证是非常重要的。一个成功的估计将不仅匹配用于估计的实验数据，而且匹配在实验中收集的其他独立测量数据。为了加深模型的可信程度，分别在HPPC和DST工况下，使用工具箱的validation部分对电池模型的辨识结果进行验证，验证结果分别如图9、图10所示。 图9. HPPC工况下测试电压与仿真电压对比 图10. DST工况下测试电压与仿真电压对比 由图9和图10的验证结果可以看出，测试电压曲线和仿真电压曲线无论是在HPPC工况下还是在DST工况下，均能达到高度重合，模型输出的仿真电压能够很好地跟踪测试电压。说明电池的参数辨识结果准确度高，所建立的电池模型可信度高，并且可以适用于不同的工况条件。"
"本文所使用的电池测试试验数据来自于美国马里兰大学CALCE电池研究小组 [ 6 ]，电池额定容量为2000 mAh，测试环境温度为25℃，脉冲电流倍率为0.5 C (即1 A)。本文首先选用了选用兼顾准确度和简易度的二阶RC电池模型，并使用Simscape搭建对应的等效电路模型，接着使用Parameter Estimation Toolbox辨识出了电池的参数。最后分别在HPPC工况下和DST工况下的仿真电压与测试电压对比。结果表明：模型输出的仿真电压能够很好地跟踪测试电压，验证了电池模型的准确性。基于Parameter Estimation Toolbox的电池参数辨识，可以得到准确的参数化的电池模型，该方法操作简单，不需要编写复杂的代码，具有很强的工程实用性。"
