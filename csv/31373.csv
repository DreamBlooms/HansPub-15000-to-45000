"近年来，货物运输领域的竞争越来越激烈，客户对运输的需求也日益多样化，我国铁路运输为了提高竞争力，针对货源稳定、大批量生产的企业客户，根据其需求制定运输线路、铺画专门的货物列车运行线或者针对货物装载、运输条件等方面提供其他服务。本文对需求导向的货运产品运行计划问题进行分析和简化，并构建运行计划优化模型。最后采用兰州局实际案例，构建简单路网，以实际的车流量和时刻表数据为基础，进行分析并采用GAMS软件编程调用CPLEX求解，对运行计划中车流径路和运行图进行优化。结果表明提出的运行计划优化模型在运输成本、运输时限方面有一定的优化效果。 关键词 :铁路货运，需求导向，车流径路，运行图，优化 Copyright © 2019 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"2018年6月27日，李克强总理主持召开国务院常务会议，研究部署调整运输结构、提高综合运输效率。行动计划以习近平新时代中国特色社会主义思想为指引，以深化交通运输供给侧结构性改革为主线，按照标本兼治、综合施策，远近结合、重点突破，政策引导、系统推进的原则，通过三年集中攻坚，实现全国铁路货运量较2017年增长30%的目标。为此，从2018年起在全国范围实施铁路运能提升行动。实施铁路运能提升行动需要着力解决运输供给问题，即深入推进铁路运输供给侧结构性改革，优化货运产品供给，努力提供更多满足市场需求的铁路货运产品。一是解决运输需求不均衡的问题，针对运输需求不均衡与均衡的运输能力之间的矛盾，大力发展大宗货物协议制运输，增加大宗直达和多式联运直达列车运行线；二是开发需求导向的货运产品，加强与企业对接，针对用户运输需求，开发货运产品，支持企业进行运输结构调整；三是强化多式联运信息互联共享，实现多式联运信息资源的交换共享，提升货运信息化服务水平；四是构建铁路城市绿色物流体系，开行衔接大城市周边及市内“点到点”的货物列车。 本文将对需求导向的货运产品进行研究，需求导向的货运产品指的是铁路货运系统基于顾客对运输时间、运输条件以及其他运输需求推出的新型产品，面对的是附加值较高的货物。铁路货运系统主动了解并根据客户需求，量身打造最适合的服务，最大程度满足顾客的要求，简化办理手续，减少中间环节，缩短货物运到期限，降低运行成本，提供优质优价的货运服务，实现共赢局面。针对客户不同的需求，铁路总公司推出了“点到点”装车地直达列车、快运货物列车和特需列车。 近年来，运输市场竞争愈加激烈，运输产品也日益多样化，客户对运输方式的要求也越来越高。为了更好地适应运输市场的需求，铁路运输逐渐发展和形成了需求导向的服务理念和服务模式。推出基于需求的货运新型产品可以加强路企之间的合作关系，延伸铁路的货运范围，与普通的货运产品相比，其更具主动性、及时性、便利性、安全性和经济性。研究需求导向的货运新型产品的运行计划不仅可以提高日常运输工作组织的水平，为货物运到期限提供技术保证，还可以降低运输成本，提高经济效益。  我国需求导向的货运产品发展形势良好，产品面对的是货源稳定集中，拥有完备的基础设施和充足的人员配备的企业，铁路总公司具有完善的运输安全保障体系并采用物流化运输组织管理模式，来保证推出的新型货运产品更加高效。 需求导向的货运产品列车开行情况大致可以分成三个阶段：市场培育阶段(2015年6月至2016年2月)、快速增长阶段(2016年3月至2016年11月)、稳定发展阶段(2016年12月至2017年12月)。市场培育阶段，铁路总公司刚开始推出铁路需求导向的货运产品，为了加强营销，以优质产品和服务吸引客户，货源不断增加，开行列数稳步上升(除2016年1月至2月受春运影响)；快速增长阶段，需求导向的货运产品品牌逐渐打响，受到更多关注，开行列数增长迅速；稳定发展阶段，货运市场回暖，运能紧张，需求导向产品发展更重视优质优价，因此需求导向产品列车开行列数有所下降(2017年1月至2月受春运影响下降较多)。表1为需求导向货运产品列车的开行对数，图1为列车对数变化趋势折线图。 图1. 需求导向货运产品列车开行对数变化趋势 Table 1 时间 开行列数 时间 开行列数 时间 开行列数 2015年6月 107 2016年5月 1343 2017年4月 689 2015年7月 205 2016年6月 1494 2017年5月 706 2015年8月 261 2016年7月 1631 2017年6月 745 2015年9月 267 2016年8月 1646 2017年7月 684 2015年10月 344 2016年9月 1317 2017年8月 680 2015年11月 701 2016年10月 1063 2017年9月 798 2015年12月 875 2016年11月 1029 2017年10月 779 2016年1月 656 2016年12月 948 2017年11月 879 2016年2月 153 2017年1月 480 2017年12月 773 2016年3月 1023 2017年2月 385 2016年4月 1451 2017年3月 872 表1. 需求导向货运产品列车的开行对数 需求导向的铁路货运产品是货运改革的产物，国内外已有许多学者对基于顾客需求的新型货运产品的设计和运输组织方面开展了一系列相关的研究。在货运产品的设计研究方面，宗岩(2014)剖析了我国铁路货运产品设计的发展现状，针对我国货运产品发展趋势，提出了开发适应客户多样性需求的运输产品的思想 [ 1 ] 。李涵(2015) [ 2 ] ，张巍(2015) [ 3 ] ，刘绍岩(2016) [ 4 ] 等人针对当前货运产品设计存在的问题，提出了面向市场需求的产品设计方法，在对运输需求分析的基础上，将货运产品要素进行组合，形成多样化、差异化、需求导向产品的铁路货运产品。易庆辉(2015) [ 5 ] 等人分析了铁路运输的现状，推动了货运产品和组织方式的创新，设计了丰富多样的货运产品和运输组织优化步骤。 在铁路货运产品的运输组织方式研究方面，赵静(2014) [ 6 ] ，刘鹏鑫(2014) [ 7 ] ，郝聪丽(2017) [ 8 ] 等人根据我国铁路货物运输组织的特点，对货运的作业流程以及车流组织形式进行优化。Bodin, L. (1980) [ 9 ] ，Newton, H.N. (1998) [ 10 ] ，Barnhart, C. (2000) [ 11 ] 等人针对货物运输编组计划进行了优化。Fang, D. (2011)对铁路运输产品设计和运输组织优化两方面进行了研究，构建了铁路站间运输组织优化的数学模型，把铁路站间运输组织问题转化网络设计问题 [ 12 ] 。 我国的铁路运输拥有巨大潜力，但是如何发现需求、如何根据需求开发新型货运产品、制定最优的运行计划仍是需要不断探索的问题。2016年中国铁道科学研究院承担了重大课题《定制化产品模式下铁路调度组织与运输调整关键技术研究》，在总公司的指挥下对铁路特需列车和“点到点”快速列车开行现状进行了资料收集，设计了不同方面的定制化货运产品，并对定制化列车的运输组织进行优化。本文以此项目为背景，以需求导向的货运产品为研究对象，从车流组织和运行图的编制等方面研究列车运行计划，并利用兰州局实际案例对其运行计划进行优化。"
"本文选择基于顾客运输时限需求的“点到点”快速货物列车为研究对象，并对“点到点”装车地直达列车的运行计划的编制和优化方法进行分析研究。 列车运行计划的编制关键在于选择适当的运行径路和发车时间，运行径路和开车时间选择得当可以减少列车的待避，使货物在货物运到期限内送达到站，同时可以节省运输成本。货物的车流径路大部分是始发站到终到站的最短径路，但是最短径路中可能包含部分能力紧张的区段，虽然距离较短，但旅行时间可能会更长。另外，在客货共线的情况下，货物列车需要避让旅客列车，为了减少货车的避让时间，所以货物列车的开行时刻尤为重要。需求导向产品的列车等级较高，其运行线在现有的高等级列车运行图基础上进行铺画，低等级列车可以在确定需求导向产品列车的运行图的情况下进行调整。  需求导向货运产品的列车运行计划的影响因素有很多，如果考虑所有约束，运行计划编制问题将非常复杂，因此需要对需求导向货运产品的运行计划编制问题进行简化。 1) 假设既有运行图为平行运行图，区间闭塞方式为自动闭塞，开行的需求导向产品的列车等级和运行速度相同。 2) 假设路网上的车站通过能力和货运设备作业能力足够大，不考虑车站通过能力约束和车站装卸能力约束。 3) 假设每列车货物的装卸时间固定且相同，且为基于需求的新产品列车提供到站即卸服务，因此将运输货物总时间简化为开始装车至卸车完毕为止的时间。 4) 假设列车的最大和最小编成辆数为两个常数。  已知某路网的货物列车运行图，现在路网某一装车站要运输几批货物到多个卸车站，全部开行“点到点”的装车地直达列车，要对“点到点”的装车地直达列车进行径路的选择和列车运行图的编制。  1) 集合、索引 Q：表示区域路网上所有车站间径路的集合 T：表示时间的集合 S：表示路网上开行的所有列车的集合 M：表示径路中的区间集合 K：表示货物去向种类的集合 t：表示时刻， t ∈ T q：表示车站间的车流径路， q ∈ Q s t q ：表示t时刻开始运行并且选择路径q的列车s， s t q ∈ S k：表示货物去向的种类， k ∈ K m：表示区间， m ∈ M R：表示径路q中m的集合 2) 参数 c q ：表示车流选择径路q时产生的单位运量成本 n k ：表示货物k的总车数 c t q ：表示开行列车 s t q 所需要的固定成本 u t q − ：表示列车 s t q 最小编成车辆数 u t q + ：表示列车 s t q 所能携带的最大车辆数 L q ：表示径路q的线路距离 v：表示货物列车的平均行驶速度 t s ：表示列车 s t q 的开始运行时刻， t s ∈ T t z s ：表示列车 s t q 的开始装车时刻， t z s ∈ T t 装 ：表示在装车站装载一列列车的时间 t 卸 ：表示在卸车站卸载一列列车的时间 t 运 ：表示货主对货物要求的货物运到期限(运输货物总时间) Δ t m q ：表示列车在径路q中从到达第一个区间与到达区间m的时间差 L m q ：表示径路q中区间m与第一个区间之间的距离 I：表示追踪列车间隔时间 3) 决策变量 x k q ：0~1变量， x k q = 1 表示货物k选择径路q直达到卸车地，否则 x k q = 0 h k t q ：表示货物k选择列车 s t q 运输的辆数 z t q ：0~1变量， z t q = 1 表示开行列车 s t q ，否则 z t q = 0 y ( t , m ) ：t时刻是否有列车进入区间m， y ( t , m ) = 1 表示t时刻有列车进入区间m，否则 y ( t , m ) = 0  min Z = ∑ k ∑ q n k c q x k q + ∑ q ∑ t c t q z t q (1) s.t. z t q = y ( t + Δ t m q , m ) ,     m ∈ R ,   q ∈ Q ,   t ∈ T (2) y ( t + I , m ) + y ( t , m ) ≤ 1 ,     m ∈ R ,   t ∈ T (3) t s + x k q L q v + t 卸 − t z s ≤ t 运 ,     q ∈ Q , k ∈ K ,   t s , t z s ∈ T (4) z t q u t q − ≤ h k t q ≤ z t q u t q + ,     t ∈ T , q ∈ Q , k ∈ K (5) ∑ q x k q = 1 ,     k ∈ K (6) ∑ q ∑ t h k t q = n k ,     k ∈ K (7) ∑ t h k t q ≤ M x k q ,     q ∈ Q ,   k ∈ K (8) (1)是目标函数，综合考虑路网车流在线路上走行的线路运行成本和列车的开行成本，以两者成本之和最小值建立目标函数。 (2)、(3)为区间通过能力约束，(2)表示当确定开行列车 s t q 时，列车从t时刻开始运行，并且选择了运行径路q，可以确定 t + Δ t m q 时刻列车开始进入区间m ，其中 Δ t m q 表示列车从开始运行与到达区间m的时间差，用公式表示为： Δ t m q = L m q / v ；(3)为区间追踪间隔约束，为了防止列车在区间运行发生冲突，对于一个区间，在一个追踪列车时间 I 内，最多只有1列车进入此区间。 图2为时空网络中某一径路示意图，在某站始发直达列车1至车站6，列车1通过车站1后选择的径路为1-2-3-4-5-6，途中不进行改编作业，在车站1、3、5均有停留，假设本文研究的“点到点”直达列车通过车站全部没有停留待避，即如列车1’所示，设追踪列车时间 为2个 Δ t 时间之长，即对于一个区间，在一个追踪列车时间内，最多只有1列车进入此区间。当车站3始发列车2时，列车1’可以选择此径路，但如果车站3始发列车3，那么在车站3开始存在冲突，列车1’需要更换径路。 图2. 时空网络径路示意图 (4)为货物运到期限约束，其中 t s − t z s ≥ t 装 。 (5)为列车编成辆数约束，当开行列车 s t q 时(即 z t q = 1 )，列车 s t q 所携带的车辆数既要大于列车最小编成车辆数 u t q − ，又要小于列车载运能力限制 u t q + 。同时，约束(5)可以保证当 z t q = 0 时， h k t q 也为0，即不开行列车 s t q 时，货物k选择列车 s t q 运输的辆数为0。 (6)为共同径路选择约束，相同去向的所有车流选择的径路方案唯一。 (7)为车流平衡约束，表示某一去向货物选择所有列车的辆数等于此去向的货物总车数。 (8)为逻辑约束，表示只要有货物k选择任何时间出发的列车 s t q 进行运输，货物k都选择了径路q。"
"以兰州铁路局的真实货流数据进行实例分析计算，利用构建的模型，对兰州局迎水桥车站始发的需求导向产品的列车运行计划优化，并对结果进行分析。对兰州局需求导向货运新型产品推行情况进行调查，以兰州局范围内8个车站进行路网简化，简化后的路网如图3。 图3. 兰州局简化路网图  1) 根据2017年5月的旅客列车时刻表可以得出简化路网的既有旅客列车，通过列车时刻表和停站时间可以知道列车进入每一区间的时刻，如表2所示。 2) 表3为装车站至各卸车站的车流量。 3) 迎水桥站到平凉站、天水站、玉门站分别有1、2、2条径路选择，如表4所示。 4) 表5和表6分别是相邻站间距离和区间单位运量成本，径路单位运量成本为其区间单位运量成本之和，即 c q = ∑ m c m ，且各区间单位车流运输成本与运输距离成正相关的函数且区间单位运量成本，计算公式为： c m = L m + 50 。 5) 其他参数如表7所示。 Table 2 区间 既有列车进入时刻 迎水桥站–中卫站 0:57 中卫站–平凉 0:31，1:28，10:55，15:35，21:10，23:46 迎水桥站–干塘站 4:05，17:00，20:40，21:34 干塘站–兰州东站 5:06 干塘站–武威南站 17:47，18:22，21:30 兰州东站–天水站 8:40，8:52，10:12，10:46，11:15，13:16，13:34，14:10，14:20， 14:47，15:17，17:51，19:07，21:26 22:02，22:17，22:28，23:49，23:56 武威南站–兰州东站 4:44，6:41，10:59，17:41，18:23，18:41，20:05 兰州东站–武威南站 17:23，19:30，19:47 武威南站–玉门站 0:12，1:16，23:05，23:19 表2. 既有列车进入区间时刻 Table 3 装车站 卸车站 车流量(车) 迎水桥站 平凉站 120 迎水桥站 天水站 135 迎水桥站 玉门站 65 表3. 站间车流量 Table 4 径路编号 发站 到站 站顺 1 迎水桥站 平凉站 迎水桥站、中卫站、平凉站 2 迎水桥站 天水站 迎水桥站、干塘站、兰州东站、天水站 3 迎水桥站 天水站 迎水桥站、干塘站、武威南站、兰州东、天水站 4 迎水桥站 玉门站 迎水桥站、干塘站、威武南站、玉门站 5 迎水桥站 玉门站 迎水桥站、干塘站、兰州东站、威武南站、玉门站 表4. 路网径路 Table 5 相邻车站 距离长度(km) 区间单位运量成本(元/辆) 迎水桥站–中卫站 10 60 中卫站–平凉站 305 355 迎水桥站–干塘站 62 112 干塘站–兰州东站 229 279 干塘站–武威南站 172 222 兰州东站–天水站 348 398 兰州东站–武威南站 290 340 武威南站–玉门站 513 563 表5. 相邻站间距离及区间单位运量成本 Table 6 径路编号 径路长度(km) 径路单位运量成本(元/辆) 1 315 415 2 639 789 3 872 1072 4 747 897 5 1094 1294 表6. 径路长度及单位运量成本 Table 7 符号 取值 符号 取值 符号 取值 c t q 1500 (元) v 80 (km/h) t 卸 2 (h) u t q − 25 (辆) t z s 0:00 t 运 24 (h) u t q + 70 (辆) t 装 2 (h) I 10 (min) 表7. 其他参数  本章运用GAMS软件进行编写代码，并调用CPLEX优化软件进行求解，获得相应的货物径路选择和列车时刻表，整理如表8、表9所示，图4为需求导向货物列车的运行图。求解的目标函数值为：Z = 222,185 (元)。 Table 8 货物去向种类 始发站 终到站 出发时间 选择径路 车流量(辆) 1 迎水桥 平凉 5:00 迎水桥–中卫–平凉 60 1 迎水桥 平凉 8:15 迎水桥–中卫–平凉 60 2 迎水桥 天水 3:30 迎水桥–干塘–兰州东–天水 65 2 迎水桥 天水 10:19 迎水桥–干塘–兰州东–天水 70 3 迎水桥 玉门 7:46 迎水桥–干塘–武威南–玉门 65 表8. 车流径路选择 Table 9 车次 始发站 始发时间 终到站 终到时间 X931 迎水桥 5:00 平凉 8:56 X933 迎水桥 8:15 平凉 12:11 X921 迎水桥 3:30 天水 11:30 X923 迎水桥 10:19 天水 18:19 X925 迎水桥 7:46 玉门 18:34 表9. 需求导向产品列车时刻表 图4. 需求导向货物列车运行图 综合分析表8、表9可知求解结果满足考虑的所有约束条件。表10为列车进入每一区间的时刻(需求导向货运产品的列车用方框标出)，图5为所有列车进入区间时间散点图。从表10和图5可以看出需求导向产品的列车与既有运行图在区间没有冲突，此求解结果的方案是可行的。 图5. 列车进入区间的时刻分布图(红点表示需求导向货运产品的列车) Table 1 0 区间 所有列车进入时刻 迎水桥站–中卫站 0:57，5:00，8:15 中卫站–平凉 0:31，1:28，5:08，8:23，10:55，15:35，21:10，23:46 迎水桥站–干塘站 3:30，4:05，7:46，17:00，10:19，20:40，21:34 干塘站–兰州东站 4:17，5:06，11:06 干塘站–武威南站 11:24，17:47，18:22，21:30 兰州东站–天水站 7:09，8:40，8:52，10:12，10:46，11:15，13:16，13:34，13:58，14:10， 14:20，14:47，15:17，17:51，19:07，21:26，22:02，22:17，22:28，23:49，23:56 武威南站–兰州东站 4:44，6:41，10:59，17:41，18:23，18:41，20:05 兰州东站–武威南站 17:23，19:30，19:47 武威南站–玉门站 0:12，1:16，17:49，23:05，23:19 表10. 所有列车进入区间的时刻 从表10可知，所有列车进入某一区间的时刻都大于等于追踪列车间隔时间10 min，因此需求导向产品的列车的开行时间和选择的径路合理。  现兰州铁路局需求导向产品的货物列车开行方案如表11所示，图6为货物列车运行径路变化对比图。新方案与现有方案对比如表12，对比新旧方案的货物运输成本，并根据《铁路货物运输规程》规定的快运货物运到期限 = (1 + [运输里程/500] + 1)，对新旧方案的运输时间进行对比。 图6. 运行径路变化对比图 Table 1 1 序号 运行线路 名称 径路 车次 全程运距 (km) 站顺 1 迎水桥 至平凉 (迎水桥)→宝中线(平凉) X931 X933 315 迎水桥–中卫–平凉(列车径路未改变) 2 迎水桥 至天水 (迎水桥)→包兰线(兰州东)→陇海线(天水) X921 X923 639 迎水桥–干塘-兰州东–天水(列车径路未改变) 3 迎水桥 至玉门 (迎水桥)→包兰线(兰州东)→兰新线(玉门) X925 1094 迎水桥–干塘–兰州东–武威南–玉门 (列车径路改变) 表11. 现有需求导向产品的货物列车开行方案 Table 1 2 全部货物运输成本(元) 货物运到期限(迎水桥至玉门) 现有方案 (120*415 + 130*789 + 65*1294) + (1500*5) = 247,925 1 + 1294/500 + 1 = 5 新方案 222,185 1 + 897/500 + 1 = 4 对比 新方案节省25740元 新方案节省1天 表12. 新方案与现有方案对比表 综上，模型求解结果的新方案比现有方案在运输成本和运输时间上都有所节省。因此，可以证明该运行计划优化模型是有一定作用的。"
"1) 本文对铁路需求导向的货运产品进行分析，梳理总结需求导向的货运产品的发展现状。 2) 针对铁路需求导向的货运产品的复杂性，对运行计划问题进行抽象化。构建优化模型，综合优化线路运行成本和列车开行成本。 3) 基于真实数据，选取兰州局的部分车站构建路网作为案例进行分析，借助GAMS软件编程并调用CPLEX软件求解，求解结果比原有的方案在成本和时间上都有改进，证明了本文构建的优化模型的可行性和有效性。 4) 本文仍存在很多问题和不足，只考虑了需求导向货运产品中的其中一种列车：点到点装车地直达列车，构建的优化模型存在假设比较理想化，将在日后的工作中改进。"
