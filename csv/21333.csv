"传统城市三维建模作业流程在精度和效率方面都存在一定的劣势，针对这种情况，本文通过车载移动测量系统采集的高精度高密度三维激光点云和高分辨率的全景影像，研究一套辅助城市三维建模及可视化的技术方案，它不仅能够提高城市三维建模的几何精度，而且能够大大提高三维地形模型构建的效率；因此，它能够为“智慧城市”三维模型建设提供一种快速、可靠和高效的辅助技术方法。 关键词 :城市三维建模，车载移动测量系统，点云数据，影像数据，效率，精度，3DMAX Copyright © 2017 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"随着信息技术的发展，人们对城市可视化三维地理信息系统的研究越来越深入，根本原因是由于3D-GIS能够给用户提供一种形象和直观的可视化产品。目前国内主要的建模方法还停留在传统的手工建模阶段，无人机倾斜摄影测量近些年来在技术上也有所突破，但是倾斜摄影测量对城市街面与底层建筑底商建模效果又有所欠缺，鉴于以上问题，本文提出来一套辅助方案，解决三维建模的精度、效率、效果等。"
"城市三维建模是基于测绘基础数据模拟客观现实世界的一种可视化表达方法，它具有对客观现实世界的真实反映、地理空间参照性和定位性以及三维空间几何和属性分析方面的应用 [ 1 ] [ 2 ] ，该技术把传统的沙盘模拟方式提升到了数字化模拟的水平，是传统的二维空间信息的表达所不能比拟的 [ 3 ] [ 4 ] 。随着地理信息系统和虚拟城市等领域的快速发展，三维景观动态仿真技术具有很大应用前景。城市三维建模工程项目也越来越受到各行业的关注，因此，如何能够快速、可靠和精确地进行三维表达、分析和模拟就变得更加的迫切需要。 城市三维建模是地理信息系统和数字摄影测量及其相关的研究热点之一，是“数字城市”地理空间框架建设的一个重要组成部分。经过近十年的研究和发展，城市三维模型的建设和应用越来越普遍了；就城市三维模型构建方法而言，不同专业领域和知识背景形成了多种多样、各具特色的技术方法和路线 [ 5 ] [ 6 ] [ 7 ] 。根据技术手段和表现形式我们可把建模方法分为模拟建模、半模拟建模和测量建模三大类。前两种建模方法主要是采用比照引用的实物，通过计算机软件呈现出来；测量建模主要是基于空间信息技术来进行建模，该建模方法能够快速和精确构建房屋三维模型和地形起伏特征。测量建模按照空间信息获取技术又可分航空摄影测量、数字线画图、机载激光扫描仪和移动测量系统 [ 8 ] [ 9 ] 。本文针对依据现有地形图或建筑立面图等构建城市三维建模的效率低的问题引入了移动测量系统来辅助城市三维建模，其效率有了明显的提高并减少劳动量。  目前手工建模还是建模的主流方向，还没有其它更好的方法能够完全替代；下面介绍传统建模的作业流程及方法。传统城市三维建模大致作业流程如下图1所示。  基础数据准备阶段主要包括外业纹理数据采集、地形图处理、影像数据处理；具体准备如下： 1) 区域内1:500、1:1000、1:2000和1:5000等中、大比例尺地形图数据； 2) 建模区域内现状的航空影像数据及其他类型影像资料； 3) 建模区域内现状地理要素的有关高度资料； 4) 现场现状照片、地物属性等资料。  模型制作主要包括建筑模型制作、地形模型制作、景观模型和制作三个方面；该过程的工序如下图2所示。 图1. 建模作业流程 图2. 建模工序示意  后期模型数据处理包括模型数据合并、模型数据烘焙、模型数据格式转换和模型数据导入平台；其基本操作过程是把制作好的建筑模型、道路模型和景观模型通过基础数据合并在一起，然后进行模型数据烘焙，当烘焙后的模型数据具有真实的光线阴影，可把烘焙好的模型导入到三维真实的模拟平台进行发布。  城市三维建模关键内容含有以下几个方面：1) 如何提高外业采集效率；2) 如何能够快速构建道路模型；3) 如何能够节省贴图过程中的工作量并提高工作效率；4) 如何提高模型构建的精度。"
"本文针对传统城市三维建模效率和精度方面问题，引进了车载移动测量系统来辅助空间物体模型和地形模型的构建，具有一定的研究意义。  车载移动测量系统是将全球定位系(GPS)、惯性测量单元(IMU)、激光雷达扫(LIDAR)、CCD相机等多种传感器同步集成于一体，可在高速行驶状态下实时获取道路及道路两侧的建筑、树木等街景地物的表面基础数据，具有机动灵活、短周期、高精度、高分辨率、实时多源三维空间数据高效采集等特点，因此广泛应用于地形图更新、GIS建库、城市勘测规划、三维建模、矿山测量、公安和城市管理等领域。 车载移动测量系统原理是通过GPS以及IMU系统获取的位置和姿态信息来确定高精度激光点云和高分辨率全景影像的空间信息，能够适合各种空间数据的分析和提取。  车载移动测量系统用于辅助城市三维建模的流程如下图3所示。 1) 外业数据采集：外业数据采集是项目实施基础。外业数据采集过程中，将严格按照项目要求的数据采集规范进行，明确采集数据精度、数据内容、类型等信息，并规范整个外业采集的流程。外业采集包括车载激光移动测量系统采集、便携式移动系统采集和外业调绘补采，对于可通车街道两旁数据，主要利用车载激光移动测量系统进行外业数据采集；对于人行辅道、人行隧道、涵洞等车辆无法行驶到的道路区域，以及一些单点全景区域、重点场所等特殊位置，需要采用便携式移动测量系统或者人工补充调绘的方式进行相应数据采集； 2) 数据预处理：数据预处理主要是通过HD Scene软件将iScan-Z和全景影像相机获取的原始数据进行融合解算处理、输出带坐标的点云以及和点云配准了的全景影像(影像点云)，为后期三维模型构建提供符合要求的内业数据源； 图3. 车载移动测量系统辅助城市三维建模流程图 3) 精细三维建模：包括三维模型的粗模、精模的构建，主要是通过专业软件从外业采集的点云及影像数据快速提取DLG数据以及相应的地物轮廓线，利用配套提供的城市三维建模软件建立三维模型； 4) 道路网模型构建：包括道路、路牙以及人行道相应的模型构建，主要是通过专业软件从外业采集的点云及影像数据快速提取道路边界线以及人行道边界线等数据，然后利用专门提供的工具构建路牙模型和道路模型； 5) 纹理贴图：利用移动测量获取的全景影像进行立面纹理的提取，同步根据DLG数据和对应的正射影像数据进行第五面纹理的提取，提取的纹理数据直接联合Photoshop打开进行纹理编辑； 6) 模型成果检查：通过以上步骤构建的成果模型需要进行严格的质检过程，建模人员同步进行模型的优化，直至输出符合要求的模型成果。 对于建模得到的城市三维模型成果，由于有的属性是可以从点云与影像数据及航拍的正射影像中提取到的，例如道路、临街面的构筑物细节等。此外，存在部分点云被遮挡的情况，及部分特殊属性无法通过点云和全景影像提取。部分细节信息需进行相应的外业人工补充调绘获得，然后在三维建模过程中将对应细节予以补充完整，最后形成精细化的三维模型成果，另外需要对三维模型成果进行检查工作和局部修正。下面主要从路网模型和建筑物模型的构建两方面进行阐述。  道路网模型是对现实道路网的真实模拟，它应同实际的道路网保持一致，在对道路网络进行建模时，需要对构建到路网的路段和节点等道路元素进行描述，使其能够表示实际道路相关路段的几何和属性等信息 [ 10 ] 。另外，建立道路与地面的整体三维模型是实现道路三维化的关键，同时也是建筑物模型构建的基础；因此，如何能够快速构建道路三维模型变得至关重要。 传统的城市三维道路仿真模型是基于1:500的数字地形图、数字影像和外业采集的道路信息来完成制作的；其目的是能真实的反映道路网的空间信息地理信息和坐标信息。然而，传统城市三维道路模型制作工作量较大，而且精度不是特别高。其基本流程是根据已有的数字地形图坐标信息来创建大量的路边坐标点，然后依据这些二维平面坐标点来提取道路边线，再绘制交叉口面模型并设定高程，最后反复调整交叉口面模型使其与路段面模型无缝拼接；下一步就是提取道路隔离带边线，经过人工调整和加工得到隔离带地面模型并依照图片进行贴图。然而，该方案实施起来相对较慢，比较繁琐，而且有些路段精度不是很好。针对这种情况，本文提出了基于移动测量车来辅助城市三维路网构建的方法。 基于车载移动测量车系统能够高效地进行采集道路及两旁的信息化基础数据，作业环境得到了进一步的改善，同时，制作路网模型的思路也得到了一定的改变。 采集的高精度路面点云数据进行构建路网模型能够大大提高作业效率和精度。 其作业流程如下： 1) 利用车载移动测量车进行道路基础数据采集，并通过专业软件获取点云坐标和影像信息；如图4所示； 2) 基于3DMAX二次开发应用程序，导入预处理的点云数据和全景照片；如图5所示； 3) 在插件模块中右键单击点云节点，在弹出的菜单中选择“点云配准”，使用循环渲染方式渲染点云； 4) 使用画线工具在点云的基础上捕捉绘制道路的轮廓线以及人行道轮廓线； 5) 提取出来的道路基线利用路牙生成工具自动生成路牙，再通过3DMAX构面工具生成人行道和道路。 采用车载移动测量系统进行辅助城市三维路网建模能够精确地控制城市道路体系的真实平面和高程位置，更好地体现城市路面高程起伏特征。 图4. 加载点云和影像数据界面 图5. 基于3DMAX开发导入的点云和影像  房屋建筑模型的构建是整个城市三维建模的核心。传统的房屋建模的基本思路是依据数字地形图来勾勒房屋边线；根据房屋形状来选择分块模型进行构建，最后再进行纹理贴图，该方法不能够准确地表达房屋的高度信息，只能凭着感觉和经验。因此，本文利用车载移动测量系统采集的房屋基础数据信息来辅助城市建筑物模型的构建。 通过该项目实验分析发现：基于高精度点云数据和高分辨率影像数据进行建筑物精细模型的构建是可行的。由于3DMAX软件对于模型精细化构建具有非常强大的功能，因此，本文还是基于3DMAX软件二次开发了一些插件模块，通过这些模块将车载移动测量车采集的基础数据导入到该环境中，用于建模。下面主要介绍城市三维建筑模型的制作流程： 1) 数据预处理：通过POS解算软件和GPS原始数据来解算车载移动测量车采集的点云数据，然后转换点云数据格式并通过3DMAX插件模块将点云导入；同时，也将拼接好的全景影像导入；如图6所示； 2) 颜色渲染；点云加载完成后，其默认模式是RGB渲染方式，你还可以根据需要选择反射强度、高程等渲染和循环渲染模式； 3) 基于点云简单绘制建筑物的轮廓线，可获取该建筑的粗模； 4) 在3DMAX视图中选中该建筑物附近某个轨迹球，选择插件菜单栏中“显示全景”菜单，可以加载该位置对应的全景影像，通过该全景影像和点云辅助进行建筑物的细节识别； 5) 在全景影像和点云的基础上，通过点云捕捉控制模型空间位置，通过全景进行模型细节识别，而后利用3DMAX自身提供的建模工具，可以快速构建完成建筑物的精细模型；如图7所示。 根据以上叙述步骤，该建筑房屋精细模型就已经初步建立完整，最后就是通过各种细节修改整理完成整个模型的构建。 图6. 加载轨迹 图7. 古建筑精细模型"
"本文主要介绍了基于全景移动测量系统来辅助城市三维建模的方法，并通过实验数据和传统城市三维建模方法进行对比，发现该方法有一定的可行性并存在一些优势。该方法在建模几何精度上有了一定的提高，并能够简化一些传统建模的步骤程序；最重要的是，该技术方法不仅提高了外业采集效率，而且提高了内业模型制作效率；它将会给未来的城市三维模型制作提供一些技术方法参考。然而，该技术方法还存在一些改进的地方，第一：基于高精度激光点云如何能够实现快速自动化建模，并通过一定的手工制作生产出比较精确的路网模型，这个算法研究及实现也是未来发展方向的重点和难点；第二：在以后的城市三维建模构建过程，如何将车载移动测量车与无人机航拍获取的正射影像结合起来辅助城市三维建模将会是下一步研究的重点和热点。"
