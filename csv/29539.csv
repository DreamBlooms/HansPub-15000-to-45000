"线状地物转化为面状图斑是第三次全国土地调查中的主要任务之一，第三次土地调查中明确要求宽度超过2米的线状要素，通过建立缓冲区的形式进行线转面，确保不同等级线状地物的压盖关系、拓扑关系和不同宽度线性要素接边处平滑处理。基于此，本文提出了一种快速自动化处理的线状地物转图斑的方法，着重分析不同等级线状地物的重叠部分接边处理技术，并在ArcGIS平台上进行二次开发实现。 关键词 :土地调查，线状地物，ArcEngine Copyright © 2019 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"土地调查是我国法定的一项重要制度，是全面查实查清土地资源的重要手段。第三次土地调查目的是在第二次全国土地调查成果基础上，全面细化和完善全国土地利用基础数据，实现成果信息化管理与共享，满足生态文明建设、空间规划编制、供给侧结构性改革、宏观调控、自然资源管理体制改革和统一确权登记、国土空间用途管制等各项工作的需要 [ 1 ] 。在第二次土地调查中，线状地物宽度大于图上2 mm的，按图斑调查；线状地物宽度小于图上2 mm的，调绘中心线，用单线符号表示；农村土地一般采用1:2000比例尺进行数据生产，折算线状地物的实地宽度为20 m以下，一般位于地物的中心，故存在着很多不连续和重叠的地方 [ 2 ] 。线状地物包括河流、铁路、公路、管道用地、农村道路、林带、沟渠和田坎等。线状地物的面积主要是通过线状地物的长度乘以宽度得到。在第三次全国土地调查中，取消线状地物主体，要求统一用图斑的方式表达，因此线状地物转换为面状图斑的任务，在第三次土地调查中尤为重要。在第三次全国土地调查实施方案中关于线状地物调查规范 [ 3 ] 做了如下要求： 1) 所有需要上图的道路、沟渠、河流等线性地物，应根据外业调查结果和影像特征重新矢量化，以图斑的形式表示。 2) 对农村范围内，南方宽度1~8米，北方宽度2~8米(上下均含)的道路，调查为农村道路或公路用地；大于8米的道路或纳入乡镇级及以上级别道路网规划的道路，一律按公路调查。 3) 道路、河流被权属界线分割的，按不同图斑上图。用地范围不确定的在建道路，暂不调查。 4) 对城镇村庄内部道路用地，调查城镇村庄内部主干路、次干路及支路，其他道路可与相邻图斑合并。 5) 对于线状地物交叉的，上部的线状地物连续表示，下压的线状地物断在交叉处。线状地物穿过隧道时，线状地物断在隧道两端。"
"综上第三次全国土地调查规范所述，线状地物的图斑化工作流程如图1。 1) 合并同类线状地物：合并行政区内的相同地类代码并且宽度一致相邻的线状地物，根据设定容差自动连接线状地物； 2) 线状地物面状化：根据线状地物的宽度值，正负方向分别推平行线，根据平行线的点，按顺序连接生成面状图形，并记录对应的线状地物ID； 图1. 线状地物的图斑化流程图 3) 相交压盖处理：不同地类线状地物相交压盖部分处理，大致可分为：十字交叉相交，拐角L字型相交，T字型相交，如图2所示，根据地类连通性的优先级规则进行处理，后面章节展开探讨； 图2. 线状地物相交类型图 4) 面状图斑属性赋值：(1)通过空间关系提取所在的权属范围，例如权属代码字段；(2)复制线状地物的现有属性字段到生成的面状地类图斑，例如地类编码字段； 5) 导入到地类图斑：将线状地物生成的面状图斑导入到地类图斑层，并进行空间切割等处理，保持拓扑关系的完整性。  线状地物转面后，不同地类的接边处存在着相交、重叠、压盖等情况，如果单纯用类似ArcGIS软件缓冲方式转换生成面后如图3所示，难以满足三调的规范要求，后续的接边操作将是很大的工作量去修整。针对此问题，以下为本文提出的方法，首先确定线状地物的相交类型，然后根据相交类型分别处理。 确定相交类型：根据缓冲后的面，找到其对应缓冲面之前的线状地物(简称A)，用A要素通过空间关系找到与之相交的线状地物列表，不失一般性，取第一条相交线状地物(简称B)用来分析，用ArcEngine的IRelationalOperato的接口来判断 [ 4 ] ，如果A与B为Crosses空间关系，则为十字型相交；如果A与B为Touches空间关系，并且是A与B的首尾点相同，则为L字型相交；其它则为T字型相交。 图3. ArcGIS缓冲生成面 相交接边处理：然后用ArcEngine的ITopologicalOperator的接口来分别按类型进行相应切割处理： 1) T字型相交：假设A的端点与B的线上点形成T字形相交，可以忽略A与B的连通性权重级别，保留B的缓冲面后的完整性不处理，然后用A的缓冲面与B的面进行Difference处理，切割掉A与B的相交部分，反之亦然。 2) 十字型相交：A与B形成十字型相交，首先根据A与B的连通性权重级别，确定哪个优先保留连通完整性，假设A的优先级高，保留A的缓冲面后的完整性不处理，然后用B的缓冲面与A的面进行Difference处理，切割掉B与A的相交部分，反之亦然。 3)L字型相交：A与B形成L字型相交，首先用A与B的缓冲面的最外边线，分别作延长线至相交，补齐缓冲后的空缺部分，空缺部分面分别与A和B的缓冲面进行Union做合并处理，接着根据A与B的连通性权重级别，确定哪个优先保留连通完整性，假设A的优先级高，保留A的缓冲面后的完整性不处理，然后用B的缓冲面与A的面进行Difference处理，切割掉B与A的相交部分，反之亦然。 以Microsoft Visual Studio2012为开发环境，基于ArcGIS平台二次开发实现以上方法，线状地物转换生成面后如图4所示，能满足线状地物调查规范的要求。 图4. 本文方法转换生成面"
"本文总结了三调线状地物图斑化的规范和要求，提出了传统的GIS软件处理线状地物图斑化存在的问题，同时，本文提出的线状地物图斑化方法，并且以ArcGIS平台二次开发的实现进行方法验证，能够达到线状地物自动图斑化的目标。由于实际作业过程中影像和线状地物的套合精度，难免存在部分数据的偏差，建议在面状化之前进行前期的调整。"
