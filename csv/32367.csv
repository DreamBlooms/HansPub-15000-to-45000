"本文利用粒度计算在处理多源、海量、异构交通时空数据方面的优势，将其引入定制公交初设线路选择。以交通特性、出行者个体特性、出行特性等数据为分析处理对象，以识别城市公众中可能采用定制公交通勤出行、通勤线路分布为目标输出的群体数量，构造同质出行特性判别信息颗粒；采集经脱敏处理后的公交刷卡数据、公交APP数据、卡口过车及驾驶员数据，通过粒度计算，挖掘提取目标群体的出行时间、地点、方向、目的等特性，并进行归类，从而为定制公交线路走向、里程、途中停靠站确定提供依据。 关键词 :粒度计算，数据挖掘，定制公交，线路选择 Copyright © 2019 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"定制公交是一种“类专属”公共交通服务方式，其服务对象是出行起讫点、出行时间相近，出行计划相对稳定(主要为通勤出行)，且对出行时效性、舒适性需求较高的群体 [ 1 ]。近年来，在公众对出行方式多样化需求不断提升，以及“互联网+”技术广泛应用等因素的多重推动下，定制公交在国内多个城市开通运营并逐渐兴起。 目前，国内公交企业多采用基于乘客需求的反向操作方式来运营定制公交。其基本流程是：1) 首先由乘客向公交企业提交自身需求；2) 公交企业结合乘客需求，设计最优线路；3) 进行乘客招募；4) 开通运行。这种线路运营模式在需求调查阶段可以有效节约公交企业成本，但同时也存在明显缺点：一是需求信息获取难度大，难以为线路开行决策提供大数据支撑。由于线路开行需要事先由乘客提交乘车需求，因此对公交企业而言，需求信息的获取方式是被动的，这就造成其能够获取的有效需求信息数量少、效率低，直接影响线路开行决策的正确性；二是影响乘客的出行体验，造成客源流失。据文献 [ 2 ] 所述，北京市乘坐定制公交的乘客中，有约60%之前自驾车上下班，这部分定制公交主力乘客对线路通达性、预定便利性、乘坐舒适性较为敏感，因此在事前提交乘车需求的情况下，如果需求无法满足，很容易造成这部分乘客不愿再尝试使用定制公交出行。由此可见，定制公交线路开行方案是否合理，很大程度上依赖于需求调查的准确性，而目前被动式的调查方式难以胜任。 随着交通数据采集手段的日益丰富，交通出行时空数据呈级数增长。通过对这些海量、多源、异构的交通数据进行挖掘分析，可以精准提取城市人群的出行特性，从而为公交企业科学制定定制公交线路运营方案提供了保障。粒度计算(Granular Computing)是信息处理的一种新的概念和计算范式，覆盖了所有有关粒度的理论、方法、技术和工具的研究。它是词计算理论、模糊集理论、粗糙集理论、商空间理论、区间计算等的超集，是软计算科学的一个分支 [ 3 ]。粒度计算在对信息进行处理时并不局限于细节，因此在对海量、模糊、不确定、不完整的信息进行分析运算时表现出独特的优势。将粒度计算引入交通出行时空数据处理，挖掘分析城市公众通勤出行特性情况 [ 4 ]，包括通勤出行时间、地点、走向、路线、偏好等，并从中提取可能乘坐定制公交的群体数量和分布信息，为定制公交线路的开通提供决策依据。"
"粒度计算理论以“粒度”思想为指导，该思想的核心是认为：任何事物都可以在不同维度、不同层次上进行定义、度量和推理，从而形成不同的颗粒集成 [ 3 ]。粒度计算的过程就是根据实际需要，找到对问题进行研究的最优维度和层次，从而保证能够快速准确的求得足够满意的问题的近似解 [ 4 ]。 一个体现粒度思想的简单例子：现有一组某型流感患者诊疗数据D，数据属性为{M│性别、年龄、发病日期、是否发热…}，为从这些数据中提取直观有价值的信息，可以从不同粒度层次对数据进行度量。如需获取该流感病毒是否存在性别感染差异的信息，可将{性别│男、女}为粒度，对数据进行颗粒化集成，这个层次的粒度相对较粗；如需获取该流感病毒易感染人群信息，则需将粒度进一步细化，将 { 性 别 | 男 、 女 } ∩ { 年 龄 | < 10 , 11 ~ 20 , 20 ~ 30 , 30 ~ 40 , 40 ~ 50 , 50 ~ 60 , > 60 } 作为粒度，对数据进行颗粒化集 成，从而得到哪一个年龄段、哪种性别人群属高危人群。  给定论域(或可获取信息空间) O r ，以不可分辨或相似等关系P r 对O r 进行划分，所得到的每一个组成部分称为信息颗粒X r ，其中 P r 1 ∍ P r 2 。U可以是聚类、耦合、划分等信息颗粒构造方法的某一种，所使用的工具是模糊集、粗糙集、商空间理论等。  信息颗粒X r 所包含数据量的多少称为信息粒度。如果论域O r 是离散的，信息粒度代表信息颗粒X r 中所含数据的个数；如果论域O r 是连续的，则代表信息颗粒长度X r 的度量值。信息粒度通常可以用粗、细来形容，当划分关系 P r 1 ∍ P r 2 ，则以P r 1 划分的颗粒要比P r 2 划分的颗粒粗。  对信息颗粒X r 展开挖掘运算，将无直观意义的原始数据处理成客观可获取信息的过程。"
"基于粒度计算的定制公交线路优选模型基本原理是利用模糊商空间理论对出行者时空数据进行分层次聚类分析，选择出行特性(需求、方向、工具等)同质的目标群体，并以目标群体规模作为定制公交线路优选提供依据 [ 5 ]。首先，建立出行方式选择影响因子评价体系，并对其进行属性约减，提高下一步聚类的效率；其次，构建同质出行模糊相似矩阵，并计算得到动态聚类谱系图；最后，根据公交企业运营策略不同的运营策略，选择在不同的粒度层面上进行调整，得到最终的聚类结果。 构建基于粒度计算的定制公交线路优选模型基本步骤如下： 步骤1：构造出行方式选择影响因子评价体系 分别从交通特性、个体特性、出行特性三方面出发，构造3个一级指标；11个二级指标。其中，交通特性包含交通政策、交通供给、交通分布；个体特性包含性别、年龄、职业、收入、受教育程度；出行特性包含出行距离、出行时耗、出行目的地 [ 6 ]，如图1所示。 步骤2：确定各评价因子所处粒度层次，并对评价因子进行属性约减 利用粗集计算每个出行方式影响因子的敏感度，并根据重要度对其进行排序；根据排序结果，先从较细粒度对多维出行方式选择影响因子集合进行度量，并根据数据量大小对影响因子的粒度逐步粗化，删除部分相关性较弱的属性，提高后续聚类计算效率。 步骤3：对采集到的影响因子数据进行标准化处理 令 α i l 表示第i个对象所包含的第l个影响因子的值。对每一个出行方式选择影响因子所对应的全部数据取均值 α ¯ l = 1 n ∑ i = 1 n α i l 和方差 S l = 1 n ∑ i = 1 n ( α i l − α ¯ l ) 2 ，之后将全部数据转为标准值 α i l * = α i l * − α l min * / α l max * − α l min * 。经过初次标准化处理后， α i l * 值并不确定处于[0,1]区间，需要通过 α i l * = α i l * − α l min * / α l max * − α l min * 二次标准化处理，其中 α l max * 和 α l min * 分别是 [ α 1 l * , α 2 l * , ⋯ , α n l * ] 中的最大值和最小值。 步骤4：构建模糊相似矩阵，对标准化样本数据进行聚类分析 定义 Q i j ∈ [ 0 , 1 ] 为任意两个对象 α i 和 α j 之间的相似程度表征值，计算 Q i j = 1 − M [ p 1 | α i 1 − α j 1 | + p 2 | α i 2 − α j 2 | + ⋯ + p n | α i n − α j n | ] ，构建相似度矩阵。 p n 表示权重值，M的取值确保 Q i j 处于区间[0,1]内；运用最大值法等聚类方法获取聚类结果。 步骤5：确定阈值 ϕ ，并对粒度进行转换调整，直至得到满意聚类结果。 根据求解需求和相应速度，确定阈值 ϕ ，从而在不同粒度层次得到满意解。 图1. 出行方式选择影响因子评价体系"
"为定量解析出行方式选择影响因子对用户最终选择采用定制公交出行的敏感度，通过抽样问卷调查采集到1542组数据；另外，采集到长岛县2018年5月1日至2018年10月7日公交刷卡数据、长岛智慧旅游APP数据、卡口过车及驾驶员数据(驾驶员数据由车辆数据自动匹配)，并对上述数据进行脱敏处理，为定制公交线路优选做数据准备。其中，公交卡及APP数据主要用于甄别由公交车出行改为定制公交出行的人群；卡口过车及驾驶员数据主要用于甄别由私家车出行转移至定制公交出行的人群。  建立出行方式选择影响因子离散化规则，对采集到的抽样问卷调查数据进行离散化表达，方便下一步的属性约减，如表1所示： Table 1 离散值 交通特性 个体特性 出行特性 政策 供给 管控 性别 年龄 职业 收入(k) 教育 距离(km) 时耗(min) 费用(¥) 1 有 有 有 男 18~35 固定 <1.8 大学以上 <3 <10 <5 2 一般 一般 一般 女 36~50 自由 1.8~3.2 大学 3~5 10~30 5~10 3 无 无 无 51~64 3.2~5.5 初、高中 5~10 30~50 10~20 4 >65 >5.5 初中以下 >10 >50 >20 表1. 数据离散规则 说明：对交通特性的调查，是针对烟台市交通政策、交通供给、交通管控对被调查者出行方式选择是否存在影响，选项包括有影响、一般影响、没有影响三项；个体特性中的收入项目以及出行特性的划分标准，是依据烟台市当地实际情况确定。 根据表1中的离散规则，得到出行方式影响因子抽样调查数据的离散化表达，并构建决策表。基于分辨矩阵启发式算法，利用公式(1)计算每个初选出行方式影响因子对出行方式选择的敏感度： f ( c ) = ∑ i = 1 n ∑ l = 1 n α i l | c i l | (1) 式中， | c i l | 表示每个影响因子颗粒包含的数据个数。通过计算得出每个影响因子的敏感度，并按大小进行 排序，结果如表2所示： Table 2 属性 政策 供给 管控 性别 年龄 职业 重要度 2.0561 1.9324 2.5769 3.0783 3.2315 3.1821 属性 收入 教育 距离 时耗 费用 重要度 3.1836 2.8231 2.1459 2.7637 2.9322 表2. 影响因子敏感度计算结果及排序 按影响因子对出行方式敏感度由小到大进行排序，依次为交通供给、交通政策、出行距离、交通管控、出行时耗、出行费用、出行者受教育程度、出行者性别、出行者职业、出行者收入、出行者年龄。基于受访样本数据分析可知，定制公交作为一种基于交通信息技术的便捷舒适型公共交通，其服务对象受年龄、收入、职业、性别、费用、时耗等因素影响较大，这与文献2中提到的60%定制公交客源来自自驾车人群的结论基本吻合，这是因为私家车出行转为定制公交出行的人群更关注出行时间，并对出行费用有更好的承受性。另外，可以看出年轻且有固定职业、收入的人群更青睐定制公交；而是否选择定制公交出行与交通供给、政策及出行距离等因素关联较弱，分析认为这与烟台市城区路网固化及交通出行圈范围较小有一定关系。"
"长岛县陆岛交通需求逐年增长，且年度需求高峰均集中于7、8月份，需求时间分布不均衡，淡旺季趋势明显。为平衡全年整体交通需求，避免资源浪费，应对旅游淡季过剩的交通需求进行有效抑制。  目前，长岛港区拥有泊位9个，船舶26艘在港运营，最高客座为490多座；蓬莱至长岛航线淡季航班间隔约为1小时1班，旅游旺季进出岛高峰时段调整为流水出港，平均20分钟1班客滚船，上下船时间为40分钟。2017年最高峰一天进岛旅客3万余人，瞬间高峰可达1000~1200人，最大进岛车辆数为1730辆/日。考虑2018年长岛出台限制私家车进岛的交通管制措施，进岛车辆规模预计控制在1200辆/日，每天将有1500~2000个(以每辆私家车搭载3~4个人计算)计划采用私家车进岛的游客，进岛后会转用其它陆路交通工具。因此，为平衡全天交通需求，应对高峰时段大客流，避免交通运力不足而影响游客出行效率，可将高峰时段适当增能。   根据长岛县旅游资源和渔家乐民俗的聚集区分布可知，游客进岛后主要分两个方向，一为直接到达景点，其占比约为20%；二为先到达宾馆或渔家乐再至景点，其占比约为80%。游客主要集中在九丈崖景区、月牙湾景区、望夫礁景区、林海景区和渔家乐宾馆聚集区，针对客流方向及游客主要聚集区，可增建交通辅助设施，以提高旅游运行效率。  岛外游客的平均出行次数为3.67次/人，景区间出行方式主要以私家车、旅游大巴、出租车为主，出行结构较为单一，且游客意愿交通方式中公共交通占比较大。长岛景区慢行道已经能够串联南长岛的所有景点，但缺乏直达景区的公共交通服务，因此，应对景区间设置配套线路，以满足游客交通需求。  共开设8条旅游公交线路，其中5条为长岛港口至各景区(九丈崖景区、月牙湾景区、林海景区、仙境源景区)及主要渔家乐聚集地的旅游公交专线；1条串联各景区的摆渡线路；2条晚间运行的旅游观光线路，具体线路走向及站点设置如图2所示。 图2. 长岛县旅游定制公交线路优选示意图"
"利用粒度计算理论在处理海量、异构交通数据方面的优势构建定制公交线路优选模型，本模型采用粗糙集对原始数据进行预处理，剔除无效和冗余数据属性，因此大大减少了计算量；同时采用聚类分析，对采集样本数据进行聚类，得出客流量比较集中的定制公交线路走向。受数据收集手段限制，数据量种类和数量偏少，今后可考虑加入更多的使用者属性数据提高决策的准确度。"
