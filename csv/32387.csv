"超声无损检测方法具有缺陷定位较准确、对面积型缺陷检出率较高、灵敏度高等优势，可对较大厚度构件的内部缺陷进行无损检测。本文针对厚壁复合压力容器的超声检测方法，基于LabVIEW编程语言开发了多通道超声检测软件系统，提出了适用于超声波的时频信号处理的连续小波变换，实现了厚壁复合压力容器超声检测结果的自动化分析。 关键词 :超声波，无损检测，厚壁复合压力容器 Copyright © 2019 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"厚壁复合压力容器，特别是纤维缠绕的复合材料压力容器，以其轻质、高强、耐磨损、抗疲劳等优异性能被广泛应用于航空航天、航海、核电、炼油石化等工业领域 [ 1 ]。然而，厚壁复合压力容器在制造成型与服役过程中不可避免地产生各种缺陷或损伤，并严重地威胁着工程结构的安全。因此，厚壁复合压力容器的可靠性与安全性问题越来越受到广泛的关注，发展便捷、可靠、高效的厚壁复合压力容器的无损检测技术迫在眉睫。然而，由于复合材料各向异性、非均质的材料性质，以及结构多层次等特征，使得厚壁复合压力容器内部的缺陷形式极其复杂，致使现行的无损检测技术难以满足检测需求。 目前，国内外很多学者 [ 2 ] [ 3 ] [ 4 ] 都纷纷从复合材料的受力分析、强度极限、破坏形式、疲劳寿命及可靠性分析等方面，进行了复合材料压力容器的优化设计研究，对复合材料压力容器的安全性起到重要的作用。但是，这些工作多是在压力容器设计之初或破坏之后进行的分析。然而，在实际的压力容器使用过程中，针对压力容器内部损伤情况的实时检测，更有助于分析在役结构的剩余强度，预测使用寿命，便于及时采取措施，预防事故的发生。虽然，针对压力容器已经发展了一些无损检测技术 [ 5 ] [ 6 ]，但是大多不适用于厚壁复合压力容器的损伤检测。超声波检测技术具有缺陷定位较准确、灵敏度高、对面积型缺陷的检出率较高等优点，已应用于压力容器的损伤检测 [ 7 ]。但是，往往只适用于单一金属材料制造的压力容器。对于厚壁复合压力容器，采用超声脉冲反射回波技术检测的回波信号非常复杂，特别是其中的复合材料层的层间缺陷极难识别。因此，迫切需要发展先进的超声波信号分析处理方法，可对较大厚度范围内的复杂材料构成的压力容器进行检测。 本文针对厚壁复合压力容器的超声波无损检测方法，基于LabVIEW编程语言自行开发了超声检测软件系统。为了提高超声回波信号的时频分辨率，该软件系统引入了连续小波变换进行信号处理，实现了超声脉冲反射回波技术在复合材料层中损伤的检测。该软件系统通过对超声波激励的控制与信号提取，能够实现厚壁复合压力容器的缺陷识别、定位与评估。"
"为了实现高效、可靠的厚壁复合压力容器的超声检测，我们基于LabVIEW编程语言设计并开发了集数据采集、存储、处理、可视化于一体的全自动软件系统，并基于LabVIEW与MATLAB混合编程的方法实现了厚壁复合压力容器的缺陷识别、定位与评估。 LabVIEW (Laboratory Virtual Instrument Engineering Workbench)是一种图形化编程语言，采用数据流编程方式 [ 8 ]。LabVIEW包括前面板和程序面板两部分，前面板提供很多传统仪器类控件，用于创建用户界面。程序面板提供函数和连线，用以编写VI (Virtual Instrument)程序实现前面板控件、数据流的控制。LabVIEW以其开发速度快，易用易学而被广泛应用于数据采集、仪器控制等领域。LabVIEW和MATLAB的混合编程可以使两者发挥各自的优势，方便而高效地实现仪器控制，信号传输与数值计算、分析的结合。  图1为超声检测软件系统的整体框架。程序开始运行后自动弹出参数设置界面，参数设置完毕后可以点击对应的按钮开始采集，系统会在用户选定的通道自动进行多通道采集，得到原始信号。为了提取相对不规则的原始信号中的有效信息，该系统的信号处理模块引入了连续小波变换对原始信号进行处理，原始信号和经处理的信号都会储存在TDMS文件中，也可用Excel查看。采集过程中，用户可根据需求查看和保存波形图。采集结束后，还可得到最终的云图和采集报告。 图1. 超声检测软件系统流程图   首先，我们通过建立参数设置面板进行参数设置。参数设置面板是基于LabVIEW中的VI Reference函数设计而生成。当软件系统启动后，会弹出参数设计界面，提示参数输入。参数的设置主要包括五个方面：基本信息、存储信息、参与扫描的通道、扫描模式及信号处理部分相关参数、扫描方式信息，如图2所示。其中，基本信息主要包括采集编号、操作人员、采集对象等，用以后期生成报告；存储信息主要指数据文件的存储路径；参与扫描的通道必须选中，未选中的通道在扫描过程中将被禁用；扫描模式及信号处理部分相关参数主要包含采集时间间隔、取平均的数据组数、脉冲宽度、滤波器频率、连续小波变换(CWT)处理频率、接收强度等；扫描方式信息通过多层次设置，逐级定义硬件系统的扫描方式。如图2下方所示，我们将扫描区域分成2 × 2个方块区域，每个方块区域为4 × 4个测点。扫描时以2 × 2的方块(即8 × 8个测点)为一个单位，单位内测点由上到下逐排扫描。设置完参数后，通过引用调用将设置好的参数传入主程序，主程序开始运行。 图2. 参数设置面板  主程序调用数据采集卡的动态链接库(Dynamic Link Library, DLL)，取得缓存的控制权。具体实现为：开始或重启系统时清空缓存内的数据，采集数据时利用队列(Queue)技术读取缓存，结束采集时释放对缓存的控制权。  读取数据采集卡缓存中的数据后，主程序运行到信号处理模块。原始数据流流入FFT Power Spectrum函数进行快速傅里叶变换(FFT)，计算信号中心频率。与此同时，原始数据流在MATLAB Script节点中进行连续小波变换处理。典型的信号处理结果，见图3。 图3. 典型信号处理结果 通过图3中时域原始信号与连续小波变换后的信号之间的对比分析，能够很好地提取各波包络(实红圈)的精确ToF，也能够区分原始信号中很难分开的波包络(虚红圈)。  信号处理完成后，主程序进入缺陷识别、定位与评估模块。图4为损伤识别与定位程序模块。此模块所实现的方式为基于MATLAB Script节点的LabVIEW和MATLAB混合编程。 图4. 损伤识别与定位程序 将缺陷识别、定位与评估模块嵌入到For循环中，每当有信号数据流入，此模块便会识别缺陷类型并分别提取相应的缺陷信息，生成表征缺陷尺寸大小的云图图块，并计算缺陷位置。最后，所有的图块根据参数设置的扫描方式一一对应地显示在坐标平面，形成整个区域的缺陷云图，包括复合材料层间损伤、钢层厚度、复合材料–钢界面脱粘，如图5所示。与此同时，采集过程中的缺陷信息也会实时显示在用户界面中。 图5. 损伤检测结果云图；(a) 复合材料层间损伤；(b) 复合材料–钢界面脱粘；(c) 钢层厚度  在完成所有的采集与处理模块后，主程序将进行多格式的数据存储，包括单测点数据存储、连续多测点数据存储、图片存储、电子报告存储等。其中，对于大数据量的数据存储，我们利用LabVIEW高速数据流(TDMS)文件实现。 TDMS文件以流文件的形式存储数据，读写速度快，非常适合存储海量数据。同时，TDMS文件可以在LabVIEW TDMS File Viewer函数中打开，在采集过程中点击“Open raw data file”按钮，可以查看采集到的原始数据和处理后的数据以及生成的波形图，如图6所示。 图6. 采集过程实时查看TDMS文件 TDMS文件也可以利用Excel打开，方便我们后期处理数据。其他格式的文件都可以通过LabVIEW相应的文件I/O函数进行操作。"
"超声波的信号处理技术是超声波损伤检测中最重要的一环，同时也是较困难的一环。结构几何形状的复杂性，材料性质的各向异性、非均质性，都会使超声波信号与缺陷作用后变得极其复杂。同时，缺陷引起的信号往往十分微弱，淹没在整体的超声信号中难以辨别。目前对于结构健康监测中的超声信号分析技术最为有效的是采用先进的时频分析方法，计算损伤反射超声波信号的飞行时间(Time of Flight, ToF) [ 9 ]。 ToF方法是基于超声无损检测技术的一类最为常用的损伤定位方法。该方法通过计算超声波与损伤作用后反射、散射或者折射波到达的时间，并结合超声波在材料中的波速，确定损伤的位置。然而，超声波信号经过厚壁复合压力容器的各层材料及缺陷后，反射回波得到的信号变得非常复杂，使得通过原始信号来计算缺陷反射波的ToF非常困难。因此，迫切需求发展超声波的时频分析技术，提高ToF的准确度。 在先进的时频分析方法中，小波变换由于其具有良好的时频分辨率而被广泛应用。因此，我们采用连续小波变换(Continuous Wavelet Transform, CWT)对厚壁复合压力容器检测的超声波信号进行处理，提高时频分析精度，便于得到精确的ToF，为损伤的准确评估奠定基础。  对于一个任意的随时间t变化的函数f(t)，若有一平方可积函数ψ(t)，其傅里叶变换满足表达式 [ 10 ] ∫ R | ψ ( ω ) | 2 / ω d ω < ∞ 则ψ(t)可为小波母函数。小波母函数若进行平移和伸缩，便可得到小波基函数 ψ a , b ( t ) = 1 a ψ ( t − b a ) a > 0 , b ∈ R 其中，a为尺度伸缩因子，b为时移因子。将f(t)在小波基函数上进行展开便可得到f(t)的连续小波变换表达式 [ 9 ] W f ( a , b ) = 〈 f ( t ) , ψ a , b ( t ) 〉 = 1 a ∫ R f ( t ) ψ ¯ ( t − b a ) d t , 其中，“-”表示函数的共轭。将f(t)进行傅里叶变换并考虑Parseval恒等式，便可得到频域内的连续小波变换形式： W f ( a , b ) = 〈 f ( t ) , ψ a , b ( t ) 〉 = 1 2 π 〈 f ^ , ψ ^ a , b 〉 = a 2 π ∫ R f ^ ( ω ) exp ( i ω b ) ψ ^ ( a ω ) ¯   d ω 其中，“Ù”表示函数的傅里叶变换。从定义上可以看出，连续小波变换是一种积分变换。通过连续小波变换可将函数f(t)由时域转化到时间–尺度平面。通过改变尺度伸缩因子a和时移因子b便可提取f(t)中的某些局部特征。由于小波母函数是连续函数，因此称上述变换为连续小波变换。 在实际的信号处理过程中，常用的连续小波母函数有Haar小波、Gabor小波、Morlet小波、Mexican Hat小波等 [ 11 ]，它们都有不同的时频分析特性和精度。现有的研究 [ 12 ] 表明，Gabor小波的时间分辨率较高，有利于结合ToF方法进行损伤定位，因此我们采用了Gabor小波对超声波信号进行连续小波变换。 Gabor小波函数 [ 12 ] 的表达式为 ψ G ( t ) = 1 π 4 ω 0 γ exp [ − ( ω 0 / γ ) 2 2 t 2 ] exp ( i ω 0 t ) 其中，ω 0 和γ是正的实常数，其傅里叶变换为 本系统将采集的超声信号先进行Gabor小波变换，然后再采用ToF方法进行损伤定位(见图3)。"
"本文针对厚壁复合压力容器的局部试样进行了超声无损检测，如图7所示。该试样是由北京玻钢院复合材料有限公司依据在役的大型复合材料压力容器制造而成。其内径为421 mm，外径为455 mm，高度为261 mm，结构由外到内依次为涂层(厚度范围为2.15~2.78 mm)，复合材料层(平均厚度为11 mm)，钢层(平均厚度为20 mm)组成。其中复合材料层的材料为碳纤维增强复合材料，铺设顺序为 。为了开展工作，该试样预埋了复合材料层间损伤及复合材料-钢界面脱粘损伤。 图7. 厚壁复合管状结构 我们采用自行研发的软件对厚壁复合试样进行全场的C扫描的测试数据控制与分析，可以得到内部缺陷的分布云图，如图8所示。由图中的检测结果可知，该检测软件不仅可以识别缺陷的具体坐标位置，同时也能确定大小，而且还可以检测厚壁复合压力容器金属内胆的厚度变化。检测结果与预制缺陷分布和尺寸大小很一致。 图8. 检测结果"
"本文基于LabVIEW编程语言自行开发的适用于厚壁复合压力容器的超声检测软件系统，可集数据采集、处理、存储、可视化于一体。通过LabVIEW与MATLAB的混和编程技术，高效地嵌入复杂的缺陷识别、定位与评估模块，通过连续小波变换加强了软件的信号处理功能。 针对厚壁复合压力容器，进行了复合材料层裂缺陷、复合材料–钢界面脱粘及钢层厚度变化的识别、定位与评估。研究表明，连续小波变换具有很好的时频分辨特性，能够提取精确的信号ToF，验证了基于超声脉冲反射回波与连续小波变换的缺陷检测技术的有效性与实用性。 本文所实现的厚壁复合压力容器的超声检测软件系统，仍需人工操作实施超声检测。针对大型的、复杂的、复合材料结构，或工作环境恶劣、空间狭小的检测空间，如何实现智能化、全自动、实时高效的健康检测技术仍需进一步探索。"
