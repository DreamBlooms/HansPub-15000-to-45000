"论文通过对随机效用理论进行深度剖析，并在原有NL模型的基础上改进，提出了一种基于哑变量改进的NL模型。该模型可重新对效用选择函数的指标进行选取和分类，对于不可量化的性质指标则可以以哑变量赋值的方式注入到效用方程中，该方式能够使回归模型变量解释范围更广，进而达到扩量保质的作用，在面对现实问题的描述时能够起到以一抵多的联合效果。 关键词 :NL模型，哑变量，出行方式选择 Copyright © 2020 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY 4.0). http://creativecommons.org/licenses/by/4.0/"
"随着我国城镇一体化建设已从慢车道建设步入了快车道，城市机动车的保有量呈高速几何趋势增长，交通运输的供给不平衡问题逐渐凸显居 [ 1 ]。民出行前往往会结合自身的实际情况来选择不同的交通方式出行，不同的个体在出行前对于交通方式的选择会带来不同的效用意义 [ 2 ]。在交通拥堵日益严峻的今天，通过站在出行者的视角下来解释人们在出行前的选择行为十分必要 [ 3 ]。 交通出行不仅在时间分布上具有较为明显的周期性，而且个体选择的差异性往往又充满着离散性 [ 4 ]。因此在基于简单出行链视角下来引入非集计NL模型，在分类分层的情况下研究居民关注的决策指标对其选择行为所衍生的效用有着重要的研究意义。"
"随机效用理论在个体出行的视角下，通过对出行者所选择的交通方式来综合评判总效用 [ 5 ]。由于人在进行选择时并非是完全理性的，在决策者心里必然会存在一定的经验主义。这就使得总的综合效用由两部分组成，其一是与生活息息相关的可量化的具体效用，其二是由经验或出行习惯所带来的内在难以描述灰色效用 [ 6 ]。具体表达式如下所示： U j = V j + ε j (1) V j = δ 0 + δ 1 x 1 + δ 2 x 2 2 + ⋯ + δ n x n n (2) 式中： U j 表示出行者选择第j种交通方式出行的总效用； V j 表示为出行者选择第j种交通方式出行的显性效用； 表示为指标变量； ε j 则表示灰色隐形效用。"
"决策肢的几何结构决定了NL模型选择概率的体现形式 [ 7 ]。因此，在运用Nested Logit模型分析前应将SP调查到的数据进行分类筛查，即：把出行特征类似的交通工具归为一类。结合本次调查本文将采用两层结构，其中上层为机动车、非机动车，下层为小汽车、公交车、电动车。结合上述结构，建立NL模型决策肢方案。 在诸多离散研究中MNL模型虽然能够解释决策树中各个方案的选择情况，但其要求各个备选项之间拥有较强的不相关性，而这也就是MNL所带来的IIA局限性 [ 8 ]。Nested Logit模型作为离散选择模型中的最经典之一，其树形结构具有较强的柔性，弥补了MNL在分层分类上各选项间的不相关缺陷 [ 9 ]。由于NL模型是在MNL的基础上改进而来，故Nested Logit也同样服从相同的Gumbel假设分布，各个综合效用函数体现形式仍然具有线性表达特点 [ 10 ]。决策选择肢示意图见下图1所示。 图1. 交通方式决策示意图 ln ( P j 1 − P j ) = α + β 1 ( V 1 + ε 1 ) + β 2 ( V 2 + ε 2 ) + β 3 ( V 3 + ε 3 ) + ⋯ + β w ( V w + ε w ) (3) 式中： P j 为居民选择某种交通方式出行的概率； α 为常数项； β n = 1 , 2 , 3 , ⋯ , w 为效用函数系数： ε w 为隐性效用函数。 V w = bus , car , fei = a 0 + a 1 m mean w + a 2 d mean w + a 3 I n + a 4 s d 1 + a 5 s d 2 (4) 式中： V w = bus , car , fei 为选择不同交通方式出行时所带来的显性效用； m mean w 表示选择w种方式出行的平均出行费用； d mean w 表示选择第w种方式出行的平均距离； I n 表示居民收入水平； s d 1 、 s d 2 则表示哑变量优化赋值后的乘车满意度； a 0 , 1 , 2 , 3 , 4 , 5 为显性效用方程系数。 从决策肢上下层结构可知，每个具体方案的选择必然会优先触发上层选择概率，而下层则是在上层因素被选择的情况下条件性的发生。根据相关模型的理论可得： P = e λ i ( V w + ε i ) ∑ i = 1 n e λ i ( V w + ε i ) , ( w = bus , car , 非 ) (5)"
"极大似然求估法是一种基于观测变量分布明确或已知的前提下，通过对似然函数或方程进行对数变换，利用方程求导可积的特点来实现对原始方程降维，进而得出相关参数最佳近似值的方法 [ 11 ]。由于NL模型表达式为对数函数与多项式的结合体，为了提高参数估计的准确性，本文通过SPSS软件来获取质量较高的参数估计值。"
"SP调查全称为状态偏好调查(Stated Preference Survey)，该调查起初被用于了解消费者对于市场不同产品的喜好程度以及各种服务的满意度，随着交通专家学者的深入研究，SP调查渐渐地被引入到交通工程领域 [ 12 ]。SP的调查数据可以在历史趋势分析的基础上适当地根据调查者来制定参数水平范围 [ 13 ]，此外SP调查对样方容量要求较少，各个问题之间存在较好的关联性，可以侧面验证和获取多种类型的数据 [ 14 ]，因此SP具有较小的样本量且可以获取较多高效数据的特点，更适合发起移动互联出行问卷调查活动 [ 15 ]。"
"本章主要以2019年1月SP问卷调查为基础，以桂林市七星区居民选择公交出行为例，结合前文理论分析与相关模型建立情况，计算桂林市居民在出行前关于出行方式选择效用函数并求解算出选择行为所对应的概率函数。具体调查结果见下表1所示。 Table 1 家庭收入 人数 家庭人口总数 人数 家庭小汽车保有量 人数 0~5万 301 1人 7 0辆 182 5~9万 105 2人 35 1辆 294 9~13万 84 3人 224 2辆 70 13~18万 35 4人 154 3辆 21 18万以上 56 5人 77 4辆 7 6人 60 5辆 7 表1. 居民家庭综合信息一览表 根据SP调查数据，低碳出行理念良好的人且愿意选择公交出门的人占比38.25%，此类居民的出行路线通常较为固定且对于出行效率要求不高；对于出行效率要求和出行路线自由度较高的居民通常愿意选择小汽车出行，其中占比36.44%；对于出行距离较短且经济条件较为普通的居民则多数以非机动车来作为自己的首选出行工具。相比其他交通工具，非机动车受交通拥堵的影响较小，且能够极易穿梭于巷子和街道，为该类出行者提供抄近道的便利，占比25.31%。具体哑变量编码结果见下表2所示。 Table 2 原定性变量编码值 哑变量赋值 舒适度 = 1 (车内宽松舒畅) 所有 S D = 0 舒适度 = 2 (车内比较拥挤) S D 2 = 1 ，其他 S D = 0 舒适度 = 3 (车内非常拥挤) S D 3 = 1 ，其他 S D = 0 共享电动/单车资源 = 1 (资源充裕) 所有 F J D = 0 共享电动/单车资源 = 2 (资源紧张) F J D 2 = 1 ，其他 F J D = 0 共享电动/单车资源 = 3 (资源缺乏) F J D 3 = 1 ，其他 F J D = 0 表2. 出行方式定性指标哑变量编码一览表 经SPSS软件求解可得，效用函数的参数估计值与置信度结果总体上符合预计估计，尽管有点局部参数置信水平收敛效果一般，但任然处于可接受的范围内。具体SPSS回归分析参数标定结果见下表3所示。 Table 3 变量 B值 Sig值 平均出行距离(d/km) 0.846 0.004 年收入情况(万元) 1.252 0.050 出行费用(元) −1.318 0.034 满意度d 1 13.864 0.013 满意度d 2 12.467 0.023 表3. 公交出行效用函数参数标定一览表 因此选择公交出行的效用选择函数可表示为： V bus = − 12.255 − 1.318 ∗ M meanbus + 0.846 ∗ d meanbus + 1.252 ∗ I n c o m e     + 13.864 ∗ S D 1 + 12.467 ∗ S D 2 + 0 ∗ S D 3 + ε bus (6) 综上所述，桂林市居民选择公交出行的平均效用分为9.6分，平均选择概率为0.62，模型求解结果大体符合预期估计，具有一定的研究意义。"
"该研究细化优化各个哑变量分组分类的情况，提高了模型的适用人群，但本文只考虑方式并没有考虑到人对于时间和方式同时选择同时考虑的这一情况，对此还需要开展进一步改善，对于超长距离或超短距离出行方面考虑不够，需要进一步研究和探讨。 本文在Gumbel假设分布的前提下，通过对随机效用模型进行深入剖析，在借鉴显性效用函数模型特点的基础上，引入了哑变量并对模型性质指标进行分类再赋值，在保证模型解释变量保质扩容的情况下，建立了个体选择各交通方式出行的通项效用函数，使得模型能够具有一定的普遍性。揭示了居民选择公交出行所衍生出的效用机制以及选择公交出行的不确定度。"
