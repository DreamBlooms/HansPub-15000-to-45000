"本文提出一种基于模糊运算的智能车辆防撞预警系统。针对动态环境不易侦测的特点建立动态避障规则库，利用鱼群算法刻画和解答智能车辆在动态环境下的避障问题。进而，利用智能车辆和障碍物之间的距离和操作者的反应时间建立模糊函数模型。操作者如果没有在预警条件下及时做出反应，该系统将会采用最优路线。实验结果证明，该系统可以根据环境条件做出相对合理的选择，准确地做出预警或者主动避障。 关键词 :模糊逻辑，鱼群算法，预警，主动避障 Copyright © 2017 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"防撞预警能够有效地减少意外事故的产生，是智能车辆领域中一个重要的研究方向，具有广泛的社会意义。国内外学者已经对车辆的防撞预警做了一些研究工作。文献 [ 1 ] 提出了汽车在一定初速度时的危险报警距离，但无法确保操作者能够觉察到警报并及时做出反应；文献 [ 2 ] 利用超声波感器结合模糊逻辑对机器人避障进行了研究，但此系统忽略了操作者主观因素的影响；文献 [ 3 ] 利用鱼群算法较为合理的解决了动态环境下的路径规划，但是系统应用具有严格的客观条件限制，没有考虑到实际应用场景下操作者的反应时间等主观因素的影响。针对现有研究存在的这些问题，本文通过车辆与障碍物之间的距离和操作者的反应时间两个重要参数建立模糊函数模型，结合鱼群算法，采用模糊逻辑技术分析操作者对预警信号的反应，较好地解决了在复杂动态障碍物环境下的车辆防撞预警问题。"
"如图1所示，首先，利用传感器获取基本的预警信息。数据采集数据模块主要包括如下功能：1) 通过超声波鉴别障碍物位置和大小；2) 轨道数据，用以判断智能小车是否偏离轨道；3) 用于判断路标的视频数据；4) 车速数据。其次，根据鱼群算法 [ 3 ] 建立动态避障规则库，规划最优路径。然后根据数据建立函数模型，并依据模糊逻辑确定系统做出选择的阈值。最后，给出对预警信号的智能操作：1) 当操作者无法及时做出反应时，系统将会采用规划路径，主动避障；2) 当操作者及时做出反应时，系统将停止预警，不会主动避障。"
"在路径规划模块中，暂不考虑操作者的反应。在假设操作者无法做出正确反应的情况下，规划智能防撞的最优路线。 智能小车的动态路径规划是智能小车领域中的一个重要研究方向，其目的是面向避开动态障碍物这一的前提采取最优路径 [ 4 ] 。目前，各国学者已经针对动态环境的路径规划做出了大量的研究工作。较为成熟的包括鱼群算法，蚁群算法 [ 5 ] ，人工势场法 [ 6 ] ，神经网络法 [ 7 ] ，遗传算法 [ 8 ] 。其中，蚁群算法具有强鲁棒性和搜索较好解的特点，但存在收敛速度慢、容易陷入局部最优的缺点；人工势场法容易实现底层的实时控制，但存在终点不可达和局部最优值的问题；神经网络法具有自主学习和高速寻找最优解的能力，但当动态障碍物的信息量过大时存在神经元的阈值不断变化的问题；遗传算法又存在环境变化时 图1. 总体设计 必须重新建立环境模型的问题。为此，本文采用具有较高收敛速度的鱼群算法完成路径规划。 鱼群算法也叫人工鱼群算法，是构造人工鱼模仿鱼群觅食、聚群和追尾行为，从而实现寻优的目的。本文采用栅格法 [ 9 ] ，将行驶路面划为诸多栅格。 图2中，A为智能小车所在位置，B为动态障碍所在的位置。在A通向下一个栅格时通过不断探测，进行碰撞分析并预测碰撞点，从而达到避障。这里利用文献 [ 10 ] 中建立的动态避障规库。 将智能小车探测到的信息先进行预处理，通过不断对该动态避障规则库的访问完成路径规划。然后，将路径保存到系统中，形成预警防撞模块，碰撞规则参数定义见表1，碰壁规则见表2。"
"在和障碍物之间距离达到一定阈值(该值远大于最小安全距离)时，智能小车会发出预警。如果在达到最小安全距离之前操作者适时做出反应，智能小车将会采取主动避障。如下图3。 本文通过超声波探测智能小车周围的障碍物的运行环境，进而判断是否要做出相应反应。超声波速度为340 m/s，智能小车与障碍物之间的距离 ，其中 为超声波从发射到返回到发射端的时 间。分别计算在 和 时刻发射出超声波时所对应的距离 和 ，当 不成立时运行环境为动态环境。反之，运行环境为静态环境。其中， 与 不相等。 令智能小车A在运行轨道上与同方向障碍物B的相对位置距离为 。 如图4， 为从小车发射刹车信号到做出反应消耗的时间， 为制动器制动力增长过程中消耗的时间，t为操作者的反应时间。根据文献 [ 11 ] ，设置智能小车的安全距离。 车辆的安全距离分为三种情况进行计算： 1) 障碍物静止 (1) 2) 障碍物相对于智能小车减速行驶 图2. 行驶道路的部分栅格路径 图3. 防撞预警流程 图4. 汽车的制动过程 Table 1 输入/输出 子集 符号含义 DIR SD, OD, OT 同向，反向，其他情况 NCT NFI, NPI, NSI 正面碰撞，追尾碰撞，侧面碰撞 PCTL LE, LN LE表示非空，LN表示空 N EXIST, NULL 存在可选点，空 V DLTR, EDQR, DGTR P W, DR, SP 等待策略，回归策略，选点策略 表1. 碰撞规则参数定义 Table 2 IF THEN IF THEN LN & NSI W LN & NFI & SD & EXIST & DEQR SP LN & NFI & OT DR LN & NFI & SD & EXIST & DLTR SP LN & NPI & OT DR LN & NFI & OD & EXIST & DEQR SP LN & NPI & OD & EXIST & DEQR SP LN & NFI & OD & EXIST & DLTR SP LN & NPI & OD & EXIST & DLTR SP LN & NPI & SD & EXIST & DEQR SP LE & EXIST & DEQR SP LN & NPI & SD & EXIST & DLTR SP LE & EXIST & DLTR SP 表2. 碰壁规则 (2) 3) 障碍物相对于智能小车匀速或加速行驶 (3) 其中， 为智能小车的初速度， 为障碍物相对于智能小车的速度， 为智能小车开始制动与地面产生的减速度， 为智能小车和障碍物性对静止时的安全距离。 时，智能小车与障碍物之间的距离为安全距离，满足这一条件，小车不做出任何反应。反之，当智能小车和障碍物之间的距离无限接近于 而且操作者并没有及时做出反应时，小车将会采取已规划的路径、避开障碍物。 采取文献 [ 12 ] 中不同年龄段的反应安全距离数据，建立模糊函数的隶属函数。静态环境的路径规划有一个模糊输入和一个模糊输出决定，见表3。其中，操作者类型有四个典型隶属函数 [ 13 ] 。 图5表示了操作者类型隶属函数的语义变量表达，纵坐标表示了每个模糊变量的真值区间 [ 14 ] ，横坐标为输入的模糊变量值。其中，安全距离 8.1787m 被定义为SL(很近),此时为隶属函数最小值。8.8442 m被定义为“L”(近)，9.3292 m和9.6677 m分别被定义为“M”(中等远近)和“H”(远)。在该模糊函数中，各模糊逻辑变量集合之间不存在跳跃性。因此交替过程中会出现集合之间的重合，但重合过多时会出现过于模糊的现象。 图5. 各驾驶类型隶属函数 Table 3 操作者类型 男青年谨慎型 SL 女青年谨慎型 L 男老年普通型 M 男老年谨慎型 H 表3. 模糊输入和模糊输出变量 对于不同的驾驶类型输入不同的安全距离x，系统将在设计时间内做出判断，防止出现因为操作者没有及时对预警信息做出反应而产生的安全事故。"
"系统硬件的设计主要包括电子元件的选择和电路原理设计图的设计，分为信息采集和预警防撞模块。  TMS 320F 2812是美国TI公司推出的C2000平台上的定点32位DSP芯片，主频150 MHZ、处理性能可达150 MIPS，每条指令周期6.67 ns。鉴于其强大的事件处理器和丰富的外接资源，本文的实验选择TMS 320F 2812作为信息处理器。采用模数转换器AD7656作为信息转换器，如图6。AD7656是高集成度、6通道、16 bit逐次逼近(SAR)型ADC具有最大4 LSBS INL和每通道达250 kSPS的采样率，并且在片内包含一个2.5 V内部基准电压源和基准缓冲器，能够满足对大量信息转化的需求。来自传感器的距离信息和障碍物的环境信息经AD7656转换后，送往单片机进行处理。  如图7，本文实验采用的预警系统为语音系统，该系统包括语音处理和音频输出。采用ISD4004语音集成芯片，语音提示音都事先储存在该芯片中。当智能小车和障碍物之间的距离接近预警阈值时，TMS 320F 2812芯片送出信号，在没有收到信息回馈时激活该电路，从而达到预警的目的。 ISD4004系列工作电压3 V，具有音质好的特点，并且适用于本文中智能小车的移动。芯片采用CMOS技术，具有以下优点：内含振荡器、防混淆滤波器、平滑滤波器、音频放大器、自动静噪及高密度多电平闪烁存贮陈列。 图6. TMS 320F 2812与模数转换器AD7656的接口电路 图7. 语音预警电路图"
"为了验证本文算法的可行性，利用智能小车进行实地测试。本实验将智能小车行驶轨道划分为20 * 20个栅格 [ 14 ] ，每一组栅格上分别有静态或动态障碍物。 图8中，A为智能小车出发点，B为智能小车终点。轨道中障碍物有三种：黑色为静态障碍物，蓝色为可左右移动的障碍物，红色为可上下移动的障碍物。  本实验所需传感器主要包括超声波传感器和霍尔车速传感器。超声波传感器利用超声波反馈时间判断障碍物的距离和运动状况。同时将霍尔车速传感器安装在变速器后部的蜗轮轴转轴处，采取不同时刻的车速。  实验分为三个阶段：1) 系统发出预警时不对智能小车发出任何指令，测试结果；2) 对部分系统发出警报做出指令，测试结果；3) 对系统发出的警报均给予指令。 1) 测距功能测试：改变信息采集模块与前方障碍物之间的距离，将电路测量值和实际测量值进行比较。具体过程是在图8中A处的智能小车所在轨道内设置15个采样点，分别进行电路测量和实际测量。测量数据显示距离检测误差不超过2.5%。实验表明，信息采集模块测距功能较为精确。 图8. 轨道障碍物布置图 2) 选择性避障功能测试：启动A处智能小车，统计小车在20个不同采样点处的避障误差情况。其中，10个采样处操作者在系统发出预警时对智能小车发出指令。试验表明，避障误差不超过2%。实验表明，该系统的选择性避障功能较为完善。 实验结果表明，在本文算法的处理下，智能小车可以实现及时预警和主动避障，并能够及时对操作者发出的指令做出反应。"
"行驶状态中的车辆处于动态的复杂环境中，不仅障碍物有动静之分、分布随机而复杂，还有驾驶者的反应等众多主观因素，因此需要借助模糊运算才能更好的模拟实际驾驶场景。本文的研究充分考虑了驾驶人对预警信息的反应时间，很好的解决了传统逻辑技术中虽然发出预警，但驾驶人却来不及反应的情况下存在的问题。实验结果表明，本设计能有效适应复杂动态障碍物环境，能有效减少车辆对障碍物的碰撞次数，具有一定的实用价值。下一步，将进一步改进模糊算法，更好的与鱼群算法结合，进一步提升智能车辆的避障效果。"
