"本文研究了在无限时间范围内，需求服从随时间递增的指数分布，变质率呈三参数Weibull分布的多品种易腐品联合补货的库存模型，目标是通过确定每种产品的补货周期，使得单位时间内，零售商的总成本最小。本文的难点有以下：首先，确定物品变质期间的库存持有成本和变质成本；其次，由于联合补货问题是个NP HARD问题，所以模型复杂，不易求解。根据以上难点，本文首先对模型中存在的指数及对数函数进行泰勒展开实现简化，同时应用文献 [ 14 ] 中的差分进化算法求得最优解。为易腐品的零售商在实施联合补货时提供有益的管理建议。 关键词 :Weibull分布，联合补货，差分进化算法 Copyright © 2019 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"随着人们生活水平的改善，对很多易变质物品的需求也逐渐提高，比如新鲜水果、鲜花、海鲜、奶制品等。根据美国食品市场研究所在2012年发布的报告，在2010~2012年，美国超市总销售收入为4440亿美元，这些收入中的50.62%来自于销售易腐品的收入 [ 1 ] ，因此，对于易腐品的订货进行有效的管控，减少产品的腐败，提高收入，对于企业提升自身利润与节约社会资源来说有着非常重要的意义 [ 2 ] 。 Ghare和Schrader [ 3 ] 最先研究了易变质产品的订货策略，并给出了经典的易腐品库存模型。随后Covert和Philip [ 4 ] 松弛了Ghare和Schrader [ 3 ] 关于变质率为常数的假设，研究了产品变质率随时间服从Weibull分布的经济订货批量模型。近年来，很多学者对于该模型进行了一系列扩展：在需求率方面，出现了需求率受价格、库存量、时间影响，在变质率方面，出现了变质率服从指数函数，变质率受保存条件影响，以及考虑通货膨胀、价格折扣、商业信用等等的库存模型 [ 5 ] - [ 12 ] 。 但是，相对于以上各类研究，易变质品的联合采购问题鲜有学者研究。本文认为，在以上研究的基础上，还应进一步完善对于联合采购问题的研究。因此，本文引入需求随时间递增，变质率呈三参数Weibull分布( α > 0 , 1 < β ≤ 2 , γ > 0 )的非立即变质品的联合采购模型。在求解方面，由于模型的结构非常复杂，所以本文采用了文献 [ 13 ] 的求解办法，首先对目标函数中的指数部分进行截断泰勒级数展开，得到简化的目标函数。为同时订购多种易腐品的单一零售商联合补货的问题提供了一定的科学理论指导。"
"根据易腐品的特点和实际联合补货问题，本文的基本假设如下： 1) 不考虑补货提前期，即补货提前期为0。 2) 不允许缺货。 3) 产品i的整体变质率满足三参数的Weibull分布。其中，三参数Weibull分布的概率密度函数、累 积分布函数分别满足 f ( t ) = α β ( t − γ ) β − 1 e − α ( t − γ ) β 、 F ( t ) = 1 − e − α ( t − γ ) β ，α、β和γ分别巍峨Weibull函数的尺度因子、形状以你自己和位置因子。其对变质率刻画的函数为： θ ( t ) = f ( t ) 1 − F ( t ) = α β ( t − γ ) β − 1 ，其中 α > 0 ， 1 < β ≤ 2 ， γ > 0 ，产品一旦发生变质，不采取任何补救措施，且不进入下游流通。 4) 由于 γ > 0 ，产品i进入库存内会存在一个固定的非变质期 t d i ，在 [ 0 , t d i ] 时段内，产品不发生变质，经过 t d i 后，产品i的变质率满足 θ ( t ) = α β t β − 1 。式中，α、β、γ分别为变质率的尺度因子、形状因子和位 置因子。 5) 采用周期性查看库存策略，所有产品采用 [ T , S ] 补货策略，即存在一个基本补货周期T，每个基本周期对所有产品都进行一次库存检查，产品一个补货成本。每一个产品i在此基础上有一个独立的补货周期 ，且 T i 是基本补货周期T的整数( k i )倍，所以 T i = k i T 。且在 i ∈ [ 1 , n ] 中，存在一个 k i = 1 ，且 T > 0 。 6) 需求随着时间递增，产品i在t时刻的需求函数可表示为： D i ( t ) = A e m t ，其中m > 0。 其他符号的释义如表1所示： Table 1 符号 释义 n 产品种类数 h i 产品i的平均库存持有成本 S 每次补货的主要订货成本 s i 产品i补货时的次要订货成本 c i 产品i的变质成本 I 1 i ( t ) [ 0 , t d i ] 内，产品i的库存水平 I 2 i ( t ) 经过 t d i 后，产品i的库存水平 Q i 一个补货周期内产品i的补货量 表1. 符号释义  如前文所述，每一个产品在 [ 0 , t d i ] 时段内不会发生变质，经过 t d i 后，产品开始变质且满足一定的变质率。因此对于每一个产品i，根据不同的 t d i 和 的值，其库存水平会存在以下两种不同的情况： 图1. t d i < T i 时，库存随时间变化曲线 图2. t d i > T i 时，库存随时间变化曲线 我们针对以上两种情况，分别建立不同的联合采购模型 情况1 (图1)：当 t d i < T i 时，在 [ 0 , t d i ] 内，产品i的库存水平下降仅仅是因为当期内的用户需求，所以在产品非变质的时候，产品i的库存水平满足： d I 1 i ( t ) d t = − A e m t , 0 < t ≤ t d i (1) 在 t = 0 的时刻，库存水平为 Q i ，基于此求解(1)式，可得： I 1 i ( t ) = Q i − A m ( e m t − 1 ) , 0 < t ≤ t d i (2) 当经过 t d i 后，产品i库存水平下降不仅是当期用户的需求，还有产品随时间的变质，所以在产品开始变质后，产品i的库存水平满足： d I 2 i ( t ) d t = − A e m t − θ ( t ) I 2 i ( t ) , t d i < t ≤ T i (3) 在 t = T i 时间，库存下降为0，基于此求解(3)式，可得： I 2 i ( t ) = A e − α t β ∫ t T i e m u + α u β d u , t d i < t ≤ T i (4) 在 t = t d i 时，由函数的连续性可知， I 1 i ( t ) = I 2 i ( t ) ，联合(2)和(4)，可得： Q i = A e − α t d i β ∫ t d i T i e m u + α u β d u + A m ( e m t d i − 1 ) (5) 将(5)带入(1)式，可得： I 1 i ( t ) = A e − α t d i β ∫ t d i T i e m u + α u β d u + A m ( e m t d i − e m t ) , 0 < t ≤ t d i (6) 基于以上式子，我们可以知道单位时间内所有产品的平均库存持有成本为： H C 1 = ∑ i = 1 n h i T i [ ∫ 0 t d i I 1 i ( t ) d t + ∫ t d i T i I 2 i ( t ) d t ] (7) 单位时间内所有产品的平均变质成本为： D C 1 = ∑ i = 1 n c i T i [ I 2 i ( t d i ) − ∫ t d i T i A e m t d t ] (8) 单位时间内所有产品的总订货成本为： O C 1 = 1 T ( S + ∑ i = 1 n s i k i ) (9) 将(4)式和(6)式代入(7)式和(8)式，可得： H C 1 = A ∑ i = 1 n h i T i [ t d i e − α t d i β ∫ t d i T i e m u + α u β d u + 1 m ( t d i e m t d i − 1 m e m t d i + 1 m )                     + ∫ t d i T i e − α t β ∫ t T i e m u + α u β d u d t ] (10) (11) 根据以上推论，我们可得在情况1下，单位时间内的总成本为： T C 1 = H C 1 + D C 1 + O C 1 T C 1 = A { ∑ i = 1 n h i T i [ t d i e − α t d i β ∫ t d i T i e m u + α u β d u + 1 m ( t d i e m t d i − 1 m e m t d i + 1 m )       + ∫ t d i T i e − α t β ∫ t T i e m u + α u β d u d t ] + ∑ i = 1 n c i T i [ e − α t d i β ∫ t d i T i e m u + α u β d u − 1 m ( e m T i − e m t d i ) ] }     + 1 T ( S + ∑ i = 1 n s i k i ) (12) 情况2 (图2)：当 t d i > T i 时，产品的补货周期小于产品的非变质期，在该种情况下，不需要考虑产品的变质情况，模型如下： d I 1 i ( t ) d t = − A e m t , 0 < t ≤ T i (13) 且在 T i 时刻，库存下降为0，基于此求解(13)式，可得： I 1 i ( t ) = A m ( e m T i − e m t ) (14) 单位时间内所有产品的平均库存持有成本为： H C 2 = ∫ 0 T i A m ( e m T i − e m t ) d t = A m ( T i e m T i − 1 m e m T i + 1 m ) (15) O C 2 = 1 T ( S + ∑ i = 1 n s i k i ) (16) T C 2 = H C 2 + O C 2 = A m ( T i e m T i − 1 m e m T i + 1 m ) + 1 T ( S + ∑ i = 1 n s i k i ) (17) 根据以上公式可以看出，两种情况下的成本结构有相似的地方，且情况1下的 T C 1 更具有普遍性，所以我们接下来的研究更着重分析情况1下的决策变量。"
"Khouja M, Goyal已经证明JRP问题是NP难题 [ 14 ] ，且本模型中的目标函数包含整数和非整数自变量，属于非线性混合整数的分段函数，无法使用常规的非线性规划方法求解。另外，高维度的指数函数使本模型中目标函数的求解变得更加复杂。基于以上原因，本文对目标函数中的指数函数式函数进行泰 勒展开，其中，指数函数的泰勒展开式为： e x = 1 + 1 1 ! x + 1 2 ! x 2 + 1 3 ! x 3 + o ( x 3 ) 。本文中取前两项进行截断 近似，从而得到简化的目标函数。该方法也广泛在文献 [ 12 ] [ 15 ] 中使用。 对方程(12)中的指数及对数部分进行泰勒展开，并保留至一次项，我们可以得到方程(12)的化简式： T C 1 ≅ A T i ∑ i = 1 n { h i [ t d i ( 1 − α t d i β ) ∫ t d i T i 1 + m u + α u β d u + 1 m t d i ( t d i + 2 )                     + ∫ t d i T i ( 1 − α t β ) ∫ t T i 1 + m u + α u β d u d t ]                   + c i [ ( 1 − α t d i β ) ∫ t T i 1 + m u + α u β d u − T i + t d i ] } 1 T ( S + ∑ i = 1 n s i k i ) (18) 因此，本文问题最终可以表示为： (P1): Subject to (18)   差分进化算法是解决JRP问题的一种快捷而高效地算法，很多学者采用该算法高效地解决了联合订货问题 [ 15 ] [ 16 ] ，本文将通过合理地设计适应本文模型的差分进化算法来求解。差分进化算法的改良通常体现在它的三个基本操作上：变异、交叉和选择。 1) 变异操作 变异操作针对的是目标向量 x i G , i = 1 , 2 , 3 , ⋯ , N P ，通过差分变异操作，可以产生目标向量的新个体，具体的公式为：1 v i G + 1 = x r 1 G + F ∗ ( x r 2 G − x r 3 G ) 式1中，变异矢量 v i G + 1 三个目标向量产生，三个目标向量的序号各不相同，同时他们和i的值也不相同。因此群体的规模 N P ≥ 4 ，为了确保种群多样性，通常取值为50到100之间。F表示缩放因子，用以决定矢量差分的范围，通常F的取值范围在0~2之间，本文中的F选取0.5。 2) 交叉操作 交叉操作涉及到控制参数交叉概率(CR)，交叉概率表示是交叉操作中，目标矢量与变异向量之间的信息交换量的大小。随着CR值的增大，种群多样性的减小幅度变慢，多样性增加，但同时收敛速度也变慢，不利于快速寻找最优解，因此CR需要取一个合理值。本文的CR沿用了差分进化算法的发明人的推荐值，0.3。 对于每一个子代 u i j G + 1 ，交叉操作的方程为： 2 u i j G + 1 = { v i j G + 1 ,     如 果   r a n d ( j ) ≤ C R   或   j = r a n d n ( i ) x i j G ,                                       否 则 r a n d ( j ) ∈ [ 0 , 1 ] 是随机选取的一个0~1之间的值，其中j对应着目标向量 x i j G 中的第j个维度。 r a n d n ( i ) ∈ [ 1 , 2 , ⋯ , D ] 为一个随机选择的维数变量。 3) 选择操作 进过上两部操作之后，我们获得了一批实验向量 u i G + 1 。我们通过比较目标向量 x i G 和实验向量 u i G + 1 的适应度(函数值)来生成子代，方程为： 3 x i G + 1 = { u i G + 1 ,       如 果   f ( u i G + 1 ) < f ( x i G ) x i G ,                         否 则  1) 初始化。首先根据本文目标向量的维度及计算能力确定算法的基本控制参数(CR、F、NP)，然后通过随机函数产生初始种群。初始种群中每个解包含变量 K i 和T，其中 K i 的下限 K i L B 为1，由于实际情况分析， K i 的上限 K i U B 通常小于100，本文中我们取 K i U B = 100 ，在生成初始种群时， 在0和100之间随机取值，然后将随机得到的值取整；经验表明，T在0到1之间随机值。 K i 和T共同组成一个 x i ，为种群中的一个目标向量。 2) 计算所有的随机产生的目标向量的目标值，得到其成本。 3) 按照上文的方法，种群中的所有目标向量依次进行变异操作、交叉操作，然后对目标向量和实验向量进行选择操作，产生子代种群 4) 将得到的子代种群继续(2)~(3)步骤，直至到达给定的最大迭代次数，算法结束，给出结果。"
"本文将通过具体的数值算例来对本文构造的联合订货模型进行求解，从而验证算法及模型的有效性。然后，本文将对一些关键参数进行灵敏度分析，并以此得到这些关键参数对模型的影响，获得实践中的启示。数值算例的部分参数来源于文献 [ 17 ] ，由于文章没有考虑变质率，我们参考文献 [ 18 ] ，增加了 c i , α , β , t d i 四个参数，且采取 D ( t ) = 24 e 0.02 t ，具体参数如表2所示。所有的实验通过MATLAB实现，计算机配置为CPU@2.70GHz和4.00GB RAM。 Table 2 商品 h i s i α β t d i S 1 0.4 1.8 2.4 0.03 0.5 0.0411 2 1 2.0 6 0.03 0.5 0.0822 3 0.8 1.2 4.8 0.03 0.5 0 10 4 0.2 3.2 1.2 0.03 0.5 0.0411 5 0.8 3.1 4.8 0.03 0.5 0.0411 6 0.2 2.7 1.2 0.03 0.5 0.0822 表2. 参数取值 经过100代迭代，计算结果得到最优解中 T = 0.0308 ， K i = ( 1 , 2 , 2 , 1 , 3 , 1 ) ，最优解为1311.5。最后，我们对一些参数采用单量法进行灵敏度分析分析当参数发生变化时，系统的总成本、各关键参数的变化情况，具体情况如表3、表4所示。 从表3、表4可以看出，次要订货成本、α的预测不准均会给结果带来一定的影响，但如果仅在小范围内波动，则对结果影响并不大。而预测误差对K基本无影响，因其影响的是基本补货周期T，随着次要订货成本和α的逐步增大，总成本逐步增大，但α总成本增加幅度十分不明显。 Table 3 s i 变化率 K i T TC −60 1,2,2,1,3,1 0.0412 1222 −40 1,2,2,1,3,1 0.0328 1264 −20 1,2,2,1,3,1 0.0308 1299 20 1,2,2,1,3,1 0.0308 1232 40 1,2,2,1,3,1 0.0364 1356 60 1,2,2,1,3,1 0.0352 1378 表3. 次要订货成本灵敏度分析 Table 4 α变化率 K i T TC 0.01 1,2,2,1,3,1 0.0213 1320 0.02 1,2,2,1,3,1 0.0257 1319 0.03 1,2,2,1,3,1 0.0308 1311 0.04 1,2,2,1,3,1 0.0301 1332 0.05 1,2,2,1,3,2 0.0224 1348 0.06 1,2,2,1,3,1 0.0318 1352 表4. α成本灵敏度分析"
"本文将基于变质率呈Weibull分布的易腐品采购模型进行了拓展，考虑了需求随时间的增加且进行联合补货情况下的易腐品补货。根据Weibull分布的易腐品的特征，构造了连续变质的多品种易腐品联合补货，目标是确定每种产品的最佳订货周期及最佳的最大库存水平，使得系统总成本最小。为了达到目的，本文设计了基于差分进化的启发式算法，通过100次的进化，最终收敛到了一个很好的解。然后，针对模型中的部分核心参数，本文进行了一些灵敏度分析。通过对参数的灵敏度分析，总结了相应的库存管理结论：系统对次要订货成本的敏感度比对腐败系数大。本文构建的模型适用于各种生鲜产品的联合补货，比如果蔬、海鲜等。以后的研究可考虑将后续的配送考虑到整体模型中，或者将用户需求进行细化，比如随着腐蚀的发生，用户需求是否会进一步增加？等等。"
