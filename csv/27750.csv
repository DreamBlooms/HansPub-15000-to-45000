"针对数控加工参数优化问题，提出了一种基于Pareto遗传算法和TRIZ理论相结合的优化方法。首先建立以加工效率、刀具耐用度和加工成本为优化目标的多目标优化模型，采用Pareto遗传算法得到加工参数Pareto最优解集；其次，基于TRIZ发明问题解决理论，从最优解集中分析技术矛盾并建立矛盾矩阵表，根据问题解决原理进行最优解的决策，确定最优加工参数，最后，通过凸轮加工实验验证该方法的可行性和正确性。根据TRIZ理论对Pareto解集进行最优解决策，避免基于经验和偏好选择的弊端，实现合理寻优和理性决策的良好组合。 关键词 :数控加工参数，Pareto遗传算法，TRIZ理论，多目标优化 Copyright © 2018 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"数控加工产品质量和成本的控制与数控加工设备的参数设置具有直接关系。在建立加工参数模型后，对模型的参数进行优化，并结合相关的优化算法来寻找最优的加工参数，这种方法是目前最高效的加工参数选择方法 [ 1 ] [ 2 ] 。从基于算法的加工优化方法发展来看，多目标优化是加工参数优化方案的最佳选择。目前，数控加工领域广泛应用的多目标优化算法有两种：一是，利用线性加权法将多目标分解为多个单一的模型，从而寻找各个目标的最优参数 [ 3 ] ；二是在遗传算法中加入Pareto概念，通过这两者的结合来寻求最优加工参数 [ 4 ] ，还有与智能算法结合，例如粒子群算法和模糊综合评判法得到多目标优化最优解 [ 5 ] 。线性加权和法和权重系数法尽管可以得到最优化的结果，但因为设计者对优化模型的了解程度、有限的优化经验及个人喜好等因素的影响，难以确定合适的目标函数的权重系数，所以得到的优化解往往受限于一定的条件；而基于Pareto遗传算法得到的往往是最优解集，从中合理决策出最优解是当前主要解决的热点问题，并且其在高维决策空间中收敛性能不佳。 针对此问题，出现了基于基因表达式编程的多目标优化算法 [ 6 ] ，但目前还停留在理论阶段；还有通过仿真及与其他智能算法相结合，2015年，范超等将Pareto与蚁群算法相结合，获得Pareto沿后，根据拥挤距离来剔除解集中的解，具有一定的主观性 [ 7 ] ；周志恒等利用层次分析法对Pareto前沿解进行决策，得到最优加工参数组合，也主要是利用决策者的经验，判断并给出每个决策方案的标准的权数，也带有一定的主观性 [ 8 ] ；2016年，邓涛等通过仿真得到Pareto解集，但仍然没有解决最优解决策问题 [ 9 ] 。从Pareto最优解集中决策出最优解仍是当前Pareto遗传算法应用于数控加工参数优化迫切需要解决的问题。本文将Pareto遗传算法与TRIZ理论相结合，基于TRIZ发明问题解决理论，对Pareto最优解集中的参数进行分析，归纳总结参数间的技术矛盾，运用技术矛盾解决原理去进行合理选择和决策，实现真正意义上的先优化后决策的多目标优化。"
"遗传算法模拟自然环境下的生物遗传和进化过程，在此基础上建立高度并行、随机和自适应形式的通用优化算法，也是最常用的智能优化算法 [ 10 ] 。基于数控加工非线性特点及多目标优化需求，本文采用Pareto遗传算法与MATLAB工具箱进行结合的方式，得到Pareto最优解集，并且将Pareto概念与遗传算法相结合求最优解是目前基于遗传算法的多目标优化问题的最常用方法之一 [ 11 ] 。 TRIZ能够有效解决产品创新中遇到的问题，解决矛盾和冲突是产品创新的核心 [ 12 ] ，科学运用RIZ理论中的矛盾解决策略能够有效消除产品创新过程中出现的技术冲突和物理冲突。TRIZ理论提出了39个工程参数的抽象描述方法，而且这些描述方法能够有效解释对象冲突的本质，TRIZ理论还提出了39个通用的工程参数，构建了用于分析参数问题的冲突矩阵模型，其中“列”所描述的是需要改善的一方，而“行”所针对的则是恶化的一方，而后基于一定的规则，将40条发明原理视为参考解列入其中，从而得到冲突解决原理表。在实际应用过程中，为了促使问题实现抽象化，还需要借助参数来进行定义描述，并在矩阵表中确定对应的原理号 [ 13 ] ，根据解决原理号及原理内容，结合实际，分析、提炼和总结，最终找到解决问题的方法。TRIZ理论的39个通用工程参数及其40条发明原理是针对所有问题基础上的提炼和通用，从而保证了应用的科学性。 根据上述理论分析，结合TRIZ理论功能特点，将Pareto遗传算法和TRIZ理论进行有机结合，从而得到改进型Pareto遗传算法。分析Pareto最优解集中加工参数间的关系，确定其之间的矛盾关系，基于TRIZ理论定义成技术矛盾，形成具体问题并用TRIZ的标准用语进行概括，进而形成TRIZ的标准问题，然后在矛盾矩阵表对应寻找问题解决原理，再结合实际加工条件合理选择和决策加工参数，避免了根据经验在Pareto解集中确定最优解的主观性，实现了具有科学依据的客观性决策，从而构建和完善先寻优后决策的求解方法。具体过程如图1所示。 图1. 改进型Pareto遗传算法运算流程图"
"数控切削粗加工阶段，一般以高生产率为主，加工参数的选择也一般遵循保证最大生产效率和最低加工成本的原则，但往往也会受到机床和刀具性能及相关参数的限制和约束，因此，选择最优数控加工参数可以被看做为是一个受约束的多目标优化问题。  在明确机床刀具参数、机床参数和工件参数的情况下，进给量f、切削速度v、切削深度a p 对生产效率的影响最大 [ 14 ] 。由于a p 是取决于零件的切削余量，同时a p 对刀具耐用度的影响不大，为此可将a p 当作是常量。由此可得，待优化的设计变量为切削速度和进给量 [ 15 ] 。本文以螺旋铣削加工为例，其切削运动由两种进给运动合成，即刀具主轴的轴向进给运动和刀具的切向进给运动。因此，设计变量即待优化的参数为：切削速度 v ( m / min ) ，每齿进给量 f ( mm / 齿 ) ，其表达式为 X = ( x 1 , x 2 ) = ( v , f ) 。  优化切削参数的主要目的是为了实现对成本的控制和提高生产效率，但刀具磨损和失效对成本的影响最大。因此，选择切削效率、刀具耐用度和加工成本作为优化目标。 切削时间越少，则切削的效率就越高，切削效率 E ( v , f ) 可表示为 E ( v , f ) = 1 t m = 1000 v f Z π d L (1) 式中 t m 为切削时间， s ； d 为工件直径， mm ； v 为切削速度， m / min ； L 为工件切削长度， mm ； f 为每齿进给量， mm / 齿 ； Z 为刀具齿数。 根据金属切削理论 [ 16 ] ，刀具耐用度 T ( v , f ) 表示为 T ( v , f ) = C ε v α f β a p γ (2) 式中， C ε 为耐用度系数，由工件材料、刀具材料和其他切削条件等确定；指数 α 、 β 、 γ 分别表示 v 、 f 、 a p 影响刀具耐用度的程度，其值需要通过实验或根据经验定性确定。 单件工序成本 = 加工费用 + 换刀费用 + 刀具使用成本 + 辅助费用，公式如下 C ( v , f ) = t m ⋅ M + t c t ⋅ t m T ( v , f ) ⋅ M + t m T ( v , f ) ⋅ C t + t o t ⋅ M (3) 式中， t m 为工序切削加工工时， M 为单位时间内工序分摊的企业费用， t c t 为一次换刀所需时间， C t 为刀具成本， t o t 为除换刀以外的辅助时间。  在数控加工时，对切削用量产生影响的因素包括切削力、机床功率和表面精度等，这些因素形成了参数优化的约束条件。 常用的约束条件表示如下 [ 17 ] ： 1) 主切削力约束 h 1 ( v , f ) = F Z − F Z max = 9.81 C F Z a p x F Z f y F Z ( 60 v ) n F Z K F Z − F Z max ≤ 0 (4) 式中 F Z 为主切削力， N ； F Z max 为最大主切削力允许值， N ；系数 C F Z 由被加工材料和切削条件决定； x F Z 、 y F Z 、 n F Z 为 a p 、 f 、 v 的指数；加工设备和工具参数，以及加工实际条件与经验公式条件不匹配的情况下，切削力的修正系数为 K F Z 。 2) 机床功率约束 h 2 ( v , f ) = F z v 60000 − η P max = π d n F Z − η P max ≤ 0 (5) 式中， η 为机床效率； P max 为机床最大功率， KW 。 3) 工件表面粗糙度约束 h 3 ( v , f ) = f 2 / ( 8 r ε ) − R max ≤ 0 (6) 式中， r ε 为刀尖圆弧半径， mm ； R max 为工件表面轮廓最大高度允许值， mm 。 4) 切削用量范围约束 大量的实践研究证明，刀具的工作寿命受切削速度的影响最大，每齿进给量次之，轴向切削深度对刀具寿命的影响作用最小。在加工铝合金产品时，只有提高切削扭矩，并保持较低的切削速度才能保证切削质量，正常情况下，切削速度小于100 r/min，螺旋铣刀的直径范围为6 mm~10 mm，因此机床主轴转速范围为2000 r/min~5000 r/min，每齿进给量的变化范围为0.1 mm/齿~0.3 mm/齿 [ 18 ] 。在进行螺旋铣削过程中，因为铣平面切削力较小 [ 19 ] ，因此在进行切削参数优化时，切削力及机床功率的约束条件可以被忽略，而以加工表面粗糙度为主要约束条件。  以加工凸轮为例，如图2所示，所选用的数控机床为S56 MAKINO，零件材料为6061铝合金板料。 图2. 凸轮模型 根据优化目标和约束条件，确定优化数学模型。目标函数为: E ( x 1 , x 2 ) = 1000 x 1 x 2 × Z π × d × L (7) T ( x 1 , x 2 ) = C Z / a p γ x 1 α x 2 β (8) C ( x 1 , x 2 ) = t m ⋅ M + t c t ⋅ t m T ( x 1 , x 2 ) ⋅ M + t m T ( x 1 , x 2 ) ⋅ C t + t o t ⋅ M (9) 设计变量为： x 1 ( v ) ， x 2 (f) 约束条件为：切削速度 50 m / min ≤ x 1 ≤ 100 m / min 每齿进给量 0 .1mm / 齿 ≤ x 2 ≤ 0 .3mm / 齿 表面粗糙度 3   μm ≤ R a ≤ 8   μm 由切削用量手册，可以得出刀具耐用度系数：C z = 2118，α = 1.5，β = 0.5，γ = 0.5；根据上述分析，a p = 0.15 mm；选用螺旋铣刀参数：齿数Z = 4，刀具直径d = 6 mm；加工零件长度如图2所示凸轮外形轮廓周长L = 80 mm。根据工序切削加工工时 t m 为2 min，单位时间内工序分摊的企业费用 M 为0.625元/min，一次换刀所需时间 t c t 为5 min，刀具成本 C t 为200元，辅助时间 t o t 为30 min。借助MATLAB软件开展计算工作，其各项参数依次为：默认种群范围为60、更迭次数为200、交叉几率为0.8、变异几率为0.05，优化结果如图3和表1所示。 图3. 凸轮切削参数Pareto解集 Table 1 序号 切削速度(m/min) 每齿进给量(mm/齿) 加工效率(min −1 ) 刀具耐用度(min) 加工成本(元) 3 96.166 0.268 68.328 4.3373 112.779 13 50.359 0.106 14.154 18.197 42.1135 19 56.977 0.133 20.205 13.461 49.8934 21 55.499 0.142 20.89 13.589 49.6134 23 68.977 0.249 45.687 7.3951 74.416 24 59.169 0.150 23.523 12.014 53.4952 25 54.734 0.148 64.696 4.7070 105.492 29 79.071 0.156 32.707 7.624 72.78 32 99.349 0.299 78.980 3.9049 123.052 37 50.071 0.101 13.497 18.742 41.4705 45 82.533 0.145 31.737 7.939 72.122 46 75.013 0.178 35.441 7.415 74.268 47 71.745 0.194 36.976 7.9029 70.919 49 59.465 0.141 22.312 12.274 52.7848 50 93.067 0.260 64.262 4.6213 107.078 表1. 凸轮优化结果 原则上，最优解可以是图3中Pareto曲线上的任意点，此时，一般都是基于经验和偏好主观进行选择和决策，并且，在实际切削加工中一般会兼顾三个目标，尽量选择位于中部区域值的状态 [ 20 ] ，即选择加工效率 ≤ 40(min −1 )，刀具耐用度 ≤ 80(min)，加工成本 ≤ 80元的参数，得到表2所示的三组参数，出于实验需求，可将三组数据转化成加工参数。但此种选择和决定最优解集的方式，主观性太强，科学依据缺乏，最重要的是得到的是最优解集，而不是最优解。 Table 2 序号 切削速度 (m/min) 每齿进给量 (mm/齿) 转速 (r/min) 进给量(mm/min) 加工效率 (min −1 ) 刀具耐用度(min) 加工成本 (元) 29 79.071 0.156 4100 2600 32.707 7.624 72.78 45 82.533 0.145 4300 2500 31.737 7.939 72.122 46 75.013 0.178 3900 2800 35.441 7.415 74.268 表2. 基于经验选择的凸轮加工实验参数"
"从图3和表1中不难发现，加工参数在变化范围上偏大，同时，在刀具耐用度为最大值情况下，加工效率及加工成本保持最低，当加工效率为最高值时，刀具耐用度值最小，而成本则处于最大值，即当刀具耐用度增加时，加工效率便降低，加工成本也降低。依据TRIZ理论中的39个工程参数，将这一原始问题描述为三个标准技术参数：第一个参数为“刀具耐用度”，第二个参数为“加工效率”，第三个参数为“加工成本”，假设“刀具耐用度”和“加工成本”为需改善参数，则“加工效率”为恶化参数；进而根据TRIZ理论39个通用工程参数,通过分析其含义，将“刀具耐用度”、“加工效率”和“加工成本”分别用“运动物体的作用时间”、“生产率”和“物质损失”表示 [ 21 ] ，保证了实际问题参数与TRIZ理论通用参数的一致性和合理性，再根据TRIZ理论矛盾定义，将其定义为技术矛盾。  表3是TRIZ理论的矛盾矩阵表 [ 22 ] ，根据“运动物体的作用时间”和“生产率”这一对技术矛盾参数，即“刀具耐用度”和“加工效率”这两个优化目标参数，找到相对应的解决原理为 14，17，19，35；根据“物质损失”和“生产率”这两个优化目标参数，找到相对应的解决原理为28，35，10，23；再从原理阐述的具体内容中分析和提炼出符合实际问题的有效原理，具体过程如图4所示。原理10：预先作用原理：预先安置物体，促使其处于最方便位置，从而促使运送时间得到有效的缩减；原理14：实施曲面化，采用辊、球和螺旋，诸如，螺旋齿轮能够保证承载能力的均匀性；在实施数控加工过程中，采用专用螺旋铣刀，使得刀具受力均匀，提高耐用度；原理17：维数变化，五轴机床的刀具可被定位到任意所需的位置上，提高加工效率；原理19：周期性作用，批量制造，同样也需要提高加工效率；原理23：反馈原理：在98系统中引入反馈，例如自动工艺控制，提高加工效率和质量；原理28：机械系统替代原理：用光学系统、声学系统等代替机械系统，提高效率和效能；原理35：参数变化，提供智能在线目录，智能制造，提高加工效率。 Table 3 改善参数 恶化参数 运动物体重量 运动物体长度 时间 损失 物质 的量 自动化程度 生产率 1 3 25 26 38 39 1 运动物体的重量 – 15，8 29，34 10，35 20，28 3，26 18，31 26，35 18，19 35，3 24，37 2 静止物体的重量 – – 10，20 35，26 19，6 18，26 2，26 35 1，28 15，35 15 运动物体的作用时间 19，5 34，31 2，19 9 20，10 28，18 3，35 10，40 6，10 35，17 14，19 16 静止物体的作用时间 – – 28，20 10，16 3，35 31 1 20，10 16，38 17 温度 36，22 6，38 15，19 9 35，28 21，18 3，17 30，39 26，2 19，16 15，28 35 23 物质损失 35，6 23，40 14，29 10，39 15，18 35，10 6，3 10，24 35，10 18 28，35 10，23 表3. 矛盾矩阵表  根据图4分析结果，提高生产率重于提高刀具耐用度和降低加工成本，因此，在选择优化参数时，将每一组参数所对应的生产率、刀具耐用度和加工成本进行横向比较，以高生产率，兼顾较高刀具耐用度和较低的加工成本为根据进行决策和选择。针对本文表2中基于经验选择的三组凸轮加工参数Pareto最优解，根据TRIZ理论分析，通过比较，第29组参数满足要求，确定为最终最优加工参数，此时加工效率为32.707 min −1 ，刀具耐用度为7.624 min时，加工成本72.78元，切削速度为79.071 m/min，进给量为0.156 mm/齿。 图4. 基于TRIZ发明问题解决原理分析过程"
"基于上述研究，从表2中分别选择三组加工参数开展实验，通过加工时间和测量表面粗糙度，结合刀具耐用度及加工效率的综合评价对比三组参数的加工效果，得到和确定最优加工参数，进而验证改进型Pareto遗传算法的有效性，加工实验过程如图5所示。 借助数控编程，确定三组参数对零件进行切削加工，从而得到不同的加工效果，并采用粗糙度检测仪就表面粗糙度进行测量，获得不同的结果，如图6和表4所示，对应序号为29、45和46的加工参数，粗糙度值分别为：0.418 μm，0.345 μm，和0.483 μm，均达到加工要求。此外，通过实际加工时间与理论加工时间的对比，发现实际加工时间比理论加工时间要长，误差值范围在0.1 min~0.2 min，是由于实际加工路线与理论路线不同和测量误差所致。但显然，采用第29组参数进行加工时，加工效率较高，同时也具有较高的刀具耐用度和较低的加工成本，可以确定为最优加工参数，此实验结果与3.3理论分析结果一致。由此证明了本文提出的改进型Pareto遗传算法——Pareto遗传算法和TRIZ理论相结合方法的可行性与有效性。 图5. 凸轮加工过程 图6. 三组不同加工参数凸轮表面粗糙度值 Table 4 加工参数 理论值 实际测量值 序号 切削速度(m/min) 每齿进给量(mm/齿) 刀具耐用度(min) 加工成本(元) 加工时间 (min) 加工时间 (min) 表面粗糙度(μm) 29 79.071 0.156 7.624 72.78 0.0305 0.047 0.418 45 82.533 0.145 7.939 72.122 0.0315 0.053 0.345 46 75.013 0.178 7.415 74.268 0.028 0.044 0.483 表4. 凸轮加工实验理论值与实际测量值比较"
"本文结合TRIZ理论，提出了一种先优化后理性决策的改进型Pareto遗传算法，并以铣削铝合金为例，以加工效率、刀具耐用度和加工成本为目标函数，以切削速度和进给量为设计变量建立数学模型，得到Pareto最优解集；再基于TRIZ理论总结的相应原理对最优解进行理性决策，确定最终最优加工参数。与传统Pareto遗传算法相比，改进型Pareto遗传算法避免了基于经验选择和决策最优解的主观性，为选择最优解提供了科学理论依据，完善了先优化后决策的多目标优化寻优模式。最后，通过凸轮加工实验，验证了方法的可行性，满足加工表面粗糙度要求的同时，使得加工参数达到最优，增加了刀具寿命，降低了加工成本，提高了加工效率。"
