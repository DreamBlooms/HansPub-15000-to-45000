"本文旨在利用装箱机器臂和码垛机器臂进行协同控制，实现从装箱到搬运的工业流水线生产过程。双机械臂间的协同控制方式是实验实现的关键，直接影响到流水线生产的灵活性和效率。实验首先进行协同控制方案设计，然后提出包含有：延时指令的使用、IO通讯模块的连接和红外线传感器检测三个相关方案。经过方案论证与分析后，选择IO通讯模块连接方案进行实现，并根据拟定方案进行硬件系统搭建，最后使用软件系统完成执行程序的编写并进行协同控制调试。实验结果表明，使用IO通讯连接的协同控制方案在提高流水线生产效率与实时性方面较为显著。"
"近年来，我国工业机器人行业发展迅速，一定程度上推动了机器人在工业生产制造方面的运用与发展，并且在工业自动化中发挥了巨大作用 [ 1 ]。在工业生产流程中，工业机器人会根据预先设置的程序，有序执行相关任务 [ 2 ]。面对复杂的工业任务，单个机器臂已无法胜任，于是提出了多机械臂协同控制 [ 3 ]。多机械臂协同控制并不在于叠加各个单机械臂的功能，而是通过系统中各子机械臂协同控制来起到一个一加一大于二的效果 [ 4 ]。 工业机器人代替人工进行生产活动，特别是多机械臂协同控制流水线生产的作业模式，逐渐成为工业生产制造的主要发展趋势。在多机械臂协同控制生产流水线中，不同的工业机器人因为设计与制造日趋智能化和人性化而导致类型存在异同，它们之间的协同控制方式也因此多样化 [ 5 ]。随着机器人系统日趋智能化和作业任务日趋复杂化，对于多机器臂间的协同控制研究就显得尤为重要 [ 6 ] [ 7 ]。 本文以双机械臂装箱搬运流水线生产模拟为例，对如何在流水线的生产过程中完成具有较高实时性和高效率的机械臂间协同控制方式进行研究，以掌握工业机器人的控制原理和方法，以及工业机器人间协同控制设计的基本思路与方法，更好理解多机械臂协同控制流水线生产的高效率作业过程。"
"实验设计目的是利用工业装箱机器人和工业码垛机器人协同控制完成货品从装箱到搬运的模拟流水线生产过程。本文选择使用固高工业码垛机器人及其控制系统(完整生产线如图1所示)和固高工业装箱机器人及其控制系统(完整生产线如图2所示)进行双机械臂的协同控制实验。 固高工业码垛机器人和固高工业装箱机器人都为6自由度机器人，并配备有传送带，传感器和对应的作业工具(如码垛机器人的吸盘和装箱机器人的夹具、夹爪)，能够完成装箱和搬运的操作，适合于双机械臂装箱搬运协同控制实验研究。码垛机器人控制系统的主要部件实物图如表1所示，装箱机器人控制系统的主要部件实物图如表2所示。 图1. 码垛机器人完整生产线 图2. 装箱机器人完整生产线 Table 1 传送带 传感器 吸盘 表1. 码垛机器人主要部件 Table 2 传送带 传感器 夹具 夹爪 表2. 装箱机器人主要部件"
"根据实验基础和设计目的分析可知：两个工业机器人及其控制系统是相互独立的，要完成协同控制需要两个机器人之间存在通信连接，当装箱机器人完成任务后，码垛机器人获得某个指令或者信号后，执行所属任务。因此，双机械臂装箱搬运协同控制可以通过添加适合的程序指令，传感器，或者两个工业机器人间进行信号通讯来完成协同控制。  从添加程序指令，传感器，和两机器人间信号通讯方面来设计了相应的三个方案。这三个方案的主要内容如表3所示。 Table 3 方案 方案内容 方案一 记录装箱机器人完成装箱任务并复位的整个过程的用时，并在码垛机器人的执行程序中使用延时指令，而延迟指令的时间参数就是前面所记录的时间 方案二 将两个机器人运动控制器中的IO通讯模块进行连接，装箱机器人作为信号输出端，码垛机器人作为信号输入端，装箱机器人任务完成并发送信号给码垛机器人，令其开始执行搬运任务 方案三 传感器装设在码垛机器人生产线上，载物箱初始位置的一侧，主要是检测最后一个物体被装箱机器人放入载物箱时，传感器向码垛机器人发送信号，码垛机器人生产线上的传送带开始转动，载物箱到达搬运位置后，码垛机器人执行搬运任务 传感器装设在装箱机器人生产线上，夹具同侧的位置并且对准其中一个设定为最后装箱的物体，当最后一个物体被装箱机器人夹走后，传感器向码垛机器人发送信号，当物体放入箱后，码垛机器人生产线上的传送带开始转动，待载物箱到达搬运位置后，执行搬运任务 表3. 方案内容介绍 方案一虽然只使用了延时指令来完成了协同，没有进行硬件连接，节省一定资源和带来一定便利，但是延长的时间设置需要准确，不然两机器人的生产时间线会存在时差。方案二中两机器人的协同控制会更加的精确和高效，会更贴切真实工业流水线生产，只是两机器人之间的需要完成运动控制器上IO通讯模块的接线，并确保信号的传输是有效的。方案三虽然通过红外传感器传输信号完成协同控制，但是当物品的形状，大小和材质等情况不同时，就需要调整传感器的位置，并且两个机器人的生产线都是已经封装好的线路，在生产线上添加传感器需要注意线路的排置。总的来说方案二的实现比其他方案在协同控制实时性与控制性要准确，故选择方案二进行实现。  为贴近流水线生产，将方案二进行升级，把两机器人间的单向信号通讯改连接为双向信号通讯连接，码垛机器人与装箱机器人执行完指定任务后，向对方发送执行信号，重复进行流水线生产过程，最终方案的协调控制流程图如图3所示。"
"通用数字IO信号连接与机器人运动控制器上的8轴端子板的CN10和CN11模块接口相关，且CN10和CN11通用输入输出供电为24 V，所以继电器选择欧姆龙型号为LY2N-J 2开2闭8脚的24V直流(DC)继电器，电缆线选择4芯1平的RVV纯铜电缆线。 图3. 协同控制流程图 根据CN10和CN11模块的接口定义，作为信号输出端的装箱机器人，在其端子板上选择CN10的“OVCC”作为24V供电输出和“EXO15”作为通用输出，其分别连接继电器的8号和7号接口；而作为信号输入端的码垛机器人，在其端子板选择CN10中的“OGND”作为24V供电地和CN11中的“EXI13”作为通用输入，分别连接继电器的3号和5号接口，以上接线选择红蓝色线进行连接，连接实物如图4所示。作为信号输出端的码垛机器人，在其端子板上选择CN10的“OVCC”作为24V供电输出和“EXO15”作为通用输出，其分别连接继电器的14号和13号接口；作为信号输入端的装箱机器人，在其端子板选择CN10中的“OGND”作为24V供电地和CN11中的“EXI13”作为通用输入，分别连接继电器的5号和9号接口，以上接线选择黄绿色线进行连接，连接实物如图5所示。  装箱机器人与码垛机器人各端子板上的接线及两个继电器的接线总图如图6所示，图中引线所指的图7和图8为对应位置放大图。 图7(a)所示为装箱机器人端子板CN10通用信号输出的接线实物图、图7(b)为继电器接线实物图、图7(c)为码垛机器人端子板CN10与CN11的通用信号输入接线实物图，图中数字为对应继电器接口，线框为对应连接接口，其中5号和7号接线使用蓝线连接，3号和8号接线使用红线连接。 图8(a)所示为码垛机器人端子板CN10通用信号输出的接线实物图、图8(b)为继电器接线实物图、图8(c)为装箱机器人端子板CN10与CN11的通用信号输入接线实物图，其中9号和13号接线使用黄线连接，5号和14号接线使用绿线连接。 图4. 装箱机器人控制系统接线图 图5. 码垛机器人控制系统接线图 图6. 电气接线实物总图 图7. 装箱机器人控制系统接线实物放大图 图8. 码垛机器人控制系统接线实物放大图  本文使用位置点进行编程，即将机械臂任务执行的过程拆分为多个位置点，在程序执行的过程中，机械臂按程序指令中所指定的位置点进行移动，完成指定的运动任务，其中装箱机器人从第一个物品夹取到复位设定有16个位置点，码垛机器人从货物箱搬运到空箱放置设定有10个位置点。 程序使用MOVL指令进行位置点移动，DOUT指令进行传送带，传感器和作业工作的状态控制以及进行IO通讯信号发送控制，WAIT指令用于IO信号等待，TIMER指令用于IO信号持续输出，JUMP指令用于程序循环。装箱机器人的执行代码内容可参考附录1装箱机器人执行代码，码垛机器人的执行代码内容可参考附录2码垛机器人执行代码。 在调试过程中，装箱机器人的执行过程如表4所示。在接收到装箱机器人的执行信号后，码垛机器人的执行过程如表5中顺序所示。 Table 4 执行步骤 运输 夹紧 抓取 放置 复位 执行情况 传送带转动并进行货物运输的操作 当货物到达传送带的一端，并被传感器识别到后，传送带停止转动，夹具夹紧货物载具 装箱机器人按货物夹取顺序移动位置并进行货物夹取的操作，装箱作业中该操作重复4次 装箱机器人按货物放置顺序移动位置并进行货物放置的操作，装箱作业中该操作重复4次 装箱任务完成后，机器人回到初始位置，并向码垛机器人发送执行搬运任务的信号 执行示意图 表4. 装箱机器人执行过程 Table 5 执行步骤 运输 抓取 放置 再抓取 再放置 复位 执行情况 传送带运输箱子至一端，传感器检测到箱子并输出信号，传送带停止 码垛机器人移动至箱子捉取点进行箱子的捉取操作 码垛机器人移动至箱子放置点进行箱子的放置操作 从载物箱子放置点移动到空箱子捉取点，进行空箱子捉取的操作 将空箱子捉取到传输带上预设的放置点进行放置 回初始位置，等待装箱机器人发送信号 执行示意图 表5. 码垛机器人执行过程"
"本文主要针对双机械臂协同控制设计的目的，对码垛机器人和装箱机器人进行协同控制，实现了贴近于真实工业流水线生产中装箱与搬运的协同控制，采用IO通讯连接方案，进行两个机器人间的信号交互，实现了较高实时性与效率的机械臂间的协同控制；搭建了模拟真实装箱到搬运协同控制作业流水线，掌握了机械臂间协同控制设计的基本思路与方法。将相关方法用于多类型的机械臂进行生产制造过程的模拟，可以实现多机械臂间的协同控制关系。"
