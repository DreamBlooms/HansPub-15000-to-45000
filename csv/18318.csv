"针对目前智能家居系统发展中存在的一些弊端，分析了智能家居系统的整体设计方案，依托NI公司LabVIEW软件和ELVIS II硬件平台完成了智能家居系统的软硬件设计，并对系统进行功能和可靠性测试，验证结果表明系统功能满足设计要求，且具有友好的人机交互界面、便于功能拓展，为快速搭建智能家居系统提供了很好的借鉴。 关键词 :智能家居，LabVIEW，虚拟仪器，NI ELVIS II"
"智能家居，融合了计算机、通讯、网络和自动控制等多项技术，具有安全、便捷、智能和人性化等诸多优点，能够满足人们对高品质家居环境的追求，已经成为未来家居发展的必然趋势 [ 1 ] [ 2 ] 。目前，具有代表性的智能家居系统主要有以下几种 [ 3 ] - [ 5 ] ： 1) NEYWELL公司的智能家居系统：通过家庭终端智能控制温度调节设备、照明设备、电视、冰箱等家用电器。 2) HAL公司的NI智能家居系统：可实现网络连接与控制，借助专用软件实现家用电器的远程设置与控制。可为不同家庭开发不同类型的智能家居系统。 3) HAL公司的ALdeluxe智能家居系统：基于家庭固有的电源线网络实现计算机与控制终端的通信连接，完成控制命令的下达，从而实现智能家用电器设备的控制。 4) Vantage公司的Vantage家居自动化系统：系统配套的产品比较丰富，产品之间具有良好的兼容性，根据用户需求可以进行灵活配置，具有较高的性价比。 5) LG公司的LG HomNet智能家居系统：向用户提供远程服务，用户可以通过多种方式进行联网控制，不仅可以在室内利用局域网而且可以在室外联网实现智能控制。 尽管国内外已经出现了各种类型的智能家居系统，但也难以掩盖发展中存在的弊端 [ 6 ] ，主要表现在： 1) 行业标准欠缺：目前尚无统一规范的行业标准，尤其是具有权威性的国际标准； 2) 技术封锁：各公司对技术实行严格保密和封锁，缺乏技术交流，影响行业健康发展； 3) 兼容性差：目前该领域各自为营，各自标准和通信连接不甚相同，相互之间的兼容水平较低。 鉴于智能家居发展过程中存在的问题，本文结合虚拟仪器在兼容性方面的优势，开发基于虚拟仪器的智能家居系统。"
"网络高速化、连接无线化以及系统嵌入化是智能家居发展的三大方向，其发展主要依托网络技术、无线通信技术以及嵌入式系统的不断创新。智能家居系统将跨入后计算机时代 [ 7 ] 。 未来的智能家居系统将有更大的发展空间，仅仅依靠移动终端设备就能实现对智能电器设备的操控，图1所示为智能家居系统的拓扑结构。 如图1所示网络连接能够将众多家用电器以及数字化设备连接起来组成家庭局域网络，通过个人计算机、PDA或其他移动终端设备进行远程监控，实现家居的智能化 [ 8 ] [ 9 ] 。 图1. 智能家居系统拓扑图 本文所设计的智能家居系统主要由控制中心、通信连接、数据采集和执行终端四部分构成。控制中心根据系统规模的大小分别由服务器、PC机、单片机、PDA和手机等设备搭载相应的系统软件和应用软件完成。通信连接主要完成控制中心与执行终端之间的数据通信，可采用无线通信和有线通信两类连接方式实现；数据采集由数据采集卡、传感器以及信号调理电路组成，完成原始信号的采集及转换功能；执行终端主要完成接收并执行控制中心下达的指令。系统总体结构如图2所示。 在本设计中，控制中心的功能由搭载win7操作系统软件的PC机和应用软件LabVIEW组成，通过LabVIEW图形化编程语言来编写控制系统软件，实现智能控制功能；通信连接方式选用较为简单的串口通信方式，PC机以及NI ELVIS II平台自带的高速USB串行接口，并支持热插拔功能，不用额外增加通信设备就可实现串口通信功能，既降低了系统的成本又提高了系统的兼容性与可靠性；执行终端的功能则是依托NI ELVIS II平台所搭载的功能和输出接口输出控制指令来模拟。"
"智能家居系统的硬件部分采用NI ELVIS II平台以及各种传感器硬件电路完成。主要的硬件平台NI ELVIS II如图3所示。 NI ELVIS II平台采用开放式的硬件结构，将示波器、信号发生器、数字电源、动态信号分析器等12种常用仪器集成在一起，并支持LabVIEW图形化编程，实现强大仪器测量功能。 各项测量功能主要由温度、湿度、气体、烟感和红外传感器来完成，传感器的输出经过信号调理及转换之后，连接至数据采集卡，进入计算机进行处理。虚拟仪器系统硬件简单易搭建，使得系统精度和稳定性得以提升。  在温度传感器的选择中，选择NTC热电偶进行温度测量，其量程及精度能够很好满足应用要求。内部包含双电压比较器集成电路LM393、电源指示灯和状态指示灯等，热电偶的阻值随温度的变化而变化，转换成电压信号与比较器输入电压比较，从而在输出端得到高电平或低电平。 图2. 系统总体设计 图3. NI ELVIS II虚拟仪器开发平台  湿度测量由湿敏元件来完成，分为电阻式和电容式两类。随着湿度的变化，湿敏电阻的电阻值随着发生变化，湿敏电容的电阻率发生变化。湿敏电阻具有高灵敏度和快响应速度的优点，而且价格实惠。在测量电路中选择HR202型湿敏电阻来进行环境湿度测量。  气体传感器将空气中特定气体的体积分数，转换成电信号，由于原理及检测对象的不同，其种类非常多样，系统设计中选择MQ-9型气体传感器，它能够实现对一氧化碳、瓦斯等气体的浓度测量，而且具有较高灵敏度和稳定性。  红外探测器是众多传感器模块中结构最为复杂的一种，由于热释电红外传感器具有抗干扰能力强、性能稳定、体积小和成本低的优点，所以在系统硬件设计中采用此类传感器。由红外传感器与信号处理模块BISS0001配合来构成红外传感信号处理电路，能够在传感器接收信号后，快速做出判断并发出控制指令。"
"能家居系统要实现对电器设备的智能控制，控制系统软件设计直接决定着系统功能的实现。本系统采用NI公司研发的程序语言LabVIEW完成软件设计，图形化的编程方法是LabVIEW编程语言的最大特色。依托计算机强大的数据处理能力，能够编程实现完善的仪器功能，通用性强，与通用硬件设备兼容性好，而且可以根据客户需求实现定制设计，使系统更加人性化，采用模块化设计，便于系统功能拓展，缩短系统开发周期。系统软件的总体设计流程如图4所示。 系统软件包括用户管理子系统、环境舒适度监控子系统、安防监控子系统。 图4. 软件设计总体流程图  完善的用户管理是确保系统安全可靠运行的必要条件，为监控软件设置用户管理系统，在软件启动前设置用户登录，系统定义的合法用户才具有登录权限，每个用户设置用户名和密码，短时多次登录系统锁定；设置系统管理员，享有最高权限，负责系统的全局管理和数据维护工作。  智能家居系统的宗旨是为用户提供舒适、便捷、安全、可靠的家居体验，家庭环境舒适度相关指标的监控成为重点研究对象，本文主要从温度、湿度和光照强度三方面提高用户舒适度水平，并通过家用智能电器以及家具的自动控制来实现对温度、湿度以及光照强度的调节，提高家居环境舒适度水平。 传感器采集到温度信号后，经过信号调理电路的处理，转换成符合接口要求的数字信号，经过数据采集卡将数据进行上传，由计算机对数据并进行分析处理并判断，根据预先整定的约束条件向执行终端下达控制指令，采用闭环控制模式来提高系统控制精度及响应速度。 温度、湿度、光照采集与控制模块包含采集、防重复、显示记录和指令下达四个部分。在防重复模块设计中，当采集到六个大于或小于设定温度的采样数据时，发出空调、空气加湿器、照明、窗户控制命令，避免设备重复操作，造成系统资源浪费。温度智能控制的实现如图5所示。 在设计中，照明设备采用三级照明亮度，根据光照度数值进行分级控制，提高系统的控制精度及稳定性。出于人性化的考虑，增加手动调控功能，可以根据个人意愿控制照明设备的亮度级别。  安防监控系统对于保障住宅范围内的人身和财产安全发挥着不可替代的作用。在本设计中安防监控系统主要由三部分组成：有害气体监控、火灾监控、视频及防盗监控。采用联网的服务模式，异常发生时发出告警，并通过彩信或邮件方式通知用户，用户可登录客户端查询图像信息，确保用户实时掌控住宅动态。  有害气体危害巨大又难以察觉，已经构成对身体健康的严重威胁。就家庭而言，有害气体产生常与用户疏忽有关，如天然气、煤气泄漏，装修产生甲醛等，这些气体无色无味，人类感官很难察觉。本设 图5. 温度智能控制程序框图 计中主要对天然气、一氧化碳、甲醛的含量进行监控，通过在室内不同区域布置传感器来监测有害气体的含量，在有害气体越限时，发出声光报警，及时开启通风设备及窗户，降低有害气体浓度，确保安全。  火灾是发生频率较高的灾害，往往会造成巨大的人员伤亡和财产损失，随着楼层高度的不断增加，灭火难度加大，尽早发现火情并采取灭火措施意义重大。通过烟感传感器来检测火灾的发生，检测到火灾并发出声光报警信号，同时启动自动消防设备进行灭火。  对住宅及周边环境实行视频监控，并采用智能图像处理技术，智能提取行人及车辆信息，及时发现异常并发出告警。防盗监控通过在住宅入口区域布置红外探测装置，感知人体红外信号判断是否存在非法入侵，异常发生时及时作出报警处理。  为使智能家居系统更加人性化，增加手动操控功能，用户可随个人意愿开启各种家具设备，设置手动操控模式优先级高于智能控制模式，防止两者冲突。通过手动操控系统，用户可以对系统的数据进行全局管理，查询历史记录，生成报表打印等，方便在问题发生后追本溯源。  数据采集控制系统是连接软件和硬件的纽带，通过软件设定实现对NI ELVIS II数据采集的控制。系统需采集的数据量较多，由于NI ELVIS II通道数量有限，为解决这个矛盾，采用在高速率情况下的单任务多通道方式，为多路信息设置不同物理通道，既解决了通道占用问题，又能获得较高的采集精度，满足系统应用的要求。数据采集控制软件实现如图6所示。"
"系统设计完成后，对系统的功能和可靠性进行测试，在测试过程中，监控界面能够快速准确测量环境信息，在软件中正确显示，发出正确的控制指令。其中测试过程中环境舒适度监控界面如图7所示。 图6. 数据采集控制程序框图 图7. 舒适度监控界面"
"本文结合虚拟仪器在兼容性方面的突出优势，在智能家居系统设计中采用虚拟仪器的设计思想，完成家具系统整体设计，并分析各子系统的实现，经过验证能够达到系统设计要求。虚拟仪器与家具系统的有机结合，将大大提高智能家居的智能化水平，虚拟仪器的发展将会为智能家居带来发展契机。本文基于虚拟仪器的智能家居系统为解决目前智能家具系统兼容性提供借鉴，具有兼容性好，稳定性高，拓展能力强的诸多优点。"
