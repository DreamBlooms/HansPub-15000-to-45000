"本文研究的是以A商场为例，针对2005年9月到2017年8月该商场智能手机的销售量数据应用SPSS进行模型研究分析，试用指数分解模型、ARIMA模型和指数平滑模型分析数据，比较各模型对该数据的适用情况，找出最适合其销售量的模型，然后用最适合的模型进行一年内短期预测，以期得到最符合将来实际情况的销售数据，便于A商场进行产品的分配。 关键词 :时间序列分析，指数分解模型，指数平滑模型，ARIMA模型，短期预测 Copyright © 2018 by author and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"随着社会经济的发展和人们生活水平的提高，越来越多的人购买了智能手机，智能机不再是高端人士用的奢侈品，而成为了普通大众的必需品，甚至有家庭用手机代替了固定电话。为了更好地预测智能机将来的销售情况，为手机供应商、销售商的将来发展进行良好规划，需要我们寻求合适的模型进行分析数据。本文拟用时间序列分析相关模型 [ 1 ] 进行对比分析，旨在探究最适合于手机销量数据的模型进行预测，在传统的时间序列模型中引入可修正时间序列数据的季节性和倾向性的Winters模型 [ 2 ] ，使数据拟合预测更贴合实际经济数据，从而更有效分配市场。"
"针对某商场A的智能手机销售情况，我们需要得到A商场每年每个月每个卖场的销售数据，了解基本情况，进行初步分析；对处理好的数据用SPSS分别进行季节分解模型、指数平滑法、ARIMA模型和Winters相乘模型的处理 [ 3 ] [ 4 ] ，比较各模型优缺点，拟合得出最适合该商场手机销售量情况的对应模型；用最适合的模型进行预测，预测未来一年内手机的销量情况 [ 5 ] ，有利于商场对购进货量的有效规划，作为该商场安排手机市场份额的有效参考。"
"1、假设所用数据能够反映其现实情况，以期可以根据实际情况进行分析，得到最贴合实际的预期 [ 6 ] ； 2、假设销售数据不受卖场促销活动影响，排除因外在突发因素对于时间序列的影响，从而保证各模型间比较的合理性； 3、假设不考虑不规则变动影响，不规则变动指引起社会经济现象发生不规则变动的各种偶然因素，没有共性，难以控制，本文不作考虑。"
"符号说明请见表1。"
"时间序列变动影响因素分解 [ 7 ] [ 8 ] ： 影响经济时间序列变化的因素可划分为以下四种： (一) 长期趋势因素(T) 长期趋势因素是指使社会经济现象在某一较长时期内呈现持续发展变化趋势的因素。这是由于许多经济现象有一种稳定的、长期起作用的因素存在。这个数据一般可以通过移动平均或者线性回归等方法进行拟合，因此它是可预测的部分。 Table 1 符号 说明 Y t 时间序列值 Y ^ 时间序列预测值 长期趋势 S t 季节变动 C t 循环变动 I t 不规则变动 α 等级的平滑系数 γ 趋势的平滑系数 表1. 符号说明 (二) 季节变动因素(S) 季节变动因素是指引起社会季节现象在一年内随季节变动而有规律地变动因素。“季节”一词是广义地，包括气候条件等自然因素、生产或生活条件、人们的风俗习惯、节假日等。 (三) 循环变动因素(C) 循环变动因素是指引起社会季节现象近乎规律性地从低到高再从高到低的周而复始变动的因素。循环变动因素与季节变动统称为周期变动。 (四) 不规则变动因素(I) 不规则变动因素是指引起社会经济现象发生不规则变动的各种偶然因素，又称随即变动因素。 按以上四种因素对时间序列的影响方式不同，时间序列可分解为多种模型： (一) 加法模型 Y t = T t + S t + I t 又称季节变差法。其分解思路如下： 第一步，求长期趋势变动 T t 。以时间t为自变量，采用趋势拟合法，对原始时间序列 Y t 建立长期趋势方程： T t = β ^ 0 + β ^ 1 t ，并根据该方程求出每个时期的长期趋势值，得到长期趋势序列 T t ； 第二步，消除随机变动，估计季节变差 S t 。从原时间序列 Y 中剔除长期趋势序列 T ，得到只包含季节变差和随机变动的序列 S I ，及 S I = Y − T 。由于季节变差受季节变动因素影响，设其与年度无关，则不同年度同一季度无关，则不同年度同一季度的随机变动之和为零，即： ∑ i = 1 m I i j = 0 ,     j = 1 , 2 , ⋯ , k ； 第三步，求随机变动 I t 。从序列 S I 中剔除季节变差序列 S ，即， I t = S I t − S t ，随机变动很难预料，因此剔除不分解运算； 第四步，根据时间序列分解模型进行预测。不考虑不规则变动序列 I t ，模型变为： Y ^ = T t + S t (二) 乘法模型 Y t = T t ∗ S t ∗ C t ∗ I t 又称季节分解法。其分解思路如下： 第一步，采用移动平均法从原始时间序列 Y 中剔除季节变动和不规则变动，得到包含长期趋势和循环变动的序列 T C ； 第二步，从原始时间序列 Y 中剔除第一步算出的长期趋势和循环变动的总影响 T C ，得到只包含季节变动和不规则变动的序列 S I ，即 S I = Y / T C ； 第三步，对第二步得到的序列 S I 采用按月(季)平均法，剔除其中的不规则变动 I ，得到季节指数 S ； 第四步，以时间 t 为自变量，采用趋势拟合法，对原始时间序列 Y 建立长期趋势方程，并求出长期趋势序列 S ； 第五步，从第一步得出的包含长期趋势和循环变动的序列 T C 中剔除第四步得出的长期趋势 T ，得到循环变动指数序列 C ，即 C = T C / T 。由于不规则变动预测，所以，它对预测没有价值，因此，不必对其分解计算； 第六步，根据长期趋势方程求出预测时间的长期趋势 T t ，并判断预测时期的循环变动指数 C t ； 第七步，根据时间序列分解模型进行预测。由于不规则变动 I 不可预测，预测模型变为： Y ^ = T t ∗ S t ∗ C t  季节分解模型及上述概念中的乘法模型，运用SPSS分析数据得到以下表2结果。 上表给出了当前模型所使用的分析变量和模型参数，模型是季节分解模型里面的加法模型。 图1描绘了原始序列、趋势循环序列和季节调整序列的趋势线，可以看出去除季节和误差因素后的趋势循环表现出明显的趋势线。销量的序列线总体显示呈上升趋势，即序列值随着时间而增加，上升趋势似乎将持续，即为线性趋势。还可以看出有明显的季节特征，每年的4到5月份为最高点，季节变化显示随上升序列而增长的趋势，表明是乘法模型而不是加法模型，但是由上图可以看出该模型的拟合效果比较不好，拟合值与观测值的曲线相差较大。  指数平滑法实际上是一种特殊的加权移动平均法。其特点是：第一，指数平滑法进一步加强了观察期近期观察值对预测值的作用，对不同时间的观察值所赋予的权数不等，从而加大了近期观察值的权数，使预测值能够迅速反映市场实际的变化。权数之间按等比级数减少，此级数之首项为平滑常数a，公比为(1-a)。第二，指数平滑法对于观察值所赋予的权数有伸缩性，可以取不同的a值以改变权数的变化速率。 Table 2 模型描述Model description 模型名称 MOD_10 模型类型 可加 序列名称 1 销量 2 SEASON、MOD_8、ADD、CEN、12中销量的误差 3 SEASON、MOD_8、ADD、CEN、12中销量的季节性调整序列 季节性期间的长度 12 移动平均数的计算方法 跨度等于周期加1，端点权重为0.5 表2. 季节分解模型描述 正在应用来自MOD_10的模型指定。 图1. 序列趋势线 如a取小值，则权数变化较迅速，观察值的新近变化趋势较能迅速反映于指数移动平均值中。因此，运用指数平滑法，可以选择不同的a值来调节时间序列观察值的均匀程度(即趋势变化的平稳程度)。 指数平滑法是生产预测中常用的一种方法。也用于中短期经济发展趋势预测，所有预测方法中，指数平滑是用得最多的一种。简单的全期平均法是对时间数列的过去数据一个不漏地全部加以同等利用；移动平均法则不考虑较远期的数据，并在加权移动平均法中给予近期资料更大的权重；而指数平滑法则兼容了全期平均和移动平均所长，不舍弃过去的数据，但是仅给予逐渐减弱的影响程度，即随着数据的远离，赋予逐渐收敛为零的权数。 常用的指数平滑模型包括Holt模型和阻尼Holt模型等。Holt模型简单可靠易于操作，尤其适用于一些随时间连续变化的数据。 所以本文采用的是指数平滑法里面的Holt线性趋势预测。 Holt线性指数平滑法，一般选择：针对等级的平滑系数 α = 0.1 ，针对趋势的平滑系数 γ = 0.2 ； 等级： L t = α y t + ( 1 − α ) F t 趋势： T t = γ ( L t − L t − 1 ) + ( 1 − γ ) T t − 1 初始值： L 2 = y 2 and T 2 = y 2 − y 1 其中， Y t 是实际观测值； α 和 γ 是平滑系数，取值范围均为 ( 0 , 1 ) 之间； L t 是初步预测值； T t 是局部增长值，由平滑差异进行估计。 表3给出了包含R方在内的8个拟合优度统计量。 表4可以看出，平稳R方统计量的取值大于0，说明当前Holt线性模型要优于基本的均值模型。 由表5可以看出该模型预测出第145个月的销量为439台，第146个月的销量为446台。 由图2和图3可以看出，预测模型基本上较好的拟合了数据的大趋势，即模型拟合数据拟合的比较好，模型比较合理，但观测值相对于拟合之较为滞后，峰值部分观测值较低于预测值。  ARIMA(autoregressive integrated moving average)是Box-Jenkins方法中的重要时间序列分析预测模型，称为自回归滑动平均混合模型，其中ARIMA(p,d,q)也称为差分自回归移动平均模型，AR是自回归，p为自回归项；MA为移动平均，q为移动平均项数，d为时间序列成为平稳时所做的差分次数。它是多个模型的混合，解决两个问题：分析时间序列分析的随机性、平稳性和季节性；在对时间序列分析的基础上，选择适当的模型进行预测 [ 9 ] [ 10 ] 。 该方法包括三个过程：自回归、滑动平均、差分求和，ARIMA模型是自回归AR和移动平均MA加上差分考虑。 ARIMA模型分为：自回归模型(AR)，滑动平均模型(MA)，自回归滑动平均(ARMA)，自回归滑动平均混合模型(ARIMA)，又称差分整合自回归滑动平均模型。 Table 3 模型拟合 Model fitting 拟合统计量 均值 SE 最小值 最大值 百分位 5 10 25 50 75 90 95 平稳的R方 0.373 . 0.373 0.373 0.373 0.373 0.373 0.373 0.373 0.373 0.373 R方 0.920 . 0.920 0.920 0.920 0.920 0.920 0.920 0.920 0.920 0.920 RMSE 34.155 . 34.155 34.155 34.155 34.155 34.155 34.155 34.155 34.155 34.155 MAPE 9.025 . 9.025 9.025 9.025 9.025 9.025 9.025 9.025 9.025 9.025 MaxAPE 26.981 . 26.981 26.981 26.981 26.981 26.981 26.981 26.981 26.981 26.981 MAE 25.626 . 25.626 25.626 25.626 25.626 25.626 25.626 25.626 25.626 25.626 MaxAE 109.004 . 109.004 109.004 109.004 109.004 109.004 109.004 109.004 109.004 109.004 正态化的BIC 7.131 . 7.131 7.131 7.131 7.131 7.131 7.131 7.131 7.131 7.131 表3. 指数平滑法的模型拟合 Table 4 模型统计量Model statistics 模型 预测变量数 模型拟合统计量 Ljung-Box Q(18) 离群值数 平稳的R方 统计量 DF Sig. 销量-模型_1 0 0.373 197.049 16 0.000 0 表4. 指数平滑法的模型统计量 Table 5 预测Forecast 模型 145 146 销量-模型_1 预测 439 446 UCL 539 594 LCL 353 327 表5. 指数平滑法的模型预测 图2. 残差的自相关图和偏自相关图 图3. 销量预测值、拟合值、观测值的序列图 表6给出了包括平稳R方在内的8个拟合优度统计量。 表7所示的是ARIMA(1,1,2)模型的参数估计结果。从t统计量的显著性sig值可以看出，模型的几个参数都是非常显著的。 从表8可以看出用ARIMA模型预测的第145个月的销量为470台，第146个月的销量为472台。 观察图4和图5，看观测值和拟合值得拟合图形，两者的拟合程度比较高，模型较好，但观测值相对于预测值有些滞后，峰值部分也存在一定偏差，观测值高于预测值。 Table 6 模型拟合Model fitting 拟合统计量 均值 SE 最小值 最大值 百分位 5 10 25 50 75 90 95 平稳的R方 0.140 . 0.140 0.140 0.140 0.140 0.140 0.140 0.140 0.140 0.140 R方 0.937 . 0.937 0.937 0.937 0.937 0.937 0.937 0.937 0.937 0.937 RMSE 30.209 . 30.209 30.209 30.209 30.209 30.209 30.209 30.209 30.209 30.209 MAPE 8.396 . 8.396 8.396 8.396 8.396 8.396 8.396 8.396 8.396 8.396 MaxAPE 18.957 . 18.957 18.957 18.957 18.957 18.957 18.957 18.957 18.957 18.957 MAE 23.951 . 23.951 23.951 23.951 23.951 23.951 23.951 23.951 23.951 23.951 MaxAE 84.113 . 84.113 84.113 84.113 84.113 84.113 84.113 84.113 84.113 84.113 正态化的BIC 6.920 . 6.920 6.920 6.920 6.920 6.920 6.920 6.920 6.920 6.920 表6. ARIMA模型的模型拟合表 Table 7 ARIMA模型参数ARIMA model parameters 估计 SE t Sig. 销量-模型_1 销量 自然对数 AR 滞后1 0.543 0.150 3.629 0.000 差分 1 MA 滞后1 0.381 0.145 2.624 0.010 滞后2 0.411 0.081 5.065 0.000 表7. ARIMA模型的参数估计结果 Table 8 预测 模型 145 146 销量-模型_1 预测 470 472 UCL 570 630 LCL 384 345 表8. ARIMA模型的预测结果 对于每个模型，预测都在请求的预测时间段范围内的最后一个非缺失值之后开始，在所有预测值的非缺失值都可用的最后一个时间段或请求预测时间段的结束日期(以较早者为准)结束。  Winters季节预测法师六十年代初由Winters研究制定出来的一种较高级形式的指数平滑方法。这种方法可以同时修正时间序列数据的季节性和倾向性，因此，它能用于既有倾向性变动趋势又有季节性变动的时间序列进行预测。 Winters季节预测法以三个方程式为基础，其中，每一个方程式都用于平滑模型的三个组成部分(平稳的、趋势和季节性的)，且都含有一个有关的参数。这种方法可以平滑随机性和修正倾向性，还包括处理季节性的附加参数。 图4. 残差的自相关图和偏自相关图 图5. ARIMA模型拟合图形 基本方程式： S t = α x t I t − L + ( 1 − α ) ( S t − 1 + b t − 1 ) → 整体平滑 b t = γ ( S t − S t − 1 ) + ( 1 − γ ) b t − 1 → 趋势平滑 I t = β x t S t + ( 1 − β ) I t − L → 季节平滑 其中， α , β , γ ∈ [ 0 , 1 ] ， L 为季节的长度； I 为季节平滑值； S t 为一次平滑值， b t 为趋势平滑值。 表9给出了包括平稳R方在内的8个拟合优度统计量。 观察观测值和拟合值得拟合图形图6和图7，相较于上述三种方法两者的拟合程度是最高，故模型最好。 Table 9 拟合统计量 均值 SE 最小值 最大值 百分位 5 10 25 50 75 90 95 平稳的R方 0.209 . 0.209 0.209 0.209 0.209 0.209 0.209 0.209 0.209 0.209 R方 0.992 . 0.992 0.992 0.992 0.992 0.992 0.992 0.992 0.992 0.992 RMSE 10.691 . 10.691 10.691 10.691 10.691 10.691 10.691 10.691 10.691 10.691 MAPE 3.080 . 3.080 3.080 3.080 3.080 3.080 3.080 3.080 3.080 3.080 Max APE 13.715 . 13.715 13.715 13.715 13.715 13.715 13.715 13.715 13.715 13.715 MAE 8.000 . 8.000 8.000 8.000 8.000 8.000 8.000 8.000 8.000 8.000 Max AE 40.457 . 40.457 40.457 40.457 40.457 40.457 40.457 40.457 40.457 40.457 正态化的BIC 4.842 . 4.842 4.842 4.842 4.842 4.842 4.842 4.842 4.842 4.842 表9. Winters相乘性模型的模型拟合表 图6. 残差的自相关图和偏自相关图 图7. Winters相乘模型拟合图  第一种模型是季节分解模型，我们可以从序列图中看出，拟合值与观测值的拟合效果不是很好，故排除该模型； 第二种模型是指数平滑法里面的Holt线性趋势模型，表示使用霍特线性趋势模型，该模型适用于具有线性趋势且没有季节性的序列，其平滑参数是水平和趋势，不受相互之间的值的约束。从表2中我们可以看出其平稳的R方为0.373，从其图3可以看出，拟合值与观测值的拟合效果很好； 第三种模型是ARIMA模型，自回归AR和移动平均MA加上差分考虑。从表5中我们可以看到其平稳的R方为0.140，从图4可以看出，拟合值与观测值的拟合程度也比较高。 第四中模型是指数平滑法里面的加入了季节性因素的Winters相乘模型。从图7可以看出拟合值与预测值拟合效果很好，平稳的R方为0.209，也比较大，其残差的相关图和自相关图都没有显著的趋势特征(拖尾或截尾)，故所用模型是比较恰当的 综合上述4种模型可以看出第四种模型更加适合该商场手机销量的变化趋势。我们将用该模型预测2016年12月和2017年的销售量，以便进行分配。 表10可以看出用指数平滑法的Winters相乘模型所预测的未来20个月每个月的销售量，A商场可以根据这些数据进行手机的分配。"
"季节性的指数平滑法里的Winters相乘性模型，该模型适用于具有线性趋势和依赖于序列水平的季节性效应的序列，其平滑参数是水平、趋势和季节。 在指数平滑法中，所有先前的观测值都对当前平滑值产生了影响，但它们所起的作用随着参数的幂的增大而逐渐减小。那些相对较早的观测值所起的作用相对较小，这也就是指数变动形态所表现出来的特性。从某种程度上来说，指数平滑法就像是拥有无限记忆且权值呈指数级递减的移动平均法。 优点是考虑了时间序列的全部数据信息，是对移动平均法的改进，它考虑了当前信息对未来发展有 Table 1 0 预测 模型 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 销量-模型_1 预测 435 437 440 442 445 447 450 453 455 458 460 463 466 468 471 473 UCL 501 532 555 576 594 611 627 642 656 670 683 695 707 719 730 742 LCL 368 343 324 309 295 284 273 263 254 246 238 231 224 217 211 205 表10. 指数平滑法模型的预测值 对于每个模型，预测都在请求的预测时间段范围内的最后一个非缺失值之后开始，在所有预测值的非缺失值都可用的最后一个时间段或请求预测时间段的结束日期(以较早者为准)结束。 更大的影响，而近期数据比远期数据包含了更多的当前信息，从而对预测更有价值；缺点是不容易缺点指数平滑系数，受主观影响较大。  指数平滑法里的Winters相乘性模型，该模型适用于具有线性趋势和依赖于序列水平的季节性效应的序列，其平滑参数是水平、趋势和季节。"
"根据预测数据可以看出，智能手机的销量自2005年，以持续高增长率增加，中间存在季节性，分析因素主要有以下几个： 1、移动运营商和终端厂商在3G市场推出了许多明星型或特色型智能手机，并采取了针对性营销措施，不仅行业用户、企业管理层和部分学生等细分市场规模进一步扩大，更多的普通白领也纷纷加入了3G手机的消费阵营。 2、移动互联网的发展和手机应用的快速增加和不断普及，让开放性更强的智能手机成为用户的第一选择。手机阅读、手机音乐、手机电视和手机导航等各类应用，吸引着越来越多的用户选择智能手机。 3、运营商定制和智能手机竞争程度的加强，让智能手机的层次程度不断增强，由原来的高档为主，向中低市场延伸，价格不断创出新低，降低了用户的消费障碍。 4、随着苹果等品牌更新换代的周期一定，版本降价时间也基本固定，故销量方面也存在一定周期性。 本文以A商场为调研主体，用Winters乘法模型对未来销售数据进行预测与其他预测方法比较起来更具有针对性。该方法适用于短期预测，所需数据量少，且计算方便，可以用SPSS软件建模并给出图表。但此方法对于时间序列中的个别异常数据适应能力较差，遇到特殊情况时，预测精度有所下降。"
