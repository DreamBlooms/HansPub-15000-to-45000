"HPR1000 (Hua-long Pressurized Reactor)是中核集团和中广核集团联合研发的先进压水堆，华龙一号(福清5/6号机组)作为国际首个HPR1000项目，其全范围模拟机基于CNPO的RINSIM2.0-Windows仿真平台开发。本文主要介绍了RINSIM 2.0平台下流体网络的建模原理，并以HPR1000给水加热器疏水回收系统(TFR: Feed-water Heaters Drain Recovery System)为例，详细介绍了图形化建模工具、工艺系统建模及分系统测试过程。 关键词 :HPR1000，仿真，TFR，RINSIM 2.0 Copyright © 2019 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"全球化石能源日趋紧张，核能、太阳能、风能等新能源形式的应用愈来愈多，其中核能以其高稳定性得到广泛应用。福岛核电事故后核安全受到越来越多的关注，全范围培训模拟机无疑扮演着举足轻重的角色，在操作员培训和取证考试中必不可少。全范围模拟机特指用于操纵人员初始培训、再培训以及考试的核电厂模拟机。是以某一特定机组为参考机组。模拟范围应使操纵人员在模拟机上使用参考机组的运行规程处理某一变化过程所采取的操作行动与在参考机组上采取的操作行动相同。模拟范围应允许处理规定的全部变化过程，直到获得一个稳定的工况。 华龙一号(HPR1000)是我国具有自主知识产权的第三代压水堆核电技术，HPR1000设计全面平衡地贯彻了核安全纵深防御原则及设计可靠性原则，具有先进性和成熟性统一，安全性和经济性的平衡，能动和非能动相结合等特点。本文以给水加热器疏水回收系统为例，介绍华龙一号全范围模拟机的常规岛部分建模仿真流程。"
"RINSIM仿真平台提供核动力仿真开发运行维护全寿期支持。广泛应用于各类核动力装置、核电厂模拟机、工程仿真机以及设计仿真验证平台。其中用户层提供人机界面与模拟机的开发人员和使用人员交互，提供一体化的开发环境、运行编辑环境、操作环境。 RINSIM仿真平台目前有支持Linux系统的RINSIM1.0版本和支持Windows系统的RINSIM2.0版本。RINSIM1.0版本由支撑软件Simbase、图形组态工具SimDraw、图形化建模工具SimGen、实时图形调试软件SimUGD等部分组成。SimGen建模时模型类型主要有：仪控系统、热工网络、配电网络、流体网络(气体单相可压缩、汽水两相可压缩、液体单相不可压缩)。除支持的系统不同外，RINDSIM2.0与RINSIM 1.0不同点在于高度集成的一体化工程师站，其集成了RIMSIM1.0的SimDraw，SimGHMI，SimGen，SimWare及SimUGD等功能，实现了部件的开发，工艺建模组态，调试及运行控制等功能，极大的方便了模型工程师的建模及调试工作。该平台已投入华龙一号福清5/6号全范围模拟机和巴基斯坦K2/K3全范围模拟机的开发。 本文中HPR1000给水加热器疏水回收系统建模仿真是采用RINSIM 2.0仿真平台进行，其疏水部分采用simflow1液体单相不可压缩流网模型，蒸汽的凝结换热过程采用特殊换热器，运行排气采用sinflow2可压流网模型，集中采用了RINSIM仿真平台中的两大流网模型。"
"给水加热器疏水回收系统(TFR)是二回路的主要系统之一。它利用汽轮机中压缸及低压缸蒸汽、轴封漏汽及疏水加热凝结水泵来的二回路给水，实现对二回路给水的预热升温；同时实现疏水回收，并将疏水分别送往3号低加的出口及凝汽器，以提高机组的回热系统效率，提高整个机组的经济性。其主要流程见图1，该系统主要由如下几个部分组成： 图1. TFR流程图 1) 低压加热器 LP1、LP2复合式低压加热器分别由两台加热器组成，安装在凝汽器喉部，形成2列，每列50%额定凝结水容量，并有一列50%凝结水流量的旁通管路。 2) 抽汽系统 两列LP1、LP2低压加热器的抽汽来自于汽轮机的两个低压缸。由于LP1、LP2低压加热器安装在凝汽器喉部，抽汽管道直而短，疏水直接进入凝汽器，因此LP1、LP2低压加热器抽汽管道上没有安装任何阀门。LP3、LP4低压加热器的抽汽来自于汽轮机的中压缸，并在抽汽管路上布置了气动逆止阀及电动蝶阀。 3) 低压加热器的疏放水 LP1、LP2低压加热器壳侧疏水：汽轮机低压缸抽汽在蒸汽凝结水凝结成疏水，LP2低加疏水经流至疏水闪蒸箱，闪蒸后蒸汽进入LP1低压加热器，闪蒸后蒸汽疏水流至凝汽器，LP1低加疏水直接流至凝汽器。LP4低压加热器壳侧正常疏水排入LP3，LP3低压加热器壳侧正常疏水排入疏水箱后经疏水泵加压后送入LP3给水侧出口。LP3、LP4低压加热器紧急疏水排至凝汽器。 4) 排气系统及卸压装置 为了及时排出机组运行时抽汽凝结过程中析出气体，提高加热器管束传热效率，每低压加热器壳侧均设置运行排气管，将析出气体排向凝汽器。 在LP1、LP2低压加热器壳侧没有卸压装置。LP3、LP4低压加热器的管侧和壳侧均安装了卸压装置。两台LP3低压加热器壳侧分别安装弹簧式安全阀TFL756VV和TFL741VV，两台LP4低压加热器壳侧分别安装弹簧式安全阀TFL726VV和TFL708VV。"
"在进行系统建模时，使用的数学模型建立在以下假设成立的前提下： 1) 蒸汽–不凝气–水的混合物是饱和的，蒸汽和不凝气的温度同是蒸汽分压下的饱和温度； 2) 混合物流被定义为近似的均匀流，也就是不考虑滑移； 3) 蒸汽和不凝气组成的是理想气体混合物，其蒸气–不凝气常数依据真实蒸汽性质每个时间步长都不断更正； 4) 节点混合物的参数为整个节点的参数。 根据这些假设，我们有以下质量、能量、浓度和动量的平衡方程式 [ 1 ] ： d m i d τ = − ∑ j G i j (1) d ( m i ( h i − p i ρ i ) ) d τ = − ∑ j G i j * h + Q i + R i (2) d ( m i C i k ) d τ = − ∑ j G i j * C + J i (3) P i − P j + ρ g ∇ Z + k 1 n 2 + k 2 n G + k 3 G 2 − ξ * G 2 2 S 2 ρ = L S * d G d τ (4) 其中： G——两节点之间的质量流量(如果流向从i到j，为正向流，反之，为负)； ρ ——节点介质密度； Q i ——热交换量(如果该节点为热交换器)； R i ——内热源； J i ——内浓度源； h = h i , C = C i ——在流向为从i到j时； h = h j , C = C j ——在流向为从j到i时； L——相邻节点间的管长； n——泵的归一化转速； k 1 , k 2 , k 3 ——泵的特性曲线常数。 根据上述四个方程，同时忽略密度的变化即可得到不可压缩流网的数学模型。"
"1) 根据设计资料对给水加热器疏水回收系统流程图进行模拟范围划分，确定需要模拟的设备和管线。 2) 使用RINSIM2.0平台根据划分模拟范围后的流程图进行建模。 3) 根据设计资料对系统主要设备进行数据输入。 4) 适当调整输入参数建立TFR的稳态运行状态。  给水加热器疏水回收系统由两台并列的疏水箱、4台疏水泵以及其管道阀门组成，两列LP4低压加热器的疏水分别经疏水调节阀流进两列LP3低压加热器。两列LP3低压加热器的疏水直接流入对应的疏水箱。当LP4低压加热器出现高高水位时，危急疏水调节阀自动开启，将危急疏水排向凝汽器。 每台疏水箱下方各设有两台疏水泵，将各自疏水箱中的疏水升压后送入各列LP3低压加热器凝结水出口管道。 1) 低压疏水泵TFR301~304PO 本系统每列低价疏水箱配置2台50%容量的低加疏水泵，一用一备，每台机组配置4台低加输水泵。图2、图3为低价疏水泵建模使用的主要输入参数： 图2. TFR疏水泵主要输入参数 图3. TFR疏水泵特性曲线 2) 低压加热器壳侧 低压加热器有分为两列，LP1-LP4分别有两台共8台。图4为TFR401RE低压加热器的主要参数输入。 图4. TFR401RE壳侧 3) 低加疏水箱TFR301BA/302BA TFR系统中的箱体主要为低加疏水箱子，箱体均用汽两相箱来模拟。疏水箱上设置低压加热器输水进口，正常输水出口等。主要性能参数如图5所示。 图5. TFR301BA部分参数 4) 管道流导 流网建模时，连接两个节点或者节点和边界就生成管道。管道流导反应了管路的导通能力，流导越大，管路导通能力越强，压力损失越小。不可压缩流网中，流导的计算公式如下 [ 2 ] ： cond = G 2 v l f 2 ( P i − P j + ρ g Δ Z ) (5) 其中： G——管道流量，Kg/s； vlf——阀门归一化流通面积； P i 、P j ——分别为前后节点的压力； Δ Z ——节点i与节点j间的位高差； cond——管道流导。 从公式(5)可以看出，若要计算出管道的流导，需知道管道的流量、阀门流通面积、前后节点的位高差和压差，这些参数大多可以从设计资料中找到相关数据 [ 3 ] 。对于simflow2导纳计算，由于从不可压流网模型推导而来，与simflow1有所不同。由于篇幅所限，导纳计算过程及结果在此不再赘述。本文分别依据simflow1及simflow2导纳公式完成给TFR低压水加热器疏水回收系统的流导计算及导纳输入。  故障是模拟机的重要组成部分，是操纵员培训必不可少的情景培训。故障的种类和数量要真实反映电厂设计和实际运行情况。模拟机中的故障分为通用故障和特殊故障及DCS故障。常见的流体系统故障有管道小破口、大破口、泵堵转卡壳、泵失去电源、泵超速、过滤器堵塞、阀门泄露误动作等都是通用故障。TFR系统除了模拟上述通用故障外，还模拟了如下3个特殊故障(表1)： Table 1 序号 故障编号 类型 范围 故障描述 1 M_TFRTFR01A R*8 0~100% 疏水泵301PO吸入口泄漏 2 M_TFRTFR01B R*8 0~100% 疏水泵302PO吸入口泄漏 3 M_TFRTFR01C R*8 0~100% 疏水泵303PO吸入口泄漏 4 M_TFRTFR01D R*8 0~100% 疏水泵304PO吸入口泄漏 表1. TFR系统故障清单  分系统测试是对单个系统进行测试，与其他系统的接口采用固定的压力边界或流量边界处理。  电厂正常运行时，TFR加热器疏水回收系统2列均投入运行，LP4壳侧疏水至LP3，LP3壳侧疏水至低加疏水箱子并经泵加压后送至LP3给水侧出口 [ 4 ] 。LP1及LP2壳侧疏水排至凝汽器。由于篇幅所限，本文只列出A列运行结果。表2为在TMCR工况下测试结果，可以看出仿真结果与设计值之间的误差均在1%以内，满足误差要求。表3为VWO工况下测试结果，误差在1%以内，满足误差要求。  以疏水泵TFR301PO吸入口泄漏M_TFRTFR01B为例进行故障测试。在TFR TMCR稳态正常运行时，插入M_TFRTFR01B，故障程度100%，观察表4所示的系统主要参数的变化，由于泵入口泄露导致低加疏水箱TFR301ba水位下降，箱子压力降低，泵入口压力降低。如果不加控制，低加疏水箱子水位持续下降报警。由于导致流入泵流量减少，且疏水温度较高从而致使泵气蚀现象，符合实际情况。直到人为干涉，堵住泄露，恢复箱子液位，才能趋于稳定。 Table 2 变量名 描述 单位 设计值 模型值 误差 tfr001tfl401rezhttds 4A主给水出口温度 ℃ 156.2 156.81 0.39% tfr001bnd1003flowpb 4A疏水流量 kg/s 25.167 25.1729 0.023% tfr001tfl401rezhttd 4A疏水温度 ℃ 135.5 135.5123 0.009% tfr001bnd1003hpp 4A疏水焓值 kj/kg 570.1 572.5267 0.43% tfr001tfl301rezhttds 3A主给水出口温度 ℃ 132.3 132.7803 0.36% tfr001bnd1007flowpb 排出3A疏水流量 kg/s 61.634 61.6295 −0.007% tfr001tfl301rezhttd 排出3A疏水温度 ℃ 134.3 134.3648 0.048% tfr001tfl301rezhthl 排出3A疏水焓值 kj/kg 564.7 565.0814 0.068% tfr001tfr301bazopkbot TFR301ba压力 Kpa 350 350.7758 0.22% tfr301baremrlevel TFR301ba液位 mm — 11.9 — tfr001bnd1008flowpb 进入TFR301ba流量 kg/s 61.634 61.6298 −0.0068% tfr001bnd1013flowpb 排出TFR301ba流量 kg/s 61.634 61.6298 −0.0068% tfr004tfl201re_szhttds 2A主给水出口温度 ℃ 95.2 95.21001 0.01% tfr004bnd1001flowpb 排出2A疏水流量 kg/s 43.254 43.254 0 tfr004tfl201re_szhttd 排出2A疏水温度 ℃ 96.7 96.84927 0.15% tfr004tfl201re_szhthd 排出2A疏水焓值 kj/kg 405 405.7799 0.193% tfr004tfl101re_szhttds 1A主给水出口温度 ℃ 54.7 54.81776 0.21% tfr004bnd1005flowpb 排出1A疏水流量 kg/s 36.908 36.908 0 tfr004tfl101re_szhthd 排出疏水流量焓值 ℃ 56.2 56.31778 0.2% tfr004tfl101re_szhttd 排出疏水温度 kj/kg 235.4 235.66 0.11% 表2. TMCR工况时运行测试结果 Table 3 变量名 描述 单位 设计值 模型值 误差 tfr001tfl401rezhttds 4A主给水出口温度 ℃ 157.3 157.83 0.34% tfr001bnd1003flowpb 4A疏水流量 kg/s 26.0394 26.0462 0.026% tfr001tfl401rezhttd 4A疏水温度 ℃ 136.4 136.5646 0.12% tfr001bnd1003hpp 4A疏水焓值 kj/kg 574.1 577.1037 0.523% tfr001tfl301rezhttds 3A主给水出口温度 ℃ 133.2 133.5262 0.25% tfr001bnd1007flowpb 排出3A疏水流量 kg/s 63.7737 63.7671 −0.01% tfr001tfl301rezhttd 排出3A疏水温度 ℃ 135.2 135.1995 −0.0004% tfr001tfl301rezhthl 排出3A疏水焓值 kj/kg 568.7 568.6656 −0.006% tfr001tfr301bazopkbot TFR301ba压力 Kpa 357 357.9262 0.26% tfr301baremrlevel TFR301ba液位 mm — 22.6 — tfr001bnd1008flowpb 进入TFR301ba流量 kg/s 63.7737 63.7672 −0.01% tfr001bnd1013flowpb 排出TFR301ba流量 kg/s 63.7737 63.7674 −0.001% tfr004tfl201re_szhttds 2A主给水出口温度 ℃ 95.9 95.90372 0.004% tfr004bnd1001flowpb 排出2A疏水流量 kg/s 44.653 44.6536 0.001% tfr004tfl201re_szhttd 排出2A疏水温度 ℃ 97.4 97.70541 0.31% tfr004tfl201re_szhthd 排出2A疏水焓值 kj/kg 408 409.3907 0.34% tfr004tfl101re_szhttds 1A主给水出口温度 ℃ 55.2 55.50767 0.56% tfr004bnd1005flowpb 排出1A疏水流量 kg/s 38.552 38.5514 −0.002% tfr004tfl101re_szhthd 排出疏水流量焓值 ℃ 56.7 56.99019 0.51% tfr004tfl101re_szhttd 排出疏水温度 kj/kg 237.5 238.5475 0.44% 表3. VWO工况时运行测试结果 Table 4 变量名 描述 单位 正常值 插入故障后 tfr001pnt1008ppnt TFR302po入口压力 KPa 336.7 325 tfr001bnd1013flowpb TFR302po入口流量 kg/s 61.63 48.6 tfr001tfr301bazoppbot TFR301ba压力 KPa 350.7 348 tfr001tfr007mnzoyout TFR301ba液位 mm 11.9 7.77 tfr001pipe1026fvol M_TFRTFR01B泄露流量 kg/s 0 18.1 表4. TFR故障测试结果"
"本文基于RINSIM2.0仿真平台针对HPR1000给水加热器疏水回收系统(TFR)进行了工艺仿真，仿真结果符合电厂设计数据要求，较真实地反应了实际电厂运行的各种工况，各回路管线的流量、温度、节点压力等参数与设计参数之间误差均在容许范围内，达到设计要求。"
