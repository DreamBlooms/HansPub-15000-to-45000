"预瞄主动悬架系统可获得车辆前方的路面不平度，这使悬架控制系统能够提前应对即将到来的路面激励。为了使预瞄主动悬架控制系统能够适应不同的车速，同时考虑轮胎对路面的滤波效应，本文提出了一种预瞄主动悬架的控制方法。该方法使用轮胎弹性滚子接触模型计算路面不平度的有效路形。基于主动退让路面冲击或支撑车身的控制策略，将预瞄路面的有效路形作为控制器的控制参考信号。以1/4车辆模型为被控对象设计自抗扰控制器，使悬架动行程根据预知的有效路形变化，从而实现预瞄控制。分别在5~60 km/h和5~100 km/h的车速条件下进行了脉冲输入路面仿真和随机路面仿真。结果表明，预瞄控制系统能明显减小车身垂向振动，在脉冲输入下的最高有效车速是30 km/h，在随机输入下的最高有效车速是50 km/h。因此该预瞄控制方法能够适应不同的车速。"
"主动悬架可以提升车辆的行驶平顺性和操纵稳定性。预瞄主动悬架控制系统提前获得车辆前方道路的不平度信息并将其用于悬架控制，可进一步改善主动悬架的控制效果，同时减少控制系统的能耗 [ 1 ]。近年来，关于预瞄主动悬架的研究主要集中于路面不平度信息的获取和实时处理问题 [ 2 ] [ 3 ] [ 4 ]，以及实车应用的验证 [ 5 ] [ 6 ] [ 7 ]。控制系统处理道路不平度信息的速度和准确性有待提高，并且在实时控制时需要解决计算量过大的问题。在现有的研究中，通常将预瞄控制问题作为输入时滞问题。处理输入时滞的方法有Padé近似法 [ 8 ] [ 9 ] 和离散状态空间法等 [ 10 ]。在控制器中取定的时滞时间就是预瞄时间，导致控制器不能适应车速的变化。而且在上述研究中，通常直接将预瞄路面的不平度作为悬架将要受到的垂向激励。但实际轮胎对路面不平度输入具有滤波作用，由传感器测量得到的路面不平度并非悬架将要受到的垂向激励。因此轮胎滤波效应对预瞄控制的影响值得研究。 为了使预瞄控制系统能适应车速变化，并考虑轮胎包容特性对路面的滤波作用，本文提出一种预瞄主动悬架的控制方法。该方法使用轮胎弹性滚子接触模型计算路面不平度的有效路形，可以仿真任意短波长不平路面对车辆的输入，同时作为悬架动行程的控制参考信号。考虑实际车辆存在无法建模的非线性和不确定性，基于自抗扰控制(Active Disturbance Rejection Control, ADRC)设计了控制器，使悬架动行程跟随预瞄路面的有效路形变化，从而实现预瞄控制。为了验证预瞄控制系统的有效性，在脉冲输入路面和随机路面进行了仿真试验。"
"以1/4车辆模型为研究对象，如图1所示。其中m b 表示簧载质量，m w 表示非簧载质量，K s 是悬架弹簧的刚度，C s 是减振器的阻尼，U是主动悬架执行器的控制力。忽略轮胎的阻尼，以K t 表示轮胎的垂向刚度。以z b 表示簧载质量的质心垂向位移，以z w 表示非簧载质量的质心垂向位移，z r 表示轮胎接地点处的路面输入，且规定z b 、z w 和z r 以向上为正方向。悬架动行程z w -z b 以压缩为正，控制力U以使悬架压缩的方向为正，即U为正时，m b 受到向下的控制力，而m w 受到向上的控制力。车辆模型的参数如表1所示。 图1. 1/4车辆模型 当双质量振动系统在平衡位置附近振动时，1/4车辆的运动学方程为 { m b z ¨ b = K s ( z w − z b ) + C s ( z ˙ w − z ˙ b ) − U m w z ¨ w = K t ( z r − z w ) − K s ( z w − z b ) − C s ( z ˙ w − z ˙ b ) + U (1) Table 1 参数名 数值 m b /kg 357 m w /kg 40 K s /(N∙m −1 ) 15,021 K t /(N∙m −1 ) 238,145 g/(m∙s −2 ) 10 表1. 1/4车辆模型参数  假设通过预瞄传感器获得了车辆前方的一段路面信息，它以真实路面高程曲线Q的形式呈现，如图2下方的细实线所示。图2中虚线表示预瞄传感器的探测范围，上方的点划线表示簧载质量垂向位移Q b ，中间的竖向栅格阴影表示悬架动行程，下方的粗实线表示有效路形曲线Q e 。1/4车辆模型的轮胎与路面之间是点接触模型，因此真实路面Q不能直接作为模型的路面输入，而应当是经过轮胎弹性滤波和几何滤波之后的有效路形曲线Q e [ 11 ]。 当簧载质量垂向位移Q b 一直保持为0时，车辆获得最佳平顺性。为此，非簧载质量m w 应主动跟随路面的起伏从而避让路面冲击。当m w 的垂向位移等于有效路形曲线Q e 时，车轮中心跟随Q e 变化，轮胎动载荷为0。此时在预瞄路段内，簧载质量垂向位移 z b = Q b = 0 ，非簧载质量垂向位移 z w = Q e ，悬架动行程 z w − z b = Q e − Q b = Q e 。将悬架动行程作为被控量，以压缩为正，拉伸为负，使车轮主动避让路面冲击，预瞄路面信息被转换成悬架行程信息。将Q e 作为控制系统的参考信号，令车轮跟随有效路形的起伏而变化，主动退让路面冲击或支撑车身，从而提升车辆的行驶平顺性。 图2. 预瞄控制方法示意图"
"轮胎包容特性是指不平路面对轮胎的垂直作用被轮胎滤波的特性 [ 11 ]。轮胎包容特性模型是指轮胎与路面的接触模型，其中弹性滚子接触模型能体现轮胎的弹性滤波和几何滤波效应，其示意图如图3所示。图中的轮心轨迹是这一段不平路面的有效路面输入。本文根据文献 [ 11 ] 建立轮胎弹性滚子计算模型。 在实际情况中，悬架受到的垂向激励是经过轮胎滤波后的有效路面输入，因此由预瞄传感器测量得到的路面不平度不能作为悬架将要受到的垂向激励。另一方面，在建立整车模型和天棚阻尼滤波模型时，轮胎与路面的相互作用被简化为点接触弹簧模型。点接触模型适用于路面波长大于3 m，且频率范围是0.1~2 Hz的垂直轴荷的计算 [ 12 ]。因此短波长不平路面不能直接输入车辆模型，而应该输入经过轮胎包容特性滤波的有效路面输入。 图3. 轮胎弹性滚子接触模型示意图  根据GB/T 4970-2009《汽车平顺性试验方法》中关于脉冲试验用凸块的规定，取等腰三角形凸块长400 mm高40 mm，取矩形凸块长400 mm高40 mm。用弹性滚子模型计算脉冲输入的有效路形如图4所示。经过轮胎包容特性滤波后，三角形凸块的有效路形波峰为32.83 mm，三角形凹坑的波谷为−29.87 mm，矩形凸块对轮胎的纵向作用距离延展为730.0 mm，矩形凹坑则延展为661.0 mm。 图4. 单个脉冲输入的有效路形 用以上三角形和矩形构建脉冲输入仿真路面，如图5所示。仿真路面前段是567 mm长的水平路，后接三角形凸块、三角形凹坑、矩形凸块和矩形凹坑，其间隔是1000 mm。最后一段是长9600 mm的水平路面，用来考察控制系统是否稳定。在仿真时输入车辆模型的是有效路形。 图5. 脉冲输入仿真路面  悬架平顺性仿真中常用滤波白噪声时域模型来产生路面激励，模拟由路面不平度位移q(t)产生的随机振动： q ˙ ( t ) = − 2 π f 0 q ( t ) + 2 π n 0 G q ( n 0 ) u ⋅ w ( t ) (2) 式中f 0 是下截止时间频率，值为0.01 Hz；n 0 是参考空间频率0.1 m −1 ；G q (n 0 )为路面不平度系数，建立C级路面则取值为256 × 10 −6 m 3 ；u是车速，单位为m/s；w(t)是均值为零且功率谱密度为1的理想单位白噪声信号。设置随机路面的长度为20 m。在仿真时向车辆模型输入经过轮胎弹性滚子接触模型滤波的有效路形。"
"自抗扰控制器由三个部分组成，分别是跟踪微分器(Tracking Differentiator, TD)、非线性状态误差反馈(Nonlinear State Error Feedback, NLSEF)和扩张状态观测器(Extended State Observer, ESO)。其中TD能快速跟踪控制参考信号，产生一个跟踪信号和一个跟踪微分信号，并能滤除控制参考信号中的噪声。NLSEF根据系统状态误差和状态微分的误差产生控制力。ESO根据系统输出量和控制量，实时估计系统未建模动态、内部扰动和外部扰动，将其视作一个总扰动进行补偿，使被控对象在形式上构成一个积分器串联型系统。 以悬架动行程作为被控量，有效路形曲线Q e 作为控制参考信号，同时Q e 也是1/4车辆模型的路面输入，控制系统的结构如图6所示。图中R是TD的参考输入，v 1 和v 2 分别是R的跟踪信号和跟踪微分信号。NLSEF-fal是采用fal函数的非线性状态误差反馈，e 1 和e 2 分别是状态误差和状态微分误差，U 0 是反馈控制力。b 0 是控制力增益系数，U是系统控制力，y是系统输出。f 0 (z 1 , z 2 )是从1/4车辆模型运动学方程推导的系统已知动态。LESO是线性的ESO，z 1 估计y，z 2 估计y的微分，z 3 估计系统总扰动。 图6. 预瞄ADRC主动悬架系统结构图  跟踪微分器的连续形式如下： { v ˙ 1 = v 2 v ˙ 2 = f h a n ( v 1 − R , v 2 , r , h 0 ) (3) 式中R是参考输入，r是加速度因子，r值越大无超调地跟踪R的速度越快。h 0 是滤波因子，其值适当大于仿真步长(离散形式下是计算步长)可以抑制v 2 中的噪声放大效应，避免产生高频振荡。fhan是最速控制综合函数， f h a n ( v 1 − r e f , v 2 , h 0 ) 的具体形式如下 [ 13 ]： { d = r h 0 2 a 0 = h 0 v 2 y = v 1 − r e f + a 0 a 1 = d ( d + 8 | y | ) a 2 = a 0 + 0.5 sign ( y ) ⋅ ( a 1 − d ) a = ( a 0 + y ) f s g ( y , d ) + a 2 [ 1 − f s g ( y , d ) ] f h a n = − r a d ⋅ f s g ( a , d ) − r ⋅ sign ( a ) [ 1 − f s g ( a , d ) ] (4) 式中sign是符号函数，区间函数fsg的表达式为： f s g ( x , d ) = 0. 5 [ sign ( x + d ) − sign ( x − d ) ] 。  当选用LESO + PD反馈控制的结构时系统大幅震荡无法稳定，因此NLSEF-fal使用 f a l ( e , α , δ ) 作为非线性增益函数，反馈控制力U 0 按下式计算： U 0 = K N1 ⋅ f a l ( e 1 , α 1 , δ ) + K N2 ⋅ f a l ( e 2 , α 2 , δ ) (5) f a l ( e , α , δ ) = { e ÷ δ 1 − α | e | ≤ δ | e | α ⋅ sign ( e )   | e | > δ (6) 式(5)中K N1 表示状态误差e 1 的反馈增益系数，K N2 表示状态微分误差e 2 的反馈增益系数。式(13)中函数fal的自变量依次为状态误差e、非线性指数α和线性区段长度的一半δ。通常取 0 < α 1 < 1 使fal函数对小误差具有大增益，对大误差具有小增益，取 α 2 > 1 使fal函数对小误差具有小增益，大误差具有大增益。  当使用非线性ESO时控制器参数整定困难且容易出现震荡失稳，因此选用LESO。但LESO作为高增益状态观测器，实时估计系统状态的能力不如非线性ESO，因此需根据车辆模型运动学方程将系统已知动态写入LESO，增加其快速性和准确性。否则控制器不能达到控制效果。 将式(5)的第一分式乘以m w ，第二分式乘以m b ，然后相减，整理得到如下表达式： z ¨ w − z ¨ b = K t m w ( z r − z w ) + m b + m w m b m w U − m b + m w m b m w [ K s ( z w − z b ) + C s ( z ˙ w − z ˙ b ) ] (7) 令 x 1 = z w − z b ， x 2 = z ˙ w − z ˙ b ，以悬架动行程作为被控量的二阶系统为： { x ˙ 1 = x 2 x ˙ 2 = f [ x 1 , x 2 , t , d ( t ) ] + b U y = x 1 (8) 式中 f [ x 1 , x 2 , t , d ( t ) ] 是作用于系统的总扰动，它包含系统状态响应、时变量和外部扰动d(t)。总扰动在形式上分解为已知扰动和未知扰动： f [ x 1 , x 2 , t , d ( t ) ] = f 0 ( x 1 , x 2 ) + f 1 [ x 1 , x 2 , t , d ( t ) ] (9) 式中 f 0 ( x 1 , x 2 ) 表示已知扰动，是被控系统的已知动态， f 1 [ x 1 , x 2 , t , d ( t ) ] 是系统所受未知扰动。观察式(7)，其第一项代表轮胎对路面输入的响应，实际轮胎与路面的作用比集中刚度点接触模型复杂，将其作为系统未知扰动的一部分；第三项是悬架动行程的动态响应，将其作为系统已知动态，则系统已知动态 f 0 ( x 1 , x 2 ) 的表达式为： f 0 ( x 1 , x 2 ) = − m b + m w m b m w ( K s x 1 + C s x 2 ) (10) 将式(7)中U的系数记为b 0 ，考虑建模有误差， b 0 ≠ b ，而 b 0 = ( m b + m w ) / ( m b ⋅ m w ) 是控制力作用于被控对象的已知增益，则作用于二阶系统(8)的控制力 b U = ( b − b 0 ) U + b 0 U ， ( b − b 0 ) U 是控制力的未知部分。令 x 3 ( t ) = f 1 [ x 1 , x 2 , t , d ( t ) ] + ( b − b 0 ) U ，x 3 (t)是系统所受总扰动的未知部分，当x 3 (t)有界时记 x ˙ 3 = a ( t ) ，将x 3 (t)扩张为二阶系统(8)的一个状态变量，状态扩张后的系统为： { x ˙ 1 = x 2 x ˙ 2 = x 3 + f 0 ( x 1 , x 2 ) + b 0 U x ˙ 3 = a ( t ) y = x 1 (11) 建立线性扩张状态观测器LESO： { e = z 1 − y z ˙ 1 = z 2 − β 1 e z ˙ 2 = z 3 + f 0 ( z 1 , z 2 ) − β 2 e + b 0 U z ˙ 3 = − β 3 e (12) 式中z 1 、z 2 和z 3 分别估计系统状态x 1 、x 2 和x 3 ，β 1 、β 2 和β 3 是LESO的增益系数，影响观测器的估计能力。用带宽法确定这三个关键控制参数 [ 14 ]： β 1 = 3 ω 0 ， β 2 = 3 ω 0 2 ， β 3 = ω 0 3 ，其中ω 0 是观测器带宽，其取值影响LESO的快速性和准确性。ω 0 的取值与系统的控制能力和被控对象的动态特性有关，是待整定的关键参数。用总扰动的未知部分z 3 (t)和系统已知动态f 0 (z 1 ,z 2 )实时补偿系统控制力U： U = U 0 − [ z 3 + f 0 ( z 1 , z 2 ) ] ÷ b 0 (13) 使用经验法初选所有参数后，再通过仿真试验调整r、K N1 、K N2 和ω 0 ，得到一组兼顾各个车速下平顺性控制效果的参数，如表2所示。 Table 2 参数名 数值 参数名 数值 r 20 α 2 1.25 h 0 0.001 δ 0.01 K N1 60 ω 0 60 K N2 800 b 0 0.0278 α 1 0.75 表2. 预瞄ADRC参数表  以无预瞄的线性线性自抗扰控制(Linear Active Disturbance Rejection Control, LADRC)主动悬架作为对比。该控制器以簧载质量m b 的垂向位移z b 作为被控量，z b 和控制力U均以铅垂向上为正方向。参考现有文献，参考输入是0，LADRC成为一个位置维持控制器。无预瞄LADRC主动悬架系统如图7所示。 图7. 无预瞄LADRC控制系统结构 图中LESO以z b 和U为输入，z 1 和z 2 分别是z b 和 z ˙ b 的估计值，z 3 估计系统总扰动。TD与式(3)和式(4)保持一致，根据参考输入ref(t)生成跟踪信号v 1 和跟踪微分信号v 2 。PD是比例微分控制器，以误差e 1 和e 2 计算反馈控制力U 0 ，其表达式为： U 0 = K p e 1 + K d e 2 (14) 式(14)中K p 是比例增益系数，K d 是微分增益系数。LESO的表达式为： { e = z 1 − y z ˙ 1 = z 2 − β 1 e z ˙ 2 = z 3 − β 2 e + b U z ˙ 3 = − β 3 e (15) 式中β 1 、β 2 和β 3 是LESO的增益系数，同样采用带宽法整定。以z 3 补偿系统总扰动形成控制力： U = U 0 − z 3 ÷ b (16) 无预瞄LADRC各部分的参数取值如下：TD速度因子 r = 2 0 ，滤波因子 h 0 = 0.001 ；PD比例增益 K p = 1600 ，微分增益 K d = 8 0 ；LESO增益 β 1 = 36 0 ， β 2 = 432 00 ， β 3 = 1728000 ；控制力增益 b = 0.00 28 。"
"建立被动悬架、预瞄ADRC主动悬架和无预瞄LADRC主动悬架仿真模型，输入图5所示的仿真路面。仿真车速为5、10、15···50、55、60 km/h，共12个车速，单次仿真的速度恒定。 仿真结果显示，在5 km/h的低速工况下预瞄ADRC和无预瞄LADRC算法都取得了很好的控制效果，簧载质量垂向加速度均方根值比被动悬架分别减小63.5%和63.12%，如图8所示。随着车速的提高，无预瞄LADRC的减振控制效果迅速减弱，在15 km/h时已经起不到控制效果。而预瞄ADRC所取得的控制效果衰减较慢，从30 km/h开始趋于平缓。以5 km/h和30 km/h的簧载质量垂向加速度时域响应作对比，如图9所示。虽然30 km/h时垂向加速度的均方根值比被动悬架小8.78%，但此时垂向加速度的最大值和最小值与被动悬架的很接近。因此对于脉冲输入路面，预瞄ADRC的最高有效车速为30 km/h。 图8. 脉冲输入簧载质量垂向加速度均方根值 图9. 脉冲输入簧载质量垂向加速度的时域响应 考虑运动空间的约束和撞击限位块的概率，悬架行程的最大压缩量需要作为主动悬架系统的约束。如图10所示，被动悬架在20 km/h时出现最大压缩量71.58 mm，预瞄ADRC主动悬架在35 km/h时出现最大压缩量84.68 mm，无预瞄LADRC主动悬架在30 km/h时出现最大压缩量70.68 mm。预瞄ADRC主动悬架由于需要根据有效路形主动避让冲击，因此车轮的运动幅度增大，确实增大了撞击限位块的风险。 图10. 脉冲输入下悬架行程最大压缩量 轮胎垂向载荷需要保持稳定，以保证轮胎的抓地力，不使操纵稳定性显著恶化。仿真得到轮胎动载荷均方根值如图11所示，其中预瞄ADRC的均方根值在10 km/h以后始终大于被动悬架。主动悬架的控制作用使轮胎受到更多的垂向压缩载荷。 图11. 脉冲输入轮胎动载荷均方根值  输入C级路面，仿真车速为5、10、15 ⋯ 90、95、100 km/h，共20个车速，单次仿真的速度恒定。各车速下簧载质量垂向加速度均方根值如图12所示。由于随机输入比脉冲输入平缓很多，预瞄ADRC主动悬架的控制效果显著，20 km/h时可使垂向加速度均方根值比被动悬架减少29.79%。而无预瞄的LADRC主动悬架在20 km/h时只能将垂向加速度均方根值减小3.82%，因此无预瞄LADRC的有效车速范围十分有限。在图12(b)中，预瞄ADRC的幅值曲线在50 km/h是最低点，数值为12.09%，此后缓慢上升，在80 km/h值为16.71%，最后在100 km/h值为8.76%。 取5、50 km/h车速下垂向加速度的时域响应，如图13所示。由于无预瞄LADRC从20 km/h起已无控制效果，因此其时域响应不参与对比。随着车速的提高，加速度响应值变大，主、被动悬架的加速度峰值越来越接近，控制效果逐渐减弱。在所有仿真车速下，预瞄ADRC系统的加速度最大值都小于被动悬架，当车速大于50 km/h时，加速度的峰值超过了被动悬架。因此，随机输入下预瞄ADRC系统的有效车速截至50 km/h。 图12. 脉冲输入簧载质量垂向加速度均方根值 图13. 脉冲输入簧载质量垂向加速度的时域响应 被动悬架和预瞄ADRC主动悬架都在30 km/h时出现悬架行程的最大压缩量，分别是59.98 mm和54.39 mm，如图14所示。随机输入比脉冲输入平缓，两种悬架的车轮最大跳动量接近，因此不会显著增加撞击限位块的风险。随机路面条件下轮胎动载荷的均方根值如图15所示。预瞄ADRC的控制作用增加了轮胎动载荷的均方根值，进而影响了轮胎的接地稳定性，但是未产生显著的恶化。 图14. 脉冲输入下悬架行程最大压缩量 图15. 随机输入轮胎动载荷均方根值"
"本文提出一种以悬架动行程为被控量的预瞄主动悬架控制方法，并以1/4车辆模型为研究对象设计了自抗扰控制器。该预瞄控制方法使用轮胎包容特性弹性滚子接触模型计算预瞄路面的有效路形，并将其作为悬架动行程的控制参考信号。脉冲输入路面和随机路面的仿真计算结果表明，本文所设计的控制系统能够有效减少车身的振动加速度。其中脉冲输入路面的最高有效车速为30 km/h，而随机路面的最高有效车速为50 km/h。该控制系统以同一组参数适应了不同的车速，验证了预瞄控制方法的有效性。"
