"深海压力的不断变化会给深海勘测装置带来巨大的不确定因素，因此海洋压力模拟对海洋资源开发有着重要的意义。文章介绍了比单电机压力模拟有着更好的精度一种新型的双电机活塞式海洋压力模拟设备，在说明结构和工作原理后，建立了进给系统的数学模型。压力模拟设备具有非线性、强时变性、强干扰性和强耦合性的特点。由于传统PID无法满足控制要求，因此，文中提出采用基于误差反向传播(error Back Propagation)神经网络的PID控制算法用于控制该海洋压力模拟设备。在Matlab中进行仿真实验验证可行性后，在搭建的实验平台上进行实验验证。实验结果表明BP神经网络PID控制能在一定程度上克服传统PID控制的缺陷。在1 MPa阶跃压力实验中，减少了1.5 s响应时间、8.7%相对超调量，增强了抗干扰性。有效提高压力模拟设备的性能。 关键词 :BP神经网络PID，海洋压力模拟，活塞式，MATLAB仿真 Copyright © 2019 by author(s) and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"伴随着经济的快速发展，资源的短缺成为世界各国急需解决的问题。深海是地球上唯一未被人类充分开发利用的广阔区域，有着无限的开发潜力 [ 1 ] ，海洋中隐藏着大量可供利用的资源，从而深海环境的探测和海洋资源的开发成为世界各国大力发展的项目。然而深海环境极为复杂，深海压力的不断变化会给深海勘测装置带来巨大的不确定因素，但是深海勘测装置的实验每次都下海实验，会带来时间以及金钱的浪费，因此一个快速稳定的压力模拟装置对深海的探测尤为重要 [ 2 ]。浙江大学投资的60 MPa压力筒项目，该项目是模拟深海下压力，可以用于深海探测设备的耐压测试，可模拟相当于深海0~6 km的压力环境 [ 3 ]。中船重工710研究所建设的一个高压舱车间 [ 4 ] ，通过传统PID控制器控制，模拟压力量程从7 MPa到90 MPa，精度为±3% FS。 压力控制系统是将封闭腔体內压力作为被控制量的反馈控制系统。梁成粱等人设计了一种用于控制压边封闭腔体的液压式伺服控制系统 [ 5 ]。吴珏斐等人采用开关阀和调节阀复合控制策略，实现对压力模拟设备的控制，精度为0.1% FS [ 6 ]。 耿立平等人基于压为控制系统的结构原理，采用闭环控制策略，控制算法为传统的PID算法 [ 7 ]。 以上介绍的控制方法都有一定缺陷，如适应能力差、无法实现PID参数的在线整定等。本文以双电机活塞式压力模拟装置为控制对象 [ 8 ] ，根据液体的可压缩性、动力学原理，推导出压力装置系统的数学模型，再设计神经网络PID的控制器，在MATLAB中进行仿真验证神经网络PID控制压力装置的优点，最后进行搭建平台进行实验，得出结论。"
"压力模拟装置中主要由控制系统、进给系统、压力模拟缸组成，如图1所示。其中1、2、3、4组成了进给系统5。绝对7，9组成控制系统。搭建的实验平台如图2所示。 进行压力模拟时，当传感器测得的实际压力值与目标压力值不同时，控制器通过工控机的运动控制卡控制伺服电机转动，电机的转动经过进给系统转换成活塞的位移，从而使压力缸中的液体体积发生变 图1. 压力模拟装置的结构 图2. 压力模拟实验平台 化，并导致压力缸中液体压力发生变化，传感器测得的实际压力值再次反馈给控制器，控制器用两者的偏差控制电机的动作，这样形成闭环控制，最终完成压力模拟。  根据流体力学中液体可压缩原理和动力学原理 [ 9 ] 可建立进给系统的数学模型，如图3。永磁同步电机的数学模型的建立方法可参考李维嘉 [ 10 ] 等人，可得出永磁同步电机的传递函数 G 1 ( s ) 。 G 1 ( s ) = K p 1 K i K t ( 1 + T P 1 s ) T P 1 ( s + K i ) ( J s + K t K u ) s 2 + K P K P 1 K i K t ( 1 + T P 1 s ) (1) 第二个电机的传递函数 G 2 ( s ) 与 G 1 ( s ) 相同。结果图3所示： 图3. 系统控制的数学模型"
"传统PID控制器是工业控制最为常见的控制器。其原理是将反馈信号与期望目标进行比较得到偏差 e ( t ) ，将偏差输入PID控制器中进行比例、积分、微分的运算，从而达到控制压力模拟装置的目的。其控制规律是： U ( t ) = T P [ e ( t ) + 1 T I ∫ 0 t e ( t ) d t + T D d e ( t ) d t ] (2) 其中， T P 为比例系数； T I 为积分时间常数； T D 为微分时间常数。 作为应用最为广泛的一种控制方式，其优点是控制较为简单稳定，但当控制对象具有非线性、难以建立精确的模型时，控制效果比较依赖于参数的整定。同时PID算法的鲁棒性不高，对强非线性、快速时变不确定性、强干扰性的对象控制效果较差，难以达到预期的控制效果。  压力模拟装置是一种非线性、强耦合的系统，模拟过程中外界干扰影响较大，用传统的PID控制难以保证控制效果。而且，压力模拟装置的PID参数整定较为复杂，对运行时的工况的适应力较差。由于传统PID控制有以上缺陷，我们可以将人工神经网络与PID控制结合起来。人工神经网络是由神经元互相连接组成的并行分布式信息处理和非线性动力学系统，具有任意非线性函数的任意逼近能力、自主学习能力、较强的容错能力的优点，在控制领域得到普遍应用，其中误差反向传播(error Back Propagation)神经网络在人工神经网络中应用最为广泛。 图4. BP神经网络PID控制原理 BP神经网络是基于BP算法(误差逆传播算法)的一种多层前馈神经网络，其结构包括输入层、隐含层和输出层，相同层之间神经元不连接，相邻层之间通过权值连接 [ 11 ]。原理图如图4，当神经网络工作时，样本信息由输入层传入网络中，在网络正向计算出各个节点的输出值。再比较网络输出值与期望值的误差，然后由输出层开始反向计算到隐藏层，按照一定算法规律调整各连接层之间的权值，重复上述步骤直至误差减小到期望以内。 BP神经网络PID控制器的设计应从确定神经网络层数、每层神经元个数以及每个神经元的激活函数开始。根据史春朝论文中刚络的层数理论：只需一个包含足够多神经元的隐层，赴欧称前馈网络就能以任意精度逼近任意复杂度的连续函数 [ 12 ]。理论上隐藏层数的增加可以提高精度和降低误差，但同时也会使网络变得复杂，增加学习时间 [ 13 ]。所以本文神经网络设计为具有输入层、一个隐藏层和输出层即可满足本控制器的要求。其中输入层有3个节点，偏差e、实际输出y、期望输出x，输出层也有3个节点，即PID控制器的三个参数 K i 、 K p 和 K d 。隐藏层的神经元数影响着网络的精度，若神经元数太少，则无法训练；如果刚好够用，虽然可以训练，但会出现网络的泛化能力差，拟合精度会降低；当神经元数太多时，会导致网络结构复杂，出现过拟合现象 [ 14 ]。所以隐藏层节点的数量较为重要，但目前没有具体的理论指导隐藏层节点数目的确定，在实际运用中通常使用“试错法”得到。本项目中，经过多次试验，得到隐藏层节点数为5时效果较为理想。所以，神经网络结构选取为3-5-3，如图5所示。 图5. 三层神经网络示意图 设输入层为i、隐藏层j、输出层k，各神经元的输入为x、输出为y，输入层到隐藏层的权值为 w i j ，隐藏层到输出层的权值为 w j k ，学习速率为a，期望输出为d。则BP算法的计算如下： 前向传播： x j = ∑ x i w i j ,   y j = f ( x j ) (3) x k = ∑ x j w j k ,   y k = g ( x k ) (4) 网络误差函数为： E = 1 2 ∑ ( y k − d k ) 2 (5) 反向传播： Δ w j k = − a ∂ E ∂ w j k ,   Δ w i j = − a ∂ E ∂ w i j (6) 更新网络权值： w i j = w i j + Δ w (7) 其中输入层和隐藏层的激活函数可选Sigmoid函数： f ( x ) = e x − e − x e x + e − x (8) 由于本文中网络输出为PID参数，不为负数，所以输出层的激活函数选非负的Sigmoid函数 [ 15 ] ： g ( x ) = e x e x + e − x (9)  基于上文的设计，在Matlab中进行基于s函数的Simulink仿真实验 [ 16 ] ，以验证BP神经网络PID提升海洋压力模拟设备性能的可行性。仿真模型如图6所示。仿真结果如图7所示。 图6. 仿真模型 图7. 1 MPa阶跃压力仿真实验 由1 MPa的阶跃仿真实验可以看出，传统PID的相对超调为8.9%，而基于BP神经网络PID的相对超调量为1.2%。所以基于BP神经网络PID比较于传统PID可以减少达到稳定时间和明显减少超调量，可有效提高设备的性能。仿真实验验证神经PID的可行性后，搭建实验平台来验证。"
"为了验证基于BP神经网络PID实际控制的效果，搭建海洋压力模拟实验平台来进行实验。实验平台如图2所示。电机需要大的扭矩和较高精度，采用的是安川的永磁同步电机，型号是SGD7S-200AHE、SGD7S-2R8A00A。考虑到性能和成本，选取ADLINK工控机来控制电机和采集压力，压力传感器采用的是keller公司的高精度压力传感器PD-33X，量程为0~70 MPa，满量程精度为0.01% FS。并用c++编写上位机，MFC编写一个控制界面。1 MPa的阶跃实验结果如图8所示。其中在经过中值和卡尔曼滤波后，采样率为10 Hz。并在30 s处施加一个干扰，使压力在20 s处减少50 kPa。 图8. 1 MPa阶跃压力实验 由图8可知在1 Mpa阶跃实验时两者的速度响应曲线上升时间(tr)，超调量(σ%)，调节时间(ts)和稳态误差(ess)见表1所列。由表1可以看出采用神经PID作为压力模拟装置控制器得到的压力曲线调节时间更短，稳态误差更小，稳态时速度波动在2%以内。实验证明采用神经PID控制器的稳态特性更好，鲁棒性更好。 Table 1 控制方法 t r /s σ% t s /s e ss /(mm·s −1 ) 神经PID 13.8 1.1% 14.6 0.19 传统PID 15.2 9.8% 16.1 0.45 表1. PID和神经PID控制时压力响应  为了测试设备的动态性能，模仿深海设备下潜和上浮过程，做了梯形压力跟随实验。其中模拟的下潜和上浮速度为2 m/s。实验结果如图9所示。 图9. 梯形压力模拟实验 由图9梯形压力模拟实验(潜水装置下沉上浮过程)可以看出，传统PID比BP-PID滞后了1.3 s。"
"本文将基于BP神经网络与传统PID相结合，实现PID 3个参数的在线整定，并运用在深海压力模拟装置上，克服了传统PID控制的一些缺陷，使深海压力模拟设备在1 MPa的阶跃响应缩短了1.5 s，相对超调量减小了8.7%，梯形压力模拟滞后时间减少了1.3 s，基于BP神经网络PID的压力模拟设备具有更快的响应、更强的抗干扰性和鲁棒性，提高了压力模拟装置的适用性和稳定性。"
