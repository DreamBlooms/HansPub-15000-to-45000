"本文介绍了基于案例推理的方法，构建了舰船灭火的案例推理模型，进行了舰船灭火辅助决策的模拟和过程分析，结果表明，基于案例推理的辅助决策技术能够辅助指挥员及时做出正确灭火决策，快速有效地扑灭火灾。 关键词 :案例推理，舰船灭火，辅助决策 Copyright © 2017 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"舰船生命力是指舰船及其各系统在自然环境中遇到事故、海损或在作战环境中遭受战斗损伤、破损时，保持或最大限度恢复其航行、作战等战术技术性能的能力 [ 1 ] 。水、火灾害是对舰船的两大威胁，防火防爆与灭火是保障舰船生命力的主要任务之一，不管战时还是平时，都对舰船灭火有着严格的要求。舰船上存在着大量的易燃易爆物品，敌方的武器攻击或己方出现的失误和故障，都可能使舰船发生火灾。舰船发生火灾后，火情可能迅速扩大，时间极其宝贵，快速有效地灭火是保障舰船生命力的重要前提。利用基于案例推理的辅助决策技术，根据火灾的位置、大小、类型等关键信息及时提供所需灭火预案，快速给出最优的灭火指挥决策方案，使得灭火指挥人员能够及时做出正确决策，采取有效损管措施，尽快扑灭火灾，不致舰船受到较大损失，保证舰船能够最大限度地保留生命力和战斗力。"
"基于案例推理(Case-Based Reasoning，CBR，简称案例推理)是通过从案例库中寻找与当前问题最相似的一个或多个案例，提供给用户作为决策参考，并可通过一定的修正，给出比较确定的建议或结论 [ 2 ] 。1994年，Aamodt等提出了著名的CBR四阶段循环，即案例检索、案例复用、案例修正和案例保存，如图1所示。 图1. CBR四阶段循环 案例推理的核心问题是案例之间相似度的计算，尽管现在已经有许多案例相似度计算的资料，但因为案例的形式与结构是千差万别的，所以现在仍然没有一种通用的、业内广泛认可的相似度计算方法 [ 3 ] 。向量空间模型通过向量的方式计算相似度，案例知识库中的每个案例都用向量表示，基于问题的目标案例也用向量来表示 [ 4 ] 。 案例向量 可表示为： (1) 式中， 为案例向量的特征个数， 为案例个数； 为第 个案例的第 个特征值。目前比较常见的相似度计算方法有欧氏距离、海明距离、闵可夫斯基距离、马氏距离以及夹角余弦等。"
"参照CBR四阶段循环，根据舰船实际情况，确定本文案例推理的主要步骤包含获取节点值、案例检索、案例修改和决策建议，如图2所示。 第一步：探明火情，获取节点值。在火灾探测阶段，可以获取舱室名称、位置、防火区划、舱内重要设备、危险品、邻舱，以及火灾的大小和类型等信息，选择这些重要信息作为案例检索的节点值。 第二步：案例检索。根据得到的节点值，进行案例检索，从案例库中找出一个或多个与当前情况最接近的案例。案例检索的依据是案例之间的相似度，相似度的计算方法在后文介绍。 第三步：案例修改。将第二步检索出的最接近案例与实际情况对比，不符的地方酌情进行修改，尤其是根据火灾的大小和类型，及时调整火灾应对措施。 第四步：决策建议，案例保存。依据修改后的案例，提供灭火决策建议，下达灭火决策方案。如有需要，检查确认新案例，编入案例库，供后续推理使用。 下面分别对案例库构成、检索节点的确定原则、案例之间相似度计算方法和案例修改方法进行说明。  本文案例库中的案例并非真实的舰船灭火案例，而是各个舱室的灭火预案，主要是基于以下两点原因：首先，舰船种类多，大小不一，结构多样化，并且火源和火灾大小都有差别，没有统一的规范和标准，舰船灭火案例相关资料采集难度大；然后，我国海军已对主要类型舰船制定了详细的舱室灭火预案，作为灭火规范和准则，所有重要舱室和部位都有据可查，部分民用舰船也有相应的火灾应对措施和办法。需要注意的是，灭火预案提供的是通用处置办法，没有针对具体类型和大小的火灾说明处理措施，因此，需要在案例修改步骤根据火灾大小和类型对案例进行修改。 图2. 案例推理主要步骤  优先以舱室名称为节点进行检索，如果有结果，那么得到的即为该舱室的灭火预案。依据该预案，参照实际情况，修改后下达灭火决策方案。如果以舱室名称检索没有结果，表示没有针对该舱室的预案，此时以舱室位置、防火区划、舱内重要设备、危险品、灭火装置及邻舱为检索节点，寻找与当前火灾最接近的一个或多个灭火预案，参照实际情况修改后下达灭火决策方案。  由于舰船结构复杂、舱室种类多，舱室之间的相似度计算方法不能单一化，必须同时考虑到舱室的位置、种类和舱室内灭火时需要注意的设施。本文采用的相似度计算方法如下：首先以舱室名称为唯一检索节点，要求精确匹配，相似度为0或1，如果有匹配结果，则相似度为1，以该案例为检索结果。如果舱室名称精确匹配没有结果，那么以舱室位置、防火区划、舱内重要设备、危险品、灭火装置以及邻舱为检索节点。舱室位置和防火区划相近意味着其可使用的固定式消防系统资源相似，损管队的行动范围相似；舱内重要设备和危险品相近意味着舱室灭火需要注意的事项和对灭火方式的要求相似；灭火装置相近意味着可使用的灭火资源和方法相似；邻舱相近意味着需要注意的事项和邻舱人员的动作相似。根据各节点对灭火方案的影响程度对其赋予不同的权重，求取相似度值，具体计算方法用公式表达如下： 两舱室之间的综合相似度： (2) 式中： (3) (4) 舱室名称相似度： (5) 舱室位置相似度： (6) 式中： (7) “垂向距离”表示两舱室所在甲板数之间的差距，如2甲板与2甲板、3甲板、01甲板的垂向距离分别是0、1、2，跨越几层甲板的舱室甲板数取其平均值，如某舱室在3甲板和4甲板，甲板数为3.5；“纵向距离”表示两舱室中心位置所在肋骨号之间的差距除以20，如舱室A (#120~#160)与舱室B (#180~#200)的纵向距离为 ；“横向距离”表示两舱室在舰船左右舷相对 位置的差距，如舱室A (中间)与舱室C (左边)的横向距离为1，若舱室位置从左舷到右舷，则取平均位置——中间。 防火区划相似度： (8) 式中： (9) 和 分别表示两舱室所在防火区划第一个和第二个数字的差距，如防火区划“火10-2”与“火12-1”： ， 。 舱内重要设备相似度： (10) 舱内危险品相似度： (11) 舱内灭火装置相似度： (12) 邻舱相似度： (13) 以舱室A和舱室B为例计算相似度，相关信息见表1和表2。 Table 1舱室名称 A 舱室位置 X甲板 #120~#160 左中右 防火区划 火12-1 重要设备 设备1，设备2，设备3 危险品 危险品1，危险品2 邻舱列表 舱室C，舱室D，舱室E，舱室F，舱室G，舱室H 灭火装置 CO 2 灭火器，泡沫灭火器，干粉灭火器 表1. 舱室A相关信息 Table 2舱室名称 B 舱室位置 X甲板 #180~#200 左中右 防火区划 火12-4 重要设备 设备1，设备2，设备3 危险品 危险品1，危险品2 邻舱列表 舱室C，舱室D，舱室I，舱室J，舱室K，舱室L，舱室M 灭火装置 CO 2 灭火器，泡沫灭火器，干粉灭火器 表2. 舱室B相关信息 首先，舱室名称不相同，则 。 设定 ， ， ， 。 两舱室都在X甲板，垂向距离为0；两舱室纵向位置分别为“#120~#140”和“#180~#200”，纵向 距离为 ；两舱室横向位置均为从左舷到右舷，横向距离为0，则 。 两舱室防火区划分别为“火12-1”和“火12-4”， ， ，则 。 两舱室内重要设备、危险品和灭火装置种类相同，则 。 两舱室有两个同类邻舱，则 。 那么，综合以上算出的各种相似度，得到舱室A与舱室B的综合相似度为 。  案例库中的案例为各舱室的通用灭火方案，没有细分火灾的大小和类型。为了更加快速有效地灭火，需要根据火灾的大小和类型对预案进行修改。如果检索出起火舱室的灭火预案，参照火情修改案例即可；如果没有该舱室的灭火预案，还需要针对舱内重要设备、危险品、灭火装置以及邻舱等要素对检索结果案例进行相应修改，以适用当前情况。由于舱室Ａ和舱室Ｂ内的重要设备、危险品和灭火装置相同，两舱室的主要区别是位置、防火区划和邻舱，所以案例修改主要集中在与位置相关的内容，如通道、主隔壁、不同位置的舱室和设备等。"
"本文功能界面实现采用MFC编程，灭火预案和舱室相关信息以文件的形式存储，可供程序查询和读取。以机库火灾为例，对案例推理的流程进行分析。 首先确定火灾大小、类型和起火舱室名称，并结合舱室信息确定舱室位置、防火区划、舱内重要设备、危险品、灭火装置、邻舱等信息，根据这些信息进行案例检索，如图3所示。 图3. 案例检索 图4. 案例检索结果 图5. 灭火预案 图3列出了关于舱室和火灾信息的检索节点，优先选择舱室名称作为检索节点，如果没有检索结果再以舱室位置、防火区划、舱内重要设备、危险品、灭火装置和邻舱为检索节点，在案例库中找出与当前情况最接近的案例。案例库中有机库的灭火预案，案例检索结果中机库的相似度为1，如图4所示。 根据火灾智能识别模型得到的火灾信息，对预案相关地方进行修改，然后下达灭火决策方案。预案中对火灾的反应分为本舱动作、邻舱动作、部门指挥室动作、损管队动作和总指挥室动作五个方面，机库灭火预案如图5。 时间紧迫、信息冗杂和不确定性大是舰船灭火过程的显著特点，在不具备丰富经验、也没有时间查阅相关资料的情况下，指挥员借助案例推理模型就能第一时间获取起火舱室的灭火预案，大大缩短了反应时间，降低了错误决策风险，保证了灭火过程的迅速有效完成。"
"快速有效地灭火是保障舰船生命力的重要前提。利用基于案例推理的辅助决策技术，快速给出最优的灭火指挥决策方案，使得灭火指挥人员能够及时做出正确决策，快速有效地扑灭火灾，保证舰船能够最大限度地保留生命力和战斗力。"
