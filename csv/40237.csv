"为提高搜救飞行器在突发外力干扰下依旧可以保持平稳运行的能力，以自身调节机制来迅速响应和适应外力冲击实现主动减振的压电复合材料设计了智能旋翼结构；基于BP神经网络算法的PID控制方法，建立了压电智能旋翼主动减振控制模型；利用Matlab/Simulink平台，通过神经网络算法对偏航角、横滚角、俯仰角三个参数动态调整从而实现飞行过程中对飞行器实时控制。最后在考虑实际飞行控制状态下进行了控制仿真试验。结果表明，该主动减振控制方法，具有带扰动补偿的反馈控制作用，可以有效抑制旋翼在飞行过程中产生的振动，减振效果可提高15%~30%。"
"旋翼飞行器具有搜救速度快、覆盖面积广、机动性强、可以有效降低搜救人员受伤率等优点。然而，大雨等恶劣的搜救环境下，飞行器会受外力冲击(如突风扰动)产生振动，导致飞行器失衡甚至旋翼结构破坏，进而导致搜救飞行器坠落等情况的发生，不仅会造成巨大的经济损失，还在一定程度给搜救工作带来极大的不便甚至人员伤害。因此，提高搜救飞行器在突发外力干扰下依旧可以保持平稳运行的能力，是飞行器研发中亟待解决的关键问题之一 [ 1 ] [ 2 ]。 压电复合材料具有体积轻便、能耗低、频带宽、驱动力高、组合多样、生产和制备技术较成熟等特点，并且具有正逆压电效应，既可以用作作动器又可以作传感器，是目前应用最广泛的一种智能材料。Bailey [ 3 ] 等最早利用压电材料结合控制理论开展了一系列主动减振研究。Hu [ 4 ] 等提出主动鲁棒性的控制方法对标准的二次控制器和非线性控制信号进行设计研究。丛聪 [ 5 ] 等通过建立力学模型对风力机叶片面内的振动建模和控制问题开展研究。Brillante [ 6 ] 等基于空气动力学模型和转子模型研究了两种周期性控制方法实现减少直升机旋翼的振动。研究表明，将压电复合材料应用于飞行器旋翼上，通过其自身调节机制来迅速响应和适应外力冲击，具有一定的主动抑振的作用。苑凯华 [ 7 ] 等利用大变形应变–位移关系建立非线性模型对复合材料壁板颤振的控制进行了仿真研究。张凤云 [ 8 ] 采用压电纤维复合材料MFC作为驱动器，研究悬臂梁的扭转控制问题。压电智能结构是由压电材料作为传感元件和致动元件以及结构本体所组成的智能结构。在智能结构中传感元件用来监测结构的振动，受到微电子系统控制作用致动元件准确动作，结构振动状态因而被改变，随之而来便产生了压电智能结构的振动主动抑制技术，并且有着非常重要的应用前景和应用价值 [ 9 ] [ 10 ]。 综合现有压电主动减振的研究，本文提出采用压电传感器、压电作动器和控制器组成的在“抑振”方面的压电主动控制策略。基于神经网络PID控制算法，在多模态控制过程中，具有较精确的控制策略，在更短的时间内比常规的PID控制效果提高达15%~25%。该种自适应控制方法，能够较好地在参数不确定的情况下保证系统的鲁棒性。仿真结果表明，该主动减振控制方法能够较好地消除或抑制旋翼机构振动，总体减振效果可达55%~80%左右。"
"采用压电复合材料建立的压电作动器和传感器为同位配置，可形成最小相位系统以保证控制的稳定性，所建立的压电智能旋翼结构如图1所示。旋翼的有效长度为L a ，厚度为t，在旋翼的上下表面对称粘贴m 对压电片，每对中分别包含作为传感和作动元件的压电片，其厚度均为t a ，第i对压电片的左端到固定端旋转轴的距离为x i 1 ，右端到旋转轴的距离为x i 2 ，且压电片的宽度为b。假设将片粘贴于旋翼时并不考虑其粘贴层对结构振动特性的影响，且压电材料各向同性且极化方向为z向。 图1. 压电智能旋翼结构 当施加电压到压电作动器上时，旋翼的运动方程可表示为： E a I a ∂ 4 ω ∂ x 4 + ρ a A a ∂ 2 ω ∂ t 2 − b ∑ i = 1 m ∂ 2 M i e ∂ x 2 = 0 (1) 式中，ω为旋翼的结构位移；E a 为旋翼结构的杨氏模量；I a = bt 3 /12 为旋翼结构的惯性矩；ρ a 为旋翼结构的密度；A a 为旋翼结构的截面积；M i 为第i个压电作动器上产生的力矩。 即 E a I a ∂ 4 ω ∂ x 4 + ρ a A a ∂ 2 ω ∂ t 2 = ∑ i = 1 m k a U i e [ H ¨ ( x − x i 2 ) − H ¨ ( x − x i 1 ) ] (2) 式中，k a 为压电耦合系数； U i e 为第i个作动器的控制电压。 当对压电智能旋翼结构的前n阶模态利用模态截断方法进行分析时，其结构位移w的表达式如下所示： ω ( x , t ) = ∑ j = 1 n φ j ( x ) η j ( t ) (3) 其中φ j (x) 为第j阶振型函数，η j (t) 表示在t时刻下压电智能旋翼结构的模态幅值，整理上式可得： η ¨ j ( t ) + 2 ξ j ω j η ˙ j + ω j 2 η j ( t ) = ∑ i = 1 m k a [ φ ˙ j ( x i 2 ) − φ ˙ j ( x i 1 ) ] U i θ ( t ) (4) 这里ω j 和ξ j 分别是第j阶模态的固有频率和阻尼比， j = 1 , 2 , 3 , ⋯ , n ， i = 1 , 2 , 3 , ⋯ , m 。引入状态变量 X = [ η 1 , η 2 , ⋯ , η n , η ˙ 1 , η ˙ 2 , ⋯ , η ˙ n ] T ，可得： { X ˙ = A X + B U a y = U s = C X (5) 其中， A = [ 0 n × n I n × n − Ω 2 − 2 ξ Ω ] ， B = [ 0 n × n B ¯ ] ， C = [ C ¯ 0 n × n ] 。  在建立四旋翼飞行器的动力学模型之前，需要建立地面参考坐标系和机体坐标系，如图2所示为地面参考坐标系和机体坐标系。 图2. 地面参考坐标系和机体坐标系 因为四旋翼是欠驱动的控制系统，当通过四个电机实现飞行器的机动，不可能直接对这六个自由度进行控制。通过选择升力F 1 、横滚力矩F 2 、俯仰力矩F 3 、偏航力矩F 4 这四个可控变量，可以实现控制解耦。控制通道分别对应三个姿态角和四旋翼的高度，四旋翼的水平位移也可以由这四个量解出。由此可推导出机体坐标系与惯性坐标系之间的转换矩阵R为： R = [ cos ψ − sin ψ 0 sin ψ cos ψ 0 0 0 1 ] × [ cos θ 0 sin θ 0 1 0 − sin θ 0 cos θ ] × [ 1 0 0 0 cos ϕ − sin ϕ 0 sin ϕ cos θ ]               = [ cos θ cos ψ c o s ψ sin θ sin ϕ − sin ψ cos ϕ sin ϕ sin ψ + cos ψ sin θ cos ϕ sin ψ c o s θ cos ψ + sin θ sin ϕ sin ψ sin ψ sin ϕ sin ψ − cos ψ sin θ − sin θ sin ϕ c o s θ c o s θ c o s ϕ ] (6) 假设四个旋翼螺旋桨在地面坐标系下的升力为F B ，各自产生的升力为 F i ( i = 1 , 2 , 3 , 4 ) 。则在垂直上升的时候可以用如下的式子来表示： F B = [ F x , F y , F z ] T = [ 0 , 0 , U 1 ] T U 1 = F 1 + F 2 + F 3 + F 4 (7) 通过上述的转换矩阵R可得到在地面坐标系下的升力F G 为： F G = R F B = R [ F x , F y , F z ] T (8) 因此，可得到机体坐标系三个方向上的线位移加速度为： { x ¨ = U 1 ( sin ϕ sin ψ + cos ψ sin θ cos ϕ ) m y ¨ = U 1 ( sin ψ sin θ cos ϕ − cos ψ sin ϕ ) m z ¨ = U 1 cos ϕ cos θ m − g (9) 忽略空气阻力再由物理学关系可知三个角度上加速度为： { ϕ ¨ = U 2 I x = k l ( w 4 2 − w 2 2 ) I x θ ¨ = U 3 I y = k l ( w 3 2 − w 1 2 ) I x ψ ¨ = U 4 I z = k l ( − w 1 2 + w 2 2 − w 3 2 + w 4 2 ) I z (10)"
"为保证飞行器的稳定飞行，需要对(K p , K i , K d )三个参数进行及时有效的在线整定。基于BP神经网络的PID控制算法，采用改变学习率的方法对BP神经网络算法进行了改进，使得基于此算法的PID控制器的三个参数能够进行在线整定，以此来达到对四旋翼飞行器的自适应主动控制。BP神经网络结构图如图3所示。 图3. BP神经网络结构图 输入层采用增量PID的神经网络，分别为i，j，l层，输入层有三个量，如下所示： x 1 ( t ) = e ( t ) = r ( t ) − y ( t ) x 2 ( t ) = Δ e ( t ) = e ( t ) − e ( t − 1 ) x 3 ( t ) = Δ 2 e ( t ) = e ( t ) − 2 e ( t − 1 ) + e ( t − 2 ) (11) 其中，e(t)表示t时刻的误差，r(t)表示t时刻的目标值，y(t)表示t时刻的实际值。 输出层有一个变量，表示t时刻控制器应当给出的输入控制量的增量。如下所示： Δ u ( t ) = k 1 x 1 ( t ) + k 2 x 2 ( t ) + k 3 x 3 ( t ) (12) 目标函数表示如下： J = 1 2 ( r ( t + 1 ) − y ( k + 1 ) ) 2 (13) 其训练系数的导数如下所示： ∂ J ∂ ω = − λ ∂ J ∂ y ( t + 1 ) ⋅ ∂ y ( t + 1 ) ∂ u ( t ) ⋅ ∂ u ( t ) ∂ ω (14) 权系数的学习算法如下所示： { Δ ω j l 3 ( t ) = α Δ ω j l 3 ( t − 1 ) + η δ l 3 O j 2 ( t ) δ l 3 = e ( t ) s g n ( ∂ y ( t + 1 ) ∂ u ( t ) ) ⋅ ∂ u ( t ) ∂ O l 3 ( t ) ⋅ g ′ ( n e t l 3 ( t ) ) δ i 2 ( t ) = f ′ ( n e t j 2 ( t ) ) ∑ l = 1 3 δ l 3 ω j l 3 ( t ) f ( x ) = exp ( x ) − exp ( − x ) exp ( x ) + exp ( − x ) g ( x ) = exp ( x ) exp ( x ) + exp ( − x ) (15) NNI辨识器输入层为： { u ( t ) , u ( t − 1 ) , ⋯ , u ( t − n u + 1 ) y ( t ) , y ( t − 1 ) , ⋯ , y ( t − n y + 1 ) (16) 则训练的目标函数为： J = 1 2 ( y ( t + 1 ) − y ^ ( k + 1 ) ) 2 (17)  通过以上算法最终确定了PID控制所需要的最佳三个参数(K p , K i , K d )，将BP神经网络应用于常规的PID控制器中，通过BP神经网络获取飞行器飞行过程中的实时运行状态来不断调整权值系数，再通过不断学习训练，使得输出层神经元的输出状态参数对应PID控制器的三个理想参数，从而在线整定随着外界环境变化而改变的参数。 PID控制采用增量式数字PID控制，表达式如下所示： u ( t ) = u ( t − 1 ) + Δ u ( t ) u ( t ) = u ( t − 1 ) + K p [ e ( t ) − e ( t − 1 ) ] + K i e ( t ) + K d [ e ( t ) − 2 e ( k − 1 ) + e ( t − 2 ) ] (18) 图4. 基于BP神经网络的飞行高度的控制方案 将最主要的BP神经网络优化算法写入Simulink里的S函数(my_exppid模块)中，该模块能够在运行的过程中通过BP神经网络算法实时的调整PID的三个关键参数从而实现飞行过程中对飞行器的实时控制。建立基于BP神经网络的飞行高度的控制方案图形化仿真模型如图4所示(由于其余的三个参数分别为偏航角、横滚角、俯仰角这三个参数的变化情况与高度上的变化情况类似，这里就不再赘述)。 本文以空间坐标系内运动的四旋翼飞行器旋翼为研究对象，采用压电传感器检测旋翼中点的弹性变形y(t)，并将其作为控制反馈量；采用偏差e (其中， e = r − y ( t ) ，r为期望值0)及偏差变化率ec作为基于BP神经网络的PID控制器的输入，以满足不同时刻e(t)和ec(t)对PID参数自整定的要求；将控制器的输出u输入至执行机构—压电作动器，压电作动器通过逆压电效应对旋翼施驱动力矩作用，从而抑制旋翼的弹性振动。基于BP神经网络的压电柔性旋翼PID控制结构如图5所示。 图5. 基于BP神经网络PID控制结构示意图 采用粘贴在柔性旋翼上的压电复合材料作为传感器和作动器，当扰动产生的弹性振动信号有传感器检测到后经过电荷放大器放大处理后，通过数据采集卡将其转换为数字信号输入到计算机，计算机根据基于BP神经网络的PID控制算法对信号进行计算和处理，再经过D/A卡将数字控制量转换为模拟控制信号输出至压电驱动电源处，从而驱动粘贴在柔性旋翼上的压电作动器，由压电作动器产生形变对柔性旋翼形成控制力矩作用，从而达到对柔性旋翼实施振动主动控制的目的。"
"本文以四旋翼飞行器为研究对象进行主动减振仿真试验，其中的传递函数为高度方向上的数学模型为 G 1 ( u ) = cos ϕ cos θ u / m − g ；俯仰方向为： G 2 ( u ) = u / I y ；横滚方向为： G 3 ( u ) = u / I x ；偏航方向为： G 4 ( u ) = u / I z 。这里仅对高度方向上的动力学模型进行仿真，其余的三个方向方法类似此处不再赘述。高度控制量经过数学以及动力学计算再对其进行二次积分就能得到实际飞行器的高度。这里设置仿真时间为50 s，预期令该飞行器到达的高度为40 m，接下来分两种情况对该优化后的算法进行分析，分析的具体情况如下所示。 根据图6对比我们可以看出经过BP神经网络算法优化过的控制时间较普通PID控制大约从10秒减到7秒，从而更加快速的达到预期的高度，而且能够在模拟飞行的过程中能够几乎不产生超调量，响应的速度更快更平稳，能够明显的起到在飞行过程中主动减振的目的。 图6. 无扰动情况下两种算法控制高度响应图 另外，假设在有外界扰动的情况下仿真观察其达到预设高度的到达情况，并且假设在40 m的高度上存在正弦波 y ( t ) = 2 × sin ( 2 t ) + 40 的小扰动来简单的模拟外界的干扰。此时有扰动情况下两种算法控制高度响应如图7所示。 图7. 有扰动情况下两种算法控制高度响应图 上述两图的比较下明显的看出飞行器经神经网络算法优化后能够在5s的时候就能够达到基本稳定值完成姿态的调整，能够比普通的PID控制至少减少3秒以上的控制时间。在达到基本稳定之前的控制情况可知，经过算法优化后的模型能够实时调整自己的参数，稳定的达到设定的飞行器40米高度。并且在基本稳定的飞行过程中经过算法优化的控制系统能够较好的预判外界的扰动，从而实时的修改当前的PID参数来减少飞行器飞行过程中的振动情况和快速完成位置与姿态的调整。在稳定之后受到正弦扰动的情况可得出经算法优化后的飞行器飞行过程中实际扰动的振幅要比普通PID控制要小的多，体现出较好的鲁棒性，更够明显的起到在飞行过程中主动减振的目的。 比较在减振控制中加入神经网络算法与不加优化算法普通的PID对旋翼运转过程中的减振效果。这里运用Simulink环境进行仿真，能够比较直观快速的反映出抑振的效果。模拟令旋翼中心的电机产生530 W的功率去驱动飞行器飞行，此时会产生大约23000 (rad/s)的转速，并且分别取扰动频率为10 Hz和20 Hz，其中预设的PID三个关键参数为K p = 50，K i = 1，K d = 1。神经网络自整定PID控制器的参数也预设为一样。则不同频率下两种算法控制旋翼的中点的变形仿真结果如图8所示。 图8. 不同频率下两种算法控制时的y(t)曲线图 由图8仿真结果可以看出飞行器旋翼在正常的运转过程中会产生轻微的形变与振荡，这种形变与振荡在飞行器的飞行过程中无疑会对整体飞行的稳定性产生一定的影响。经过仿真能够得出旋翼的振动频率为20 HZ时最大变形较10 HZ频率下大约高出0.3 × 10 −5 m，且振幅会随着外界扰动频率的增大而增大，这种情况对飞行中的机身稳定是及其不利的。对比后能看出，与普通的PID算法相比较采用BP神经网络算法优化后能够较好的控制叶片飞行过程产生的振动，控制振动效果可相对提高15%这能极大的减小飞行过程中旋翼产生的振荡，能够进一步的提高机体飞行中的稳定性与鲁棒性。 为了验证在考虑实际飞行状态下控制仿真分析，当受到突风扰动的情况下仿真出其恢复正常飞行的振荡响应图，观察如下所示的仿真响应图能得到如下的结论： 图9为考虑实际飞行状态下飞行器恢复正常飞行的振荡响应图，可以清楚的表现出在平稳的飞行过程中在受到突风扰动的飞行情况下，经过基于BP神经网络的PID控制后，虽然在受到突风扰动的一瞬 图9. 考虑实际飞行状态下振荡响应图 间会产生较大影响，但是控制程序在计算到误差后能够及时参与机身与旋翼的主动减振控制，分析图中响应曲线总体减振效果可达65%左右，且在较短的时间内可快速平稳的达到原本的飞行状态。"
"本文采取具有良好非线性辨识和控制能力的BP神经网络智能算法的PID控制方法，具有带扰动补偿的反馈控制，在系统参数化、外部干扰和系统内部动力耦合情况下仍具有良好的闭环控制性能。在更短的时间内比常规的PID控制效果提高达15%~25%。考虑实际飞行状态下飞行器恢复正常飞行时，验证了经过基于BP神经网络的PID控制后，控制程序在计算到误差后能够及时参与机身与旋翼的主动减振控制，总体减振效果可达65%左右，且在较短的时间内可快速平稳地达到原本的飞行状态。"
