"我国钨矿大部分矿脉厚度较窄，通常采用的采矿方法大多为浅孔留矿法及削壁充填法，原矿石中不可避免地含有大量的废石，采用人工手选的方式进行剔除部分废石，增加了劳动工人的劳动强度，在一定程度上增加了企业的生产成本。本文基于江西赣州钨矿的灰度特征，设计高斯混合的颜色聚类钨矿色选识别算法，该算法采用高斯混合模型进行识别运动矿石､CIELAB颜色空间的聚类算法检测矿石所含矿物成分，并进行试验研究，为钨矿石的初步分选提供依据。应用该算法脉石选出率高达90%，满足生产要求。对减轻劳动者负担，节约矿山选矿成本有着重要的工程意义。 关键词 :高斯混合模型，CIELab颜色空间，颜色聚类 Copyright © 2018 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"我国钨矿资源储量约占世界的60%左右，钨产量占世界总产量的80%以上。虽然我国钨矿资源储量丰富，但多为低品位､组成复杂的共､伴生难选矿产资源 [ 1 ] [ 2 ] 。国外矿石分选设备及其试验研究以及工业化应用发展较快，以德国摩根森公司的光学选矿机为例，利用两侧的彩色线阵相机对矿石进行双面扫描，根据矿石合格料和剔除料的颜色､亮度和尺寸评估出相应的数据并通过高压气阀识别分选。但售价高昂，后期维护成本高。国内矿石分选技术研究工作虽然开展较早，但由于国内矿石种类复杂，分选难度较高，导致成熟技术与设备以及应用与国外相比还有较大差距。以安徽安晶龙色选机为例，该色选机是利用传送带加速矿石通过CCD传感器与背景板区域，根据CCD传感器信息筛选废石，并发出指令驱动气阀喷射废石，达到矿石分选的目的。但设备需要多条皮带进行分选，占地面积大，安装复杂度高，与国外设备相比漏检率较高。 目前针对钨矿图像色选，采用较多的是灰度阈值法和背景色彩识别方法，但由于矿石粒亮度和颜色的不同，所以无论将阈值定在何处，总会产生遗漏，造成误选和漏选。有些研究利用矿石的形状和纹理特征进行图像分割和识别，但是该方法主要针对少量矿石。实际生产中由于每天要处理大量矿石的分选，导致难以利用形状和纹理特征信息对矿石进行实时检测和识别。 矿石由各个成分构成，为了选出含有有用矿的矿石，需要在下落过程中找出各颜色区域大小。在彩色钨矿石图像中，我们只关注矿石的黄色和白色区域，黄色区域蕴含铜矿，白色区域中蕴含钨矿。光照条件的不均匀导致利用传统的RGB､hsv分离黄色区域效果很差。 通过对钨矿图像颜色特征进行分析，发现尽管不同照明类型钨矿图像的背景亮度不同，颜色特征分布也不同，但是矿石与背景､矿石各类型的颜色特征却有很明显的差别。因此可以寻求利用矿石的颜色特征来进行钨矿色选的有效方法。本文对高斯混合模型和K-means颜色均值聚类算法进行了尝试。在CIELAB颜色空间，利用ab分量的聚类分析，去掉L分量光照条件的影响，完成了对矿石中黄色区域和白色区域的自动分割。实现钨矿追踪和各颜色区域矿石成分初检测。"
"色选机由喂料器､滑道､光源､图像处理系统､气阀控制执行系统组成。通过喂料器将待选物料均匀撒在滑道表面，单层物料自由落体，经过相机的拍摄区域，捕获图像信号，并送入后继系统进行实时处理，由处理结果决定是否给出气阀的开阀信号，从而在废弃型物料滑过气阀口时将其吹入废料区。色选过程的关键是： 1) 物料经过拍摄区域的时间很短，一般为10~30 ms，而后下落30~40 ms之后进入气枪口，因此要求图像处理过程能在约50 ms之内完成。 2) 相机的拍摄角度､扫描速度必须和光源的角度及光通量相配合，才能保证拍摄的图像清晰可用。 3) 为提高产量，色选机通常设计为多通道下料，单个相机色选系统应能满足同时处理数十个通道的要求，即具有较高的并行处理能力。"
"由于色选过程中有大量的脉石和废石做自由落体运动，要求实时性高。目前，视频运动目标检测方法主要包括光流法 [ 3 ] ､帧间差分法 [ 4 ] [ 5 ] ､背景减除法 [ 6 ] [ 7 ] [ 8 ] 。各个矿石之间的特质点､纹理差异较小。无法采取传统的视频跟踪算法。混合高斯模型是对一段起始图像序列背景建模，并且随环境变化而逐渐更新模型，可以在一定程度上解决了复杂背景的多峰分布问题。与其他非自适应方法相比，混合高斯模型不需要人工干扰，对外界环境变换有更好的适应性。混合高斯模型适用于矿石目标下落的前景检测，通过建立背景模型可以快速准确地分割出运动目标的前景信息，获取矿石目标几何特征信息与位置信息。本文采取了高斯混合模型进行运动物体的检测。 高斯混合模型假定图像中某个像素点的观测值与其它像素点相互独立，每个像素点的观测值可由混合分布P产生，该分布由K个独立的高斯分量构成，K值一般取在3~5之间，K值越大，处理波动的能力越强，计算周期越长。K中每个状态都用一个高斯分布函数表示，这些状态一部分表示背景的像素亮度值，其余部分则表示运动前景的亮度值。设像素点的亮度值为x，其概率密度函数为 P ( X t ) = ∑ i = 1 K ω i , t × η ( X t , μ i , t , Σ i , t ) (1) 式中是t时刻的第i个高斯分布，其均值为μ，权重是ω。 η ( X t , μ i , t , Σ i , t ) = 1 ( 2 π ) d 2 | Σ i , t | 1 2 exp ( − 1 2 X t − μ i , t ) T Σ i , t − 1 ( X t − μ i , t ) (2) X t 通常描述为一个d维向量，d = 1时对应灰度图像的像素点；d = 3时对应RGB三通道彩色图像的像素点。同时为减少矩阵求逆的计算量，保证一定精度式(2)中的协方差矩阵通常转化为元素为 σ j 2 的对角矩阵进行运算，所以式(1)可改写为 (3) 随着检测图像的改变，模型参数也要随之不断更新，每个新像素值X t 需要与当前K个高斯模型进行 匹配判断，若 | X t − μ i , t − 1 | ≤ 2.5 σ i , t − 1 ，即当前像素值与该模型均值偏差在2.5σ内，则认为该像素与模型匹 配，被判定为背景点。同时，按公式(4)更新当前高斯分布的模型参数。 α为模型权值更新率，ρ为参数学习率，若该像素与模型匹配，则 M k , t = 1 ，表示需要更新匹配分布的参数；若该像素与模型不匹配，则 M k , t = 0 ，表示只需更新模型的权值；若该像素与K个高斯分布都不匹配，则以当前像素值为均值，选取较大方差和较小权值初始化新的高斯分布，取代原高斯模型中权值最小的高斯分布。 { ω k , t = ( 1 − α ) ω k , t − 1 + α M k , t μ t = ( 1 − ρ ) μ t − 1 + ρ X t σ t 2 = ( 1 − ρ ) σ t − 1 2 + ρ ( X t − μ t ) T ( X t − μ t ) ρ = α η ( X t ; μ k , σ k 2 ) (4) 高斯模型参数更新完成后，将每个像素的K个高斯分布按照ω/σ大到小进行排序，并从K个高斯分布中选取前B个高斯分布作为背景像素的最佳描述模型。若当前像素值满足公式(5)则判定该像素点为背景点，反之则为前景点，实现前景运动目标的检测。其中，T为预定阈值，可根据背景复杂度设定。 B = arg ( min ( ∑ k = 1 b ω k , t > T ) ) (5) 经过以上步骤可以得出像素点(x,y)的前景分割和更新过程，从而判断像素点(x,y)是否为前景。实验结果见图1。"
"人眼观察物体时首先捕获的是颜色。人脑对颜色信息进行分析､处理之后，形成拓扑几何特征的视觉感知，这些颜色信息就是人眼自动识别对象的基础。彩色图像分割涉及到颜色空间的表示方法和处理，分割方法主要包括基于直方图的分割､基于像素的分割和基于区域的分割 [ 9 ] 。 基于直方图的分割主要是利用图像上颜色分量的分布来进行分割，包括利用一个颜色分量的直方图或3个颜色分量的直方图。近年来一些学者开始研究利用两个颜色分量的直方图进行图像分割，这种方法可以降低计算复杂程度从而得到较好的效果 [ 10 ] 。 基于像素的分割(如K-means均值聚类)主要利用每个像素的特征信息，例如颜色､亮度等，根据每个像素性质的相近程度进行分割或聚类，每个像素彼此独立，分割过程中没有涉及到像素的位置信息，其最终结果是将原图像上的每个像素标记成不同的类别。 图1. 运动矿石检测 目前针对矿石图像分割，采用较多的是灰度阈值法和背景色彩识别方法，但由于矿石亮度和颜色的不同，所以无论将阈值定在何处，总会遗漏一部分造成分割不完全。为精准识别和分割矿石中的白色与黄色区域，采用基于CIELAB颜色空间的二维分量K-means聚类。  首先从数据集中任意选取K个值作为初始聚类中心，然后将每一个数据分配到最近的聚类中心，再根据所分配的数据计算平均值获得新的聚类中心。重复以上这两个步骤，直到满足最小平方误差。由以上过程可以知道，K-means算法的聚类结果与初始聚类中心的选择相关，而且如果图像数据相对于聚类中心分布均匀且紧密，可以得到较好的聚类效果。为了将矿石各颜色区域区分，检测下落矿石成分，本文采取K-means聚类算法。   彩色图像原图见图2，在RGB和HSI颜色空间中，分别利用二维颜色分量(R,G)，(R,B)，(G,B)，(H,S)，(H,I)，(S,I)针对图像进行聚类分析，聚类结果和数据分布如图3和图4所示。 从聚类结果来看，图3(a)，图3(b)和图4(b)中，黄色区域被错误地聚类成黑色区域。这主要是因为由于光照的原因，图像黄色区域存在着人眼很难区别的不均匀，图像四周较暗的黄色区域会被误分割为黑色区域。在图3(a)､图3(b)､图3(c)和图4(a)中，黄色区域和黑色区域没有分割开。图4(b)和图4(c)中，黄色区域和白色区域没有分割开。从各数据分布图也可以看出，在RGB和HSV颜色空间下，图像的二维颜色分量分布散乱不紧密，存在聚类中心计算错误的现象。所以在以上两个空间下利用二维颜色分量很难将黄色区域和其他区域精确分割开。 图2. 矿石原图 图3. (a) (R,G)聚类结果，(b) (G,B)聚类结果，(c) (R,B)聚类结果 图4. (a) (S,V)聚类结果，(b) (H,S)聚类结果，(c) (H,V)聚类结果  在CIELAB空间下，L代表明度，a和b分别为两种不同的颜色分量。本研究分别利用明度和颜色的二维分量(L,a)和(L,b)，以及颜色二维分量(a,b)对矿石图像进行聚类分析，得到的聚类结果和数据分布图如图所示。 采用二维颜色分量(a,b)进行聚类分析，忽略亮度分量L对图像的影响，矿石图像黑白色区域与黄色区域的这两个颜色分量区别度较大，分割效果好。图中显示，亮矿石和暗矿石都能够通过CIELAB空间的二维颜色分量(a,b)的K-means聚类同时将黄色区域分离出来。从图5的各数据也可以看出，采用明度和颜色分量(L,a)，(L,b)进行聚类时，部分数据相对聚类中心分布分散不紧密；而采用二维颜色分量(a,b)进行聚类时，数据分布均匀，同类数据分布紧密，聚类效果良好。不同矿石图像(a,b)聚类结果见图6。"
"步骤一根据高斯混合模型识别出视频中运动矿石 步骤二判断单帧图像中是否存在黄色区域，经过统计本实验判断标准为RG通道值相差小于等于5，B通道值小于RG通道中最低值15以上。 步骤三进行高通滤波，确定需要识别的最小目标，并设定其像素点数量的阈值为 N min ，滤波公式为 G ( a , b , n ) = { n ,     n ≥ N min 0 ,       n < N min 图6中像素数量最多的为黑色和白色，且黄色区域存在。 图5. (a) (L,a)聚类结果，(b) (L,b)聚类结果，(c) (a,b)聚类结果 图6. 不同矿石图像(a,b)聚类结果 步骤四如果步骤三 G ( a , b , n ) = 0 则不进行步骤四，反之在ab空间对单帧彩色图像聚类，图像I的所有像素点被聚为2类，一类为黄色区域，一类为非黄色区域。找出黄色区域的轮廓大小。黄色区域见图7。 步骤五矿石图像I中黄色区域和灰色区域蓝色通道值较小，而白色区域蓝色通道值较大。对图像I的蓝色通道聚类，图像I的所有像素被聚为2类，一类为白色区域，一类为非白色区域。找出白色区域的轮廓大小。白色区域见图8。 单帧图像算法流程如图9。"
"为验证上述方案在钨矿初选系统中软硬件设计的可行性，选择配置为Intel Corei7-6700HQ CPU，主频为2.60 GHz，内存为8 GB的移动工作站作为算法实验载体。高速摄像机采集矿石下落视频序列作为数据来源，图像分辨率为1280 × 400，帧率为130 FPS。本文优化算法与传统混合高斯模型进行对比分析进行实验。混合高斯模型初始化参数均为：K取3，a初始化为0.03。 根据实验目标我们进行两组实验： 实验一模拟多买脉石与多废石同时下落的场景，验证本文算法的有效性；实验二模拟多脉石下落场景，验证本文算法的鲁棒性；脉石目标检测精度可以采用检出率､虚警率以及漏检率三个指标进行衡量，得到如下表1所示结果。 图7. 矿石黄色区域 图8. 矿石白色区域 图9. 算法流程 Table 1 实验对象 正确检测数目 错误检测数目 未检测数目 检出率 虚警率 漏检率 实验一 矿石选出情况 204块脉石 421块废石 196 10 8 96.07% 4.91% 3.92% 实验二 黄色区域选出情况 126块含铜 204块脉石 120 5 6 95.23% 3.97% 4.76% 白色区域选出情况 198块含钨矿 204块脉石 195 3 3 98.48 1.52% 1.52% 表1. 实验结果 检 出 率 = 检 测 到 正 确 的 目 标 数 图 像 中 真 实 目 标 数 虚 警 率 = 检 测 到 错 误 的 目 标 数 图 像 中 真 实 目 标 数 虚 警 率 = 未 检 测 到 的 目 标 数 图 像 中 真 实 目 标 数"
"本文提出了融合混合高斯混合模型和K-means颜色聚类进行钨矿初选方法。在实验过程中，分别选取具有黄色区域和白色区域的不同亮度下的图像，在CIELAB颜色空间下利用二维颜色分量(a,b)进行聚类分析，通过与人工分割进行比对准确率可以达到90%左右，得到结论如下： 1) 相较与其他视频运动目标检测方法，在钨矿初选过程中混合高斯模型实现多目标运动物体的检测，消耗时间小于其他方法。能够满足工业生产中的实时处理。 2) 在CIELAB颜色空间利用二维颜色分量(a,b)进行矿石图像的K-means颜色聚类分析，使得对于不同照明类型所获得的矿石图像，都可以直接进行处理，所以该算法具有广泛的适用性。"
