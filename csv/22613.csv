"VaR (在险价值)和CVaR (条件在险价值)是常用的金融产品风险度量工具。本文考虑沪深300、中证500和不同行业的12只股票最近两年(2014.10~2016.9)的历史数据，首先用非参数估计方法计算了相应的VaR和CVaR值，然后结合Bootstrap抽样数据，重新估计了相应股票的VaR和CVaR值，根据似然比检验得出结论：Bootstrap方法可以提高VaR和CVaR的估计的精度，更加有效地衡量股票的风险。 关键词 :VaR (在险价值)，CVaR (条件在险价值)，样本分位数法，Bootstrap方法 Copyright © 2017 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"在投资活动中，投资者的收益与面临的风险大小有紧密的联系，风险也就是未来损益的不确定性。VaR (Value at Risk)是近来兴起的金融风险管理工具，用来估计金融产品在未来价格波动下可能的最大损失 [ 1 ] 。VaR方法的提出使得一段时间内投资的最大损失能够较好地量化，为衡量金融风险做出了重要的贡献。然而，VaR并不是最合理的衡量金融风险的指标，由于金融数据的一些特点，比如尖峰厚尾、波动性、集聚性等，使得用VaR衡量金融风险的精度有时无法满足需求。同时，VaR不满足一致性公理，对尾部风险的测量不够充分。基于此，Artzner等提出了CVaR (Conditional Value at Risk)方法。CVaR是指损失超过VaR时的条件均值，CVaR在一定程度上对VaR进行了修正，提高了风险估计的精度。 对于VaR和CVaR的研究主要集中在两个方面：一是对VaR和CVaR的计算方法研究与改进，提高计算精度与效率；二是研究VaR和CVaR在风险管理上的应用 [ 2 ] 。结合这两方面，本文首先简单介绍了VaR和CVaR的概念，阐述了针对不符合正态分布的数据，使用样本分位数法估计VaR和CVaR的方法，同时引入Bootstrap方法对样本分位数法进行改进，并利用似然比检验对模型的有效性进行比较，从而对不同行业股票风险进行分析，希望分析的结果对投资者有一定的参考价值。"
"在险价值VaR是指“在一定概率水平下，金融资产的价值在未来一段时间内所面临的最大可能损失”。用数学语言可表示为： P ( X ≤ − VaR ) = 1 − α ，其中， P ( ⋅ ) 表示某事件的概率， X 表示资产或者资产组合在一定持有期内的收益， α 为给定的置信水平 [ 3 ] 。VaR是金融领域中对风险衡量的常用指标，然而VaR并不是最合理的风险衡量指标，该方法存在一定程度的缺陷，主要表现在：1) 尾部风险测量的不充分性，VaR无法衡量超过相应分位点的下方风险信息，即左尾风险；2) 不满足一致性公理：使用VaR度量风险不满足次可加性和凸性，也就是组合的风险不一定小于单个证券的风险之和并且无法通过优化求得最小风险的组合 [ 4 ] 。 针对VaR的缺陷，Artzner等提出了使用CVaR来衡量风险的方法 [ 5 ] 。CVaR是指损失超过VaR的条件均值，数学表示为 CVaR = − E [ X | X < − VaR ] ， X 表示收益变量。CVaR是满足一致性公理的风险度量方法，代表了损失超过VaR的平均水平，相对于VaR来说，CVaR更能体现出潜在的风险价值，对风险的估计精度更高，在金融风险度量中有广泛的应用。 计算VaR和CVaR的常用方法主要有历史模拟法、蒙特卡洛模拟法(MCMC)和方差协方差法等。MCMC要先对总体分布形式作出假设，方差协方差方法是基于正态总体的计算方法，而历史模拟法是非参数统计方法，不需要对总体的数据分布形式做出假设。由于数据未必服从正态分布或者我们不知道其服从何种分布，这里我们采用历史模拟法，用样本分位数作为总体的分位点的估计。在样本容量比较大时，估计具有相合性。具体计算方法如下：设 X 1 , X 2 , ⋯ , X n 是来自资产收益变量的一个样本，将得到的 样本进行排序，次序统计量为 X ( 1 ) < X ( 2 ) < ⋯ < X ( n ) ，样本a-分位数可以表示为两种形式： X ( [ n α ] ) 和 X ( [ n α ] + 1 ) ， 其中 [ s ] 表示 s 的整数部分。对给定的 α ( 0 < α < 1 ) 及来自收益变量总体 X 的一个样本，在置信水平 ( 1 − α ) 下，本文记VaR的样本分位数估计量为 V ^ ，CVaR的样本分位数估计量为 U ^ 。其中， V ^ = − 1 2 ( X ( [ n α ] + 1 ) + X ( [ n α ] ) ) ， U ^ = − 1 [ n α ] ∑ i = 1 [ n α ] X ( i ) ，n为样本容量 [ 6 ] 。 当样本容量不够大(小于1500)或者尽管有足够多的数据，但是如果以前的数据相对现在来说过于陈旧，这时候用历史模拟法就不能很好地预测未来的情况，为了解决这个矛盾，我们可以采用Bootstrap再抽样的方法。Bootstrap方法是由Efron在1979年首次系统提出的，为小样本的评估提供了一种新的思路 [ 7 ] 。该方法的核心思想是利用重抽样得到的自助样本来估计未知概率测度的某种统计量的统计特性。Bootstrap方法有广泛的应用，在很多金融统计量的估计中都被证明满足大样本的相合性。 本文使用Bootstrap方法计算VaR和CVaR的具体步骤如下 [ 8 ] ： 1) 将每只股票的对数收益率样本 X 1 , ⋯ , X n 从小到大排序得到次序统计量 X ( 1 ) , ⋯ , X ( n ) 。 2) 由观测样本次序统计量构造收益率的经验分布函数 F n ( x ) 。 3) 从经验分布函数 F n ( x ) 中随机抽样，产生对数收益率的Bootstrap样本 B i = ( X 1 * , ⋯ , X n * ) 。 4) 重复步骤(3)m次，产生m个Bootstrap样本 B 1 , ⋯ , B m 。 5) 根据上述VaR与CVaR估计量 V ^ 和 U ^ ，计算每个Bootstrap子样的VaR与CVaR估计量 V i 和 U i ， i = 1 , 2 , ⋯ , m 。 6) 计算统计量 V = 1 m ∑ i = 1 m V i ， U = 1 m ∑ i = 1 m U i 。其中， V 和 U 分别为使用Bootstrap方法计算VaR和CVaR值。 本文使用R语言进行Bootstrap方法编程，计算VaR、CVaR以及相应置信水平下的置信区间。"
"结合统计学样本选取的原则(样本容量不能太少，数据不能太旧)与经济学意义上分析的需要，本文选取了沪深300指数、中证500指数以及工商银行、中国银行、华夏银行、民生银行、保利地产、万科A、华谊兄弟、万达院线、云投生态、西部牧业、华电国际和碧水源共12只不同行业具有代表性的股票从2014年10月8日到2016年9月30日的收益率数据，利用R语言编程，根据数据的特点选取相应的方法计算股票的VaR及CVaR的值和一定置信水平下的置信区间。数据来源于RESSET金融研究数据库。  利用Jarque-Bera检验来验证股票的收益率数据是否符合正态分布，如果股票收益率数据服从正态分布，则其偏度系数为0，峰度系数为3。使用Eviews处理数据，结果见表1。 由数据的Jarque-Bera检验可以看到，万达院线收益率分布的偏度为0.170078，峰度为2.994357，JB统计量的值为1.432257， p 值为 0.488640 > 0.05 ，可以认为其收益率分布近似符合正态分布。其他13只股票收益分布的峰度均大于3，说明有尖峰厚尾现象； p 值均小于0.05，因此可以认为其收益分布不符合正态分布。本文选择使用样本分位数法计算股票的VaR与CVaR，同时使用方差协方差法计算万达院线的VaR和CVaR，并与样本分位数法的计算结果进行简单的比较。 Table 1 股票 均值 标准差 偏度 峰度 JB统计量 P值 沪深300 0.000798 0.020884 −0.850287 6.138223 259.585600 0.000000 中证500 0.000819 0.024402 −0.926351 4.976421 149.527000 0.000000 工商银行 0.000871 0.020469 0.040084 8.917527 715.064300 0.000000 中国银行 0.000940 0.024313 0.457926 7.469456 424.969300 0.000000 华夏银行 0.001152 0.024827 0.060830 6.708174 282.189800 0.000000 民生银行 0.001197 0.023722 0.442616 7.751138 487.815700 0.000000 保利地产 0.001833 0.034378 0.170833 4.603267 54.191850 0.000000 万科A 0.003686 0.033542 0.490646 4.701569 57.713310 0.000000 万达院线 0.006205 0.049319 0.170078 2.994357 1.432257 0.488640 华谊兄弟 0.000791 0.035740 −0.207659 4.624061 46.131870 0.000000 云投生态 0.001480 0.037961 −0.463557 4.217153 44.479020 0.000000 西部牧业 0.001213 0.039188 −0.394588 4.181899 40.477830 0.000000 华电国际 0.001159 0.033257 −0.093899 5.426291 119.676900 0.000000 碧水源 0.001558 0.034201 −0.011805 4.241860 27.384240 0.000001 表1. Jarque-Bera检验  首先，使用样本分位数法计算股票的VaR与CVaR，根据上述对样本分位数估计方法的介绍，给定 α ( 0 < α < 1 ) ，选择 V ^ = − 1 2 ( X ( [ n α ] + 1 ) + X ( [ n α ] ) ) 作为VaR值的估计量，选择 U ^ = − 1 [ n α ] ∑ i = 1 [ n α ] X ( i ) 作为CVaR的 估计量。在95%置信水平下得出估计结果见表2。  方差协方差法假设股票的收益率服从正态分布，则VaR的表达式为 VaR = u α σ P ， u α 为标准正态分布的上 α 分位点， σ 为正态分布的标准差， P 为股票的当前价值 [ 9 ] 。根据表1的结果，万达院线的收益分布近似服从正态分布。因此，使用方差协方差法计算万达院线的VaR与CVaR以及在95%置信水平下的置信区间，并与样本分位数法进行比较。由表3可以看到，与表2中万达院线的VaR和CVaR相比，两种方法计算结果相近，说明在样本股收益分布符合正态分布情况下，选择方差协方差法或样本分位数法对VaR和CVaR计算结果影响不大。  本文选取的单个股票样本量较小，为了避免小样本带来的计算偏差，使用Bootstrap方法进行重抽样，得到2000个Bootstrap样本，来估计股票的VaR和CVaR。在95%置信水平时估计结果见表4。 同理，在95%的置信水平下，股票的VaR与CVaR置信区间的计算结果见表5 [ 10 ] 。  通过对模型有效性的检验，可以判断VaR计算模型的准确率。本文选择Kupiec检验，也称失败率检验，来对样本分位数法计算VaR的模型以及结合Bootstrap方法计算VaR的模型的有效性进行判断。 Table 2 序号 股票 VaR CVaR 序号 股票 VaR CVaR 1 沪深300 0.042683 0.055074 8 万科A 0.086543 0.111519 2 中证500 0.051080 0.068356 9 万达院线 0.090478 0.122398 3 工商银行 0.049648 0.095719 10 华谊兄弟 0.091282 0.116081 4 中国银行 0.053509 0.082228 11 云投生态 0.077329 0.104270 5 华夏银行 0.053944 0.073181 12 西部牧业 0.081336 0.109691 6 民生银行 0.054845 0.088513 13 华电国际 0.067258 0.086761 7 保利地产 0.076551 0.102830 14 碧水源 0.069605 0.097523 表2. VaR和CVaR值 Table 3 Calculation ofR by Variance-Covariance metho VaR CVaR 点估计 0.091376 0.118540 置信区间 (0.084399, 0.109620) (0.100361, 0.130549) 表3. 方差协方差法计算VaR与CVaR Table 4 Calculation ofR by Bootstra 股票 VaR CVaR 股票 VaR CVaR 1 沪深300 0.042713 0.055266 8 万科A 0.086266 0.110466 2 中证500 0.051110 0.068182 9 万达院线 0.091059 0.131795 3 工商银行 0.050726 0.089977 10 华谊兄弟 0.093838 0.130490 4 中国银行 0.053107 0.079776 11 云投生态 0.077266 0.104116 5 华夏银行 0.052958 0.072793 12 西部牧业 0.081234 0.108975 6 民生银行 0.054659 0.086623 13 华电国际 0.071256 0.105691 7 保利地产 0.076418 0.101829 14 碧水源 0.073557 0.090496 表4. Bootstrap方法计算VaR和CVaR Table 5 Confidence Intervals of 股票 VaR CVaR 沪深300 (0.042569, 0.042857) (0.054927, 0.055604) 中证500 (0.050963, 0.051257) (0.067908, 0.068455) 工商银行 (0.040518, 0.058932) (0.056800, 0.131699) 中国银行 (0.045107, 0.062192) (0.052217, 0.101857) 华夏银行 (0.047746, 0.059964) (0.059989, 0.085072) 民生银行 (0.046264, 0.062591) (0.064276, 0.108871) 保利地产 (0.068808, 0.083595) (0.088749, 0.113640) 万科A (0.063352, 0.087214) (0.084782, 0.143600) 万达院线 (0.083266, 0.104217) (0.113521, 0.145381) 华谊兄弟 (0.080216, 0.110897) (0.102540, 0.140752) 云投生态 (0.067955, 0.085978) (0.085307, 0.121374) 西部牧业 (0.071638, 0.091039) (0.088773, 0.130030) 华电国际 (0.062401, 0.081942) (0.078856, 0.126712) 碧水源 (0.067731, 0.079203) (0.082753, 0.097945) 表5. VaR与CVaR的区间估计 假设计算VaR的置信水平为 1 − α ，模型验证的考察天数为 T ，其中失败天数为 N ，相应失败频率为 p ( = N / P ) ，失败期望概率为 P ′ ，零假设为 P = P ′ 。对于 P 是否显著不同于 P ′ 的检验，Kupiec提出了在零假设成立的条件下，下列似然比成立 [ 11 ] ： L R = 2 ln [ ( 1 − N / T ) T − N ( N / T ) N ] − 2 ln [ ( 1 − p ′ ) T − N ( P ′ ) N ] ~ χ 1 2 在95%的置信水平下，当 0.001 < L R < 5.024 时，不拒绝原假设；反之，拒绝原假设。本文通过编程进行计算，得到表6结果。根据LR统计量的计算可以看出，结合Bootstrap方法的样本分位数法计算VaR的模型比只使用样本分位数法计算的准确率高。"
"本文对不同行业的股票以及具有代表性的沪深300和中证500指数的收益率数据使用样本分位数法和基于Bootstrap重抽样的样本分位数法估计其VaR和CVaR，并使用似然比检验对两种模型估计VaR的有效性进行了比较。VaR与CVaR值反映了股票风险的大小，表2、表4和表5表明，处于不同行业的股票，其风险有较大差异，而同一行业内部，根据公司的发展状况，相应股票面临的风险大小也不相同。本节对表中实证结果进行了总结，并在经济层面对其风险来源进行了分析。 从计算结果来看，风险较小的为沪深300、中证500、工商银行、中国银行、华夏银行和民生银行。其中，华夏银行和民生银行的风险略大于工商银行和中国银行，四只银行股的风险略大于沪深300股票指数和中证500股票指数。沪深300指数和中证500指数样本选自沪深两市，覆盖了大部分的流通市值，选取的样本股票规模和流动性大，稳定性高，整体风险相对较小，一定程度上代表了沪深两市整体走势。工商银行和中国银行属于大型国有商业银行，规模比较大，资产总额大，整体发展比较稳定。华夏银行和民生银行属于中小型股份制商业银行，近几年，股份制商业银行发展迅速，其资产总额相对较小，在存贷款以及其它扩展性业务上发展很快，同时也就带来了比在传统业务上有优势的国有商业银行更大的风险。 Table 6 样本分位数法 Bootstrap方法 失败频率 LR统计量 失败频率 LR统计量 沪深300 0.036489 3.006270 0.033859 2.539650 中证500 0.029691 2.064985 0.030053 3.194475 工商银行 0.018367 0.426201 0.022943 3.810470 中国银行 0.047334 6.995600 0.046592 2.658340 华夏银行 0.039128 2.637132 0.061093 5.020740 民生银行 0.049930 3.511960 0.020177 1.548290 保利地产 0.013908 1.988401 0.029303 0.628460 万科A 0.062545 20.723410 0.027243 1.889709 万达院线 0.014822 1.128840 0.050103 3.424629 华谊兄弟 0.044309 5.380490 0.048230 4.786463 云投生态 0.030132 13.012762 0.027565 0.906442 西部牧业 0.052940 2.632944 0.069346 3.097332 华电国际 0.042281 1.993760 0.027493 2.246583 碧水源 0.063753 2.093830 0.036529 0.686384 表6. 两个模型效果对比 样本股中风险最大的为华谊兄弟和万达院线，属于娱乐传媒行业。在经济发展和全球化背景下，二者均形成了完善的管理模式。电影产业属于资金密集的第三产业，为了筹集资金，公司会进行相应的投融资，比如华谊兄弟和万达集团会与其他影视公司合作、向金融机构贷款或者进行广告的植入，然后将资金运用到制片、发行、营销以及影院的建设等上面。投资范围广，分散了公司财力，过分依赖导演及演员，缺少核心人才，观众心理以及流行元素多变等等因素都导致娱乐传媒业存在较大的风险。 万科A和保利地产等房地产行业以及云投生态和西部牧业等农林牧业，也存在较大风险，仅次于娱乐传媒业。近年来，房地产行业竞争日益加剧，土地供给制度不完善、供给量不足，国家对房地产行业出台了一系列控制房价过快上涨的调控措施，取消了多城市的利率优惠政策，进行了房产税试点、央行加息等多项措施，这些都导致了房地产行业的短期性波动。房地产企业内部的管理模式、投融资、并购重组等措施也会导致投资者的投资风险。对于万科A来说，从2015年开始的万科宝能股权之争，对万科集团的股权配置、管理模式等产生了重大影响，一度导致万科停牌筹划资产重组，同时，经济的过冷过热也会导致房地产行业的动荡，使其面临较大风险。云投生态及西部牧业等农林牧业的发展，虽然有国家政策及资金的支持，但是由于产品缺乏弹性，易受天气、环境的影响，政府的制度、市场的供需波动、管理者缺乏风险控制的常识等等因素均会引起企业利润波动，导致其股票风险的存在。 由实证结果可以看到，华电国际和碧水源的风险较小。水利电力行业是国民赖以生存的行业，为人们提供了生活所需能源。政府一直在政策和资金上对相关企业的稳定、可持续发展提供支持。以华电国际为例，华电国际属于电力行业，其风险主要来源于煤价、电价、用电量的波动以及公司投资的一些发电项目和煤电企业利润的波动，环保、可持续发展等政策的提出虽然有利于电力行业的长期健康发展，短期内会也造成机组关停和环保费用增长等风险，但整体来说水利电力行业风险是比较小的。 根据表2结果可以得到，在同一行业内进行比较，属于创业板的华谊兄弟、碧水源、西部牧业分别比同行业属于主板市场的万达院线、华电国际、云投生态的风险大一些。从一定程度上体现了创业板企业大多从事高科技业务，具有较高的成长性，但成立时间较短，业绩不是很突出，面临的风险也会比主板市场大的特点。由表2与表4结果的比较，以及表6似然比检验的结果可以看出，使用Bootstrap方法计算VaR的模型整体比仅使用样本分位数法计算VaR的模型精确度要高。同时，无论样本量的大小，股票的CVaR值均比VaR值的计算结果大，说明在分析中使用VaR值衡量风险有低估风险的可能性，因此在实际中常常需要结合CVaR值进行分析。然而，仅仅使用VaR值和CVaR值来评估股票风险是远远不够的，需要考虑其他指标以及市场和公司的发展状况。同时，对于VaR和CVaR值的估计精度、计量结果的应用时长以及不同取样时长VaR与CVaR计量的稳定性也是需要下一步探讨和研究的问题，这些都对实际的投资有重要的意义。"
