"传统的房产管理方法和手段已无法全面满足房地产开发和管理决策的需要，本文以不动产登记暂行条例的出台和实施为背景，针对目前房产管理中存在的问题研究了基于Web GIS的房产管理信息系统。首先概括和总结了相关技术的概念、特点和适用性；其次完成了系统各种用户的需求分析；再次，从架构、功能和数据库三个方面对系统进行了全面设计；最后，重点实现和展示了各主要功能的功能页面，为系统的全面建设奠定了基础。 关键词 :GIS，Web GIS，商业地图API，WAMP，房产管理信息系统"
"随着我国城市建设的快速推进，建设及房地产领域已积累了海量信息和数据，而传统的房产管理方法和手段已无法全面满足政府、企业甚至公众对房地产开发和管理决策的需要。同时，房产管理信息系统建设中仍存在信息利用率低、数据更新困难、可视化程度低等问题。 目前我国的房地产管理信息系统主要有两种。其一，基于网络、数据库等技术建立的房地产管理信息系统。如杨志(2013) [ 1 ] 在《房地产信息管理系统的设计与实现》一文中使用C/S体系结构、Delphi8面向对象技术、SQL server 2008数据库等技术开发了房地产信息管理系统，并实现了系统的部分功能，该系统虽然功能比较全面，却无法实现房地产信息的可视化管理；武佳卫(2013) [ 2 ] 的《构建上海房地产信息管理体系的关键技术》对上海市房地产信息系统实现的关键技术、存在问题进行了探讨，并指出了房地产信息系统的发展方向，但其研究内容仅限于理论，系统的实现是否可行还是个未知数。其二，基于GIS的房地产管理信息系统。目前我国的很多城市(北京、上海等大城市)在实际应用时都采用了GIS技术和Web GIS技术对房地产信息进行管理，很多学者也对该技术在房地产管理信息系统中的应用进行了研究。如李璇、刘汉湖和王炜(2014) [ 3 ] 在《基于GIS的房产信息管理系统设计》一文中设计了系统的总体结构、数据管理和主要功能；鲍月玲(2014) [ 4 ] 在《GIS在房地产管理信息系统开发中应用研究》中分析了GIS在房地产管理和房地产管理信息系统开发中的应用特点及GIS应用的可行性。这些研究都是利用GIS可以把房地产管理中的各种图文信息及地图信息有机结合的特点来实现房地产管理的可视化，但由于GIS软件的操作和二次开发都非常复杂，需要专业人员完成，成本比较高，数据更新困难，造成了该类房地产管理系统中的房产信息利用率极低，很难多部门共享，且不易推广。 大众版Web GIS产品商业地图API为开发者提供了免费的应用接口，能够切实解决房产管理信息系统的空间数据源问题。应我国《不动产登记暂行条例》的实施和目前房产管理的需要，以Web GIS技术为基础开发城市房产管理信息系统对规范市场管理、提高政府效率、加强房管服务，保障房地产行业稳步发展具有一定的借鉴和参考价值。"
"本文的开发工作是在GIS、Web GIS、高德地图API和WAMP等技术基础上进行的。  GIS即地理信息系统，是一种在软硬件支持下用于获取、存储、查询、管理、分析和显示地理空间数据的计算机系统 [ 5 ] 。它与传统数据库相比其具有强大的可视化功能和图文显示和互动管理能力。随着技术的不断成熟，GIS在环境变化动态监测、自然资源调查与管理、自然灾害监测和预测、城市区域规划和地籍管理、军事及辅助决策等领域得到了广泛的应用 [ 6 ] 。 Web GIS指基于Internet平台、客户端应用软件采用WWW协议运行在万维网上的地理信息系统，也称为互联网地理信息系统 [ 7 ] 。它是由多主机、多数据库与多台终端，通过Internet/Intranet连接而成的的大量的、分布在不同地点的不同部门的独立的GIS系统组成 [ 8 ] 。因此，Web GIS可以使基于地图的各类应用系统通过互联网技术在各行各业中得到广泛应用。  高德地图API是提供给开发者的一套免费应用程序接口，是大众版Web GIS产品，它以高德地图为基础，包括iOS，Andriod，Web服务，JavaScript等多种版本。高德地图JavaScript API是一套支持HTML5特性地图开发由JavaScript编写而成的应用程序接口。它能够帮助用户构建交互性强、内容丰富、功能强大的地图应用，主要是通过PC端和移动终端的浏览器进行地图开发。它能够提供地图的展示、平移、拖拽、缩放等基本功能，并且支持在地图上添加点、线、面等覆盖物，标注，标注管理器、定位，重设底图或自定义图层等功能。高德地图API的实现流程如图1所示。  WAMP即Windows下的Apache Web服务器+Mysql/MariaDB数据库+Perl/PHP/Python开发语言，是一组用来搭建动态网站或者服务器的开源软件 [ 9 ] 。它们本身都是各自独立的程序，因为经常被放在一起使用而拥有越来越高的兼容性 [ 10 ] ，也就发展成了捆绑为一个整体的包的形式的WAMPs，它能够在最短的时间和最少的麻烦下，把一个网络开发服务器安装和运行起来。"
"本系统的参与者包括：系统管理员即房管局信息中心和用户，用户主要包括三类：政府用户(主要是房屋管理局和对房产信息有需求的其他政府部门)，企业用户即房地产开发商和房屋中介，普通用户。  系统管理员拥有最高权限，是系统后台的使用者，应具有管理首页信息、注册用户和数据库等功能。具体用例包括：增加、删除、修改用户；查看用户注册信息；审批用户；管理用户权限；系统维护；数据库管理：备份、恢复数据库。另外，针对该系统，管理员还应具有房源信息管理、企业用户资信管理等重要功能。  各地房屋管理局因地域原因所形成的组织机构和职责略有不同，以郑州市为例，住房保障和房地产管理局的主要职责包括：负责行政区域内的住房保障、住房制度改革、房地产市场管理、物业服务行业管理、拆迁安置管理等工作，管理城市房屋权属登记，核发房屋所有权证书，管理房屋信息等。因此，作为该系统的政府用户，房屋管理局应具备用户信息管理、房地产信息登记，权属变更和办证归档，信息发布，信息查询与统计等功能。 图1. 高德地图API实现流程  房产管理信息系统的企业用户包括房地产开发商和房屋中介，他们使用该系统的目的主要是为了实现自己的营销目的，为了提高系统的应用程度和政府服务效率，开发商和中介需要向房屋管理局提交各种资料，其中包括：房屋买卖合同、房屋租赁合同、客户信息等。因此开发商和中介的功能需求包括：用户信息管理、房源信息的发布、更新和删除，业务数据查询和统计，合同管理，网上签约等功能。  普通用户指为满足住房需求而寻找出租或出售房源的潜在消费者。消费者只拥有系统的最低权限，可以作为游客不用注册，以减少庞大的消费群体给系统带来的管理负担，进而降低系统数据库维护成本，但当普通用户需要与系统进行交互时必须进行注册。普通用户的功能需求主要有用户信息管理、房源信息查询、发布需求信息和房源评价。"
"系统设计主要是在功能需求分析的基础上对系统的构架、功能和数据库进行设计，使各种数据信息以科学合理的方式组织起来，各个功能模块之间能方便地实现信息共享和相互链接，提高基础数据的利用率，系统的操作界面能最大限度地符合用户操作习惯。  目前在应用型地理信息系统中，主要有两种系统架构模式：一种是Client/Server(客户/服务器)模式，一种是Browser/Server(浏览器/服务器)模式。C/S模式主要由客户应用程序(Client)、服务器管理程序(Server)和中间件(Middleware)三个部件组成的两层结构 [ 11 ] 。B/S网络结构模式统一了客户端(浏览器)，将系统功能实现的核心部分集中到服务器上，简化了系统的开发、维护和使用，具有维护和升级方式简单、成本低、选择多等优点。 本文所开发的房产管理信息系统是在高德地图API的基础上进行开发，使用的基础数据是网络地图。基于以上分析及B/S模式的特点，采用B/S模式更能够满足系统的实际需要。  根据需求分析可将系统分为管理员功能模块，用户自助管理模块，房产信息管理模块，企业用户模块和普通用户模块。其中，系统管理员功能可以分为四个模块，分别是：房源信息管理、用户管理、基础数据维护和系统维护；用户自助管理模块设置注册、登录、密码找回和个人信息管理等功能；房产管理模块主要包括房产信息登记、权属变更和办证归档、信息发布和信息查询与统计等功能；企业用户模块包括的功能主要包括：房源信息管理、网上签约、合同管理和数据查询与统计；普通用户模块的功能包括：房源信息查询、需求信息发布和房源评价。  房产管理信息系统涉及到的数据包括房产基本信息、房产空间信息、用户信息、政府公开信息等，按照数据获取方式的不同可分为基础数据、处理数据和服务数据三种。数据采用My SQL关系型数据库系统和高德云图数据库相结合的存储方式。其中系统产生的大部分数据如房产基本信息、各种用户信息、政府发布的信息采用My SQL数据库存储，而房产的空间信息则采用高德云图存储，这是由高德地图API的特性决定的。 根据需求分析，本系统的逻辑结构设计如下所示: ●管理员信息表(管理员账号、姓名、密码)； ●用户信息表(用户账号、昵称、密码、用户类型、联系方式、电子邮箱)； ●房产信息表(房产编号、详细地址、权属人、证件号、开发商、面积、成交价格、户型、楼层、朝向、房龄、结构、属性、设施)； ●房源信息表(房源编号、中介、开发商)； ●房源明细表(房源编号、房源类型编号、地址、面积、户型、楼层、朝向、房龄、电梯、公园、医院、学区房)； ●房源类型表(房源类型编号、类型名称)； ●合同信息表(合同编号、甲方、乙方、合同类型、标的物、价格、合同明细)； ●求房信息表(求房信息编号、求房类型、需求内容、联系方式、发布时间)； ●公告信息表(公告编号、公告类型、公告内容、发布时间)。 数据库表结构如表1所示。"
"在使用高德地图API和高德云图时首先要申请密钥，本文使用开发工具和高德地图重点实现了房产管理信息系统的以下功能：房源信息查询、房产信息登记和更新、信息统计等。  本系统的开发选择WAMP server 2.1集成开发工具，高德地图JavaScript API，高德云图数据库和云图JavaScript API。 系统后端采用的PHP CodeIgniter框架是一套开放源代码能帮助PHP网站开发者编写“优雅”PHP程序的应用程序开发框架和工具包。它是一套MVC框架，集成了很多类库、辅助函数(helpers)等。前端则使用jQuery和Bootstrap。jQuery是一个轻量级的js库，并且兼容CSS3和各种浏览器；Bootstrap是一个CSS/HTML框架，用于前端开发。   在开发时，系统主页设置了普通用户模块、房产管理模块、企业用户模块、用户自主管理模块和系统管理员模块五个登录窗口，点击其中一个即可进入相应页面，使用实现的功能。在WAMP server 2.1 集成开发工具正常运行的情况下，打开浏览器，输入网址localhost/s即可进入如图2所示的主界面。  用户进入房源信息查询页面后可以直接以游客的身份查询房源信息，可以在地图上划定范围限制查询区域，并设置六个查询条件，点击查询即可得到该区域内符合条件的房源信息列表和空间位置显示。界面如图3所示。如果用户需要与系统进行交互则可点击登录，输入用户名和密码进入系统。  房屋管理局工作人员进入主页后点击房屋管理模块则可进入登陆页面，输入账号和密码即可进入房产信息登记页面，在地图上标记房产空间位置，此时系统自动生成坐标和地址，用户输入和设置页面上包括的房产的其他信息后点击登记房产信息，此时房产基本信息和空间信息即可自动存入My SQL数据库和高德云图。信息登记页面如图4所示。  本页面可以实现房产信息的基本信息和权属信息修改，在进入页面以后首先以房屋编号为条件进行 Table 1 表名 主键 外键 管理员信息表 管理员账号 无 用户信息表 用户账号 无 房产信息表 房产编号 无 房源信息表 房源编号 房源类型编号 房源明细表 房源编号 无 房源类型表 房源类型编号 无 合同信息表 合同编号 无 求房信息表 求房信息编号 无 公告信息表 公告编号 无 表1. 数据库表结构 图2. 系统主页 图3. 房源信息查询页面 图4. 房地产信息登记页面 检索，找到需要修改信息的房屋位置和原有信息，然后将需要修改的选项重新设置即可用修改后的信息覆盖原有信息，该页面如图5所示。  为满足房屋管理局的需求，该页面主要实现了房屋属性信息的统计和房龄统计，分别统计的数据库内的房屋存储总量、商用和居住用房屋各占的百分比，以及房龄在30年以下、30年-50年、50年以上各占总房屋量的百分比，并将统计结果以饼状图的方式显示出来。页面如图6所示。 房屋的房龄统计以饼状图的形式显示出来所表达的是一个整体的现状反应，将其用于辅助规划显然是不够的，因此本系统还实现了三种房龄空间分布的显示，使它们以不同的颜色标注在地图上，界面如图7所示。 图5. 房地产信息更新页面 图6. 房地产信息统计页面"
"本文针对获取地图成本较高、GIS和专业版Web GIS产品开发难度大、使用时对专业技能要求较高等现状设计了基于大众版Web GIS高德地图API的房产管理信息系统，并利用WAMP网络开发组件重点实现了房源信息查询、房产信息登记、更新和统计等重要功能。与目前现有房产管理信息系统相比，该系统的优点包括可以直接利用高德地图，无需再使用专业GIS或Web GIS软件对基础空间数据进行编辑、切片和渲染等，减少了系统建设的工作；系统功能全面，操作简单灵活，满足了不同用户的大部分需求；同时，系统主要功能的实现也说明了该系统是可行的。另外，该系统还具有性能稳定、交互性良好、开发和运行成本低廉等特点。系统的应用将提高房产信息登记和更新的速率，并为城市规划管理提供可视化的查询统计工具。在未来的研究中可利用高德地图在手机端的良好表现开发可移动房产管理系 图7. 房龄统分布图 统，并实现与本系统的有效连接，进而为不动产登记的现场调研等工作提供技术支持。"
