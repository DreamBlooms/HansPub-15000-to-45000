"本文针对城市生活污水设计和实现了一种先进、实用、有效的，集PLC技术、组态软件技术和网络通信技术为一体的污水处理模糊控制系统。系统采用高可靠性的西门子S7-300可编程序控制器为主控制器；控制算法采用模糊控制；采用工控组态软件KingView6.53实现上位机监控功能；采用工业以太网Profibus现场总线实现网络通信。结果表明，该控制系统对强时滞、非线性、不确定性的污水处理过程具有很好的控制效果，实现了污水处理过程的自动控制，提高了污水处理的效率，降低了污水处理的成本。 关键词 :PLC，污水处理，模糊控制，Profibus现场总线 Copyright © 2018 by authors and Hans Publishers Inc. This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/"
"随着计算机技术、控制技术的突飞猛进，近年来我国污水处理厂的自动化系统要求也越来越高，污水处理自动化系统应具有全自动的逻辑控制，系统能够长期安全无故障的运行，且具有很高的可靠性。为此，本文根据某污水处理厂处理工艺，采用高可靠性的西门子S7-300可编程序控制器、工控组态软件KingView6.53和Profibus-dp现场总线来构建一个分布式的模糊自动控制系统，从而提高了污水处理的自动化程度和系统的高可靠性。"
"某污水处理厂的城市生活污水的处理采用CASS (Cyclic Activated Sludge System)工艺，全称为循环式活性污泥法。CASS的整个工艺为一间歇式反应器，在此反应器中活性污泥法过程按曝气和非曝气阶段不断重复，将生物反应过程和泥水分离过程结合在一个池子中进行。在CASS工艺中，在反应池的首部设置生物选择器，不仅可以快速去除进水中可溶性有机物，并且可以有效地抑制丝状菌生长和繁殖，消除污泥膨胀。随着电子计算机的日益普及，CASS工艺由于其投资和运行费用低、处理性能高超，尤其是优异的脱氮除磷功能而越来越得到重视 [ 1 ] 。该工艺已广泛应用于城市污水和各种工业废水的处理。某污水处理厂污水处理流程，见图1。"
"根据该污水处理厂的工艺流程和要求，本控制系统采用上下位机两级结构。上位机监控系统选用性能稳定、抗干扰性能好的工控机，使用工控组态软件进行对上位机监控功能进行组态，设计工艺流程、记录查询、报警、报表、参数设定等操作画面，实现现场设备的监控与人机交互。下位机控制系统采用PLC控制技术实现对系统中多个泵、阀门等设备的启/停、开/关控制，从而使该污水处理系统按照工艺要求完成自动控制 [ 2 ] 。系统整个网络采用两层网络拓扑结构，上位机PC之间以及上位机和下位机PLC之间采用工业以太网通讯，底层为现场总线，下位机PLC主站和两个从站之间采用PROFIBUS-DP现场总线通讯，污水控制系统图，见图2。 1#PLC柜位于提升泵房内，其电气控制系统主要完成对粗格栅环节的液位差计，提升泵房的液位计，细格栅环节的PH分析仪、悬浮物在线分析仪、COD在线分析仪、氨氮在线分析仪、1#液位计、2#液位计、出水流量计等各类仪表、执行设备的数据采集和控制 [ 3 ] 。2#PLC柜位于变配电间内，其电气控制系 图1. CASS工艺流程图 图2. 污水处理控制系统图 统主要完成对CASS池A1内溶解氧分析仪、悬浮物分析仪、液位计，CASS池A2内悬浮物分析仪、液位计，CASS池A进气管流量计、CASS池B进气管流量计，鼓风机出口总管流量计等各类仪表、执行设备的数据采集和控制，电气控制原理图如图3所示。3#PLC柜位于污泥脱水间，其电气控制系统主要完成对中间提升泵房的液位计，储泥池内的液位计、悬浮物分析仪、进泥管道流量计，接触池内硝氮在线分析仪、出水管道流量计、COD在线分析仪、悬浮物分析仪等各类仪表、执行设备的数据采集和控制。 2#PLC工作站为主站，位于变配电间内，CPU具体型号选择S7-300系列中应用广泛的CPU315-2DP。CPU315-2DP具有大中规模的程序容量，对二进制和浮点数有较高的处理性能，它有两个PROFIBUS-DP主站/从站接口，可用于建立分布式1/0结构和大规模I/O配置，并且可以通过CP通信卡来扩展其DP接口。 CPU315-2DP带有128KB集成式RAM，不能扩展。FB、FC、DB、OB的最大容量都为16 KB，FB、FC最大模块数为2048，DB最大块数为1023，可以处理的最大模拟量I/O总数为1024个，最大数字量I/0总数为16,384个。 CPU315-2DP需要配置电源，这里选择了PS307-5A。2#PLC工作站I/O点统计表，见表1。"
"模糊控制系统由被控制过程和模糊控制器构成，模糊控制器由模糊化、模糊推理和去模糊化三部分组成，三者均建立在知识库(控制率和隶属函数)基础上 [ 4 ] 。模糊控制的基本原理见图4。 模糊控制系统的主要特点是对操作人员的控制经验进行总结，形成可以通过控制系统表达的控制方 图3. 2#PLC工作站系统配置图 Table 1 控制点描述 AI AO DI DO CASS池A1 6 CASS池A2 4 鼓风机房 1 CASS池A1 1 CASS池A2 1 CASS池A1 30 CASS池A2 30 CASS池A1 9 CASS池A2 9 表1. 2#PLC工作站I/O点统计表 图4. 模糊控制系统方块图 法，达到自动控制的目的。泵站的传统控制只考虑了液位的变化，没有考虑变化率。由于集水井具有非线性和大延迟性，因此，往往出现控制滞后现象。采用计算机技术和先进液位检测仪表后，可非常简便地得到液位差和液位变化率，通过引入模糊控制方法，利用液位变化率，实现PD控制结构，能明显提高泵站对进水量变化的响应能力。 结合有关文献和实际，对污水厂污水提升泵站进行了以下的控制方法实施。模糊控制器采用三个模糊变量：液位差(E)、液位变化率(EC)和启动泵台数(U)，其中E和EC为输入模糊变量，U为使出模糊变量。模糊控制器由PLC编程实现。现采样间隔设为10 s，这种结构实质上为非线性的PD控制方式。 根据现场对集水井液位变化情况的了解，三个控制变量的论域量化关系如下： 液位差E分为6档，11级，即： {−5，−4，−3，−2，−1，0，1，2，3，4，5} 模糊子集选取如下语言值： {NB(负大)，NM(负中)，NS(负小)，PS(正小)，PM(正中)，PB(正大)} 液位变化率EC分为5档7级，即： {−3，−2，−1，0，1，2，3} 模糊子集选取如下语言值： {NB(负大)，NS(负小)，Z(零)，PS(正小)，PB(正大)} 控制变量U分为5档5级，即： {0，1，2，3，4} 模糊子集选取如下语言值： {小，中，大，很大} 参考有关资料可知，由于不同形状隶属函数所代表的控制含义不同，模糊自己的隶属函数形状较尖，反映模糊集合具有高的分辨率特性，其控制的灵敏度较高；模糊自己的隶属函数形状较宽，反映模糊集合具有低的分辨率特性，其控制的灵敏度较低，控制特性比较平缓，系统稳定性较好。"
"本污水处理系统下位机PLC编程软件设计选用的是西门子编程软件STEP 7，STEP 7对PLC进行编 图5. 创建功能块 图6. CASS池控制流程图 图7. 粗细格栅监控界面 程采用结构化程序，把程序分成多个模块，各模块完成相应的功能 [ 5 ] 。每个模块实际上就是一个子程序，用相应子程序实现特定的功能，再通过主程序来调用子程序，然后再结合起来从而就可以实现复杂的污水处理控制。 本次程序设计中所用到的各个逻辑块，见图5。S7-300 PLC采用循环执行用户程序的方式。所有的FC逻辑块均放在OB块中进行循环。OB1是用于循环处理的组织块(主程序)，它可以调用别的逻辑块，或被中断程序(组织块)中断。在启动完成后，不断地循环调用OB1，在OB1中可以调用其他逻辑块(FB、SFB、FC或SFC)。 CASS池自动控制，CASS生物池运行周期为4个阶段：进水、曝气、沉淀、滗水，每个阶段由相应的一组设备动作完成。CASS生物池运行周期为4 h，其中进水1 h、曝气2 h、沉淀0.5 h、滗水0.5 h。其控制流程图见图6。 污水处理控制系统上位机监控系统选用性能稳定、抗干扰性能好的工控机，使用工控组态软件KingView6.53对上位机监控功能进行组态 [ 6 ] ，进行工艺流程、记录查询、报警、报表、参数设定等操作画面设计，实现现场设备的监控，见图7。 该污水处理自动控制系统的整个通信网络采用两层网络拓扑结构，上层为工业以太网，用于上位机PC之间以及上位机和下位机PLC之间的通讯，底层为PROFIBUS-DP现场总线，用于下位机PLC主站和从站之间的通讯。"
"本文对基于PLC控制的生活污水处理模糊控制系统进行了设计实现。以CPU315-2DP PLC做主站，接口模块IM153-1做从站，构成PROFIBUS-DP总线控制系统，实现对系统中多个泵及阀门的启/停、开/关控制，实现了生活污水处理过程的自动化操作；同时，采用组态王软件对上位机监控功能进行组态，设计了多个监控操作画面，实现了现场设备的监控。通过严格的测试，基本达到了预期要求。"
