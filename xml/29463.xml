<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">DSC</journal-id><journal-title-group><journal-title>Dynamical Systems and Control</journal-title></journal-title-group><issn pub-type="epub">2325-677X</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/DSC.2019.82010</article-id><article-id pub-id-type="publisher-id">DSC-29463</article-id><article-categories><subj-group subj-group-type="heading"><subject>DSC20190200000_51064282.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于遗传算法的差速耦合式混合动力系统模糊控制策略优化
  Optimization of Fuzzy Control Strategy for Differential Coupling Hybrid Power System Based on Genetic Algorithm
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>王</surname><given-names>鑫</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>张</surname><given-names>青</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>王</surname><given-names>银</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>肖</surname><given-names>凤</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>胡</surname><given-names>建军</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>重庆长安汽车股份有限公司动力研究院，重庆</addr-line></aff><aff id="aff3"><addr-line>重庆大学机械传动国家重点实验室，重庆</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>20</day><month>02</month><year>2019</year></pub-date><volume>08</volume><issue>02</issue><fpage>81</fpage><lpage>93</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  
    为提高混合动力汽车的经济性和排放性能，本文基于对差速耦合式动力系统的结构和工作特征的研究，在ADVISOR仿真软件中对差速耦合式动力系统模型进行再开发，以电池电量和需求转矩为输入、发动机的启停为输出设计双输入单输出的模糊控制策略，并利用遗传算法对25个模糊规则变量进行优化，在UDDS工况下进行整车性能仿真，与逻辑门限策略下的性能进行对比。结果表明，优化后的模糊控制策略能更合理地控制汽车发动机启停，明显提高了经济性，并能有效降低汽车排放。
    In order to improve the economic performance and emission performance of hybrid vehicles, this paper is based on the study of the structure and working characteristics of the differential coupled power system. The ADVISOR simulation software is used to redevelop the model of the differential coupled power system. Two-input single-output fuzzy control strategy was designed for the input and the demand torque as input, and the engine was started and stopped. The 25 fuzzy rule varia-bles were optimized using the genetic algorithm, and the vehicle performance simulation and logic were performed under UDDS conditions. The performance was compared under the threshold strategy. The results show that the optimized fuzzy control strategy can more reasonably control the start and stop of the engine of the car, and obviously improve the economy under the premise of ensuring the power of the car, and can effectively reduce the car emissions. 
   
   
    
  
 
</p></abstract><kwd-group><kwd>ADVISOR再开发，差速耦合式混合动力，模糊控制策略，遗传算法, ADVISOR Redevelopment</kwd><kwd> Differential Coupling Hybrid</kwd><kwd> Fuzzy Control Strategy</kwd><kwd> Genetic Algorithm</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>基于遗传算法的差速耦合式混合动力系统模糊控制策略优化<sup> </sup></title><p>王鑫<sup>1</sup>，张青<sup>1</sup>，王银<sup>1</sup>，肖凤<sup>2*</sup>，胡建军<sup>2</sup></p><p><sup>1</sup>重庆长安汽车股份有限公司动力研究院，重庆</p><p><sup>2</sup>重庆大学机械传动国家重点实验室，重庆</p><p><img src="//html.hanspub.org/file/6-2740216x1_hanspub.png" /></p><p>收稿日期：2019年3月6日；录用日期：2019年3月17日；发布日期：2019年3月27日</p><disp-formula id="hanspub.29463-formula96"><graphic xlink:href="//html.hanspub.org/file/6-2740216x6_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>为提高混合动力汽车的经济性和排放性能，本文基于对差速耦合式动力系统的结构和工作特征的研究，在ADVISOR仿真软件中对差速耦合式动力系统模型进行再开发，以电池电量和需求转矩为输入、发动机的启停为输出设计双输入单输出的模糊控制策略，并利用遗传算法对25个模糊规则变量进行优化，在UDDS工况下进行整车性能仿真，与逻辑门限策略下的性能进行对比。结果表明，优化后的模糊控制策略能更合理地控制汽车发动机启停，明显提高了经济性，并能有效降低汽车排放。</p><p>关键词 :ADVISOR再开发，差速耦合式混合动力，模糊控制策略，遗传算法</p><disp-formula id="hanspub.29463-formula97"><graphic xlink:href="//html.hanspub.org/file/6-2740216x7_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2019 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/6-2740216x8_hanspub.png" /> <img src="//html.hanspub.org/file/6-2740216x9_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>目前世界上应用广泛的混联式混合动力系统当属日本Toyota公司研发的“Prius”混合动力系统。为了突破丰田混合动力系统(THS)专利的束缚，吉林大学汽车学院曾小华老师首次提出了利用对称式锥齿轮差速器作为动力耦合装置的新型混合动力汽车的设想 [<xref ref-type="bibr" rid="hanspub.29463-ref1">1</xref>] 。文献 [<xref ref-type="bibr" rid="hanspub.29463-ref2">2</xref>] 和文献 [<xref ref-type="bibr" rid="hanspub.29463-ref3">3</xref>] 表明差速器应用于混联式混合动力汽车动力耦合具有可行性，为混合动力汽车的动力耦合提供了一种新的选择。文献 [<xref ref-type="bibr" rid="hanspub.29463-ref4">4</xref>] 表明差速耦合式混合动力汽车虽然取消了变速器和离合器，但仍具有无级变速的功能，可通过发电机的调节，控制发动机在最佳工作区间工作，提高了经济性。文献 [<xref ref-type="bibr" rid="hanspub.29463-ref5">5</xref>] 以试验的方法进一步验证了经过改造后的对称式锥齿轮差速器可以作为混联式混合动力汽车的动力耦合装置。</p><p>目前国内文献的报道主要是针对结构的可行性分析和验证，曾小华等 [<xref ref-type="bibr" rid="hanspub.29463-ref4">4</xref>] 仅仅根据需求转矩，调节发电机转矩来控制发动机在高效区域工作提高了系统的经济性，而对于在整车上的应用及控制策略研究较缺乏，控制策略作为混合动力系统的核心部分，是实现低油耗、低排放的关键技术之一，本文在研究差速耦合式动力系统结构和工作特征的基础上，在ADVISOR中进行了控制器模型的再开发，提出了差速耦合式混合动力系统的模糊控制策略，根据电池电量SOC和需求转矩来模糊调节发动机开关量，以此来控制发动机的启停，以降低排放和综合油耗。同时因为遗传算法具有全局性、并行性和鲁棒性，可以优化模糊控制策略 [<xref ref-type="bibr" rid="hanspub.29463-ref6">6</xref>] [<xref ref-type="bibr" rid="hanspub.29463-ref7">7</xref>] ，使模糊控制器更加接近专家行为 [<xref ref-type="bibr" rid="hanspub.29463-ref8">8</xref>] ，所以本文采用遗传算法对25个模糊规则变量进行优化。最后通过仿真，将优化模糊控制器后的性能与优化前及逻辑门限控制策略控制性能仿真结果进行对比，结果表明，本文采用遗传算法优化后的模糊策略以控制发动机启停在满足动力性的前提下，能大幅提高差速耦合式混合动力系统的经济性，且极大降低了排放。</p></sec><sec id="s4"><title>2. 系统建模</title><sec id="s4_1"><title>2.1. 结构及工作特性</title><p>图1为差速耦合式混合动力系统结构图，其系统核心是对称式锥齿轮差速器。太阳轮对应左半轴齿轮，并与发电机相连；行星架对应从动锥齿轮，与主动锥齿轮相啮合并由发动机启动；另一半轴齿轮对应齿圈，通过电机耦合，并输出转矩驱动车轮。系统输入为需求功率、发动机实际输入功率、发电机实际输入功率、驱动电机实际输入功率；输出分别为发动机需求功率、发电机需求功率、驱动电机需求功率和实际输出功率 [<xref ref-type="bibr" rid="hanspub.29463-ref9">9</xref>] 。</p><p>图1. 差速耦合式混合动力系统结构</p><p>某款车型的整车性能指标、整车系统参数分别见表1和表2。</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Vehicle performance inde</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >整车性能</th><th align="center" valign="middle" >性能评价指标</th><th align="center" valign="middle" >要求</th></tr></thead><tr><td align="center" valign="middle"  rowspan="3"  >动力性</td><td align="center" valign="middle" >最高车速/(km/h)</td><td align="center" valign="middle" >&gt;160</td></tr><tr><td align="center" valign="middle" >20 km/h最大爬坡度(%)</td><td align="center" valign="middle" >&gt;30</td></tr><tr><td align="center" valign="middle" >0~100 km/h加速时间/s</td><td align="center" valign="middle" >&lt;13</td></tr><tr><td align="center" valign="middle" >经济性</td><td align="center" valign="middle" >百公里综合油耗/L</td><td align="center" valign="middle" >&lt;4</td></tr></tbody></table></table-wrap><p>表1. 整车性能指标</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> Vehicle system parameter</title></caption><table><tbody><thead><tr><th align="center" valign="middle"  colspan="8"  >整车参数</th></tr></thead><tr><td align="center" valign="middle"  colspan="2"  >整车质量/kg</td><td align="center" valign="middle"  colspan="2"  >1386</td><td align="center" valign="middle"  colspan="2"  >迎风面积/m<sup>2</sup></td><td align="center" valign="middle"  colspan="2"  >1.746</td></tr><tr><td align="center" valign="middle"  colspan="2"  >车轮半径/m</td><td align="center" valign="middle"  colspan="2"  >0.287</td><td align="center" valign="middle"  colspan="2"  >滚阻系数</td><td align="center" valign="middle"  colspan="2"  >0.009</td></tr><tr><td align="center" valign="middle"  colspan="2"  >空阻系数</td><td align="center" valign="middle"  colspan="2"  >0.30</td><td align="center" valign="middle"  colspan="2"  >传动效率</td><td align="center" valign="middle"  colspan="2"  >0.85</td></tr><tr><td align="center" valign="middle"  colspan="2"  >主减速器1速比</td><td align="center" valign="middle"  colspan="2"  >1.06</td><td align="center" valign="middle"  colspan="2"  >主减速器2速比</td><td align="center" valign="middle"  colspan="2"  >3.48</td></tr><tr><td align="center" valign="middle"  rowspan="4"  >电机</td><td align="center" valign="middle"  colspan="2"  >峰值功率/kw</td><td align="center" valign="middle" >75</td><td align="center" valign="middle"  rowspan="4"  >发电机</td><td align="center" valign="middle"  colspan="2"  >额定功率/kw</td><td align="center" valign="middle" >15</td></tr><tr><td align="center" valign="middle"  colspan="2"  >额定转矩/(N∙m)</td><td align="center" valign="middle" >358</td><td align="center" valign="middle"  colspan="2"  >最大转矩/(N∙m)</td><td align="center" valign="middle" >55</td></tr><tr><td align="center" valign="middle"  colspan="2"  >基速/(r/min)</td><td align="center" valign="middle" >2000</td><td align="center" valign="middle"  colspan="2"  >最高转速/(r/min)</td><td align="center" valign="middle" >5500</td></tr><tr><td align="center" valign="middle"  colspan="2"  >最高转速/(r/min)</td><td align="center" valign="middle" >6000</td><td align="center" valign="middle"  colspan="2"  >额定转速/(r/min)</td><td align="center" valign="middle" >2500</td></tr><tr><td align="center" valign="middle"  rowspan="3"  >发动机</td><td align="center" valign="middle"  colspan="2"  >峰值功率/kw</td><td align="center" valign="middle" >43</td><td align="center" valign="middle"  rowspan="3"  >电池</td><td align="center" valign="middle"  colspan="2"  >单体额定电容/(A∙h)</td><td align="center" valign="middle" >18</td></tr><tr><td align="center" valign="middle"  colspan="2"  >峰值转矩/(N∙m)</td><td align="center" valign="middle" >102</td><td align="center" valign="middle"  colspan="2"  >单体额定电压/v</td><td align="center" valign="middle" >6.4</td></tr><tr><td align="center" valign="middle"  colspan="2"  >最高转速/(r/min)</td><td align="center" valign="middle" >4000</td><td align="center" valign="middle"  colspan="2"  >串联单体个数</td><td align="center" valign="middle" >50</td></tr><tr><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td></tr></tbody></table></table-wrap><p>表2. 整车系统参数</p></sec><sec id="s4_2"><title>2.2. 数学模型</title><p>在差速耦合式混合动力系统中，发动机、发电机和输出到电机的输出轴三部分由差速器相互耦合(转速耦合)，通过发电机的转速调节，满足整车车速要求。输出到电机的输出轴与驱动电机磁场耦合(转矩耦合)后输出到驱动轴，满足整车转矩要求。</p><p>差速耦合式混合动力系统的核心采用对称式锥齿轮行星机构，特征参数K = 1 (齿圈与太阳轮的齿数比)。根据行星齿轮结构特性，图1中各参数有如下动力学关系：</p><p>w 2 = w e i 1 , w 3 = w m (1)</p><p>T 2 = T e ⋅ i 1 , T 3 = T L − T m (2)</p><p>T L = T 3 + T m (3)</p><p>T g = T 3 (4)</p><disp-formula id="hanspub.29463-formula98"><label>(5)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/6-2740216x15_hanspub.png"  xlink:type="simple"/></disp-formula><p>T e ⋅ w e = T 2 ⋅ w 2 = ( T L − T m ) ⋅ w m + T g ⋅ w g (6)</p><p>2 ⋅ w 2 = w g + w 3 = w g + w m = 2 ⋅ w e i 1 (7)</p><p>T g = T 2 2 = T e ⋅ i 1 2 (8)</p><p>T m = T L − T 2 2 = T L − T e ⋅ i 1 2 (9)</p><p>式中，W<sub>e</sub>、T<sub>e</sub>分别为发动机的输出转速和转矩；主减速器1和主减速器2的传动比分别为i<sub>1</sub>和i<sub>2</sub>；W<sub>g</sub>、T<sub>g</sub>分别为发电机的输入转速和转矩；W<sub>3</sub>和T<sub>3</sub>分别为耦合器输出到输出轴的转速和转矩；W<sub>m</sub>和T<sub>m</sub>分别为电机输出到输出轴的转速和转矩；W<sub>2</sub>、T<sub>2</sub>分别为发动机输入到差速耦合器的转速和转矩；T<sub>L</sub>为输出轴输出总转矩。</p></sec><sec id="s4_3"><title>2.3. 驱动模式与能量路线</title><p>本文致力于研究驱动工况下差速耦合式混合动力系统的各项性能，限于本章篇幅，略写制动模式。本文采用5种驱动模式：纯电动、发动机单独驱动、行车发电、混合驱动和联合驱动。各模式下能量流动路线如表3所示。</p><table-wrap id="table3" ><label><xref ref-type="table" rid="table3">Table 3</xref></label><caption><title> Energy flow paths in various mode</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >模式</th><th align="center" valign="middle" >能量流动路线</th></tr></thead><tr><td align="center" valign="middle" >纯电动</td><td align="center" valign="middle" >动力电池–电机–输出轴</td></tr><tr><td align="center" valign="middle" >发动机单独驱动</td><td align="center" valign="middle" >发动机–差速耦合器–输出轴</td></tr><tr><td align="center" valign="middle" >行车发电</td><td align="center" valign="middle" >发动机–差速耦合器–输出轴；发动机–差速耦合器–发电机–动力电池</td></tr><tr><td align="center" valign="middle" >联合驱动</td><td align="center" valign="middle" >动力电池–电机–输出轴；发动机–差速耦合器–输出轴</td></tr><tr><td align="center" valign="middle" >混合驱动</td><td align="center" valign="middle" >动力电池–电机–输出轴；发动机–差速耦合器–输出轴；发动机–差速耦合器–发电机–动力电池</td></tr></tbody></table></table-wrap><p>表3. 各模式下能量流动路线</p><p>除纯电动模式外，其他模式下发动机都开启，并且差速耦合器根据需求转速和转矩、发动机的输出转速和转矩通过调节发电机来自行选择工作模式。发动机启停由发动机开关控制，电池电量小或需求转矩极大时，发动机开启；电量SOC高且需求转矩小时发动机关闭。</p></sec><sec id="s4_4"><title>2.4. 差速耦合器与发动机开关控制</title><p>在差速耦合式混合动力系统中，当需求转矩小且电量充足时，发动机不工作，驱动电机单独工作，提供转矩和转速，以提高经济性，降低排放；其他情况下，发动机工作，发动机经差速耦合器传递到输出轴的转矩与电机转矩共同作为输出总转矩，电机转速、输出转速与由发电机调节的差速耦合器输出转速三者相同，以到达按需求驱动车辆的目的。当以固定的数值表示转矩和SOC大小来控制发动机启停时，当需求扭矩和SOC值在此固定值周围变动时，会造成发动机的反复启动和关闭，损坏发动机。因此，本文利用模糊控制器来控制发动机的启闭以减少发动机的频繁启停。</p><p>发动机开关控制模块中用需求功率和转矩的正负判断发动机是否处于驱动状态。建立驱动模式下的发动机开关控制模块在ADVISOR中如图2所示。图2中，模糊控制器输出的开关量范围[0, 1]，而发动机的启停只能用1和0来表示，本文让大于0.5的输出取为1，表示发动机启动，小于0.5的取为0，表示发动机关闭。</p><p>图2. 发动机开关控制模块</p></sec></sec><sec id="s5"><title>3. 模糊控制器的设计</title><p>相较于逻辑门限控制来说，模糊控制能更合理控制发动机的启停，减少频繁启动，同时有效降低油耗与排放。本文设计了以电池电量SOC和需求转矩为输入、发动机的启停为输出的双输入单输出的模糊控制器。</p><p>1) 选择输入、输出变量</p><p>需求转矩和SOC对发动机的启停有极大的影响，在满足动力性且电量充足的情况下，应尽量减少发动机的开启时间。所以，在模糊控制器的设计中，以需求转矩和电池SOC值作为模糊控制器的两个输入，以是否开启发动机作为输出变量。</p><p>2) 输入量的模糊化</p><p>取电池电量SOC的模糊论域为[0, 1]，相应的模糊子集为{VL, L, M, H, VH}，分别对应过低、偏低、适中、偏高和过高。为防止电池过冲与过放，将过低和过高的取值范围加大，隶属度函数如图3所示；选取需求转矩Trq的模糊论域为[0, 250]，相应的模糊子集为{NB, NS, O, PS, PB}，分别对应过小、偏小、适中、偏大和过大，其隶属度函数如图4所示。</p><p>图3. SOC隶属度函数</p><p>图4. 需求转矩隶属度函数</p><p>3) 输出量的模糊化</p><p>输出量为发动机的开闭值k，取其模糊论域为[0, 1]，相应的模糊子集为{A, B, C, D, E, F}。本文让大于0.5的输出取为1，表示发动机启动，小于0.5的取为0，表示发动机关闭。输出量的隶属度函数如图5所示。</p><p>图5. 输出量的隶属度函数</p><p>4) 模糊规则</p><p>由上文驱动模式设计可知，当电池电量低或需求转矩大时发动机启动，电量SOC高且需求转矩小时发动机关闭。因此，初步制定模糊控制规则如表4所示。</p><table-wrap id="table4" ><label><xref ref-type="table" rid="table4">Table 4</xref></label><caption><title> Initial fuzzy control rule</title></caption><table><tbody><thead><tr><th align="center" valign="middle"  rowspan="2"  >Trq</th><th align="center" valign="middle"  colspan="5"  >SOC</th></tr></thead><tr><td align="center" valign="middle" >VL</td><td align="center" valign="middle" >L</td><td align="center" valign="middle" >M</td><td align="center" valign="middle" >H</td><td align="center" valign="middle" >VH</td></tr><tr><td align="center" valign="middle" >NB</td><td align="center" valign="middle" >E</td><td align="center" valign="middle" >D</td><td align="center" valign="middle" >C</td><td align="center" valign="middle" >B</td><td align="center" valign="middle" >A</td></tr><tr><td align="center" valign="middle" >NS</td><td align="center" valign="middle" >F</td><td align="center" valign="middle" >E</td><td align="center" valign="middle" >D</td><td align="center" valign="middle" >C</td><td align="center" valign="middle" >C</td></tr><tr><td align="center" valign="middle" >O</td><td align="center" valign="middle" >F</td><td align="center" valign="middle" >E</td><td align="center" valign="middle" >D</td><td align="center" valign="middle" >D</td><td align="center" valign="middle" >C</td></tr><tr><td align="center" valign="middle" >PS</td><td align="center" valign="middle" >F</td><td align="center" valign="middle" >F</td><td align="center" valign="middle" >E</td><td align="center" valign="middle" >D</td><td align="center" valign="middle" >D</td></tr><tr><td align="center" valign="middle" >PB</td><td align="center" valign="middle" >F</td><td align="center" valign="middle" >F</td><td align="center" valign="middle" >E</td><td align="center" valign="middle" >E</td><td align="center" valign="middle" >D</td></tr></tbody></table></table-wrap><p>表4. 初定模糊控制规则</p><p>图6为输入、输出三维曲线图。</p><p>图6. 初定输入、输出模糊三维曲线图</p></sec><sec id="s6"><title>4. 遗传算法优化模糊控制器</title><p>本文用遗传算法优化25个模糊规则来提高差速耦合式混合动力系统的经济性和排放性。因模糊控制器在发动机开关控制中，要优化它，就必须先运行ADVISOR得到仿真结果数据以计算目标函数，所以利用ADVISOR软件的非界面函数来获取结果数据参与计算，值得注意的是，非界面函数初始化会清空上次的仿真数据，合理的保存和导入数据是成功的关键(图7)。</p><sec id="s6_1"><title>4.1. 遗传算法优化模糊控制器过程</title><p>利用ADVISOR的非界面函数来实现遗传算法优化模糊控制器的计算。具体过程如下：</p><p>1) 工作空间初始化</p><p>2) 遗传算法的基本参数确定。取初始种群50个体数目，最大遗传代数50代，优化变量个数25个，每个变量的二进制位数为3位，代沟取0.9，交叉概率0.97，变异概率0.001。</p><p>3) 创建初始种群并译码。使用函数crtbp来初始种群，函数bs2rv将二进制转换为十进制。最后得到一个包含50个个体，每个个体包含25个变量的初始种群。</p><p>4) 目标函数与适应度函数的建立。由于最大爬坡度与经济性和排放性的指标相反，爬坡度越大越好，经济性和排放性越小越好。考虑经济性、排放性和动力性等目标，本文利用爬坡度上限60%与最大爬坡度差值作为一个目标值，采用加权系数法来将多目标转换为单目标函数。同时以经济性为主，排放性和动力性为辅，取等效汽油消耗率的加权系数为0.7，动力性的加权系数为0.1，排放性各取0.05，采用排序法来进行适应度的分配。</p><p>图7. 遗传算法优化模糊控制器的流场图</p><p>5) 遗传操作。使用select函数、recombin函数、mut函数和reins函数作为遗传操作函数，分别进行选择、交叉、变异和重插入。</p><p>6) 终止判断。当遗传代数超过50代时，遗传算法终止。</p></sec><sec id="s6_2"><title>4.2. 优化结果</title><p>遗传算法在50次迭代中种群目标函数均值变化和最优目标函数值的收敛过程如图8所示；经过50次迭代后目标函数值分布如图9所示。</p><p>最优目标值在第7次迭代后趋于最低值，经50次迭代后，由于遗传算法的局部搜索能力较差以及对初始种群的选择有一定的依赖性，导致第20个异常个体出现，除此之外，其余个体的目标值都相等为最小目标函数值。从数据中取出优化后的模糊规则，导入ADVISOR中开关控制的模糊控制器中，利用模糊工具箱中surface得出控制器的三维曲线图。</p><p>经遗传算法优化后的输入、输出模糊控制三维曲线如图10所示。</p></sec></sec><sec id="s7"><title>5. 仿真分析</title><p>基于ADVISOR软件，在UDDS工况下进行仿真，UDDS循环工况如图11所示。将优化模糊控制器后的性能与优化前及逻辑门限控制策略控制性能仿真结果进行对比。本文使用逻辑门限控制策略是指：采用逻辑门限值的方法来控制发动机的启停。具体实现如下：当前电池电量SOC大于0.35且需求转矩小于150 N∙m时发动机关闭，其他情况下发动机启动，其余参数与模糊控制策略下一致。</p><p>图8. 遗传收敛过程</p><p>图9. 第50次迭代后每个个体的目标值</p><p>图10. 优化后输入、输出模糊三维曲线</p><p>图11. 循环工况</p><sec id="s7_1"><title>5.1. 发动机启停仿真</title><p>分别在逻辑门限控制策略与优化模糊控制器前后的控制策略下进行性能仿真，利用仿真结果数据，得到各个策略下发动机开启时间在循环工况时间下的占比，如图12所示。由图12可以得到逻辑门限和优化模糊控制前后发动机开启时间占比分别为20.88%、19.61%和17.71%，优化后的模糊控制器相较于逻辑门限下发动机占比减少了15.18%。图13为在连续多个UDDS工况下发动机启停堆积面积图，可以看到在各个时间段上发动机的启停状况，优化模糊控制器后的启停频率明显减少。</p><p>图12. 发动机开启时间占比</p><p>图13. 发动机启停堆积面积图</p></sec><sec id="s7_2"><title>5.2. 动力性仿真</title><p>采用最高车速、20 km/h爬坡度和百公里加速时间作为差速耦合式混合汽车的动力性能指标。优化模糊控制器后的动力性能与优化前及逻辑门限控制策略控制动力性能仿真结果如图14所示。结合表1与图14可知：利用优化模糊器前后的控制策略与逻辑门限控制策略来控制发动机启停，都能满足动力性要求。最高车速几乎不变；优化模糊控制器前后，汽车20 km/h爬坡度和百公里加速时间几乎不变；模糊策略与逻辑门限策略相比，模糊策略下20 km/h爬坡度和百公里加速时间性能略微下降，但远满足设计要求。</p><p>图14. 动力性仿真结果</p></sec><sec id="s7_3"><title>5.3. 经济性仿真</title><p>采用混合动力汽车的综合油耗 [<xref ref-type="bibr" rid="hanspub.29463-ref10">10</xref>] 作为汽车的经济性能指标。优化模糊控制器后的经济性能与优化前及逻辑门限控制策略控制经济性能仿真结果如图15所示。由图15可以看出，在逻辑门限策略与优化模糊器前后控制策略下，汽车综合油耗分别为3.686 L/100km、32.293 L/100km与2.838 L/100km，经济性大幅上升。相较于逻辑门限策略，优化后的模糊策略百公里综合油耗下降了23%。主要原因是模糊策略减少了发动机的开启时刻，降低了油耗。</p><p>图15. 经济性仿真结果</p></sec><sec id="s7_4"><title>5.4. 排放性仿真</title><p>采用每公里HC、CO、NOx和微粒排放PM的排放量作为排放性能指标。优化模糊控制器后的排放性能与优化前及逻辑门限控制策略控制排放性能仿真结果如图16所示，微粒排放PM在各种策略下都为0，所以未在图中表示。由图16可知：优化模糊控制器后的排放相较于逻辑门限策略来说，HC排放下降了27.71%、CO排放下降了26.46%、NOx排放下降了33.1%。在优化模糊控制器后的控制策略下，排放性能大幅提高。</p><p>图16. 排放性仿真结果</p><p>综上所述，遗传算法优化模糊控制器后，动力性变化不大；但在经济性和排放方面有显著的提升，其中百公里综合油耗下降约百分之十四，排放性大幅提高。优化模糊控制器后的策略相比于逻辑门限策略来说，动力性适当降低，但也远满足要求；经济性大幅提高，其中百公里综合油耗下降了23%；排放极大降低。</p></sec></sec><sec id="s8"><title>6. 结束语</title><p>1) 基于对差速耦合式动力系统的结构和工作特征的研究，在ADVISOR仿真软件中对差速耦合式动力系统模型进行了再开发。首次提出了利用双输入单输出的模糊策略来控制差速耦合式混合动力系统的发动机启停，并利用遗传算法对模糊策略进行优化。</p><p>2) 将优化模糊控制策略前后的差速耦合式混合动力系统性能仿真结果对比，得到优化后的百公里综合油耗下降了13.8%，排放性中HC排放下降了35.14%、CO排放下降了34.15%、NOx排放下降了23.85%。动力性几乎没变。证明了遗传算法对于差速耦合混合动力系统的模糊控制优化的可行性。</p><p>3) 将遗传算法优化后的模糊控制策略的结果与逻辑门限策略控制发动机启停的性能仿真结果对比，得到优化模糊策略后的百公里综合油耗下降了23%，排放性中HC排放下降了27.71%、CO排放下降了26.46%、NOx排放下降了33.1%。动力性虽然轻微下降但仍远满足要求。</p><p>4) 基于遗传算法优化后的模糊控制策略能更合理地控制发动机的启停，极大地提高了汽车的经济性和排放性。</p></sec><sec id="s9"><title>文章引用</title><p>王 鑫,张 青,王 银,肖 凤,胡建军. 基于遗传算法的差速耦合式混合动力系统模糊控制策略优化Optimization of Fuzzy Control Strategy for Differential Coupling Hybrid Power System Based on Genetic Algorithm[J]. 动力系统与控制, 2019, 08(02): 81-93. https://doi.org/10.12677/DSC.2019.82010</p></sec><sec id="s10"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.29463-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">苏天晨. 差速耦合式混合动力汽车模式切换的协调控制[M]. 吉林: 吉林大学, 2011.</mixed-citation></ref><ref id="hanspub.29463-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">于永涛, 王庆年, 曾小华, 等. 传统差速器应用于HEV动力耦合的可行性[J]. 吉林大学学报, 2010, 40(2): 305-310.</mixed-citation></ref><ref id="hanspub.29463-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">杨章林. 差速器式HEV动力耦合装置设计分析[J]. 黑龙江工业学院学报, 2017, 17(9): 50-53.</mixed-citation></ref><ref id="hanspub.29463-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">曾小华, 于永涛, 宋大凤, 等. 基于差速耦合的混合动力汽车传递特性分析与控制[J]. 吉林大学学报, 2010, 40(1): 1-5.</mixed-citation></ref><ref id="hanspub.29463-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Zeng, X., Nie, L. and Wang, Q. (2011) Experimental Study on the Differential Hybrid System Hybrid Electric Vehicle. Procedia Engineering, 16, 708-715.</mixed-citation></ref><ref id="hanspub.29463-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">邹彦艳, 吴宇轩, 宋振宇, 等. 基于改进遗传算法的模糊控制器设计[J]. 自动化技术与应用, 2013, 32(11): 6-10.</mixed-citation></ref><ref id="hanspub.29463-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">Hwang, H.S., Joo, Y.H., Kim, H.K., et al. (2014) Identification of Fuzzy Control Rules Utilizing Genetic Algorithms and Its Application to Mobile Robots. Algorithms and Architectures for Real-Time Control, 249-254.</mixed-citation></ref><ref id="hanspub.29463-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">葛安东. 基于遗传算法和模糊控制的某型纯电动汽车整车控制器的研究[D]: [硕士学位论文]. 合肥: 合肥工业大学, 2015.</mixed-citation></ref><ref id="hanspub.29463-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">中国国家标准化管理委员会. GB/T 19753-2013轻型混合动力电动汽车能力消耗量试验方法[S]. 北京: 中国标准出版社, 2013: 4-5.</mixed-citation></ref><ref id="hanspub.29463-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">吕力, 葛鹏, 柳邵辉. 中美插电式混合动力汽车能耗评价方法[J]. 汽车工程师, 2016(10): 55-58.</mixed-citation></ref></ref-list></back></article>