<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">CSA</journal-id><journal-title-group><journal-title>Computer Science and Application</journal-title></journal-title-group><issn pub-type="epub">2161-8801</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/CSA.2020.1011213</article-id><article-id pub-id-type="publisher-id">CSA-38765</article-id><article-categories><subj-group subj-group-type="heading"><subject>CSA20201100000_66364633.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject></subj-group></article-categories><title-group><article-title>
 
 
  采用Zigbee设计的太阳能甘蔗自动灌溉系统
  Solar Energy Sugarcane Automatic Irrigation System Designed by ZigBee
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>杜</surname><given-names>晓凯</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>薛</surname><given-names>智</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>何</surname><given-names>正开</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>谢</surname><given-names>永盛</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff3"><addr-line>中北大学，山西 太原</addr-line></aff><aff id="aff2"><addr-line>广西科技师范学院，广西 来宾</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>09</day><month>11</month><year>2020</year></pub-date><volume>10</volume><issue>11</issue><fpage>2017</fpage><lpage>2023</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   甘蔗在不同的生育期所需的土壤水分含量不同，为使甘蔗农田的湿度保持在甘蔗所需标准范围内。采用Zigbee传感网络和太阳能供电设计物联网甘蔗自动灌溉系统，系统由Zigbee传感网络、太阳能供电、蓄水灌溉、云服务器等部分构成。在该系统中，通过对分布在不同位置传感器终端节点信息的汇总及处理，再通过GPRS模块上传至云服务器，最终用户通过手机端APP查询甘蔗农田的各种状况并反馈所需操作。系统采用太阳能供电功能，不仅解决了野外长期无人监控的网络节点无人供电的问题，而且还具有供电持久、环保节能等优点，具有良好的应用推广前景。 In order to keep the humidity of sugarcane field within the standard range of sugarcane, the soil moisture content required by sugarcane in different growth stages is different. The system is composed of ZigBee sensor network, solar power supply, water storage irrigation, cloud server and other parts. In this system, through the summary and processing of sensor terminal node information distributed in different locations, and then uploaded to the cloud server through WiFi module, the end user can query various conditions of sugarcane farmland through mobile app and feed back the required operation. The system adopts solar power supply function. It not only solves the problem of unmanned power supply for long-term unmanned monitoring network nodes in the field, but also has the advantages of long-term power supply, environmental protection and energy-saving, and has a good application prospect. 
  
 
</p></abstract><kwd-group><kwd>物联网，太阳能，Zigbee无线传感网络，节水灌溉, Internet of Things</kwd><kwd> Solar Energy</kwd><kwd> ZigBee Wireless Sensor Network</kwd><kwd> Water Saving Irrigation</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>摘要</title><p>甘蔗在不同的生育期所需的土壤水分含量不同，为使甘蔗农田的湿度保持在甘蔗所需标准范围内。采用Zigbee传感网络和太阳能供电设计物联网甘蔗自动灌溉系统，系统由Zigbee传感网络、太阳能供电、蓄水灌溉、云服务器等部分构成。在该系统中，通过对分布在不同位置传感器终端节点信息的汇总及处理，再通过GPRS模块上传至云服务器，最终用户通过手机端APP查询甘蔗农田的各种状况并反馈所需操作。系统采用太阳能供电功能，不仅解决了野外长期无人监控的网络节点无人供电的问题，而且还具有供电持久、环保节能等优点，具有良好的应用推广前景。</p></sec><sec id="s2"><title>关键词</title><p>物联网，太阳能，Zigbee无线传感网络，节水灌溉</p></sec><sec id="s3"><title>Solar Energy Sugarcane Automatic Irrigation System Designed by ZigBee<sup> </sup></title><p>Xiaokai Du<sup>1</sup>, Zhi Xue<sup>2</sup>, Zhengkai He<sup>1*</sup>, Yongsheng Xie<sup>1*</sup></p><p><sup>1</sup>School of Mathematical and Computer Sciences, Guangxi Science &amp; Technology Normal University, Laibin Guangxi</p><p><sup>2</sup>North University of China, Taiyuan Shanxi</p><p><img src="//html.hanspub.org/file/11-1541897x5_hanspub.png" /></p><p>Received: Nov. 3<sup>r</sup><sup>d</sup>, 2020; accepted: Nov. 18<sup>th</sup>, 2020; published: Nov. 25<sup>th</sup>, 2020</p><p><img src="//html.hanspub.org/file/11-1541897x6_hanspub.png" /></p></sec><sec id="s4"><title>ABSTRACT</title><p>In order to keep the humidity of sugarcane field within the standard range of sugarcane, the soil moisture content required by sugarcane in different growth stages is different. The system is composed of ZigBee sensor network, solar power supply, water storage irrigation, cloud server and other parts. In this system, through the summary and processing of sensor terminal node information distributed in different locations, and then uploaded to the cloud server through WiFi module, the end user can query various conditions of sugarcane farmland through mobile app and feed back the required operation. The system adopts solar power supply function. It not only solves the problem of unmanned power supply for long-term unmanned monitoring network nodes in the field, but also has the advantages of long-term power supply, environmental protection and energy-saving, and has a good application prospect.</p><p>Keywords:Internet of Things, Solar Energy, ZigBee Wireless Sensor Network, Water Saving Irrigation</p><disp-formula id="hanspub.38765-formula4"><graphic xlink:href="//html.hanspub.org/file/11-1541897x7_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2020 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/11-1541897x8_hanspub.png" /> <img src="//html.hanspub.org/file/11-1541897x9_hanspub.png" /></p></sec><sec id="s5"><title>1. 引言</title><p>食用糖的生产在中国经济发展中占有重要地位。而蔗糖在食用糖的总产量中又有着举足轻重的地位 [<xref ref-type="bibr" rid="hanspub.38765-ref1">1</xref>] [<xref ref-type="bibr" rid="hanspub.38765-ref2">2</xref>]，占食用糖总产量的90%以上。甘蔗又是蔗糖生产的根基。土壤的含水率是影响甘蔗生长的基本指标，直接影响着甘蔗成熟期的含糖量 [<xref ref-type="bibr" rid="hanspub.38765-ref3">3</xref>]。在甘蔗生长的不同时期，甘蔗的需水量呈现一定规律。土壤含水率过高，会影响含糖量，损害产业经济效益。土壤含水率过低，甘蔗叶片会受到侵害、出现局部萎蔫等状况。因此在甘蔗的种植过程中，适当控水、适时灌溉显得尤为重要。</p><p>目前，对于智能灌溉系统，国内已有相关设计，但并没有被广泛推广。究其原因，是因为现有的灌溉系统只是单一的形成局域网闭环、并受其所用MCU的限制不能对大量数据进行处理。并且存在电能短缺、维护不便的缺点。根据以上情况，本文设计一种基于CC2538芯片的Zigbee网络的灌溉系统 [<xref ref-type="bibr" rid="hanspub.38765-ref4">4</xref>]。通过Zigbee传感网络对甘蔗种植地每个方位的土壤含水量进行采集和汇总。并通过太阳能电池板对单个节点的锂电池供电。同时，Zigbee网络中的协调器模块，通过GPRS连接云服务器，在云端对数据进行处理。用户使用手机APP实时观察甘蔗生长情况，并实现人性化设计，通过移动端对接收到的信息进行反馈。</p></sec><sec id="s6"><title>2. 总体系统架构思路</title><p>系统总体模块结构如图1所示。主要包括，Zigbee模块、传感器模块、供电模块、显示模块、GPRS模块等。</p><p>系统首先通过遍布在种植地各个方位的终端节点采集土壤湿度信息，再经由路由器节点传递信息，最终汇总信息到协调器节点 [<xref ref-type="bibr" rid="hanspub.38765-ref5">5</xref>]。协调器节点通过运行相关软件程序判断湿度值是否满足当前植物生长阶段的需水量。以决定是否开启电磁阀进行适度灌溉。同时经由GPRS模块，传送数据至阿里云服务器。利用云服务器对数据进行统计分析，并推送给移动端来达到方便用户实时查看农田数据，并通过手机端遥控来管理甘蔗农田的目的。</p><p>图1. 系统模块结构图</p></sec><sec id="s7"><title>3. 系统各硬件组成部分</title><sec id="s7_1"><title>3.1. Zigbee节点主控制器模块选择</title><p>MCU是节点设计的核心，常见的有：TI公司的MSP430、Motorola公司的HCS08等。本文选取CC2538作为主控芯片。该芯片以ARM Cortex M3为内核，并集成了工作为频率2.4 GHz的RF收发器。在满足本次野外高性能Zigbee需求的同时，具有低功耗、安全可靠的优点。同时协调器模块作为传感网络的中心，应用在大面积种植园以及传感器网络中庞大数据转发量时，使用CC2538这样的32位MCU也能轻松处理 [<xref ref-type="bibr" rid="hanspub.38765-ref6">6</xref>]。</p><p>除此之外，协调器作为传感器网络的核心。通过运行相应软件程序来实现。除了具有收集数据的功能。还会结合当前甘蔗所在生长周期，所需最佳湿度值等进行判断。得出建议指令。并将相应指令送入OLED显示。</p></sec><sec id="s7_2"><title>3.2. 节点供电模块</title><p>该模块主要由太阳能电池板、可充锂电池、DC-DC转换电路和放电保护电路组成。如图2所示为节点太阳能供电系统。下面对其关键部分进行论述。</p><p>该系统中，放电保护电路对锂电池充电进行保护，防止由于太阳能电池板电压不稳而造成的锂电池寿命大幅度减少。同时由于Zigbee节点的所需电压为3.3 V，而锂电池的输出电压高于3.3 V。所以增加合适的DC-DC变换电路。使得各个节点正常工作。在充电管理部分，预计采用CS0301芯片。该芯片采用PWM脉宽方式充电，内置高精度采样电路，与本供电模块的其余电路配合，可将收集到的能量有效存储在锂电池中。而放电保护电路，会在电池电压开始降低时，切断电池与负载的回路，保护电池。</p><p>图2. 节点太阳能供电系统</p></sec><sec id="s7_3"><title>3.3. 传感器模块</title><p>本系统采用温湿度传感器DS18B20和土壤湿度传感器YL-69 [<xref ref-type="bibr" rid="hanspub.38765-ref7">7</xref>]。空气中的湿度和土壤的水分含量都对甘蔗的生长有着较大的影响 [<xref ref-type="bibr" rid="hanspub.38765-ref8">8</xref>]。甘蔗所在环境数值合适，会加强光合作用，加速甘蔗生长发育，提高产糖量。</p><p>DS18B20是常用的数字温度传感器，体积小、功耗低 [<xref ref-type="bibr" rid="hanspub.38765-ref9">9</xref>]。传感器通过DQ引脚与CC2538的P0_4口相连。一般5 h运行1次，降低功耗。电路图如图3所示。</p><p>YL-69的D0和A0两个输出口分别为数字信号输出、模拟信号输出。而本项目需实时显示土壤湿度。所以接通A0口。CC2538端口0引脚可以配置为ADC输入端，依次为AIN0~IAN7；并把结果通过DMA传送到存储器，而不需要CPU任何参与。电路图如图4所示。</p><p>图3. DS18B20电路连接图</p><p>图4. YL-69电路连接图</p></sec><sec id="s7_4"><title>3.4. GPRS模块</title><p>设置GPRS模块的工作模式为透传模式。连接在传感网络的协调器端。当传感网络将数据收集到边缘节点协调器端时，协调器通过标准的RS232串口将数据发送给GPRS模块，再由GPRS模块打包所有从串口收到的数据发送至云服务器 [<xref ref-type="bibr" rid="hanspub.38765-ref10">10</xref>]。</p><p>下面对通信部分关键做重点说明：</p><p>下位机：由协调器端和GPRS模块(SIM800C)节点构成网关节点。通过串口发送AT指令对GPRS模块进行网络配置，通过串口发送数据与云服务器保持连接，以实现双方数据交互。</p><p>云服务器：现有的云服务器平台愈发趋向成熟。大多都提供完善的连接服务以及数据处理服务。用户只需根据自我需求，搭建服务器环境，故在此不做赘述。</p><p>上位机：选用开发简单、成本低的微信小程序作为上位机，通过搭建HTTPS环境、Nginx反代理端口，即可与服务器进行双向通信。</p><p>图5为网络部分整体结构图。而对于用户端，云服务器则作为连接手机、PC和Zigbee传感网络的桥梁，在用户查看到。</p><p>图5. 网络部分流程图</p></sec></sec><sec id="s8"><title>4. 系统软件设计</title><p>系统软件主要由下位机收集模块和上位机实时观测模块构成。下位机收集模块主要以CC2538作为微控制器收集传感网络的数据。并将实时数据与这一时期甘蔗所需水分标准对比，得出灌溉意见，显示在OLED屏幕上，发送至云服务器，以此来达到精确、实时、高效的甘蔗灌溉模式。</p><p>无线传感网的下位机控制模块主要由两部分构成。终端节点部分(如图6所示)，负责甘蔗田地每个方位湿度信息的采集。协调器部分(如图7所示)，负责对整个网络信息的收集以及与云服务器通信。用户在移动客户端实现对甘蔗环境信息的观察以及对农地灌溉的日常操作 [<xref ref-type="bibr" rid="hanspub.38765-ref10">10</xref>]。在云服务器能够对所收集到的水分进行数据处理，绘制出实时变化农田湿度变化曲线，并将结果推送给客户端用户。同时还具备接受客户端用户反馈，形成一种物联网的闭环。图8为上位机软件部分结构框图。</p><p>图6. 终端节点部分</p><p>图7. 协调器节点部分</p><p>图8. 上位机软件部分结构框图</p></sec><sec id="s9"><title>5. 结束语</title><p>本文通过Zigbee网络实现对甘蔗种植灌溉技术的改进。实时收集种植园环境湿度信息，并对信息做出判断及响应。使得甘蔗生产更加机械化、科学化。尤其是节点太阳能供电系统、云服务器、Zigbee等物联网技术的引入，对于加强甘蔗种植质量、提高蔗糖产量、推动食用糖产业发展有着现实意义，具有一定的推广前景和参考价值。</p></sec><sec id="s10"><title>基金项目</title><p>大学生创新创业训练计划项目(No. 202011546001)、广西科技师范学院青年科研创新团队(No. GXKS 2020QNTD02)、广西来宾市科学研究与技术开发项目广西来宾市智慧农业云平台研究与建设(来科能193305)、广西高校中青年教师基础能力提升项目(No. 2018KY0701, No. 2018KY0703, No. 2019KY0863, No. 2020KY23024)、广西教育厅教改项目(No. GXGZJG2018B123, No. 2020JGB405, No. 2020JGB407, No. 2020JGB347)。</p></sec><sec id="s11"><title>文章引用</title><p>杜晓凯,薛 智,何正开,谢永盛. 采用Zigbee设计的太阳能甘蔗自动灌溉系统Solar Energy Sugarcane Automatic Irrigation System Designed by ZigBee[J]. 计算机科学与应用, 2020, 10(11): 2017-2023. https://doi.org/10.12677/CSA.2020.1011213</p></sec><sec id="s12"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.38765-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">黄港华, 杜江, 杨焘等. 基于Zigbee的太阳能雨水灌溉花卉系统的设计[J]. 机电工程技术, 2019, 48(11): 13-15.</mixed-citation></ref><ref id="hanspub.38765-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">李海生, 郑鑫, 杨秀增. 基于Zigbee技术的甘蔗墒情远程监测及灌溉自动控制系统设计[J]. 软件导刊, 2015(9): 123-126.</mixed-citation></ref><ref id="hanspub.38765-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">贺贵柏. 关于加快推动广西甘蔗产业绿色发展路径选择的研究[J]. 甘蔗糖业, 2020(2): 77-81.</mixed-citation></ref><ref id="hanspub.38765-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">景强. 基于CC2538无线传感器网络节点设计研究[D]: [硕士学位论文]. 太原: 中北大学, 2018.</mixed-citation></ref><ref id="hanspub.38765-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">李婉. 大田物联网结合气象数据预测甘蔗产量[D]: [硕士学位论文]. 南宁: 广西大学, 2019.</mixed-citation></ref><ref id="hanspub.38765-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">彭元堃, 杨艳, 杨玮, 陈士燃. 基于物联网技术的智能农业管理系统设计[J]. 现代农业技术, 2020(19): 257-259+265.</mixed-citation></ref><ref id="hanspub.38765-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">吴炫柯 韦剑锋 刘永裕. 甘蔗茎伸长量与土壤水分含量的相关性[J]. 中国糖料, 2013(4): 60-61.</mixed-citation></ref><ref id="hanspub.38765-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">甘磊, 李健, 李帅, 韦灵. 广西甘蔗地不同耕作方式下土壤孔隙特征[J]. 水土保持研究, 2020, 27(6): 122-130.</mixed-citation></ref><ref id="hanspub.38765-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">杨宸, 彭洋, 刘延军. 基于ZigBee和树莓派的个人气象系统设计与实现[J]. 软件, 2020, 41(7): 42-44+102.</mixed-citation></ref><ref id="hanspub.38765-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">王浩. 基于Zigbee技术和ESP8266WIFI平台的移动端光照度采集控制程序设计[J]. 软件工程, 2019, 22(9): 28-30+56.</mixed-citation></ref></ref-list></back></article>