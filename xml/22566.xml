<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">MOS</journal-id><journal-title-group><journal-title>Modeling and Simulation</journal-title></journal-title-group><issn pub-type="epub">2324-8696</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/MOS.2017.64023</article-id><article-id pub-id-type="publisher-id">MOS-22566</article-id><article-categories><subj-group subj-group-type="heading"><subject>MOS20170400000_48763870.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject><subject> 工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  冲压成形虚拟仿真实验系统构建与关键技术研究
  Construction of Virtual Simulation Experimental System for Punching Forming and Research on Key Technologies
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>李</surname><given-names>秀</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>吴</surname><given-names>和保</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>范</surname><given-names>淑媛</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>廖</surname><given-names>敦明</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>孙</surname><given-names>飞</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff3"><addr-line>华中科技大学材料成形与模具技术国家重点实验室，湖北 武汉</addr-line></aff><aff id="aff2"><addr-line>武汉工程大学机电工程学院，湖北 武汉</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><author-notes><corresp id="cor1">* E-mail:<email>wu_hust@163.com(吴和)</email>;</corresp></author-notes><pub-date pub-type="epub"><day>02</day><month>11</month><year>2017</year></pub-date><volume>06</volume><issue>04</issue><fpage>195</fpage><lpage>201</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   为了解决目前高校机械专业实验设备价格昂贵、数量少、安全性差等问题，本文构建了一套基于Unity3D技术，具有高仿真性、强交互性的冲压成形虚拟仿真实验系统。通过对模型的建立与优化、系统漫游、碰撞检测等关键技术的研究，设计了具有演示模式、操作模式、认知模式的虚拟冲压实验系统。该系统依据板料冲裁间隙实验的实验原理，详细地模拟了金属板料冲裁实验的全过程，实现了冲压实验过程演示、模具拆装展示、设备认知和实验操作，获得了较好的实验教学效果。 In order to solve the problems of high cost, low quantity, poor experimental safety of mechanical equipment in current college, a virtual punching experimental system, based on Unity3D technology, which has high-fidelity simulation and strong interaction is constructed. Virtual punching experimental system which has demonstration mode, operation mode and cognitive mode, is designed through the research on model establishment, optimization technology, system roaming and collision detection technology. According to the experimental principle of sheet punching clearance experiment, the system simulates the whole process of sheet metal punching experiment in detail, implements the punching process demonstration, mold assembly and disassembly display, equipment cognition and experimental operation, and obtains good experimental teaching results.
    
  
 
</p></abstract><kwd-group><kwd>Unity3D，三维交互，虚拟仿真，碰撞检测，实验教学, Unity3D</kwd><kwd> Three-Dimensional Interactive</kwd><kwd> Virtual Simulation</kwd><kwd> Collision Detection</kwd><kwd> Experimental Teaching</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>冲压成形虚拟仿真实验系统构建与 关键技术研究<sup> </sup></title><p>李秀<sup>1</sup>，吴和保<sup>1</sup>，范淑媛<sup>2</sup>，廖敦明<sup>2</sup>，孙飞<sup>2</sup></p><p><sup>1</sup>武汉工程大学机电工程学院，湖北 武汉</p><p><sup>2</sup>华中科技大学材料成形与模具技术国家重点实验室，湖北 武汉</p><p>收稿日期：2017年10月13日；录用日期：2017年10月28日；发布日期：2017年11月2日</p><disp-formula id="hanspub.22566-formula7"><graphic xlink:href="//html.hanspub.org/file/1-2570151x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>为了解决目前高校机械专业实验设备价格昂贵、数量少、安全性差等问题，本文构建了一套基于Unity3D技术，具有高仿真性、强交互性的冲压成形虚拟仿真实验系统。通过对模型的建立与优化、系统漫游、碰撞检测等关键技术的研究，设计了具有演示模式、操作模式、认知模式的虚拟冲压实验系统。该系统依据板料冲裁间隙实验的实验原理，详细地模拟了金属板料冲裁实验的全过程，实现了冲压实验过程演示、模具拆装展示、设备认知和实验操作，获得了较好的实验教学效果。</p><p>关键词 :Unity3D，三维交互，虚拟仿真，碰撞检测，实验教学</p><disp-formula id="hanspub.22566-formula8"><graphic xlink:href="//html.hanspub.org/file/1-2570151x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2017 by authors and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/1-2570151x7_hanspub.png" /> <img src="//html.hanspub.org/file/1-2570151x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>虚拟仿真实验的概念于1989年由美国弗吉尼亚大学的威廉&#183;沃尔夫(William Wulf)教授最先提出 [<xref ref-type="bibr" rid="hanspub.22566-ref1">1</xref>] 。虚拟仿真实验通过人与周围实验环境进行交互，是对真实实验进行模拟或再现的一种实验模式。国外影响力较大的虚拟实验系统有Learn Anytime Anywhere Physics物理实验室 [<xref ref-type="bibr" rid="hanspub.22566-ref2">2</xref>] 、Newton虚拟教学软件 [<xref ref-type="bibr" rid="hanspub.22566-ref3">3</xref>] 、牛津大学的虚拟化学实验室 [<xref ref-type="bibr" rid="hanspub.22566-ref4">4</xref>] 、加拿大西北大学的虚拟物理实验室 [<xref ref-type="bibr" rid="hanspub.22566-ref5">5</xref>] 。我国虚拟实验的研究较晚，主要有中国科技大学的几何光学实验设计平台 [<xref ref-type="bibr" rid="hanspub.22566-ref6">6</xref>] 、四川师范大学的虚拟仿真化学实验室 [<xref ref-type="bibr" rid="hanspub.22566-ref7">7</xref>] 、清华大学的“电力系统及大型发电设备安全控制和仿真”国家重点实验室 [<xref ref-type="bibr" rid="hanspub.22566-ref8">8</xref>] 等。</p><p>冲压成形实验教学存在实验设备数量少、仪器设备相对落后、实验资源不能突破时空限制、人均实验资源占有率低、实验教学模式单一、实验危险性较高等缺陷，难以达到较好的教学效果。虚拟仿真实验系统具有节省资金、突破传统实验在硬件设备上的限制和时空的局限等优势，具有开放性和共享性，优化教育资源，拓展实验教学模式。学习者可通过交互设备与系统中的虚拟设备进行交互，完成与真实实验一样的操作。本文将虚拟仿真技术应用在冲压成形实验教学中，构建具有强烈的沉浸感、实时性、交互性的冲压成形虚拟仿真实验系统。</p></sec><sec id="s4"><title>2. 冲压成形虚拟实验系统的构建</title><sec id="s4_1"><title>2.1. 虚拟实验系统设计流程的构建</title><p>冲压成形教学实验包括压力机和模具结构认知、板料冲裁操作、冲裁件尺寸测量和数据整理等内容，为了构建一套具有现实意义的冲压成形虚拟仿真系统，根据冲压实验的目的和要求，系统主要由演示模式、操作模式、认知模式三个场景模式所组成，其总体结构及设计流程如图1所示。</p><p>图1. 冲压成形虚拟实验室的总体结构</p></sec><sec id="s4_2"><title>2.2. 虚拟实验系统的功能模式分析</title><p>为了便于实验操作，系统主界面上设计了四个按钮，以实现系统功能模块的切换或退出，各功能模块又能准确、生动地展示系统典型特征：</p><p>1) 演示模式是实验操作过程的全流程播放，各组成部分真实感强，结构表征清晰，相互关联运动准确无误，直观而又生动地展示了整个实验操作过程，便于学生快速领会冲压实验的主要内容和金属板材塑性成形原理。</p><p>2) 操作模式使用户不仅可以漫游浏览整个冲压实验室，还可以在逼真的虚拟实验场景中进行实验操作，实现了操作面板的手动控制、冲头的更换、冲裁过程模拟、冲裁件尺寸检测、数据生成和记录等操作和功能交互，避免了操作错误可能造成的伤害或设备损坏，并根据需要变换实验参数，完成相应的实验操作，增进了学生对冲压成形工艺的认识，为分析冲压工艺参数对冲压质量影响奠定了良好基础。</p><p>3) 认知模式采用鼠标移动实现了设备结构高亮显示和性能说明，使学生对设备和模具结构有一个更加清晰的认知。同时，通过认知模式中的实验课件，有利于学生更清楚地了解实验原理及实验目的。</p></sec></sec><sec id="s5"><title>3. 虚拟仿真系统设计关键技术</title><sec id="s5_1"><title>3.1. 模型的结构优化与渲染</title><p>冲压成形设备结构复杂、零部件众多、标准各异，而虚拟实验系统不仅要求形状逼真，尺寸精确，运行轻便。单一的建模设计软件难以满足系统设计的要求，必须采用新的设计方法加以处理，方可构建一个逼真而又运行快速的虚拟仿真系统 [<xref ref-type="bibr" rid="hanspub.22566-ref9">9</xref>] [<xref ref-type="bibr" rid="hanspub.22566-ref10">10</xref>] [<xref ref-type="bibr" rid="hanspub.22566-ref11">11</xref>] [<xref ref-type="bibr" rid="hanspub.22566-ref12">12</xref>] 。</p><p>为了兼顾三维模型的准确和系统运行的便捷，采用图形设计和图片处理的混合建模方法，是决定系统功能实现的关键。系统采用三维软件UG构建压力机主要零部件和冲裁模具的几何造型，利用3ds Max建立具有运动变形功能的弹簧和弹顶橡胶。在不影响模型外观的视觉效果下，尽可能地简化模型，将不运动的零部件固化为一个零件建模，减少零部件的数量，少使用圆角命令，以减少模型的面数，用纹理映射表现模型一些外部细节特征等。</p><p>运用LOD技术简化景物的表面细节，减少场景的几何复杂性，提高绘制算法的效率。采用顶点删除、边折叠算法进行场景分块生成，再加以分层调用，简化场景，降低其复杂程度，加快了场景实时显示速度，有效的构建了冲压成形虚拟实验室，如图2所示。</p></sec><sec id="s5_2"><title>3.2. 系统的三维交互处理</title><sec id="s5_2_1"><title>3.2.1. 虚拟实验漫游系统</title><p>为了逼真地模拟真实实验人们对冲压成形实验室的参观，采用Unity3D实现“上、下、左、右、跳”等逻辑操作，并封装成角色控制器组件，模拟第一人称或第三人称视角 [<xref ref-type="bibr" rid="hanspub.22566-ref13">13</xref>] [<xref ref-type="bibr" rid="hanspub.22566-ref14">14</xref>] 。</p><p>三维场景模型导入到Unity3D后，将角色控制器导入到当前工程，在Project视图将“Rigidbody FPS Controller”拖动至Hierarchy视图中，在Scene视图中以一个胶囊体对象的形式出现，如图3所示。“Rigidbody FPS Controller”对象共绑定了由官方提供的三条脚本：MouseLook脚本控制如何通过鼠标来移动视图；CharacterMotor脚本监听键盘事件，控制“前后左右”移动；FPSInputController脚本监听空格键，控制跳跃功能。通过鼠标或键盘控制来感受在虚拟空间中的运动。一般设定W、S、A、D键对应前、后、左、右移动，空格键对应视角的跳跃动作。</p></sec><sec id="s5_2_2"><title>3.2.2. 虚拟场景中的碰撞检测</title><p>在冲压成形虚拟实验系统中，由于虚拟角色的漫游和压力机的机械加工运动，物体之间经常发生碰撞、接触和其他形式的运动，为使这些运动符合自然规律、避免物体间的相互穿透，需要给相应的物体添加碰撞器 [<xref ref-type="bibr" rid="hanspub.22566-ref15">15</xref>] [<xref ref-type="bibr" rid="hanspub.22566-ref16">16</xref>] 。</p><p>图2. 冲压成形虚拟实验室</p><p>图3. 第一人称组件</p><p>碰撞检测是实现系统交互的关键，运用Unity3D中的碰撞检测技术，为压力机添加的Box Collider碰撞器组件，为防止虚拟角色穿透设备及墙体，给所有障碍物添加静态碰撞器组件，对需要发生人机交互的物体添加刚体碰撞器组件，通过脚本控制对象发生碰撞检测和交互功能。</p><p>为实现冲头的正确装配和返回桌面，在机床模具部分添加一个与模具大小相符的Box Collider碰撞器组件并勾选is Trigger使之成为触发器，如图4所示，为所有冲头添加Box Collider碰撞器组件和Rigidbody组件。当上下模打开，通过鼠标拖拽冲头到机床模具附近，一旦接触模具上添加的Box Collider碰撞器组件就会调用OnTriggerEnter函数发生触发检测，此时脚本控制冲头迅速装配到模具正确位置。当冲裁结束后，通过脚本控制，冲头在离开模具上添加的Box Collider碰撞器时不发生触发检测，冲头回到桌面。</p></sec></sec></sec><sec id="s6"><title>4. 结束语</title><p>本文以虚拟现实引擎Unity3D为开发平台，构建了具有逼真性、实时性、强交互性的冲压成形虚拟实验系统，模拟了冲压机床的操作过程和虚拟角色的场景漫游过程：</p><p>1) 采用UG对冲压机床及辅助设备进行三维建模，采用贴图材质表现细节，LOD技术(顶点删除技术、边折叠算法)优化模型，相比于传统几何建模，提高了计算机的实时渲染速度。</p><p>2) 利用Unity3D内置的强大物理引擎，导入角色控制器实现了角色漫游、添加碰撞器组件实现碰撞检测，使得系统具有符合自然规律的强交互功能。</p><p>3) 根据机械专业实验教学的需求，本系统设计了演示模式、操作模式、认知模式三种功能模式，各种模式侧重点不同，内容丰富，为实验教学提供了一种新手段。</p><p>图4. 为冲床添加的Box Collider碰撞器组件</p></sec><sec id="s7"><title>基金项目</title><p>湖北省教学研究项目(编号：2015059，材料热加工成形虚拟实验体系架构设计及实践)；教育部新世纪优秀人才支持计划(NCET-13-0229)。</p></sec><sec id="s8"><title>文章引用</title><p>李 秀,吴和保,范淑媛,廖敦明,孙 飞. 冲压成形虚拟仿真实验系统构建与关键技术研究Construction of Virtual Simulation Experimental System for Punching Forming and Research on Key Technologies[J]. 建模与仿真, 2017, 06(04): 195-201. http://dx.doi.org/10.12677/MOS.2017.64023</p></sec><sec id="s9"><title>参考文献 (References)</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.22566-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">曾令菊. 基于Virtools的三维虚拟实验的研究与实现[D]: [硕士学位论文]. 武汉: 华中师范大学, 2011: 12-13.</mixed-citation></ref><ref id="hanspub.22566-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">Dumitrescu, C., Olteanu, R.L., Gorghiu, L.M., et al. (2009) Using Virtual Experiments in the Teaching Process. Procedia-Social and Behavioral Sciences, 1, 776-779. &lt;br&gt;https://doi.org/10.1016/j.sbspro.2009.01.138</mixed-citation></ref><ref id="hanspub.22566-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">朱柱. 基于Unity3D的虚拟实验系统设计与应用研究[D]: [硕士学位论文]. 武汉: 华中师范大学, 2012: 12-13.</mixed-citation></ref><ref id="hanspub.22566-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">Luo, N., Wang, X., Feng, V., et al. (2015) Integrated Simulation Platform of Chemical Processes Based on Virtual Reality and Dynamic Model. Computer Aided Chemical Engineering, 37, 581-586.</mixed-citation></ref><ref id="hanspub.22566-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Lu, G.P., Xue, G.H. and Chen, Z. (2011) Design and Implementation of Virtual Interactive Scene Based on Unity3D. Advanced Materials Research, 317, 2162-2167. &lt;br&gt;https://doi.org/10.4028/www.scientific.net/AMR.317-319.2162</mixed-citation></ref><ref id="hanspub.22566-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">余华鸿. 虚拟现实技木的应用现状及发展[J]. 今日科苑, 2009(4): 182.</mixed-citation></ref><ref id="hanspub.22566-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">周敏, 范冲. 基于 UNITY3D 的虚拟测量实验设计与初步实现[J]. 测绘与空间地理信息, 2016, 39(1): 179-181.</mixed-citation></ref><ref id="hanspub.22566-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">骆旭佳. 基于虚拟现实仿真技术的全站仪模拟操作系统的研制[D]: [硕士学位论文]. 合肥: 合肥工业大学, 2010: 7-10.</mixed-citation></ref><ref id="hanspub.22566-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">廖敦明, 张兆创, 孙飞, 等. 基于WebGL的铸造虚拟实验教学系统的研发[J]. 中国现代教育装备, 2017(5): 4-8.</mixed-citation></ref><ref id="hanspub.22566-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">李钦, 戴树岭, 赵永嘉, 等. 分块LOD大规模地形实时渲染算法[J]. 计算机辅助设计与图形学学报, 2013, 25(5): 000708-713.</mixed-citation></ref><ref id="hanspub.22566-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">闫涛, 姜晓峰. 基于STL三角网格模型简化的研究[J]. 计算机工程与设计, 2010, 31(23): 5060-5063.</mixed-citation></ref><ref id="hanspub.22566-ref12"><label>12</label><mixed-citation publication-type="other" xlink:type="simple">高玉双. 基于边折叠的网格简化算法研究[J]. 电脑与信息技术, 2011, 19(2): 21-23.</mixed-citation></ref><ref id="hanspub.22566-ref13"><label>13</label><mixed-citation publication-type="other" xlink:type="simple">李绍帅. 交互式三维模型操作研究[D]: [硕士学位论文]. 大连: 大连理工大学, 2009: 10-12.</mixed-citation></ref><ref id="hanspub.22566-ref14"><label>14</label><mixed-citation publication-type="other" xlink:type="simple">祝敏娇. 基于Unity3D的虚拟漫游技术的研究[J]. 硅谷, 2012(20): 77-77.</mixed-citation></ref><ref id="hanspub.22566-ref15"><label>15</label><mixed-citation publication-type="other" xlink:type="simple">曾林森. 基于Unity3D的跨平台虚拟驾驶视景仿真研究[D]: [硕士学位论文]. 长沙: 中南大学, 2013: 55-57.</mixed-citation></ref><ref id="hanspub.22566-ref16"><label>16</label><mixed-citation publication-type="other" xlink:type="simple">张可超. 船舶压缩空气系统虚拟现实的设计与研究[D]: [硕士学位论文]. 大连: 大连海事大学, 2014: 42-44.</mixed-citation></ref></ref-list></back></article>