<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">JSTA</journal-id><journal-title-group><journal-title>Journal of Sensor Technology and Application</journal-title></journal-title-group><issn pub-type="epub">2331-0235</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/JSTA.2020.84014</article-id><article-id pub-id-type="publisher-id">JSTA-38020</article-id><article-categories><subj-group subj-group-type="heading"><subject>JSTA20200400000_99726373.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于增强型51单片机的深井测温仪及其补偿控制系统设计
   Design of Deep-Well Thermometer and Its Compensation Control System Based on Enhanced 51 Single Chip Microcomputer
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>吉</surname><given-names>春雷</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>张</surname><given-names>恒群</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>盐城市计量测试所，江苏 盐城</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>28</day><month>09</month><year>2020</year></pub-date><volume>08</volume><issue>04</issue><fpage>123</fpage><lpage>128</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   深部地热能，是社会发展建设的能源宝藏。本系统设计的是以增强型51单片机为核心，为满足勘探深部地热能所需要的技术要素，设计了一种基于增强型51单片机的深井测温仪及其补偿控制系统。系统辅以电源模块、显示模块、无线收发模块、线卷放控制模块及端部温度传感器可以顺利实现对深井温度的测量，然后利用A/D转换模块将温度传感器采集到的温度物理量转换成可以直观可见的数字量，并可以在显示模块上精确读出。补偿电路能够有效减小压降带来的测量数值误差，且能够精准测量每一个观测点的温度值，以此来有效完成对深部地热能的准确监测和分析。系统硬件测试结果显示：本系统温度测量精确，功能丰富，具有一定应用价值。 Deep geothermal energy is the energy treasure of social development and construction. In order to meet the technical requirements of deep geothermal energy exploration, a deep well thermometer and its compensation control system based on enhanced 51 single chip microcomputer are designed. The system is supplemented by power supply module, display module, wireless transceiver module, coil unwinding control module and end temperature sensor. The temperature physical quantity collected by temperature sensor can be converted into visible digital quantity by using A/D conversion module, which can be read out accurately on the display module. The compensation circuit can effectively reduce the measurement error caused by pressure drop, and can accurately measure the temperature value of each observation point, so as to effectively complete the accurate monitoring and analysis of deep geothermal energy. The system hardware test results show that the system has accurate temperature measurement and rich functions, which has a certain application value.
    
  
 
</p></abstract><kwd-group><kwd>增强型51单片机，深部地热能，补偿电路，A/D转换,  Enhanced 51 Single Chip Microcomputer</kwd><kwd> Deep Geothermal Energy</kwd><kwd> Compensation Circuit</kwd><kwd>A/D Conversion</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>摘要</title><p>深部地热能，是社会发展建设的能源宝藏。本系统设计的是以增强型51单片机为核心，为满足勘探深部地热能所需要的技术要素，设计了一种基于增强型51单片机的深井测温仪及其补偿控制系统。系统辅以电源模块、显示模块、无线收发模块、线卷放控制模块及端部温度传感器可以顺利实现对深井温度的测量，然后利用A/D转换模块将温度传感器采集到的温度物理量转换成可以直观可见的数字量，并可以在显示模块上精确读出。补偿电路能够有效减小压降带来的测量数值误差，且能够精准测量每一个观测点的温度值，以此来有效完成对深部地热能的准确监测和分析。系统硬件测试结果显示：本系统温度测量精确，功能丰富，具有一定应用价值。</p></sec><sec id="s2"><title>关键词</title><p>增强型51单片机，深部地热能，补偿电路，A/D转换</p></sec><sec id="s3"><title>Design of Deep-Well Thermometer and Its Compensation Control System Based on Enhanced 51 Single Chip Microcomputer<sup> </sup></title><p>Chunlei Ji, Hengqun Zhang</p><p>Yancheng Institute of Measurement and Testing, Yancheng Jiangsu</p><p><img src="//html.hanspub.org/file/2-2960144x4_hanspub.png" /></p><p>Received: Sep. 16<sup>th</sup>, 2020; accepted: Sep. 30<sup>th</sup>, 2020; published: Oct. 13<sup>th</sup>, 2020</p><p><img src="//html.hanspub.org/file/2-2960144x5_hanspub.png" /></p></sec><sec id="s4"><title>ABSTRACT</title><p>Deep geothermal energy is the energy treasure of social development and construction. In order to meet the technical requirements of deep geothermal energy exploration, a deep well thermometer and its compensation control system based on enhanced 51 single chip microcomputer are designed. The system is supplemented by power supply module, display module, wireless transceiver module, coil unwinding control module and end temperature sensor. The temperature physical quantity collected by temperature sensor can be converted into visible digital quantity by using A/D conversion module, which can be read out accurately on the display module. The compensation circuit can effectively reduce the measurement error caused by pressure drop, and can accurately measure the temperature value of each observation point, so as to effectively complete the accurate monitoring and analysis of deep geothermal energy. The system hardware test results show that the system has accurate temperature measurement and rich functions, which has a certain application value.</p><p>Keywords:Enhanced 51 Single Chip Microcomputer, Deep Geothermal Energy, Compensation Circuit, A/D Conversion</p><disp-formula id="hanspub.38020-formula12"><graphic xlink:href="//html.hanspub.org/file/2-2960144x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2020 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/2-2960144x7_hanspub.png" /> <img src="//html.hanspub.org/file/2-2960144x8_hanspub.png" /></p></sec><sec id="s5"><title>1. 引言</title><p>全球能源消耗量随着时代的发展逐步增加，地球上能供给人类消耗的一次与二次能源也面临紧缺的困扰。深部地热能属矿产资源，应用广泛清洁高效，成为了继水力、太阳能与风力之后的又一种在能源供应地位中十分重要的可再生能源 [<xref ref-type="bibr" rid="hanspub.38020-ref1">1</xref>] [<xref ref-type="bibr" rid="hanspub.38020-ref2">2</xref>]。深部地热能为我国能源需求提供了强有力的保障，所以它逐渐成为了备受关注的重点。有关深部测温的研究如雨后春笋，迅速发展起来。目前市场上已有多种勘测地下深部有关参数的仪器，而且不同深度的检测方法、误差范围、使用的传感器种类也不尽相同。因此市场上有很多可以测量针对不同深度的测温仪，同时还配备了不同长度的传导线，挑选时要秉着合适的原则，导线过长或过短会影响测量精度。</p><p>经过综合分析可以得出结论，深井下不同位置的温度变化不是呈线性相关的，并且导线长度造成的电阻问题会影响温度信号的传输精度，传感器探头所接触的井壁和井中心部位的温度也会有一定的偏差。综合考虑这两个会影响最终的温度显示问题，本课题设计了一套能精确测量温度参数以及能够补偿温度参数由于外界可控因素而发生误差的补偿电路系统 [<xref ref-type="bibr" rid="hanspub.38020-ref3">3</xref>]。本设计采用了PT100热电阻温度传感器来进行数据采集，然后利用A/D转换模块把热电阻传感器采集的温度物理量转换成数字量，然后经过补偿控制电路之后通过增强型51单片机来进行计算处理，最终的温度数据显示在液晶数码管上 [<xref ref-type="bibr" rid="hanspub.38020-ref4">4</xref>]。除此之外还需额外考虑在夜间使用的情况，加了LED灯能在夜间环境黑暗的情况下方便读取数据。另外设计的低温与高温报警模块又能很好地保护仪器，即超过仪器允许可测温度范围，蜂鸣器会发出报警声，提醒使用者及时关闭仪器达到保护系统电路的目的。</p></sec><sec id="s6"><title>2. 总体方案设计</title><p>该系统是以单片机为控制中心，设计了一个测温与补偿系统。本文的AT89C51单片机最小系统是作为连接测温、转换、显示等的重要传输中心。</p><p>信号转换模块选用PCF8951来处理温度传感器采集到的模拟量到数字量的转换。ADC0832是并行双缓冲8位的ADC转换器，PCF8591是具有I<sup>2</sup>C总线结构的多通道8位的逐次逼近型ADC和一个内置8位单通道DAC。相比较起来，PCF8591确实在功能上强于DAC0832，功能多、功耗低、单电源供电、最重要的是具有I<sup>2</sup>C总线结构、串行输入输出、节约I/O口资源，并能在一个处理系统中外接多个PCF8591，能进行更多更强的处理。</p><p>温度信号采集使用PT100热电阻传感器，它带有长线补偿，在对数据线性化处理方面性能优越，可以很好的达到测温的准确性。并且这种传感器的有效测温范围在−200℃到850℃之间，非常适合对深部地热能的测量要求。</p><p>按键控制模块由两个控制开关决定，一个控制系统总体电源供应，一个控制夜间照明。无线收发模块用蓝牙BT08-B，与单片机有很好的兼容性，传输数据方便快捷。卷线模块使用舵机，它扭矩大，控制便捷适合沉重的电缆盘收。</p><p>在我们确定要顺利实现该系统要求的功能所需要的基本模块时，要设计好每个模块之间的结构关系，以及与单片机最小系统之间的传输协议也要确定下来。在完成整个系统模块化设计之前，要先解决系统的总体结构图，这样会让我们有一个非常清晰的思路，在设计好每个模块化的同时能兼备好系统整体的结构，上下分明，井井有条。然后在后期设计中就有了一个总的出发点与落脚点。该系统模块包括电源、温度采集、信号转换、报警、按键、照明、数码管显示、无线传输、线卷放与最小单片机系统 [<xref ref-type="bibr" rid="hanspub.38020-ref5">5</xref>] [<xref ref-type="bibr" rid="hanspub.38020-ref6">6</xref>] [<xref ref-type="bibr" rid="hanspub.38020-ref7">7</xref>]。以此设计如下系统总体结构图，如图1所示。</p><p>图1. 系统总体结构图</p></sec><sec id="s7"><title>3. 系统硬件设计</title><p>该检测系统硬件搭配主要是用51单片机为核心的信息处理模块、温度采集模块、转换模块、显示模块、报警模块、照明模块、电源模块、按键模块、卷线模块和无线模块。其中，温度采集是用PT100热电阻温度传感器读取到单片机数据处理中心；信息转换中心用的是单片集成、单电源、低功耗8位CMOS数据采集设备PCF8591；显示模块用的是六位数码管来显示温度数据；报警模块用常规的蜂鸣器，一旦温度超出允许的区间时就会发出警报声；按键模块只有一个总开关为单片机供电；夜间工作时需要一个LED为数码管照明。卷线模块由舵机提供动力，工作原理是控制中心接收讯号给舵机，确定要往哪个方向旋转后，再驱动无芯电动机开始转动，减速齿轮将动力传动至输出轴，监视输出旋转角度，再由控制中心检测是否到达预定位置，此时电位计输出一个电压信号到控制板，来进行反馈。无线收发用的是BT08-B蓝牙无线传输模块，作用是将实时数据快速及时的发送到使用者的设备中 [<xref ref-type="bibr" rid="hanspub.38020-ref7">7</xref>] [<xref ref-type="bibr" rid="hanspub.38020-ref8">8</xref>] [<xref ref-type="bibr" rid="hanspub.38020-ref9">9</xref>]。系统硬件电路原理图如图2所示。</p><p>图2. 系统硬件电路原理图</p></sec><sec id="s8"><title>4. 系统软件设计</title><p>系统采用模块化的编程方式，先对信号转换模块进行编辑。先是PCF8591信号转换模块软件设计。</p><p>写入：第一个字节时器件地址和读写控制。第二个字节被存到控制寄存器，用于控制器件功能。第三个字节被存储到DAC数据寄存器，并使用片上D/A转换器转换成对应的模拟电压(所以不输入D/A时可以不用输入)。</p><p>读取：读取的第一个字节是包含上一次转换的结果，将上一个字节读取时，才可以开始进行这次转换的采样。读取的第二个字节才是这次转换的结果，然后读取转换结果的步骤是：发送转换命令，将上次的结果读走，然后等一段时间，再读取结果 [<xref ref-type="bibr" rid="hanspub.38020-ref10">10</xref>]。软件设计流程图如图3所示。</p><p>对于显示模块设计，采用并行接口的连接方式，设计过程中会用到比较多的接口，而串行接口的话用到的接口就比较少。这两种连接方式会影响计算速度。并行接法比较串行接法相对来说就比较慢。其设计流程图如图4所示。</p><p>图3. 软件设计流程图</p><p>图4. 数码管显示流程图</p></sec><sec id="s9"><title>5. 制作与调试</title><p>基于系统的整体方案及仿真软件的基本原理图绘制，生成3D PCB图，进而完成实物的制作。实物测试时温度结果显示如图5所示。</p><p>通过对该检测系统测试数据分析可得，该检测系统可以测量出当前的温度并且能实时显示，并且达到报警数值时，发出报警信号，即蜂鸣器鸣响，LED灯能正常发光。</p></sec><sec id="s10"><title>6. 结论</title><p>深部地热能属矿产资源，应用广泛清洁高效，成为了继水力、太阳能与风力之后的又一种在能源供应地位中十分重要的可再生能源。然而，地热能在开采时深井下不同位置的温度变化不是呈线性相关的，如随着测量导线长度增加引起的电阻值变化会影响温度信号的传输精度，传感器探头所接触的井壁和井</p><p>图5. 温度结果显示</p><p>中心部位的温度也会有一定的偏差。综上所述，本文设计了一套能精确测量温度参数以及能够补偿温度参数由于外界可控因素而发生误差的补偿电路系统。系统采用了PT100热电阻温度传感器来进行数据采集，然后利用A/D转换模块把热电阻传感器采集的温度物理量转换成数字量，然后经过补偿控制电路之后通过增强型51单片机来进行计算处理，最终的温度数据显示在液晶数码管上。除此之外还需额外考虑夜间使用情况，系统增加LED灯能在夜间环境黑暗的情况下方便读取数据。另外系统具有低温与高温报警模块可很好地保护仪器，即超过仪器允许可测温度范围，蜂鸣器会发出报警声，提醒使用者及时关闭仪器达到保护系统电路的目的，具有一定的应用价值。</p></sec><sec id="s11"><title>文章引用</title><p>吉春雷,张恒群. 基于增强型51单片机的深井测温仪及其补偿控制系统设计 Design of Deep-Well Thermometer and Its Compensation Control System Based on Enhanced 51 Single Chip Microcomputer[J]. 传感器技术与应用, 2020, 08(04): 123-128. https://doi.org/10.12677/JSTA.2020.84014</p></sec><sec id="s12"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.38020-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">韩红远, 朱翔宇. 分布式光纤测温系统在煤矿火灾预警中的应用[J]. 太原科技, 2007, 165(10): 91-92.</mixed-citation></ref><ref id="hanspub.38020-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">赵玉明, 李长忠. 冻结监测中分布式光纤测温系统的研究[J]. 工矿自动化, 2009, 35(4): 55-58.</mixed-citation></ref><ref id="hanspub.38020-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">闫小见. 光纤测温系统在煤矿供电系统中的运用[J]. 中小企业管理与科技(下旬刊), 2014(27): 97.</mixed-citation></ref><ref id="hanspub.38020-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">王爱珍. 基于51单片机的测温系统设计[J]. 传感器世界, 2013, 19(11): 40-42.</mixed-citation></ref><ref id="hanspub.38020-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">冯金义, 郭文秋, 程智勇. 分布式光纤测温系统在煤矿皮带运输机上的应用[J]. 科技创新与应用, 2012(26): 120.</mixed-citation></ref><ref id="hanspub.38020-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">辛伟. 分布式光纤测温系统在煤矿皮带运输机上的应用[J]. 内蒙古煤炭经济, 2019(18): 203, 205.</mixed-citation></ref><ref id="hanspub.38020-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">薛维, 徐亮, 王文耀, 温榕, 贾会岭, 姜超. 一种用于高温深井干热地层的电子测温仪[P]. 中国专利, CN208203263U. 2018-12-07.</mixed-citation></ref><ref id="hanspub.38020-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">刘国忠, 李尚国, 叶正亮, 徐俊, 陈辉, 刘华锋, 王海生, 杜云峰, 郝建国. 煤矿井下的高位及下行深钻孔测温设备[P]. 中国专利, CN110195583A. 2019-09-03.</mixed-citation></ref><ref id="hanspub.38020-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">李付有, 刘大永, 董军刚, 李晓岚. 无线测温装置散热及提高准确度的设计[J]. 硅谷, 2015(2): 40-41.</mixed-citation></ref><ref id="hanspub.38020-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">李鹏, 张芸, 朱文博. 基于MSP430的无线测温装置的设计及实现[J]. 通讯世界, 2016(7): 285-286.</mixed-citation></ref></ref-list></back></article>