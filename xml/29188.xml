<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">OJTT</journal-id><journal-title-group><journal-title>Open Journal of Transportation Technologies</journal-title></journal-title-group><issn pub-type="epub">2326-3431</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/OJTT.2019.82014</article-id><article-id pub-id-type="publisher-id">OJTT-29188</article-id><article-categories><subj-group subj-group-type="heading"><subject>OJTT20190200000_49555515.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于方向可调滤波和概率霍夫变换的车道线检测方法
  Lane Line Detection Method Based on Steerable Filters and Probability Hough Transform
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>张</surname><given-names>勉</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>高</surname><given-names>尚</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>迟</surname><given-names>万达</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><addr-line>山东科技大学，山东 青岛</addr-line></aff><aff id="aff2"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>14</day><month>02</month><year>2019</year></pub-date><volume>08</volume><issue>02</issue><fpage>112</fpage><lpage>119</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   车道线检测中，车载摄像头采集到的图像包含大量噪声和干扰，为提高车道线检测速度和精度，本文提出了一种基于方向可调滤波和概率霍夫变换的车道线检测方法。通过统计得到车道线方向角的均值和方差，用以确定方向可调滤波器的方向和概率霍夫变换的极角范围，有效地抑制干扰、减小搜索范围、提高了检测速度。由实验结果看，本文方法能有效排除非道路线干扰、准确检测出道路线，具有较高的鲁棒性。 In the lane line detection, images obtained by the vehicle-mounted camera contain a lot of noise and interference. To improve the speed and accuracy of the lane line detection, a lane line detec-tion method is proposed in this paper based on steerable filters and probability Hough transform. The mean and variance of the direction angle of the lane line are obtained by means of statistics to determine the direction of steerable filters and polar angle range of probability Hough transform, which can effectively inhibit interference, reduce the search range, and improve the detection speed. In terms of the experimental results, the proposed method in this paper can effectively eliminate non-lane interference and accurately detect the lane line, and therefore, is characterized by a high robustness.
    
  
 
</p></abstract><kwd-group><kwd>车道线检测，方向可调滤波，概率霍夫变换，极角约束, Lane Line Detection</kwd><kwd> Steerable Filters</kwd><kwd> Probability Hough Transform</kwd><kwd> Polar Angle Constraint</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>基于方向可调滤波和概率霍夫变换的车道线检测方法<sup> </sup></title><p>张勉，高尚，迟万达</p><p>山东科技大学，山东 青岛</p><p><img src="//html.hanspub.org/file/6-2760383x1_hanspub.png" /></p><p>收稿日期：2019年2月16日；录用日期：2019年3月4日；发布日期：2019年3月11日</p><disp-formula id="hanspub.29188-formula30"><graphic xlink:href="//html.hanspub.org/file/6-2760383x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>车道线检测中，车载摄像头采集到的图像包含大量噪声和干扰，为提高车道线检测速度和精度，本文提出了一种基于方向可调滤波和概率霍夫变换的车道线检测方法。通过统计得到车道线方向角的均值和方差，用以确定方向可调滤波器的方向和概率霍夫变换的极角范围，有效地抑制干扰、减小搜索范围、提高了检测速度。由实验结果看，本文方法能有效排除非道路线干扰、准确检测出道路线，具有较高的鲁棒性。</p><p>关键词 :车道线检测，方向可调滤波，概率霍夫变换，极角约束</p><disp-formula id="hanspub.29188-formula31"><graphic xlink:href="//html.hanspub.org/file/6-2760383x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2019 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/6-2760383x7_hanspub.png" /> <img src="//html.hanspub.org/file/6-2760383x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>车道线检测是汽车辅助驾驶和无人驾驶中的关键技术之一。智能车通常是对视觉系统拍摄到的车道视频进行处理，从而得到车道线及车的偏离情况。然而，在车道图像中往往含有大量噪声和干扰，例如其它车道线、隔离带、障碍物、车道裂痕等，因此在车道线检测时需要去除干扰，强化有用信息。</p><p>目前，在车道线检测中，通常的做法是利用微分算子检测车道线边缘，并利用直线检测算法如Hough变换等进行直线拟合 [<xref ref-type="bibr" rid="hanspub.29188-ref1">1</xref>] 。常用的梯度算子主要有Canny [<xref ref-type="bibr" rid="hanspub.29188-ref2">2</xref>] 算子、Sobel [<xref ref-type="bibr" rid="hanspub.29188-ref3">3</xref>] [<xref ref-type="bibr" rid="hanspub.29188-ref4">4</xref>] 算子、Prewitt [<xref ref-type="bibr" rid="hanspub.29188-ref5">5</xref>] 算子等。但这些算子并没有考虑车道线的方向特性，在复杂天气下，处理效果并不理想。文献 [<xref ref-type="bibr" rid="hanspub.29188-ref6">6</xref>] 中为了解决Sobel算子的方向问题，将Sobel算子的方向模板扩展到8个，实现了多方向的边缘检测。文献 [<xref ref-type="bibr" rid="hanspub.29188-ref7">7</xref>] 中的方向可调滤波器可以通过输入方向角，实现任意方向上的响应。文献 [<xref ref-type="bibr" rid="hanspub.29188-ref8">8</xref>] 将方向可调滤波器应用于遥感图像中的车道目标识别，能有效提取出遥感图像潜在的车道目标。显然，车道线是具有特定方向的，利用该特性可以使车道线的检测速度快、抗干扰能力强。</p><p>车道线拟合中使用最为广泛的有霍夫变换 [<xref ref-type="bibr" rid="hanspub.29188-ref9">9</xref>] 和最小二乘法 [<xref ref-type="bibr" rid="hanspub.29188-ref10">10</xref>] [<xref ref-type="bibr" rid="hanspub.29188-ref11">11</xref>] 。霍夫变换对车道线拟合精度高，受噪声影响较小，但计算复杂，难以满足实时性要求；最小二乘法计算简单迅速，但是鲁棒性差，易受噪声影响，在复杂天气下检测效果不佳。曾接贤 [<xref ref-type="bibr" rid="hanspub.29188-ref12">12</xref>] 提出霍夫变换和最小二乘法相结合的直线拟合方法，用霍夫变换剔除数据点集中的噪声或干扰点，将分布在不同直线附近的点分离出来，然后用最小二乘法拟合。文献 [<xref ref-type="bibr" rid="hanspub.29188-ref13">13</xref>] 提出了一种基于概率霍夫变换的快速车道线拟合方法，概率霍夫变换在选择拟合点时采用随机抽取方式，并加入累加阈值，拟合速度有了极大提高。</p><p>本文利用车道线的方向特性，提出了一种结合方向可调滤波和概率霍夫变换的车道线检测方法，利用对车道线方向的统计结果，一方面选择合适的方向可调滤波器对图像进行方向滤波，增强车道线并通过二值化和边缘检测得到车道线初步检测结果；另一方面对检测结果采用方向角约束下的概率霍夫变换进行车道线拟合得到车道线。实验表明，本文的方法合理地利用了车道线的方向特性，有效地排除了非车道线的干扰，在多种天气下都得到了较好的检测和拟合结果。</p></sec><sec id="s4"><title>2. 车道线检测方法</title><sec id="s4_1"><title>2.1. 总体框架</title><p>本文的车道线检测方法如图1所示。算法分为预处理、车道线检测、车道线拟合三部分。图像预处理包含感兴趣区域截取、灰度化，初步减少非车道线区域，为后续车道线检测提供基础。车道线检测部分包括基于车道线方向特性的方向可调滤波、二值化和边缘检测，主要目的是滤除噪声、强化车道线。车道线拟合部分主要是通过极角约束下的概率霍夫变换对二值化图像进行车道线拟合，提高拟合速度和准确性。</p><p>图1. 车道线检测方法框架</p><p>对拍摄的道路视频中提取一帧进行车道线检测的步骤具体如下：</p><p>1) 感兴趣区域截取。车道线主要位于图像的下半部分，为兼顾准确度与实时性，本文提取图像底部的2/3区域为感兴趣区域。</p><p>2) 灰度化。人眼对绿色敏感度最高，对蓝色敏感度最低，对彩色图像中的R、G、B三个分量加权平均得到灰度图像，其灰度值计算如公式(1)：</p><p>Y = 0.3 R + 0.59 G + 0.11 B (1)</p><p>3) 方向可调滤波。根据统计的左右车道线方向角均值和方差 [<xref ref-type="bibr" rid="hanspub.29188-ref14">14</xref>] ，确定方向可调滤波器的输入角并进行边缘增强。方向可调滤波器为二维高斯函数的一阶导数的线性组合。</p><p>4) 图像二值化。利用Otsu [<xref ref-type="bibr" rid="hanspub.29188-ref15">15</xref>] 阈值对图像进行二值化。</p><p>5) 边缘检测。利用Canny算子进行图像边缘检测。</p><p>6) 概率霍夫变换拟合车道线。根据统计的左右车道线方向角均值和方差，对左右车道线极角范围进行限定，并利用概率霍夫变换对车道线进行拟合。</p></sec><sec id="s4_2"><title>2.2. 基于方向可调滤波的车道线检测</title><p>方向可调滤波是通过一组“基滤波器”的线性组合实现对任意方向的滤波处理。本文选取二维高斯函数的一阶导数作为“基滤波器”，如下式(2)~(4)所示：</p><p>G ( x , y ) = exp ( − ( x 2 + y 2 ) ) (2)</p><p>G 1 0 ˚ = ∂ ∂ x exp ( − ( x 2 + y 2 ) ) = − 2 x exp ( − ( x 2 + y 2 ) ) (3)</p><p>G 1 90 ˚ = ∂ ∂ y exp ( − ( x 2 + y 2 ) ) = − 2 y exp ( − ( x 2 + y 2 ) ) (4)</p><p>式(2)为高斯函数，式(3)为0˚方向的基滤波器，式(4)为90˚方向的基滤波器。对式(3)、(4)进行线性组合能够得到任意方向的滤波输出，如式(5)所示：</p><p>G 1 θ = G 1 0 ˚ cos θ + G 1 90 ˚ sin θ (5)</p><p>利用 G 1 θ 对图像f进行卷积运算，求出图像的局部最大响应，可得滤波后的图像 I θ ，滤波后的图像为：</p><p>I θ = f * G 1 θ = f * G 1 0 ˚ cos θ + G 1 90 ˚ sin θ = cos θ + sin θ (6)</p><p>经过对一定数量道路图像的统计知，在正常情况下，左右车道线方向角的均值和方差分别为 θ 1 = 48 ˚ , σ 1 = 7 ˚ , θ 2 = 139 ˚ , σ 2 = 10 ˚ 。以 θ 1 、 θ 2 为滤波器方向角分别对图像进行滤波可得 I θ 1 、 I θ 2 ，然后将它们合并得到包含左右车道线图像I。以Otsu阈值对图像I进行二值化，最后用Canny算子对二值化图像进行边缘检测得到车道线图像。车道线检测处理结果如图2所示。</p><p>图2. 车道线检测处理结果。(a) 感兴趣区域，(b) 滤波器处理后图像 I θ 1 ，(c) 滤波器处理后图像 I θ 2 ，(d) 合并后的图像I，(e) 二值化，(f) 边缘检测</p></sec><sec id="s4_3"><title>2.3. 基于概率霍夫变换的车道线拟合</title><p>概率霍夫变换是为了解决传统霍夫变换计算量大、实时性差的问题而提出 [<xref ref-type="bibr" rid="hanspub.29188-ref16">16</xref>] 。它的特点是：原图像空间中的点向参数空间映射和直线检测交替进行，拟合点随机抽取，直线特征越明显能越早检测到；每次映射后都会检查计数器数值，当其超过设定阈值时，便取出该条直线，完成一次直线拟合，同时删除该直线上所有候选边缘点，从而缩小了后续计算范围、减少运算开销。</p><p>根据统计的左右车道线角度均值 θ 1 和 θ 2 ，标准差 σ 1 和 σ 2 ，将 ( θ 1 − σ 1 , θ 1 + σ 1 ) 和 ( θ 2 − σ 2 , θ 2 + σ 2 ) 作为概率霍夫变换极角约束范围。本文中，左车道线角度范围为 θ l ∈ ( 41 , 55 ) ，右车道角度范围为 θ r ∈ ( 129 , 149 ) ，通过极角约束可以减小搜索范围，较好地排除非车道线的干扰。</p><p>概率霍夫变换拟合车道线的具体做法如下：</p><p>1) 建立并初始化一个累加器 A ( ρ , θ ) ，将车道线检测获取的边缘图像前景点放入待选边缘点集S；</p><p>2) 集合S若为空则算法结束；否则从集合S中随机取一点 ( x , y ) 投射到参数空间，并从S中去掉该点，然后在 θ l 、 θ r 范围内计算相应的 ρ 值，并更新对应的累加器 A ( ρ , θ ) ；</p><p>3) 对 A ( ρ , θ ) 与预定的阈值比较，若大于阈值且满足最小线段长度，则执行步骤4)，否则回到步骤2)；</p><p>4) 取出该直线，完成一条直线的拟合。</p><p>5) 删除S中位于直线上的所有点，并将累加器清零，再继续执行步骤2)。</p><p>最终拟合出的车道线图像如图3所示。</p><p>图3. 车道线拟合结果</p></sec></sec><sec id="s5"><title>3. 实验结果与对比</title><sec id="s5_1"><title>3.1. 车道线检测实验</title><p>为了验证算法的有效性，利用本文算法对雨天、夜晚的图像进行处理，结果如图4、图5所示。其中图(a)是图像底部的三分之二区域，去掉了部分树木和天空的影响；(b)为方向可调滤波后图像，在不同天气下，都能增强车道线信息，抑制噪声；(c)为二值化结果；(d)为提取车道线边缘；(e)为使用极角约束的概率霍夫变换拟合后的车道线。结果表明，在雨天和夜晚高光下仍能准确识别出车道线，有较强的准确性和抗干扰能力。</p><p>图4. 雨天车道线检测结果。(a) 感兴趣区域，(b) 方向可调滤波，(c) 二值化，(d) Canny边缘检测，(e) 车道线检测结果</p><p>图5. 夜晚高光车道线检测结果。(a) 感兴趣区域，(b) 方向可调滤波，(c) 二值化，(d) Canny边缘检测，(e) 车道线检测结果</p></sec><sec id="s5_2"><title>3.2. 与其它方法的对比</title><p>本文算法与文献 [<xref ref-type="bibr" rid="hanspub.29188-ref17">17</xref>] 的道路线检测方法进行了对比。文献 [<xref ref-type="bibr" rid="hanspub.29188-ref17">17</xref>] 在感兴趣区域的灰度化图像进行了高斯滤波、边缘检测和基于概率霍夫变换，利用该方法对图4和图5处理的结果如图6所示，从图中可以看出，在复杂天候下，图像反光严重部分，误检测出虚假边缘。对比图4和图5处理的结果可以看出，方向可调滤波能够更好的增强车道线信息，检测到的车道线信息更加丰富，抑制噪声能力更强。</p><p>图6. 文献 [<xref ref-type="bibr" rid="hanspub.29188-ref17">17</xref>] 算法的Canny边缘检测结果。(a) 雨天图像处理结果，(b) 夜晚图像处理结果</p></sec></sec><sec id="s6"><title>4. 结论</title><p>车道线检测是智能车辅助驾驶和自动驾驶中的关键技术之一，为了提高车道线检测速度和精度，本文提出了一种基于方向可调滤波和概率霍夫变换的车道线检测方法，利用车道线的方向特性，有效抑制干扰、减小搜索范围、提高速度。由在雨天、夜晚等道路检测实验结果看，本文方法能有效排除非道路线干扰、准确检测出道路线，算法具有较高的鲁棒性。</p></sec><sec id="s7"><title>文章引用</title><p>张 勉,高 尚,迟万达. 基于方向可调滤波和概率霍夫变换的车道线检测方法 Lane Line Detection Method Based on Steerable Filters and Probability Hough Transform[J]. 交通技术, 2019, 08(02): 112-119. https://doi.org/10.12677/OJTT.2019.82014</p></sec><sec id="s8"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.29188-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">凌诗韵, 马乐, 黄楚然, 等. 基于Hough变换的城市环境车道识别优化算法研究[J]. 机械设计与制造工程, 2017(12): 54-57.</mixed-citation></ref><ref id="hanspub.29188-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">Yim, Y.U. and Oh, S.Y. (2003) Three-Feature Based Automatic Lane Detection Algorithm (TFALDA) for Autonomous Driving. IEEE Transactions on Intelligent Transportation Systems, 4, 219-225.</mixed-citation></ref><ref id="hanspub.29188-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">Li, Q., Zheng, N.N. and Cheng, H. (2004) Spring Robot: A Prototype Autonomous Vehicle and Its Algorithms for Lane Detection. IEEE Transactions on Intelligent Transportation Systems, 5, 300-308.  
&lt;br&gt;https://doi.org/10.1109/TITS.2004.838220</mixed-citation></ref><ref id="hanspub.29188-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">Li, X., Zhang, W.G. and Bian, X.D. (2004) Research on Detection of Lane Based on Machine Vision. Journal of Southeast University (English Edition), 20, 176-180.</mixed-citation></ref><ref id="hanspub.29188-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Thomas, B., Cristobal, C., Johann, E., et al. (2003) Image Processing and Behavior Planning for Intelligent Vehicles. IEEE Transactions on Industrial Electronics, 50, 62-75. &lt;br&gt;https://doi.org/10.1109/TIE.2002.807650</mixed-citation></ref><ref id="hanspub.29188-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">胡徐怡, 王超, 厉丹. 基于改进Sobel算子的边缘检测算法研究[J]. 福建电脑, 2018, 14(4): 13-14.</mixed-citation></ref><ref id="hanspub.29188-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">Freeman, W.T. and Adelson, E.H. (1991) The Design and Use of Steerable Filters. IEEE Transactions on Pattern Analysis and Machine Intelligence, 13, 891-906. &lt;br&gt;https://doi.org/10.1109/34.93808</mixed-citation></ref><ref id="hanspub.29188-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">张荣, 王勇, 杨榕. TM图像中车道目标识别方法的研究[J]. 遥感学报, 2005, 9(2): 220-224.</mixed-citation></ref><ref id="hanspub.29188-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">孙丰荣, 刘积仁. 快速霍夫变换算法[J]. 计算机学报, 2001, 24(10): 1102-1109.</mixed-citation></ref><ref id="hanspub.29188-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">邹乐强. 最小二乘法原理及其简单应用[J]. 科技信息, 2010(23): 282-283.</mixed-citation></ref><ref id="hanspub.29188-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">李大新. 基于机器视觉的车道线检测识别与车道偏离预警算研究[D]: [硕士学位论文]. 山东: 山东大学, 2012.</mixed-citation></ref><ref id="hanspub.29188-ref12"><label>12</label><mixed-citation publication-type="other" xlink:type="simple">曾接贤. 霍夫变换与最小二乘法相结合的直线拟合[J]. 南昌航空工业学院学报: 自然科学版, 2003, 17(4): 9-13.</mixed-citation></ref><ref id="hanspub.29188-ref13"><label>13</label><mixed-citation publication-type="other" xlink:type="simple">胡彬, 赵春霞. 基于概率霍夫变换的快速车道线检测方法[J]. 微电子学与计算机, 2011, 28(10): 177-180.</mixed-citation></ref><ref id="hanspub.29188-ref14"><label>14</label><mixed-citation publication-type="other" xlink:type="simple">Jung, C.R. and Kelber, C.R. (2004) A Robust Linear-Parabolic Model for Lane Following. Proceedings of the XVII Brazilian Symposium on Computer Graphics and Image Processing Curitiba, 10, 72-79.</mixed-citation></ref><ref id="hanspub.29188-ref15"><label>15</label><mixed-citation publication-type="other" xlink:type="simple">Zhang, H.L., Lu, B.C. and Yu, Y. (2008) The Method of Ostu Used in the Video Detection of Vehicles. International Conference on Intelligent Computation Technology and Automation (ICICTA), Hunan, 20-22 October 2008, 547-551. 
&lt;br&gt;https://doi.org/10.1109/ICICTA.2008.219</mixed-citation></ref><ref id="hanspub.29188-ref16"><label>16</label><mixed-citation publication-type="other" xlink:type="simple">Galamhos, C., Matas, J. and Kittler, J. (1999) Progressive Probabilistic Bough Transform for Line Detection. Proceedings of Computer Vision and Pattern Recognition Fort Collins, Fort Collins, CO, 23-25 June 1999, 23-35.</mixed-citation></ref><ref id="hanspub.29188-ref17"><label>17</label><mixed-citation publication-type="other" xlink:type="simple">李亚娣, 黄海波, 李相鹏, 等. 基于Canny算子和Hough变换的夜间车道线检测[J]. 科学技术与工程, 2016, 16(31): 234-237, 242.</mixed-citation></ref></ref-list></back></article>