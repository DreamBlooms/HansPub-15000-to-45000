<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">SEA</journal-id><journal-title-group><journal-title>Software Engineering and Applications</journal-title></journal-title-group><issn pub-type="epub">2325-2286</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/SEA.2015.45013</article-id><article-id pub-id-type="publisher-id">SEA-16198</article-id><article-categories><subj-group subj-group-type="heading"><subject>SEA20150500000_93499475.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  中医肝病电子病历病证关联分析探索性研究
  Exploratory Research on Association Rules about Electronic Medical Records of TCM Liver Disease
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>解</surname><given-names>丹</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>王</surname><given-names>斯琪</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>汪</surname><given-names>玉薇</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><addr-line>湖北中医药大学信息工程学院，湖北 武汉</addr-line></aff><aff id="aff2"><addr-line>null</addr-line></aff><author-notes><corresp id="cor1">* E-mail:<email>tonghua123@sina.com(解丹)</email>;</corresp></author-notes><pub-date pub-type="epub"><day>16</day><month>10</month><year>2015</year></pub-date><volume>04</volume><issue>05</issue><fpage>96</fpage><lpage>100</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   目的：探讨数据挖掘技术中的关联规则与决策树分类在中医肝病诊断中的应用。方法：整理筛选来自某中医医院肝病科电子病历的数据，利用Weka数据挖掘软件对其进行数据分析，主要采用关联规则中的Apriori算法和决策树分类中的C4.5算法。结果：经算法分析产生十条相关规则，并生成中医常见肝病的决策树，揭示了检查指标与中医辨证间的关系。结论：数据挖掘结果与医生实际诊断结果基本一致，可将该方法用于基于电子病历的疾病诊断，具有一定实用价值。 Objective: To investigate the application of the association rule and decision tree classification of data mining technology on diagnosis of TCM liver diseases. Method: To collate and screen the data about hospitalization medical records of TCM liver disease, and use Weka to carry on the data mining analysis, which mainly uses Apriori algorithm in association rules and C4.5 algorithm in decision tree classification. Result: Ten rules were found and the decision tree of the common TCM liver disease was generated. The relationship between lab examination information and TCM dialectical treatment has been given. Conclusion: The results obtained from the data mining are generally consistent with the results from the doctors. This method can be used in disease diagnosis based on the electronic medical record, which has certain practical value.
    
  
 
</p></abstract><kwd-group><kwd>中医肝病，电子病历，数据挖掘, TCM Liver Disease</kwd><kwd> Electronic Medical Record</kwd><kwd> Data Mining</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>中医肝病电子病历病证关联分析探索性研究<sup> </sup></title><p>解丹，王斯琪，汪玉薇</p><p>湖北中医药大学信息工程学院，湖北 武汉</p><p>Email: tonghua123@sina.com</p><p>收稿日期：2015年9月30日；录用日期：2015年10月14日；发布日期：2015年10月21日</p><disp-formula id="hanspub.16198-formula428"><graphic xlink:href="http://html.hanspub.org/file/2-2690167x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>目的：探讨数据挖掘技术中的关联规则与决策树分类在中医肝病诊断中的应用。方法：整理筛选来自某中医医院肝病科电子病历的数据，利用Weka数据挖掘软件对其进行数据分析，主要采用关联规则中的Apriori算法和决策树分类中的C4.5算法。结果：经算法分析产生十条相关规则，并生成中医常见肝病的决策树，揭示了检查指标与中医辨证间的关系。结论：数据挖掘结果与医生实际诊断结果基本一致，可将该方法用于基于电子病历的疾病诊断，具有一定实用价值。</p><p>关键词 :中医肝病，电子病历，数据挖掘</p><disp-formula id="hanspub.16198-formula429"><graphic xlink:href="http://html.hanspub.org/file/2-2690167x6_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s3"><title>1. 引言</title><p>中医肝病是指肝脏的正常生理功能受损而出现的各种病理表现，根据患者不同的临床表现辨病为黄疸、积聚、肝癌、肝着、臌胀等[<xref ref-type="bibr" rid="hanspub.16198-ref1">1</xref>] [<xref ref-type="bibr" rid="hanspub.16198-ref2">2</xref>] 。肝脏疾病大多属于慢性难治性疾病，严重影响了患者的身心健康，因此提高肝病的诊疗水平将减轻患者痛苦，提高其生存质量。本文选用某中医院的肝病科电子病历数据，通过整理筛选建立中医肝病数据库，并运用数据挖掘技术中的关联规则和决策树分类对数据进行分析与探索性研究，探讨中医肝病与症状之间的联系，以期为中医肝病诊断研究提供借鉴作用。</p></sec><sec id="s4"><title>2. 研究方法</title><sec id="s4_1"><title>2.1. 数据来源及预处理</title><sec id="s4_1_1"><title>2.1.1. 数据来源</title><p>研究对象来自就诊于湖北省中医院门诊及住院患者，病例的采样时间为2013年1月~12月，原始病例210例。</p></sec><sec id="s4_1_2"><title>2.1.2. 纳入标准</title><p>① 符合西医诊断标准。② 符合黄疸、肝着、鼓胀、积聚、肝厥和肝癌六大中医证型诊断标准者。③ 愿意接受研究者。④ 年龄18~75岁。</p></sec><sec id="s4_1_3"><title>2.1.3. 排除标准</title><p>① 不符合病例纳人标准者。② 重叠患有除肝病以外的重大疾病患者，如精神病患者、心血管患者等。③ 妊娠或哺乳期的女性患者。</p></sec><sec id="s4_1_4"><title>2.1.4. 数据预处理</title><p>对原始病例按患者ID和就诊时间进行预处理，主要工作是提取与中医肝病相关的数据属性，并进行适当的筛选，并进行了规一化处理，最终保留中医诊断病名、病位、病性、舌色、舌苔等61个属性，纳入病例98例。</p></sec></sec><sec id="s4_2"><title>2.2. 数据挖掘方法</title><p>数据挖掘具有自动预测趋势和行为、概念描述、关联分析、分类、聚类、偏差检测等功能，常用的方法有关联规则、决策树分类、朴素贝叶斯分类、K-means聚类等，为研究中医肝病与症状之间的关联性，本文主要采用关联规则及决策树分类对电子病历数据进行分析。</p></sec><sec id="s4_3"><title>2.3. 数据挖掘软件</title><p>本文使用的数据挖掘软件是Weka (Waikato environment for knowledge analysis)，由新西兰怀卡托大学开发，主要用于数据挖掘和知识发现的数据挖掘软件。它集合了大量机器学习算法，包括对数据进行预处理、分类、回归、聚类、关联规则，并可将结果在交互式机器上进行可视化演示[<xref ref-type="bibr" rid="hanspub.16198-ref3">3</xref>] 。</p></sec><sec id="s4_4"><title>2.4. 数据挖掘算法</title><sec id="s4_4_1"><title>2.4.1. 关联规则</title><p>关联规则是从数据库或数据仓库中抽取频繁出现的模式，以寻找两个或多个属性取值之间存在的某种规律性。常用的关联规则分析算法包括Apriori算法、频繁模式增长(FP-增长)方法、多维关联规则挖掘等。本文采用的是经典Apriori算法，该算法是一种基于水平数据表示、广度优先搜索的挖掘算法，结构简单，易于理解，没有复杂的推导[<xref ref-type="bibr" rid="hanspub.16198-ref4">4</xref>] 。</p></sec><sec id="s4_4_2"><title>2.4.2. 决策树分类</title><p>决策树方法是解决分类问题的一个有效方法，它能很容易地构造出规则，而且规则通常易于理解和解释。决策树是一个类似于流程图的树状结构，其中每个内部节点表示在一个属性上的测试，每一个分枝代表一个测试输出，而每个树叶结点代表类或类分布，决策树的生成则是一个从上而下、分而治之的过程[<xref ref-type="bibr" rid="hanspub.16198-ref5">5</xref>] 。决策树分类的算法有ID3算法、C4.5算法、C5.0算法等，本文采用经典C4.5算法，该算法可以处理具有连续值的属性，并使用信息增益比来作为选择根节点和各内部节点中分枝属性的评价标准，克服了ID3算法在选择属性时偏向于取值较多的属性的不足[<xref ref-type="bibr" rid="hanspub.16198-ref6">6</xref>] 。</p></sec></sec></sec><sec id="s5"><title>3. 研究结果</title><sec id="s5_1"><title>3.1. 中医肝病分布情况</title><p>纳入的98例肝病患者经中医辨病，病名分布由高到低依次为肝着(37例)、积聚(18例)、黄疸(11例)、肝癌(9例)、臌胀(6例)、肝积(4例)、肝厥(3例)、血证(3例)、肝癖(3例)、水肿(2例)、胁痛(1例)、心悸(1例)，其分布情况如图1所示。</p></sec><sec id="s5_2"><title>3.2. 关联规则结果分析</title><p>在将数据进行关联规则分析计算之前，对数据进行了规范化处理，并在Weka软件中设置好最小支持度与最小置信度。支持度是指事务集D中包含XUY的事物所占的百分比，置信度是指事务集D中包含X的事务同时也包含Y的百分比，即support (X→Y)=P(XUY)，confidence (X→Y)=P(X|Y)。这里设置最小支持度为0.15，最小置信度为0.7，得到的相关关联规则结果如表1所示。</p><p>本研究是基于肝病住院病历的相关数据，故所有记录的病位都包含肝。从图1中医肝病分布图中可以发现肝着所占的比例较大，在关联规则数据挖掘的结果中也体现了该点。肝着一般是因肝热病、肝瘟等之后，肝脏气血瘀滞，着而不行。若证型为肝郁脾虚证，则是肝胆气郁，横犯脾胃，脾失健运所致。由此可见，诊断为肝着，且病位包含脾时，证型极大可能为肝郁脾虚，即表1第2条规则所示。当肝细胞损伤时，血液中胆红素会升高，此时巩膜会出现黄染，随之皮肤粘膜也会出现黄染，对应表1的第4条规则。如黄疸患者的皮肤、巩膜等组织会出现黄染，严重时尿、痰、泪液及汗液也会出现黄染。</p></sec><sec id="s5_3"><title>3.3. 决策树分类结果分析</title><p>由前面中医肝病分布图可以发现，肝厥、血证、肝癖、水肿、胁痛、心悸的记录数量较少，所以进行决策树分类时只针对记录数为前六位的症状。将处理好的数据通过Weka软件计算分析后，可以得到如图2</p><p>图1. 中医肝病分布图</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> The calculation results of association rule</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >序号</th><th align="center" valign="middle" >属性1</th><th align="center" valign="middle" >属性2</th><th align="center" valign="middle" >出现频次</th><th align="center" valign="middle" >属性3</th><th align="center" valign="middle" >出现频次</th><th align="center" valign="middle" >置信度</th></tr></thead><tr><td align="center" valign="middle" >1</td><td align="center" valign="middle" >中医诊断 = 肝着</td><td align="center" valign="middle" >病性 = 本虚标实</td><td align="center" valign="middle" >21</td><td align="center" valign="middle" >证型 = 肝郁脾虚</td><td align="center" valign="middle" >21</td><td align="center" valign="middle" >0.97</td></tr><tr><td align="center" valign="middle" >2</td><td align="center" valign="middle" >中医诊断 = 肝着</td><td align="center" valign="middle" >病位 = 脾</td><td align="center" valign="middle" >24</td><td align="center" valign="middle" >证型 = 肝郁脾虚</td><td align="center" valign="middle" >23</td><td align="center" valign="middle" >0.96</td></tr><tr><td align="center" valign="middle" >3</td><td align="center" valign="middle" >中医诊断 = 肝着</td><td align="center" valign="middle" ></td><td align="center" valign="middle" >37</td><td align="center" valign="middle" >证型 = 肝郁脾虚</td><td align="center" valign="middle" >35</td><td align="center" valign="middle" >0.95</td></tr><tr><td align="center" valign="middle" >4</td><td align="center" valign="middle" >皮肤黄染 = 中度</td><td align="center" valign="middle" ></td><td align="center" valign="middle" >21</td><td align="center" valign="middle" >眼巩膜 = 黄染</td><td align="center" valign="middle" >17</td><td align="center" valign="middle" >0.81</td></tr><tr><td align="center" valign="middle" >5</td><td align="center" valign="middle" >眼巩膜 = 黄染</td><td align="center" valign="middle" ></td><td align="center" valign="middle" >21</td><td align="center" valign="middle" >皮肤黄染 = 中度</td><td align="center" valign="middle" >17</td><td align="center" valign="middle" >0.81</td></tr><tr><td align="center" valign="middle" >6</td><td align="center" valign="middle" >小便颜色 = 较黄</td><td align="center" valign="middle" ></td><td align="center" valign="middle" >21</td><td align="center" valign="middle" >病位 = 脾</td><td align="center" valign="middle" >17</td><td align="center" valign="middle" >0.81</td></tr><tr><td align="center" valign="middle" >7</td><td align="center" valign="middle" >病性 = 本虚标实</td><td align="center" valign="middle" >病位 = 脾</td><td align="center" valign="middle" >27</td><td align="center" valign="middle" >证型 = 肝郁脾虚</td><td align="center" valign="middle" >20</td><td align="center" valign="middle" >0.8</td></tr><tr><td align="center" valign="middle" >8</td><td align="center" valign="middle" >小便颜色 = 较黄</td><td align="center" valign="middle" ></td><td align="center" valign="middle" >21</td><td align="center" valign="middle" >证型 = 肝郁脾虚</td><td align="center" valign="middle" >15</td><td align="center" valign="middle" >0.71</td></tr><tr><td align="center" valign="middle" >9</td><td align="center" valign="middle" >腹部移动性浊音 = 阳性</td><td align="center" valign="middle" ></td><td align="center" valign="middle" >24</td><td align="center" valign="middle" >刻下症 = 腹胀</td><td align="center" valign="middle" >17</td><td align="center" valign="middle" >0.71</td></tr><tr><td align="center" valign="middle" >10</td><td align="center" valign="middle" >病性 = 本虚标实</td><td align="center" valign="middle" ></td><td align="center" valign="middle" >47</td><td align="center" valign="middle" >证型 = 肝郁脾虚</td><td align="center" valign="middle" >33</td><td align="center" valign="middle" >0.7</td></tr></tbody></table></table-wrap><p>表1. 关联规则计算结果</p><p>所示的决策树，其中正确分类为63.53%。</p><p>参与分类的属性很多，但经过算法剪枝后，进行分类的属性为身目尿黄染、皮肤粘膜黄染、胁痛等。积聚是腹内结块，或痛或胀的病证，黄疸、胁痛病后，湿浊留恋，气血蕴结，可导致其发生。图2中对积聚进行分类时，就涉及到了胁痛、皮肤粘膜轻度黄染等情况，与前面所述相吻合。</p><p>图2. 决策树分类结果图</p></sec></sec><sec id="s6"><title>4. 结语</title><p>正确的诊断对于确立治疗原则、指导用药以及调理康复等具有重要意义，医院数据库中含有大量有用的诊断信息，利用数据挖掘的相关技术可用来寻找病与症之间的联系、病与病之间的差异等，从而提高诊断水平，规范诊断过程。本文以肝病电子病历中的信息为数据来源，采用数据挖掘技术中关联规则与决策树分类，进行了探索性研究，找到了十条相关规则，并对记录数较多的中医肝病进行分类，形成决策树。算法分析的结果与事实医生诊断结果基本吻合，因此患者可以通过对比自己的临床症状，进行初步的疾病辅助预测，具有一定现实价值。此外，在以后的相关研究中需增加符合纳入标准的病例，提高算法的精度，使得预测结果更准确。</p></sec><sec id="s7"><title>基金项目</title><p>湖北省省级教学研究项目“医学信息生科研数据处理实战能力教科临三位一体培养模式研究”，项目编号：2012305；湖北中医药大学校级教学研究重点项目“医学信息生‘241’创新人才培养模式研究”，项目编号：2014A08。</p></sec><sec id="s8"><title>文章引用</title><p>解 丹,王斯琪,汪玉薇. 中医肝病电子病历病证关联分析探索性研究Exploratory Research on Association Rules about Electronic Medical Records of TCM Liver Disease[J]. 软件工程与应用, 2015, 04(05): 96-100. http://dx.doi.org/10.12677/SEA.2015.45013</p></sec><sec id="s9"><title>参考文献 (References)</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.16198-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">余世峰, 刘凤斌, 罗仕娟 (2010) 中医肝病临床疗效评价量表理论结构模型构建的探讨. 中药新药与临床药理, 4, 449-450.</mixed-citation></ref><ref id="hanspub.16198-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">王融冰 (2015) 肝病的中医药治疗. 临床肝胆病杂志, 1, 2-6.</mixed-citation></ref><ref id="hanspub.16198-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">郑文娟, 王会青, 陈俊杰 (2013) 基于Weka平台的FCM算法的研究与实现. 计算机应用与软件, 10, 41-44.</mixed-citation></ref><ref id="hanspub.16198-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">郭淑红 (2010) 基于Apriori算法的股票分析仿真系统. 计算机仿真, 6, 334-337.</mixed-citation></ref><ref id="hanspub.16198-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">杨霖, 洪菲, 杨华元 (2014) 针刺手法数据挖掘的关联规则与分类. 上海针灸杂志, 11, 1066.</mixed-citation></ref><ref id="hanspub.16198-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">陈志泊 (2009) 数据仓库与数据挖掘. 清华大学出版社, 北京, 116.</mixed-citation></ref></ref-list></back></article>