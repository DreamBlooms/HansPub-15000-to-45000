<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">HJWC</journal-id><journal-title-group><journal-title>Hans Journal of Wireless Communications</journal-title></journal-title-group><issn pub-type="epub">2163-3983</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/HJWC.2015.56019</article-id><article-id pub-id-type="publisher-id">HJWC-16558</article-id><article-categories><subj-group subj-group-type="heading"><subject>HJWC20150600000_16480497.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject></subj-group></article-categories><title-group><article-title>
 
 
  无线视频图像质量评估
  Evaluation of Wireless Video Image Quality
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>代</surname><given-names>雨凡</given-names></name><xref ref-type="aff" rid="aff1"><sub>1</sub></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib></contrib-group><aff id="aff1"><label>1</label><addr-line>华中师范大学第一附属中学，湖北 武汉</addr-line></aff><author-notes><corresp id="cor1">* E-mail:<email>xw@mail.hbut.edu.cn</email></corresp></author-notes><pub-date pub-type="epub"><day>08</day><month>12</month><year>2015</year></pub-date><volume>05</volume><issue>06</issue><fpage>138</fpage><lpage>143</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   介绍了两种经典的图像质量客观评价方法：峰值信噪比(PSNR)和结构相似度(SSIM)，并针对无线视频有损传输质量进行了综合评估。实验结果表明，对于运动速度较小的视频，当封包错误率高于0.25时，SSIM方法优于PSNR方法；对于运动速度较大的视频，PSNR方法则优于SSIM方法。 This paper describes two classical image quality assessment methods: PSNR (Peak Signal to Noise Ratio) and SSIM (Structural Similarity), both of which will be used to evaluate the lossy transmis-sion image quality. Experimental results show that the SSIM method is superior to PSNR method when packet error rate is higher than 0.25 for low-motion videos, while the PSNR method is better than SSIM method for high-motion videos. 
  
 
</p></abstract><kwd-group><kwd>无线传输，视频图像质量，PSNR，SSIM, Wireless Transmission</kwd><kwd> Video Image Quality</kwd><kwd> PSNR</kwd><kwd> SSIM</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>无线视频图像质量评估<sup> </sup></title><p>代雨凡</p><p>华中师范大学第一附属中学，湖北 武汉</p><disp-formula id="hanspub.16558-formula213"><graphic xlink:href="http://html.hanspub.org/file/5-1730183x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>收稿日期：2015年11月18日；录用日期：2015年12月5日；发布日期：2015年12月21日</p><disp-formula id="hanspub.16558-formula214"><graphic xlink:href="http://html.hanspub.org/file/5-1730183x7_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>介绍了两种经典的图像质量客观评价方法：峰值信噪比(PSNR)和结构相似度(SSIM)，并针对无线视频有损传输质量进行了综合评估。实验结果表明，对于运动速度较小的视频，当封包错误率高于0.25时，SSIM方法优于PSNR方法；对于运动速度较大的视频，PSNR方法则优于SSIM方法。</p><p>关键词 :无线传输，视频图像质量，PSNR，SSIM</p><disp-formula id="hanspub.16558-formula215"><graphic xlink:href="http://html.hanspub.org/file/5-1730183x8_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s3"><title>1. 引言</title><p>无线视频业务是通过无线网络和移动终端为用户提供视频内容的通信服务，如视频电话、视频会议、视频点播、网络电视等。由于网络带宽有限，视频传输前需进行压缩处理，这必然导致视频编码失真 [<xref ref-type="bibr" rid="hanspub.16558-ref1">1</xref>] 。此外，网络丢包和时延几乎不可避免，它们对接收端视频图像质量或用户体验质量都有很大的影响 [<xref ref-type="bibr" rid="hanspub.16558-ref2">2</xref>] 。</p><p>目前视频图像质量评估方法主要分为主观评价和客观评价两大类 [<xref ref-type="bibr" rid="hanspub.16558-ref3">3</xref>] 。其中，主观评价方法是人为地评价总体图像质量，常用的有平均主观评分(MOS)，该评价方法实时性差，不同观察者对同一图像的主观感受及评判标准也不尽相同。客观评价方法一般通过比较原始图像序列与经编/解码后的图像序列来评价视频质量，常用的有峰值信噪比(PSNR)和均方误差(MSE)，由于是在像素级上进行操作，因此它们对视频时域和空域上的失真非常敏感。</p><p>结构相似度(SSIM) [<xref ref-type="bibr" rid="hanspub.16558-ref4">4</xref>] 或复小波结构相似度(CW-SSIM) [<xref ref-type="bibr" rid="hanspub.16558-ref5">5</xref>] 是一种衡量图像质量的新指标，它从图像组成的角度将结构信息定义为独立于亮度、对比度的反映场景中物体结构的属性，将失真建模为亮度、对比度和结构三个不同因素的组合，并用均值作为亮度的估计，标准差作为对比度的估计，协方差作为结构相似程度的度量 [<xref ref-type="bibr" rid="hanspub.16558-ref6">6</xref>] 。</p><p>本文针对不同运动速度大小的视频文件，将综合应用PSNR与SSIM方法进行无线传输效果评估，为今后的无线视频传输质量提供一定的理论依据。</p></sec><sec id="s4"><title>2. 基于PSNR的图像质量评价分析</title><p>PSNR是目前使用较普遍的图像客观评价方法。其计算方法简单，便于操作，同时可以大致反映图像质量。PSNR的计算公式是：</p><disp-formula id="hanspub.16558-formula216"><label>(1)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/5-1730183x9_hanspub.png"  xlink:type="simple"/></disp-formula><p>其中，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x10_hanspub.png" xlink:type="simple"/></inline-formula>为原始图像大小，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x11_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x12_hanspub.png" xlink:type="simple"/></inline-formula>分别为原始图像与重建图像对应的灰度值，式中<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x13_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x14_hanspub.png" xlink:type="simple"/></inline-formula>是对于亮度部分用几个比特来表示一个像素的值。计算公式是比较原始图像和重建图像的亮度部分，这个值越大表示重建图像与原始图像的差距越小，即画面质量越好。实验结果表明，当封包错误率一定时，GOP (Group of Picture)长度较短时，PSNR值较大，图像质量较好；当GOP长度一定时，量化参数Q越小，PSNR值越大；封包长度越长时，PSNR值越大，图像质量越好。</p></sec><sec id="s5"><title>3. 基于SSIM的图像质量评价分析</title><p>基于人类视觉系统更适宜于提取可视区域中的结构信息这一假设，Wang等人 [<xref ref-type="bibr" rid="hanspub.16558-ref6">6</xref>] 提出了SSIM算法，该算法结构框图如图1所示。</p><p>该算法从原始图像与重建图像的亮度、对比度及结构信息这三个方面进行比较，构建相应的模型，并将这三个模型综合成一个SSIM值。图1中<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x15_hanspub.png" xlink:type="simple"/></inline-formula>与<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x16_hanspub.png" xlink:type="simple"/></inline-formula>分别表示原始视频帧和重建视频帧，设<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x17_hanspub.png" xlink:type="simple"/></inline-formula>、<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x18_hanspub.png" xlink:type="simple"/></inline-formula>、<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x19_hanspub.png" xlink:type="simple"/></inline-formula>分别为亮度比较函数、对比度比较函数、结构相似性比较函数，则有：</p><p>图1. SSIM算法结构框图</p><disp-formula id="hanspub.16558-formula217"><label>(2)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/5-1730183x21_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x22_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x23_hanspub.png" xlink:type="simple"/></inline-formula>分别表示原始图像和重建图像的亮度均值，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x24_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x25_hanspub.png" xlink:type="simple"/></inline-formula>分别表示原始图像和重建图像的协方差，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x26_hanspub.png" xlink:type="simple"/></inline-formula>表示二者的协方差，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x27_hanspub.png" xlink:type="simple"/></inline-formula>、<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x28_hanspub.png" xlink:type="simple"/></inline-formula>、<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x29_hanspub.png" xlink:type="simple"/></inline-formula>是为了避免分母为零定义的很小的常数，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x30_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x31_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x32_hanspub.png" xlink:type="simple"/></inline-formula>为像素值的动态变化。当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x33_hanspub.png" xlink:type="simple"/></inline-formula>时，SSIM的计算公式为：</p><disp-formula id="hanspub.16558-formula218"><label>(3)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/5-1730183x34_hanspub.png"  xlink:type="simple"/></disp-formula><p>SSIM的取值范围为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x35_hanspub.png" xlink:type="simple"/></inline-formula>，其数值越大，表明图像失真越小，即图像质量越好。</p></sec><sec id="s6"><title>4. 实验仿真结果及分析</title><p>本文实验视频bus_cif.yuv、container_cif.yuv与news_cif.yuv分别是高速运动、中速运动和低速运动下的视频文件。本文拟用PSNR、SSIM图像客观评价方法针对这三类视频综合进行无线传输效果评估，仿真实验在NS-2平台进行。</p><p>运用PSNR方法评估时，三种视频文件格式均为CIF，设定压缩方式为mpeg4，封包长度MTU设为1000，Q值设为2，让三种运动速度大小的视频文件分别在封包错误率为0、0.01、0.02、0.03、0.04、0.05、0.06、0.07、0.08、0.09、0.1的情况下各进行50次仿真，然后取平均值，所得实验结果如图2所示。</p><p>运用SSIM算法评估时，其模型参数设置为：<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x36_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x37_hanspub.png" xlink:type="simple"/></inline-formula> (<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x38_hanspub.png" xlink:type="simple"/></inline-formula>、<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x39_hanspub.png" xlink:type="simple"/></inline-formula>的绝对值足够小就行)，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-1730183x40_hanspub.png" xlink:type="simple"/></inline-formula>。同样是让三种运动速度大小的视频文件分别在封包错误率为0、0.01、0.02、0.03、0.04、0.05、0.06、0.07、0.08、0.09、0.1的情况下各进行50次仿真，然后取平均值，所得实验结果如图3所示。</p><p>对比图2和图3可以看出，当封包错误率在0到0.1之间时，PSNR值和SSIM值都会随着封包错误率的增大而降低。这主要是因为当封包错误率越来越大时，封包遗失的概率就会很高，这必然导致视频</p><p>在压缩解压中无法正确译码，从而使视频质量降低。无论是PSNR评估方法还是SSIM评估方法，处于低速运动视频，图像质量明显好于运动速度较大的视频。实验给出了三种运动速度大小的视频文件在封包错误率为0时的原始图像截图，如图4所示。</p><p>图2. 不同传输错误率下的PSNR</p><p>图3. 不同传输错误率下的SSIM</p><p>图4. 传输错误率为0时的原始图像</p><p>针对这三种运动速度大小的视频，在以上实验的基础上，封包错误率范围变为0.1到0.35，其它条件均不变，分别用PSNR和SSIM方法对这三种视频进行传输效果评估，实验数据为仿真50次所求得的平均值，实验结果如图5和图6所示。三种视频在封包错误率为0.25时的失真图像截图如图7所示。</p><p>图5. 不同传输错误率下的PSNR</p><p>图6. 不同传输错误率下的SSIM</p><p>图7. 传输错误率为25%时的失真图像</p><p>对比图5和图6可以看出，PSNR值和SSIM值均随着封包错误率的增大而减小；对于低速运动的视频图像，当封包错误率逐渐增大时，PSNR值依然较大，但SSIM值在封包错误率为0.2时开始骤降，由图7可以看出，对于低速运动的视频图像，采用SSIM评估方法比PSNR方法更符合人眼主观观察结果；对于高速运动的视频图像，图像清晰度差别较大，但SSIM评估值相差较小，因此对于物体中速或高速运动的视频，PSNR评估方法比SSIM方法更符合人眼主观感受。</p></sec><sec id="s7"><title>5. 结论</title><p>本文介绍了两种经典的图像质量客观评价方法，并通过仿真软件，对不同运动速度大小的视频进行有损传输质量评估，通过实验结果发现，当封包错误率增大到0.25时，对于低速运动的视频图像，SSIM评估方法比PSNR评估方法更符合人眼主观观察结果，但对于运动速度较大的图像，特别是高速运动的视频图像，PSNR评估方法更优于SSIM方法。</p></sec><sec id="s8"><title>文章引用</title><p>代雨凡. 无线视频图像质量评估Evaluation of Wireless Video Image Quality[J]. 无线通信, 2015, 05(06): 138-143. http://dx.doi.org/10.12677/HJWC.2015.56019</p></sec><sec id="s9"><title>参考文献 (References)</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.16558-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">Sullivan, G.J., Ohm, J., Han, W.-J., et al. (2012) Overview of the High Efficiency Video Coding (HEVC) Standard. IEEE Transactions on Circuits and Systems for Video Technology, 22, 1649-1668.  
&lt;br&gt;http://dx.doi.org/10.1109/TCSVT.2012.2221191</mixed-citation></ref><ref id="hanspub.16558-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">Liu, Z. and Li, F. (2015) Content-Based Video Evaluation Model for Users’ Quality of Experience. Microelectronics &amp; Computer, 32, 73-77.</mixed-citation></ref><ref id="hanspub.16558-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">Yang, M. and Sowmya, A. (2014) New Image Quality Evaluation Metric for Underwater Video. IEEE Signal Processing Letters, 21, 1215-1219. &lt;br&gt;http://dx.doi.org/10.1109/LSP.2014.2330848</mixed-citation></ref><ref id="hanspub.16558-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">Wang, Z. and Bovik, A.C. (2009) Mean Squared Error: Love It or Leave It? A New Look at Signal Fidelity Measures. IEEE Signal Processing Magazine, 26, 98-117. &lt;br&gt;http://dx.doi.org/10.1109/MSP.2008.930649</mixed-citation></ref><ref id="hanspub.16558-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Brooks, A.C., Zhao, X. and Pappas, T.N. (2008) Structural Si-milarity Quality Metrics in a Coding Context: Exploring the Space of Realistic Distortions. IEEE Transactions on Image Processing, 17, 1261-1273.  
&lt;br&gt;http://dx.doi.org/10.1109/TIP.2008.926161</mixed-citation></ref><ref id="hanspub.16558-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">Wang, Z., Bovik, A.C., Sheikh, H.R., et al. (2004) Image Quality Assessment: From Error Visibility to Structural Similarity. IEEE Transactions on Image Processing, 13, 600-612. &lt;br&gt;http://dx.doi.org/10.1109/TIP.2003.819861</mixed-citation></ref></ref-list></back></article>