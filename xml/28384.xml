<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">MOS</journal-id><journal-title-group><journal-title>Modeling and Simulation</journal-title></journal-title-group><issn pub-type="epub">2324-8696</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/MOS.2019.81001</article-id><article-id pub-id-type="publisher-id">MOS-28384</article-id><article-categories><subj-group subj-group-type="heading"><subject>MOS20190100000_73722174.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject><subject> 工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于CATIA二次开发的柔性链装配技术研究
  Automatic Assembly Technology of Flexlink Chain Based on Secondary Development with CATIA
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>沈</surname><given-names>刚</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>冯</surname><given-names>卫星</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>官</surname><given-names>雄明</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>公孙</surname><given-names>继雄</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>红塔烟草(集团)有限责任公司，云南 玉溪</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>09</day><month>01</month><year>2019</year></pub-date><volume>08</volume><issue>01</issue><fpage>1</fpage><lpage>5</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  本文基于CATIA的二次开发技术，分析、讨论并开发了柔性链自动化装配工具，实现了柔性链各链节约束配合的自动创建与DMU运动学仿真分析，为柔性链运行导轨设计提供了可行性验证方案，提高了装配设计效率，缩短了产品开发周期。
   In order to achieve the automatic assembly of Flexlink chains, and analyze kinematic collapse by DUM, a method based on CATIA API was studied in the paper. It provides a feasibility verification scheme for the running rail of chains, which improves the assembly design efficiency and shortens the product development cycle.
 
</p></abstract><kwd-group><kwd>柔性链装配，CATIA，二次开发, Flexlink Chain Assembly</kwd><kwd> CATIA</kwd><kwd> Secondary Development</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>基于CATIA二次开发的柔性链装配 技术研究<sup> </sup></title><p>沈刚，冯卫星，官雄明，公孙继雄</p><p>红塔烟草(集团)有限责任公司，云南 玉溪</p><p><img src="//html.hanspub.org/file/1-2570201x1_hanspub.png" /></p><p>收稿日期：2018年12月17日；录用日期：2019年1月2日；发布日期：2019年1月9日</p><disp-formula id="hanspub.28384-formula7"><graphic xlink:href="//html.hanspub.org/file/1-2570201x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>本文基于CATIA的二次开发技术，分析、讨论并开发了柔性链自动化装配工具，实现了柔性链各链节约束配合的自动创建与DMU运动学仿真分析，为柔性链运行导轨设计提供了可行性验证方案，提高了装配设计效率，缩短了产品开发周期。</p><p>关键词 :柔性链装配，CATIA，二次开发</p><disp-formula id="hanspub.28384-formula8"><graphic xlink:href="//html.hanspub.org/file/1-2570201x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2019 by authors and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/1-2570201x7_hanspub.png" /> <img src="//html.hanspub.org/file/1-2570201x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>CATIA软件设计人员为了满足高级用户的定制化工作需求，为用户预留了众多的二次开发接口 [<xref ref-type="bibr" rid="hanspub.28384-ref1">1</xref>] ，用户可使用这些接口完成自定义命令按钮、编写宏程序、自动装配等高级功能。</p><p>这些接口的开放，极大地提升了软件的易用性和拓展性，对提高工作人员的工作效率、节约研发成本和缩短开发周期有着重要作用 [<xref ref-type="bibr" rid="hanspub.28384-ref2">2</xref>] 。</p><p>空间柔性链是一种轻型的组合立体输送系统，可以完成水平、螺旋、翻转等复杂输送形式。柔性链设计前期，在三维软件内虚拟装配耗费时间长，劳动成本高，干涉检查困难。本文旨在开发柔性链自动装配工具，保证设计的精准性，提高设计人员工作效率。</p></sec><sec id="s4"><title>2. 柔性链装配探讨</title><p>空间柔性链主要运用于食品加工运输行业，输送距离长，链节数量多，往往存在两个方向(垂直、水平)以上的侧弯(如图1所示)，文献 [<xref ref-type="bibr" rid="hanspub.28384-ref3">3</xref>] 讨论了普通输送链、坦克链的高效装配方法。Solidworks软件提供沿曲线的自动装配技术，装配人员只需选择装配曲线与链节、设置链节距即可完成空间链条装配。</p><p>图1. 空间柔性链垂直、水平侧弯示意</p><p>本文旨在讨论CATIA软件中，空间柔性链的自动装配技术，并通过DMU模块驱动链条运转进行动态干涉检查。</p><p>以笔者项目中设计的烟条夹持输送链为例，800个链节，需要创建三千多个约束，手动装配随着链节数的增加，计算机运算量的提升，添加单个配合所需花费的时间将急剧升高。进行输送链DMU分析文献的前期投入劳动强度巨大。</p><p>以最少两个链节为例，要完全约束链节并实施DUM分析，至少需要为链节及销轴创建以下配合约束：(表1)</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Assembly mate type of flexible chain</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >约束类型</th><th align="center" valign="middle" >被约束零件1</th><th align="center" valign="middle" >被约束零件2</th></tr></thead><tr><td align="center" valign="middle" >点线约束</td><td align="center" valign="middle" >装配线</td><td align="center" valign="middle" >销轴1</td></tr><tr><td align="center" valign="middle" >线线滚动约束</td><td align="center" valign="middle" >装配线</td><td align="center" valign="middle" >销轴1</td></tr><tr><td align="center" valign="middle" >圆柱副</td><td align="center" valign="middle" >链节1</td><td align="center" valign="middle" >销轴1</td></tr><tr><td align="center" valign="middle" >点线约束</td><td align="center" valign="middle" >链节1</td><td align="center" valign="middle" >装配线</td></tr><tr><td align="center" valign="middle" >铰链副</td><td align="center" valign="middle" >销轴2</td><td align="center" valign="middle" >链节1</td></tr><tr><td align="center" valign="middle" >铰链副</td><td align="center" valign="middle" >销轴2</td><td align="center" valign="middle" >链节2</td></tr><tr><td align="center" valign="middle" >点线约束</td><td align="center" valign="middle" >链节2</td><td align="center" valign="middle" >装配线</td></tr></tbody></table></table-wrap><p>表1. 柔性链装配所需配合类型</p></sec><sec id="s5"><title>3. 批量装配的实现</title><p>手动约束链节与销轴时，零件数量巨大，手动添加约束效率极低，特别是选取约束点、轴线、面时，极易选错、排错亦相当困难。</p><p>自动装配方案的实现：</p><p>1) 首先获取链条装配线的总长度L；</p><p>2) 手动导入一个链节与销钉并添加相应配合，在DMU模块驱动该链节；</p><p>3) 通过API移动一个节距P，实例化链节与销钉并创建相应运动副；</p><p>4) 循环执行第3步，直到链节首尾相连，至此即完成空间柔性链装配及DMU运动学仿真；</p><p>5) 在DMU模块为装配完成的柔性链添加动态碰撞检测，柔性链运动状态下即可验证柔性链导轨设计的合理性。</p><p>流程图如图2所示。</p><p>图2. 柔性链自动装配流程图</p></sec><sec id="s6"><title>4. 核心代码解析</title><p>1) 获取处于激活状态的运动机构：</p><p>Set cActiveMechanisms = oRootProduct.GetTechnologicalObject(Mechanisms)</p><p>Set WorkMechanism = cActiveMechanisms.Item(1)</p><p>2) 获取水平铰链副的参考线与参考面：</p><p>sRefName = sChainName&amp;i&amp; /!Axis.1</p><p>Set oRefLine1 = oRootProduct.CreateReferenceFromName(sRefName)</p><p>sRefName = sConnectName&amp;i + 1 &amp; /!Axis.2</p><p>Set oRefLine2 = oRootProduct.CreateReferenceFromName(sRefName)</p><p>sRefName = sChainName&amp;i&amp; /!Plane.1</p><p>Set oRefPlane1 = oRootProduct.CreateReferenceFromName(sRefName)</p><p>sRefName = sConnectName&amp;i + 1 &amp; /!zx plane</p><p>Set oRefPlane2 = oRootProduct.CreateReferenceFromName(sRefName)</p><p>3) 创建水平铰链副：</p><p>Set oNewJoint = WorkMechanism.AddJoint(CATKinRevoluteJoint, rotateJointRef)</p><p>与步骤b、c相似可以创建垂直铰链副。</p><p>4) 获取点-线副的参考点与参考线：</p><p>sRefName = sRootName&amp; /Guideline.1/!Join.1</p><p>Set oRefLine1 = oRootProduct.CreateReferenceFromName(sRefName)</p><p>sRefName = sChainName&amp;i + 1 &amp; /!Point.6</p><p>Set oRefPoint = oRootProduct.CreateReferenceFromName(sRefName)</p><p>5) 创建点-线副：</p><p>Set oNewJoint = WorkMechanism.AddJoint(CATKinPointCurveJoint, pointCurveJointRef)</p><p>以上程序均在Windows 7系统下的CATIA P3V5R21版本中调试通过。</p></sec><sec id="s7"><title>5. 实例测试</title><p>利用本文所述方法，通过对CATIA的二次开发建立了柔性链的自动装配工具。以图3左所示空间曲线为柔性链装配参考线验证文中所述方法。图中柔性链节距33.5 mm，装配参考线周长4489 mm，所需链节数134个。图3右是完成装配的柔性链，用时380秒。自动装配的实现，将装配人员从单一重复的命令操作中解放出来，提高工作效率的同时，更保证了柔性链的装配质量。</p><p>图3. 柔性链批量装配效果</p><p>在DMU模块内为当前激活的运动机构设置适当的运动仿真参数以及动态碰撞监测值即可对所设计柔性链的运动学性能进行仿真分析。图4是该输送链的碰撞检查结果，链节在运行至水平转弯时产生最大0.14 mm的干涉，为解决该问题，可增大轨道转弯半径，或为每个链节产生干涉的部分添加适当倒角。</p><p>图4. DMU碰撞检查</p></sec><sec id="s8"><title>6. 结论</title><p>本文针对实际工作过程中空间柔性链条手动装配操作繁琐、准确率低、劳动强度大的难题，利用CATIA的二次开发工具设计出了自动装配工具并验证了其可行性。本方法极大地提高了空间链装配效率和准确率，装配完成的同时，DMU运动机构亦被创建，装配完成即可进行DMU仿真。</p></sec><sec id="s9"><title>基金项目</title><p>红塔烟草(集团)有限责任公司科技项目“基于仿真的红塔集团卷接包设备智能管理平台研究与应用”(S-6018002)。</p></sec><sec id="s10"><title>文章引用</title><p>沈刚,冯卫星,官雄明,公孙继雄. 基于CATIA二次开发的柔性链装配技术研究Automatic Assembly Technology of Flexlink Chain Based on Secondary Development with CATIA[J]. 建模与仿真, 2019, 08(01): 1-5. https://doi.org/10.12677/MOS.2019.81001</p></sec><sec id="s11"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.28384-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">陆皆炎, 赵高晖, 李祥, 等. 基于CATIA二次开发的智能装配技术[J]. 机械设计与研究, 2012, 28(5): 84-86.</mixed-citation></ref><ref id="hanspub.28384-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">朱立峰, 胥光申, 张守京. 基于CATIA二次开发的零组件智能装配技术[J]. 轻工机械, 2015, 33(6): 65-67.</mixed-citation></ref><ref id="hanspub.28384-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">王仲勋, 曲鲁滨, 柴敬平, 等. 基于SolidWorks的链条路径配合装配及运动仿真[J]. 机械工程师, 2013(9): 115-116.</mixed-citation></ref></ref-list></back></article>