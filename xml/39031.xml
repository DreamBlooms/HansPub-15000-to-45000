<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">IaE</journal-id><journal-title-group><journal-title>Instrumentation and Equipments</journal-title></journal-title-group><issn pub-type="epub">2332-6980</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/IaE.2020.84015</article-id><article-id pub-id-type="publisher-id">IaE-39031</article-id><article-categories><subj-group subj-group-type="heading"><subject>IaE20200400000_31200902.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于Matlab的模糊自整定PID控制器仿真研究
  Simulation Study of Fuzzy Self-Tuning PID Controller Based on Matlab
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>袁</surname><given-names>静雨</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>虞</surname><given-names>启凯</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>张</surname><given-names>凡雨</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>南京科技职业学院智能制造学院，江苏 南京</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>07</day><month>12</month><year>2020</year></pub-date><volume>08</volume><issue>04</issue><fpage>117</fpage><lpage>123</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  
    为了克服传统PID控制缺点，发挥其优点，为了提高系统的动态性能，本文利用模糊控制方法，在线实现对PID参数自整定，并举例使用MATLAB对系统进行仿真，验证了该方法的可行性，对其应用具有较高的参考价值。&lt;br/&gt;In order to overcome the shortcomings of traditional PID control, to give full play to its advantages, to improve the dynamic performance of the system, this paper uses fuzzy control method to realize on-line self-tuning of PID parameters, and uses MATLAB to simulate the system to verify the feasibility of the method, which has a high reference value for its application. 
   
   
    
  
 
</p></abstract><kwd-group><kwd>模糊PID控制，Matlab，参数自整定, Fuzzy PID Controller</kwd><kwd> Matlab</kwd><kwd> Parameter Self-Tuning</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>摘要</title><p>为了克服传统PID控制缺点，发挥其优点，为了提高系统的动态性能，本文利用模糊控制方法，在线实现对PID参数自整定，并举例使用MATLAB对系统进行仿真，验证了该方法的可行性，对其应用具有较高的参考价值。</p></sec><sec id="s2"><title>关键词</title><p>模糊PID控制，Matlab，参数自整定</p></sec><sec id="s3"><title>Simulation Study of Fuzzy Self-Tuning PID Controller Based on Matlab<sup> </sup></title><p>Jingyu Yuan, Qikai Yu<sup>*</sup>, Fanyu Zhang</p><p>School of Intelligent Manufacturing, Nanjing Polytechnic Institute, Nanjing Jiangsu</p><p><img src="//html.hanspub.org/file/1-2990295x4_hanspub.png" /></p><p>Received: Nov. 9<sup>th</sup>, 2020; accepted: Nov. 30<sup>th</sup>, 2020; published: Dec. 7<sup>th</sup>, 2020</p><p><img src="//html.hanspub.org/file/1-2990295x5_hanspub.png" /></p></sec><sec id="s4"><title>ABSTRACT</title><p>In order to overcome the shortcomings of traditional PID control, to give full play to its advantages, to improve the dynamic performance of the system, this paper uses fuzzy control method to realize on-line self-tuning of PID parameters, and uses MATLAB to simulate the system to verify the feasibility of the method, which has a high reference value for its application.</p><p>Keywords:Fuzzy PID Controller, Matlab, Parameter Self-Tuning</p><disp-formula id="hanspub.39031-formula13"><graphic xlink:href="//html.hanspub.org/file/1-2990295x7_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2020 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/1-2990295x8_hanspub.png" /> <img src="//html.hanspub.org/file/1-2990295x9_hanspub.png" /></p></sec><sec id="s5"><title>1. 引言</title><p>传统的PID控制因其算法可靠简单，鲁棒优良，可靠度高，在工业过程中得到了广泛的应用，特别适用于建立一个精确的数学模型确定控制系统的确定性控制。李文宇等对PID控制进行了研究，并取得了一定的应用 [<xref ref-type="bibr" rid="hanspub.39031-ref1">1</xref>] - [<xref ref-type="bibr" rid="hanspub.39031-ref7">7</xref>]，但在非线性、时变、耦合和参数及结构不确定系统中，传统的PID控制器参数整定比较困难，结果会使得系统性能变差，导致工况适应性不好。另外针对复杂的控制过程，传统PID控制器制效果更差，特别是参数调节无法达到理想效果。基于这一点，为了拓展PID控制器适应范围，特别是复杂工况和控制高要求情况，参数自动整定对PID控制器尤为关键。随着时代的进步，数字智能控制器已经出现，开始应用实际生产中，参数自动整定可以智能实现，文献 [<xref ref-type="bibr" rid="hanspub.39031-ref8">8</xref>] - [<xref ref-type="bibr" rid="hanspub.39031-ref13">13</xref>] 将PID控制和模糊控制相结合进行研究，并在某些领域取得了不错的效果。本文结合了模糊控制与PID控制，运用模糊推理方法，在线实现对PID参数自整定，调整最佳PID参数，设计了参数模糊的自整定PID控制器，并举例使用MATLAB对系统进行仿真。</p><p>在PID控制器参数模糊自整定系统中，把偏差 e f 和偏差变化率 e ˙ f 作为输入，通过模糊推理的方法，可以实现PID参数 e f 和 e ˙ f 不同时刻自整定需求。便构PID控制器参数自整定，参数模糊自整定如图1所示。</p><p>图1. 模糊自整定PID控制器结构</p><p>模拟PID控制器是线性控制器，是连续的，表达式如式(1)及式(2)所示。</p><p>e f ( t ) = r i n ( t ) − o u t ( t ) (1)</p><p>u ( t ) = k p e f ( t ) + 1 T i ∫ 0 t e f ( t ) d t + T d d e f ( t ) d t (2)</p><p>式中， k p ——比例系数； T i ——微积常数； T d ——微分常数； r i n ( t ) 为输入信号； o u t ( t ) 为输出信号； u ( t ) 为控制器输出。</p><p>数字PID控制器有位置式及增量式，表达式如式(3)及式(4)所示。</p><p>u ( k ) = k p e f ( k ) + k i ∑ j = 0 k e f ( j ) T + k d e f ( k ) − e f ( k − 1 ) T (3)</p><p>Δ u ( k ) = k p ( e ( k ) − e f ( k − 1 ) ) + k i e f ( k ) + k d ( e f ( k ) − 2 e f ( k − 1 ) + e f ( k − 2 ) ) (4)</p><p>式中， k i = k p / T i , k d = k p / T d ，T为采样周期，k为采样序号； u ( k ) 为第k次采用时刻的计算机输出值。</p><p>PID控制器的参数 k p ， k i ， k d 调整，是利用模糊规则找到其与输入误差 e f 和误差变化率 e ˙ f 之间关系，在系统运行时通过一个持续的模糊检测 e f 和 e ˙ f ，根据模糊控制处理原则对3个控制参数分别进行在线的模糊修改，以便达到系统动态、静态性能要求。</p></sec><sec id="s6"><title>2. 糊控制器的设计</title><sec id="s6_1"><title>2.1. 语言变量隶属度函数的确定</title><p>模糊PID控制是通过计算机采样被控对象的精确值，并与给定值比较,得到误差 e f ，并误差变化率 e ˙ f 一起作为模糊控制器的输入量。再经过根据模糊推理得到ID参数 k p ， k i ， k d ，这样可以使不同时刻的 e f 和 e ˙ f 对PID参数自整定要求得到满足。其中 k ′ p ， k ′ i ， k ′ d 为预整定值。 k p = k ′ p + Δ k p ， k i = k ′ i + Δ k i ， k d = k ′ d + Δ k d 。</p><p>对于两输入( e f 和 e ˙ f )和控制器三输出( k p ， k i ， k d )都采用如下模糊集：</p><p>{负大，负中，负小，零，正小，正中，正大}，用英文字头缩写为{NB, NM, NS, ZO, PS, PM, PB}，其中 e f 和 e ˙ f 的论域为[−3, −2, −1, 0, 1, 2, 3]， k p ， k i ， k d 的论域为[−6, −4, −2, 0, 2, 4, 6]，隶属函数曲线见图2。</p><p>图2. e f 和 e ˙ f 隶属函数曲线</p><p>k p ， k i ， k d 的模糊规则表建立好后，可对 k p ， k i ， k d 进行自适应校正。应用模糊合成推理设计PID参数的模糊矩阵表，查出修正参数代入式(5)计算：</p><p>k p = k ′ p + { e f , e ˙ f } p , k i = k ′ i + { e f , e ˙ f } i , k d = k ′ d + { e f , e ˙ f } d (5)</p><p>具体实现如工作流程图3所示，完成对PID参数在线自动校正。其隶属函数为：</p><p>图3. 模糊PID控制在线自校正流程图</p></sec><sec id="s6_2"><title>2.2. 建立模糊控制器的控制规则表</title><p>系统输出特性关键是对参数 k p 、 k i 和 k d 的整定，参数 k p 、 k i 和 k d 又与输入参数 e f 和 e ˙ f 有关，参数 k p 、 k i 和 k d 自整定原则如下：</p><p>1) 当 | e f | 数值大时，无论误差是变大还是变小，都选择 | e f | 最大(或最小)值输出，这样就能够对误差迅速调整。另外为了避免积分饱和现象，此时参数 k p 取值应较大，参数 k i 取较小值，参数 k d 取零。</p><p>2) 当 e f ∗ e ˙ f &gt; 0 时，即误差绝对值在增大。当误差绝对值较大时，加大控制器控制作用，使得误差绝对值朝变小，此时参数 k p 取值应较大，参数 k d 也不能太大，参数 k i 取较小的值。另外当误差绝对值较小时，控制器只需要作较小调节就可以，只要阻止误差绝对值变大即可。</p><p>3) 当 e f ∗ e ˙ f &lt; 0 或 e f = 0 时，说明系统误差小，实际值与理论值接近，或者系统处在一个平稳状态。此时，控制器输出可保持不变。</p><p>4) 当 e f ∗ e ˙ f &gt; 0 , e f ≠ 0 时，表明实际值与理论值差值恒定或一致，系统处于稳态性能状态，参数 k p 和 k i 采取较大值，另外选取 k d 值适当可以避免误差在给定值附近振荡。设</p><p>{ k p = k ′ p + Δ k p k i = k ′ i + Δ k i k d = k ′ d + Δ k d (6)</p><p>式(6)中 k ′ p ， k ′ i 和 k ′ d 为传统PID参数，其值通常采用Z-N法确定。根据专家经验和PID参数的整定规则，用IF-THEN方式，得到 Δ k p 、 Δ k i 和 Δ k d 整定规则，如表1所示。</p><table-wrap-group id="1"><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> The fuzzy rules of Δ k p , Δ k i , Δ k </title></caption><table-wrap id="1_1"><table><tbody><thead><tr><th align="center" valign="middle" >e ˙ f Δ k p e f</th><th align="center" valign="middle" >NB</th><th align="center" valign="middle" >NM</th><th align="center" valign="middle" >NS</th><th align="center" valign="middle" >ZO</th><th align="center" valign="middle" >PS</th><th align="center" valign="middle" >PM</th><th align="center" valign="middle" >PB</th></tr></thead><tr><td align="center" valign="middle" >NB</td><td align="center" valign="middle" >PB</td><td align="center" valign="middle" >PB</td><td align="center" valign="middle" >PM</td><td align="center" valign="middle" >PM</td><td align="center" valign="middle" >PS</td><td align="center" valign="middle" >ZO</td><td align="center" valign="middle" >ZO</td></tr><tr><td align="center" valign="middle" >NM</td><td align="center" valign="middle" >PB</td><td align="center" valign="middle" >PB</td><td align="center" valign="middle" >PM</td><td align="center" valign="middle" >PS</td><td align="center" valign="middle" >PS</td><td align="center" valign="middle" >ZO</td><td align="center" valign="middle" >NS</td></tr><tr><td align="center" valign="middle" >NS</td><td align="center" valign="middle" >PM</td><td align="center" valign="middle" >PM</td><td align="center" valign="middle" >PM</td><td align="center" valign="middle" >PS</td><td align="center" valign="middle" >ZO</td><td align="center" valign="middle" >NS</td><td align="center" valign="middle" >NS</td></tr><tr><td align="center" valign="middle" >ZO</td><td align="center" valign="middle" >PM</td><td align="center" valign="middle" >PM</td><td align="center" valign="middle" >PS</td><td align="center" valign="middle" >ZO</td><td align="center" valign="middle" >NS</td><td align="center" valign="middle" >NM</td><td align="center" valign="middle" >NM</td></tr><tr><td align="center" valign="middle" >PS</td><td align="center" valign="middle" >PS</td><td align="center" valign="middle" >PS</td><td align="center" valign="middle" >ZO</td><td align="center" valign="middle" >NS</td><td align="center" valign="middle" >NS</td><td align="center" valign="middle" >NM</td><td align="center" valign="middle" >NM</td></tr><tr><td align="center" valign="middle" >PM</td><td align="center" valign="middle" >PS</td><td align="center" valign="middle" >ZO</td><td align="center" valign="middle" >NS</td><td align="center" valign="middle" >NM</td><td align="center" valign="middle" >NM</td><td align="center" valign="middle" >NM</td><td align="center" valign="middle" >NB</td></tr><tr><td align="center" valign="middle" >PB</td><td align="center" valign="middle" >ZO</td><td align="center" valign="middle" >ZO</td><td align="center" valign="middle" >NM</td><td align="center" valign="middle" >NM</td><td align="center" valign="middle" >NM</td><td align="center" valign="middle" >NB</td><td align="center" valign="middle" >NB</td></tr></tbody></table></table-wrap><table-wrap id="1_2"><table><tbody><thead><tr><th align="center" valign="middle" >e ˙ f Δ k p e f</th><th align="center" valign="middle" >NB</th><th align="center" valign="middle" >NM</th><th align="center" valign="middle" >NS</th><th align="center" valign="middle" >ZO</th><th align="center" valign="middle" >PS</th><th align="center" valign="middle" >PM</th><th align="center" valign="middle" >PB</th></tr></thead><tr><td align="center" valign="middle" >NB</td><td align="center" valign="middle" >NB</td><td align="center" valign="middle" >NB</td><td align="center" valign="middle" >NM</td><td align="center" valign="middle" >NM</td><td align="center" valign="middle" >NS</td><td align="center" valign="middle" >ZO</td><td align="center" valign="middle" >ZO</td></tr></tbody></table></table-wrap></table-wrap-group><p>表1. Δ k p , Δ k i , Δ k d 的模糊规则</p><p>根据误差 e f 和误差变化率 e ˙ f 的论域值，为模糊控制量的论域值：</p><p>e f , e ˙ f = { − 5 , − 4 , − 3 , − 2 , − 1 , 0 , 1 , 2 , 3 , 4 , 5 }</p><p>模糊控制子集可表示为：</p><p>e f , e ˙ f = { NB , NM , NS , ZO , PS , PM , PB } 。由两输入( e f , e ˙ f )，再根据三个参数模糊规则表构造一个三输出( Δ k p , Δ k i , Δ k d )的模糊控制器。</p></sec></sec><sec id="s7"><title>3. Matlab仿真</title><sec id="s7_1"><title>3.1. 模糊控制器的编辑</title><p>打开Matlab软件，运行Fuzzy函数，并新建一个的FIS文件，分别定义参数隶属函数和量化区间，定义输入模糊控制规则。设与(and)为min，或(or)为max，推理(implication)为min，合成(aggregation)为max，去模糊化(defuzzification)为重心平均(centroid)，FIS系统文件就建立了。</p></sec><sec id="s7_2"><title>3.2. 仿真实例</title><p>设被控对象传递函数为</p><p>G ( s ) = 523500 s 3 + 87.35 s 2 + 10470 s</p><p>根据模糊规则和隶属函数，对PID控制进行仿真，设参数 k p = 0.4 、 k i = 0 和 k d = 0 ，相应响应曲线见图4~7。</p><p>图4. 模糊PID控制阶跃响应</p><p>图5. 模糊PID控制误差响应</p><p>图6. 控制器输出u</p><p>图7. k p 、 k i 和 k d 的自整定过程</p><p>由于传递函数是一个3阶对象，传统的PID控制参数不容易得到理想结果，主要是整定 k p 、 k i 和 k d 3个参数，用模糊规则对PID参数进行自整定后，明显得到了不错的控制效果。从图可以看出系统的性能有着良好的稳定性和快速性收敛性，该控制方案具有很好的应用价值。<sub> </sub></p></sec></sec><sec id="s8"><title>4. 结束语</title><p>模糊PID自整定控制继承了模糊控制和PID控制的优点，摒弃了两者的缺点，用模糊推理规则，实时整定PID的参数，获得理想参数，另外又通过对一个3阶对象进行仿真，得出该方法对系统的稳定性和快速反应有明显提高。该方法简单易用且实现方便，对现实控制有一定的参考意义。</p></sec><sec id="s9"><title>基金项目</title><p>江苏省高等学校大学生创新创业训练计划项目(201912920001Y)；南京科技职业学院资助项目(NHKY-2017-06，NHKY-2017-14)<sup> </sup>。</p></sec><sec id="s10"><title>文章引用</title><p>袁静雨,虞启凯,张凡雨. 基于Matlab的模糊自整定PID控制器仿真研究Simulation Study of Fuzzy Self-Tuning PID Controller Based on Matlab[J]. 仪器与设备, 2020, 08(04): 117-123. https://doi.org/10.12677/IaE.2020.84015</p></sec><sec id="s11"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.39031-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">李文宇, 王延军, 高飞, 等. 滞后系统的一种改进PID控制方法[J]. 自动化与仪器仪表, 2017(1): 19-21.</mixed-citation></ref><ref id="hanspub.39031-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">王明迪, 刘国栋, 王正, 等. 基于PID控制的舱压调节系统设计[J]. 液压与气动, 2019(10): 104-108.</mixed-citation></ref><ref id="hanspub.39031-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">黄文杰, 向凤红, 毛剑琳. 引入加速率改进板球系统RBF-PID轨迹跟踪控制[J]. 昆明理工大学学报: 自然科学版, 2019(6): 55-62.</mixed-citation></ref><ref id="hanspub.39031-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">李强. 基于IBC-PID控制的四旋翼轨迹跟踪控制[J]. 动力学与控制学报, 2019, 17(1): 91-96.</mixed-citation></ref><ref id="hanspub.39031-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">严刚峰. PID控制器参数整定复杂性的分析[J]. 成都大学学报(自然科学版), 2019, 38(1): 64-68.</mixed-citation></ref><ref id="hanspub.39031-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">何小映. 基于MCGS的PID控制参数自整定研究[J]. 电子设计工程, 2019, 27(20): 55-58, 63.</mixed-citation></ref><ref id="hanspub.39031-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">史燕亮. 基于PID控制的综采面降尘喷雾恒压供水系统研究[J]. 中国化工贸易, 2019, 11(16): 179-180.</mixed-citation></ref><ref id="hanspub.39031-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">刘浩蓬, 龙长江, 万鹏, 等. 植保四轴飞行器的模糊PID控制[J]. 农业工程学报, 2015, 31(1): 71-77.</mixed-citation></ref><ref id="hanspub.39031-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">李浩. 模糊PID控制方法在四旋翼飞行器系统中的应用研究[D]: [硕士学位论文]. 开封: 河南大学, 2015.</mixed-citation></ref><ref id="hanspub.39031-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">朱瑛, 邹春喜, 赵建村. 基于模糊自适应PID控制的六旋翼飞行器稳定性控制(英文) [J]. 机床与液压, 2016(24): 39-46.</mixed-citation></ref><ref id="hanspub.39031-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">李宗帅, 张思博. 基于自适应模糊PID的飞机客舱温度控制(英文) [J]. 系统仿真学报, 2018, 30(11): 372-379.</mixed-citation></ref><ref id="hanspub.39031-ref12"><label>12</label><mixed-citation publication-type="other" xlink:type="simple">李永伟, 王红飞. 六旋翼植保无人机模糊自适应PID控制[J]. 河北科技大学学报, 2017, 38(1): 59-65.</mixed-citation></ref><ref id="hanspub.39031-ref13"><label>13</label><mixed-citation publication-type="other" xlink:type="simple">荆学东, 潘翔, 汪泽涛. 农药喷洒四轴飞行器的模糊PID姿态控制[J]. 排灌机械工程学报, 2018, 36(5): 454-460.</mixed-citation></ref></ref-list></back></article>