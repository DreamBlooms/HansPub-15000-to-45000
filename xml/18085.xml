<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">OJNS</journal-id><journal-title-group><journal-title>Open Journal of Nature Science</journal-title></journal-title-group><issn pub-type="epub">2330-1724</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/OJNS.2016.43030</article-id><article-id pub-id-type="publisher-id">OJNS-18085</article-id><article-categories><subj-group subj-group-type="heading"><subject>OJNS20160300000_12430582.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>数学与物理</subject><subject> 地球与环境</subject><subject> 信息通讯</subject><subject> 生命科学</subject><subject> 化学与材料</subject></subj-group></article-categories><title-group><article-title>
 
 
  Shewhart控制图与CUSUM控制图的比较研究
  Comparative Study of Shewhart Control Chart and CUSUM Control Chart
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>敬</surname><given-names>林</given-names></name><xref ref-type="aff" rid="aff1"><sub>1</sub></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib></contrib-group><aff id="aff1"><label>1</label><addr-line>云南财经大学统计与数学学院，云南 昆明</addr-line></aff><author-notes><corresp id="cor1">* E-mail:<email>jinglinscnu@126.com</email></corresp></author-notes><pub-date pub-type="epub"><day>27</day><month>07</month><year>2016</year></pub-date><volume>04</volume><issue>03</issue><fpage>253</fpage><lpage>560</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   本文首先简单介绍了统计过程控制图的产生及其发展，分析了一般的Shewhart控制图和CUSUM控制图的优缺点，其次给出了Shewhart控制图的估计方法和CUSUM控制图的理论基础及其构造方法。最后，我们比较了在过程受控与失控两种情况下的一般的Shewhart控制图和CUSUM控制图的平均运行长度，得出了CUSUM控制图对监测过程均值小漂移比一般的Shewhart控制图更灵敏的结论。 This paper firstly presents a brief introduction to the emergence and development for the figure of statistical process control, and analyzes the advantages and disadvantages between Shewhart control chart and the CUSUM control chart, and then gives the Shewhart control chart estimation method and the theoretical basis and construction method for the CUSUM control chart. Finally, we compare the average run length in the process of controlled and uncontrolled under the two kinds of situations with Shewhart control chart and the CUSUM control chart. It is concluded that the CUSUM control chart for monitoring small process mean shifts is more sensitive than the Shewhart control chart.
    
  
 
</p></abstract><kwd-group><kwd>Shewhart控制图，CUSUM控制图，平均运行长度, Shewhart Control Chart</kwd><kwd> CUSUM Control Chart</kwd><kwd> Average Run Length</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>Shewhart控制图与CUSUM控制图的比较研究<sup> </sup></title><p>敬 林</p><p>云南财经大学统计与数学学院，云南 昆明</p><disp-formula id="hanspub.18085-formula54"><graphic xlink:href="http://html.hanspub.org/file/2-2950157x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>收稿日期：2016年7月4日；录用日期：2016年7月24日；发布日期：2016年7月27日</p><disp-formula id="hanspub.18085-formula55"><graphic xlink:href="http://html.hanspub.org/file/2-2950157x7_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>本文首先简单介绍了统计过程控制图的产生及其发展，分析了一般的Shewhart控制图和CUSUM控制图的优缺点，其次给出了Shewhart控制图的估计方法和CUSUM控制图的理论基础及其构造方法。最后，我们比较了在过程受控与失控两种情况下的一般的Shewhart控制图和CUSUM控制图的平均运行长度，得出了CUSUM控制图对监测过程均值小漂移比一般的Shewhart控制图更灵敏的结论。</p><p>关键词 :Shewhart控制图，CUSUM控制图，平均运行长度</p><disp-formula id="hanspub.18085-formula56"><graphic xlink:href="http://html.hanspub.org/file/2-2950157x8_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s3"><title>1. 引言</title><p>现代质量管理要求以统计技术的应用来实现过程控制，因此称为“统计过程控制”，统计过程控制强调预防为主的原则，因而在质量管理中受到管理者的青睐。实现统计过程控制的过程称其为处于“稳定受控状态”或“正常状态”或“统计稳态”。控制图是生产过程中控制过程质量的一种有效工具，它能直观地反映出加工过程质量情况。它形象直观，图上有用实线绘制的中心线和虚线绘制的上下控制线，图中有按时间先后顺序抽取的样本的点列，各点之间用直线段连接，可以清晰直观地看出变化趋势。控制图就相当于通常的正态分布旋转90度后形成的。将<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x9_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x10_hanspub.png" xlink:type="simple"/></inline-formula>以及<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x11_hanspub.png" xlink:type="simple"/></inline-formula>分别标注为中心线，上控制线，下控制线，这样就得到了一个基本的控制图 [<xref ref-type="bibr" rid="hanspub.18085-ref1">1</xref>] - [<xref ref-type="bibr" rid="hanspub.18085-ref3">3</xref>] 。Shewhart控制图理论基础是“3σ”原理,也就是说在1000个产品中有不超过2.7个不合格品出现,，就认为该过程的波动属于正常波动；否则，就认为该过程的波动属于异常波动。Shewhat常规控制图只是利用了过程中的当前数据，而没有充分利用整个样本中的数据。Shewhart控制图对当前数据的信息进行了充分的利用，但是一旦“点出界就报警”，并且所有历史数据的权重都为0。由于Shewhart控制图是建立在数理统计的原理之上，因此在质量控制过程中需要满足样本容量要大，样本服从或接近正态分布，样本相互独立等条件。而在实际控制过程中这些条件很难被满足，从而造成Shewhart控制图在实际运用中的各种不适应性。针对这种情况人们做了大量的研究，Page基于序贯分析原理于1954年提出了累积和控制图简称为CUSUM控制图。将一系列点子(数据在控制图中的表达)的微弱信息累加起来，就对过程中的微小波动也变得灵敏了。CUSUM控制图不仅拓宽了Shewhart控制图的应用范围，而且弥补Shewhart控制图对中小漂移和异常点的检测灵敏性。控制图方法因具有捕捉异常先兆的功能，因而成为实现统计过程控制的首选方法。在统计过程控制中，应用统计技术实现过程中各个阶段的监控和诊断，捕捉到异常先兆后立即采取纠正和预防措施，将异常消灭在萌芽状态，消灭在过程之中。因而有效减少过程中的质量损失，降低成本，对保证产品质量和增加企业的经济效益都起到了非常重要的作用。</p></sec><sec id="s4"><title>2. Shewhart控制图的区间估计</title><sec id="s4_1"><title>2.1. 过程总体均值和方差已知的情况</title><p>假定一列样本<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x12_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x13_hanspub.png" xlink:type="simple"/></inline-formula>来自一生产过程，它们独立服从均值<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x14_hanspub.png" xlink:type="simple"/></inline-formula>，标准差为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x15_hanspub.png" xlink:type="simple"/></inline-formula>的正态分布，即<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x16_hanspub.png" xlink:type="simple"/></inline-formula>。<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x17_hanspub.png" xlink:type="simple"/></inline-formula>表示在时刻t从生产过程中抽取的<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x18_hanspub.png" xlink:type="simple"/></inline-formula>个样本，假定每个时点抽取的样本数量恒为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x19_hanspub.png" xlink:type="simple"/></inline-formula>，则容量为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x20_hanspub.png" xlink:type="simple"/></inline-formula>的样本均值<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x21_hanspub.png" xlink:type="simple"/></inline-formula>。当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x22_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x23_hanspub.png" xlink:type="simple"/></inline-formula>都已知时，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x24_hanspub.png" xlink:type="simple"/></inline-formula>以<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x25_hanspub.png" xlink:type="simple"/></inline-formula>的概率落在区间内，其控制区间为</p><disp-formula id="hanspub.18085-formula57"><label>(1)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/2-2950157x26_hanspub.png"  xlink:type="simple"/></disp-formula><p>在实际操作中，取<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x27_hanspub.png" xlink:type="simple"/></inline-formula>为3，即实际生产中的<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x28_hanspub.png" xlink:type="simple"/></inline-formula>控制线。以上我们对样本<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x29_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x30_hanspub.png" xlink:type="simple"/></inline-formula>作了正态性假设，但是根据中心极限定理，当样本不符合正态性假定时，只要样本数量较大一般大于50即可，那么样本也近似服从正态分布，故Shewhart控制图的结果仍然可用。</p></sec><sec id="s4_2"><title>2.2. 过程总体均值和方差未知的情况</title><p>当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x31_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x32_hanspub.png" xlink:type="simple"/></inline-formula>都未知时，假设我们有m个样本容量为n的样本，则均值的估计值为</p><disp-formula id="hanspub.18085-formula58"><label>(2)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/2-2950157x33_hanspub.png"  xlink:type="simple"/></disp-formula><p>又总体标准差的无偏估计为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x34_hanspub.png" xlink:type="simple"/></inline-formula>，设<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x35_hanspub.png" xlink:type="simple"/></inline-formula>是m组样本的极差，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x36_hanspub.png" xlink:type="simple"/></inline-formula>是这些极差的平均值，且总体均值的估计值为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x37_hanspub.png" xlink:type="simple"/></inline-formula>。因此，每组样本的均值<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x38_hanspub.png" xlink:type="simple"/></inline-formula>以<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x39_hanspub.png" xlink:type="simple"/></inline-formula>的概率落在区间</p><disp-formula id="hanspub.18085-formula59"><label>(3)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/2-2950157x40_hanspub.png"  xlink:type="simple"/></disp-formula><p>之内。所以在总体均值与标准差的估计值均已知的情况下，我们代入<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x41_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x42_hanspub.png" xlink:type="simple"/></inline-formula>的估计值就得到具体的检测过程均值的Shewhart控制图的</p><p>上控制线为：</p><disp-formula id="hanspub.18085-formula60"><label>(4)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/2-2950157x43_hanspub.png"  xlink:type="simple"/></disp-formula><p>下控制线为：</p><disp-formula id="hanspub.18085-formula61"><label>(5)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/2-2950157x44_hanspub.png"  xlink:type="simple"/></disp-formula></sec></sec><sec id="s5"><title>3. CUSUM控制图的构造</title><sec id="s5_1"><title>3.1. CUSUM控制图的理论基础：序贯概率比检验</title><p>CUSUM控制图通过观测值与目标值之差的累积和来画图，充分利用了整个观测样本的信息，其理论基础就是序贯分析原理中的序贯概率比检验(Sequential Probability Ratio Test，简称SPRT)，这是一种基本的序贯检验法 [<xref ref-type="bibr" rid="hanspub.18085-ref4">4</xref>] 。</p><p>对一个简单零假设和备择假设，假定我们有一列样本量为n的独立观测值{ <inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x45_hanspub.png" xlink:type="simple"/></inline-formula>}，而且假定与每个假设分别联系在一起的概率密度函数是：<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x46_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x47_hanspub.png" xlink:type="simple"/></inline-formula>，记此时的似然比统计量为</p><disp-formula id="hanspub.18085-formula62"><label>(6)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/2-2950157x48_hanspub.png"  xlink:type="simple"/></disp-formula><p>对于事先给定的两个常数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x49_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x50_hanspub.png" xlink:type="simple"/></inline-formula>，我们逐一抽取样本，如在抽得的样本<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x51_hanspub.png" xlink:type="simple"/></inline-formula>抽样尚不能完成，则继续抽<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x52_hanspub.png" xlink:type="simple"/></inline-formula>，并计算<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x53_hanspub.png" xlink:type="simple"/></inline-formula>。</p><p>当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x54_hanspub.png" xlink:type="simple"/></inline-formula>时，停止抽样，拒绝零假设；当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x55_hanspub.png" xlink:type="simple"/></inline-formula>时，停止抽样，拒绝备择假设。</p><p>当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x56_hanspub.png" xlink:type="simple"/></inline-formula>时，则抽取第<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x57_hanspub.png" xlink:type="simple"/></inline-formula>个样本，并计算<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x58_hanspub.png" xlink:type="simple"/></inline-formula>，重复以上的步骤，依次进行。我们称这样的检验就为序贯概率比检验 ，简记为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x59_hanspub.png" xlink:type="simple"/></inline-formula>。</p><p>对于一个SPRT<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x60_hanspub.png" xlink:type="simple"/></inline-formula>而言，其临界值与犯第一、二类错误概率<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x61_hanspub.png" xlink:type="simple"/></inline-formula>之间的关系为</p><disp-formula id="hanspub.18085-formula63"><label>(7)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/2-2950157x62_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.18085-formula64"><label>(8)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/2-2950157x63_hanspub.png"  xlink:type="simple"/></disp-formula><p>由以上式子可以看出，对于事先给定的第一二类错误概率<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x64_hanspub.png" xlink:type="simple"/></inline-formula>，我们可以将常数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x65_hanspub.png" xlink:type="simple"/></inline-formula>近似选定为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x66_hanspub.png" xlink:type="simple"/></inline-formula>。</p></sec><sec id="s5_2"><title>3.2. CUSUM控制图参数的选择与平均运行长度</title><p>我们以检测向上漂移为例进行说明，即已知漂移量<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x67_hanspub.png" xlink:type="simple"/></inline-formula>，则基于似然比统计量为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x68_hanspub.png" xlink:type="simple"/></inline-formula>，若事先选定阀值<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x69_hanspub.png" xlink:type="simple"/></inline-formula>，如果<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x70_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x71_hanspub.png" xlink:type="simple"/></inline-formula>说明到时刻n为止的过程中表明过程未进入失控状态，那么继续检测如果直到某个<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x72_hanspub.png" xlink:type="simple"/></inline-formula>则报警，认为过程在时刻n以前有某一个点发生了漂移。在实际应用中，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x73_hanspub.png" xlink:type="simple"/></inline-formula>是未知的，因此我们常常用一个待定的参数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x74_hanspub.png" xlink:type="simple"/></inline-formula>代替从而可得到一般的CUSUM统计量<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x75_hanspub.png" xlink:type="simple"/></inline-formula>这样CUSUM就由两个参数(k,h)所决定。</p><p>参数的选择的关键原则是用平均运行长度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x76_hanspub.png" xlink:type="simple"/></inline-formula>，一般情况是保证<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x77_hanspub.png" xlink:type="simple"/></inline-formula>满足条件的情况下选择使<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x78_hanspub.png" xlink:type="simple"/></inline-formula>尽可能小的k和h,这里</p><p><inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x79_hanspub.png" xlink:type="simple"/></inline-formula>：表示过程开始时处于受控状态。</p><p><inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x80_hanspub.png" xlink:type="simple"/></inline-formula>：表示过程开始时处于失控状态。</p><p>其中<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x81_hanspub.png" xlink:type="simple"/></inline-formula>表示报警所需的运行时间。</p><p>我们用上述<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x82_hanspub.png" xlink:type="simple"/></inline-formula>定义失控状态下的平均运行长度是为了研究的简化，事实上CUSUM具有无后效性即是如果某个<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x83_hanspub.png" xlink:type="simple"/></inline-formula>，则从<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x84_hanspub.png" xlink:type="simple"/></inline-formula>开始与从1开始的过程在检测方面没有区别。</p><p>我们考察向上漂移的检测问题，以<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x85_hanspub.png" xlink:type="simple"/></inline-formula>表示受控状态下让<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x86_hanspub.png" xlink:type="simple"/></inline-formula>从<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x87_hanspub.png" xlink:type="simple"/></inline-formula>开始进行检测所需的平均运行长度，即</p><disp-formula id="hanspub.18085-formula65"><label>(9)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/2-2950157x88_hanspub.png"  xlink:type="simple"/></disp-formula><p>其中样本<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x89_hanspub.png" xlink:type="simple"/></inline-formula>为来自标准正态分布的观测值，濮晓龙 [<xref ref-type="bibr" rid="hanspub.18085-ref5">5</xref>] 运用Page于1954年导出的积分方程：</p><disp-formula id="hanspub.18085-formula66"><label>(10)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/2-2950157x90_hanspub.png"  xlink:type="simple"/></disp-formula><p>其中<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x91_hanspub.png" xlink:type="simple"/></inline-formula>与<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x92_hanspub.png" xlink:type="simple"/></inline-formula>同分布，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x93_hanspub.png" xlink:type="simple"/></inline-formula>表示X的密度函数，那么<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x94_hanspub.png" xlink:type="simple"/></inline-formula>就是对向上漂移进行检测的平均运行长度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x95_hanspub.png" xlink:type="simple"/></inline-formula>。</p><p>对向下漂移的检测有类似的积分方程：</p><disp-formula id="hanspub.18085-formula67"><label>(11)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/2-2950157x96_hanspub.png"  xlink:type="simple"/></disp-formula><p>对双向检验的问题，Kemp证明了</p><disp-formula id="hanspub.18085-formula68"><label>(12)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/2-2950157x97_hanspub.png"  xlink:type="simple"/></disp-formula><p>如果观测样本并非来自标准正态分布，而是来自一列发生了漂移量为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x98_hanspub.png" xlink:type="simple"/></inline-formula>的样本，那么此时的<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x99_hanspub.png" xlink:type="simple"/></inline-formula>不仅依赖于<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x100_hanspub.png" xlink:type="simple"/></inline-formula>还与<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x101_hanspub.png" xlink:type="simple"/></inline-formula>有关系。</p></sec></sec><sec id="s6"><title>4. 实际比较分析</title><sec id="s6_1"><title>4.1. 判断控制图性能的标准</title><p>控制图从检测开始到它发出生产出现问题的警号为止所抽取的平均样本数，称为平均链长<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x102_hanspub.png" xlink:type="simple"/></inline-formula>。在实际研究中，我们固定过程受控时的<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x103_hanspub.png" xlink:type="simple"/></inline-formula>，记为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x104_hanspub.png" xlink:type="simple"/></inline-formula>，然后比较不同控制图在过程失控时的<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x105_hanspub.png" xlink:type="simple"/></inline-formula>记为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x106_hanspub.png" xlink:type="simple"/></inline-formula>，过程失控时<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x107_hanspub.png" xlink:type="simple"/></inline-formula>越小，表示该控制图检测漂移越有效。当过程受控时我们希望平均运行长度尽可能的大，这样控制图误报的几率会小一些；当过程失控时，我们希望平均运行长度尽可能的小，这样控制图检测到异常点的概率就会大一些。所以，判别控制图好坏的标准就相当于假设检验中的第一二类错误概率。一般地我们取，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x109_hanspub.png" xlink:type="simple"/></inline-formula><inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x108_hanspub.png" xlink:type="simple"/></inline-formula>。</p></sec><sec id="s6_2"><title>4.2. 过程受控时两类控制图的平均运行长度：</title><p>对于Shewhart<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x110_hanspub.png" xlink:type="simple"/></inline-formula>控制图，当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x111_hanspub.png" xlink:type="simple"/></inline-formula>取为3时，根据<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x112_hanspub.png" xlink:type="simple"/></inline-formula>原则知道，标准正态分布样本落在3以外的概率约为0.27%，即<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x113_hanspub.png" xlink:type="simple"/></inline-formula>，所以，过程受控时其平均运行长度为</p><disp-formula id="hanspub.18085-formula69"><label>(13)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/2-2950157x114_hanspub.png"  xlink:type="simple"/></disp-formula><p>利用计算机随机产生一组服从标准正态分布，样本容量为64的随机数，计算其均值<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x115_hanspub.png" xlink:type="simple"/></inline-formula>，判断<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x116_hanspub.png" xlink:type="simple"/></inline-formula>是否在<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x117_hanspub.png" xlink:type="simple"/></inline-formula>范围内，即<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x118_hanspub.png" xlink:type="simple"/></inline-formula>是否大于0.375。若<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x119_hanspub.png" xlink:type="simple"/></inline-formula>落在上下控制线之间，则说明该过程受控，否则继续抽样，计算均值，再判断，直到过程<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x120_hanspub.png" xlink:type="simple"/></inline-formula>落在上下线之外，记下此时抽样的次数，即为该控制图的运行长度。因一次实验存在误差，故将上述实验重复10000次，可得到Shewhart<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x121_hanspub.png" xlink:type="simple"/></inline-formula>控制图的平均运行长度。对上述实验运行5次，分别得到过程受控时的平均运行长度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x122_hanspub.png" xlink:type="simple"/></inline-formula> (代码见附录)如下表1。</p><p>由以上运行结果可知生产过程受控时Shewhart控制图的平均运行长度约为370。</p><p>对于CUSUM控制图，计算平均运行长度，关键是确定参数k和h。我们以上单侧为例进行说明，根据参数k和h的选择原则，我们一般选择<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x123_hanspub.png" xlink:type="simple"/></inline-formula>为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x124_hanspub.png" xlink:type="simple"/></inline-formula>，然后不断调整控制线h直到CUSUM控制图过程受控时的平均运行长度约为370为止。首先随机产生一组服从标准正态分布，样本容量为1的随机数，然后计算出其CUSUM统计量<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x125_hanspub.png" xlink:type="simple"/></inline-formula>，判断是否超出控制线。如果超出事先设定的上控制线，则说明该过程失控，其运行长度即为1；如果在均值和上控制线之间，说明该过程受控，则继续产生一个随机数，再计算出其统计量判断是否在均值和上控制线之间，如果超出事先设定的上控制线，则停止，记下此时取样的次数，即为该控制图的运行长度；由于误差的存在，我们通过重复实验次数来减少误差，运行10,000次即可得到CUSUM控制图的平均运行长度。</p><p>通过不断调整控制限h，保证<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x126_hanspub.png" xlink:type="simple"/></inline-formula>大致为370，发现当h大致为2.5。</p></sec><sec id="s6_3"><title>4.3. 过程失控时二者平均运行长度的对比分析</title><p>(1) 当漂移量较小时：<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x127_hanspub.png" xlink:type="simple"/></inline-formula>时，对于过程失控时的Shewhart<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x128_hanspub.png" xlink:type="simple"/></inline-formula>控制图的平均运行长度结果见下表2：</p><p>对于过程失控时的CUSUM控制图平均运行长度，操作步骤基本同过程受控时，此时我们假设漂移量<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x129_hanspub.png" xlink:type="simple"/></inline-formula>，濮晓龙 [<xref ref-type="bibr" rid="hanspub.18085-ref5">5</xref>] 指出如果控制线<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x130_hanspub.png" xlink:type="simple"/></inline-formula>时平均运行长度为21左右，通过计算机模拟也证实了这点，结果见下表3。</p><p>由上述两张表的结果我们可以得出结论当偏移量0.5时，CUSUM控制图的平均运行长度远小于Shewhart<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x131_hanspub.png" xlink:type="simple"/></inline-formula>控制图的平均运行长度，由于两种控制图过程受控时的平均运行长度ARL0一样，所以失控时的平均运行长度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x132_hanspub.png" xlink:type="simple"/></inline-formula>越小越好，从表中数据则足以说明CUSUM控制图检测中小漂移更加灵敏。</p><p>(2) 当漂移量较大时，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x133_hanspub.png" xlink:type="simple"/></inline-formula>时，类似的通过计算机模拟得到如下结果：过程失控时CUSUM控制图</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Average run length of Shewhart control chart during process contro</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >序号</th><th align="center" valign="middle" >1</th><th align="center" valign="middle" >2</th><th align="center" valign="middle" >3</th><th align="center" valign="middle" >4</th><th align="center" valign="middle" >5</th></tr></thead><tr><td align="center" valign="middle" >ARL0</td><td align="center" valign="middle" >369.47</td><td align="center" valign="middle" >367.08</td><td align="center" valign="middle" >370.53</td><td align="center" valign="middle" >373.51</td><td align="center" valign="middle" >374.57</td></tr></tbody></table></table-wrap><p>表1. 过程受控时Shewhart控制图的平均运行长度</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> Average run length of Shewhart control chart out of process contro</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >序号</th><th align="center" valign="middle" >1</th><th align="center" valign="middle" >2</th><th align="center" valign="middle" >3</th><th align="center" valign="middle" >4</th><th align="center" valign="middle" >5</th></tr></thead><tr><td align="center" valign="middle" >ARL1</td><td align="center" valign="middle" >155.2458</td><td align="center" valign="middle" >156.2054</td><td align="center" valign="middle" >153.1586</td><td align="center" valign="middle" >153.2689</td><td align="center" valign="middle" >154.2716</td></tr></tbody></table></table-wrap><p>表2. 过程失控时Shewhart控制图的平均运行长度</p><table-wrap id="table3" ><label><xref ref-type="table" rid="table3">Table 3</xref></label><caption><title> Average run length of CUSUM control chart out of process contro</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >序号</th><th align="center" valign="middle" >1</th><th align="center" valign="middle" >2</th><th align="center" valign="middle" >3</th><th align="center" valign="middle" >4</th><th align="center" valign="middle" >5</th></tr></thead><tr><td align="center" valign="middle" >ARL1</td><td align="center" valign="middle" >21.9066</td><td align="center" valign="middle" >21.8475</td><td align="center" valign="middle" >21.906</td><td align="center" valign="middle" >21.8391</td><td align="center" valign="middle" >22.0378</td></tr></tbody></table></table-wrap><p>表3. 过程失控时CUSUM控制图的平均运行长度</p><p>平均运行长度为4，过程失控时的Shewhart<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x134_hanspub.png" xlink:type="simple"/></inline-formula>控制图的平均运行长度为1。由平均运行长度我们可以看出对于漂移量较大的过程检测，Shewhart<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x135_hanspub.png" xlink:type="simple"/></inline-formula>控制图的平均运行长度较小，说明Shewhart<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x136_hanspub.png" xlink:type="simple"/></inline-formula>控制图对检测大漂移更加灵敏有效。</p></sec></sec><sec id="s7"><title>5. 结论</title><p>Shewhart<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/2-2950157x137_hanspub.png" xlink:type="simple"/></inline-formula>控制图对过程均值的监控是以最后一次观测结果为依据的，它对检测小漂移不灵敏。而CUSUM控制图对过程的监控是以所有观测结果为依据的，它对检测小漂移比较有效。而在实际的质量控制中，如果我们联合使用累积和控制图和休哈特控制图，那么就能弥补各自的不足，达到真正的对企业质量的控制和提升企业的经济效益。</p></sec><sec id="s8"><title>文章引用</title><p>敬 林. Shewhart控制图与CUSUM控制图的比较研究 Comparative Study of Shewhart Control Chart and CUSUM Control Chart[J]. 自然科学, 2016, 04(03): 253-560. http://dx.doi.org/10.12677/OJNS.2016.43030</p></sec><sec id="s9"><title>参考文献 (References)</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.18085-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">周纪芗, 茆诗松. 质量管理统计方法[M]. 北京: 中国统计出版社, 1999.</mixed-citation></ref><ref id="hanspub.18085-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">张公绪, 孙静. 常规控制图标准及其应用[M]. 北京: 中国标准出版社, 2000.</mixed-citation></ref><ref id="hanspub.18085-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">王兆军, 主编. 统计质量控制图理论和方法[M]. 天津: 南开大学出版社, 2011.</mixed-citation></ref><ref id="hanspub.18085-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">王敏华, 张维铭. 累积和控制图用的方法和应用[J]. 中国质量, 2000(5): 39-41.</mixed-citation></ref><ref id="hanspub.18085-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">濮晓龙. 关于累积和检验的改进[J]. 应用数学学报, 2003, 26(2): 225-241.</mixed-citation></ref></ref-list></back></article>