<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">JSTA</journal-id><journal-title-group><journal-title>Journal of Sensor Technology and Application</journal-title></journal-title-group><issn pub-type="epub">2331-0235</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/JSTA.2020.83012</article-id><article-id pub-id-type="publisher-id">JSTA-36676</article-id><article-categories><subj-group subj-group-type="heading"><subject>JSTA20200300000_39962797.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于序贯概率的音波泄漏监测方法研究
   Acoustic Wave Leakage Monitoring Method Based on Sequential Probability
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>陈</surname><given-names>帅</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>刘</surname><given-names>建林</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>刘</surname><given-names>艳超</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>侯</surname><given-names>向峰</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>胡</surname><given-names>勇</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>中海广东天然气有限责任公司，广东 珠海</addr-line></aff><aff id="aff3"><addr-line>北京寰宇声望智能科技有限公司，北京</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>04</day><month>06</month><year>2020</year></pub-date><volume>08</volume><issue>03</issue><fpage>107</fpage><lpage>114</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   本文将序贯概率比检验法应用到管道音波泄漏监测系统中，针对微弱泄漏信号特征，首先采用Kalman滤波法对监测数据进行动态滤波预处理；其次，在音波定位法的基础上运用序贯概率比检验法，判断边界阈值，提高了泄漏判断的准确性。实验结果表明了该方法的有效性和适用性。 In this paper, sequential probability ratio test is applied to acoustic pipeline leakage monitoring system. According to the characteristics of the small leakage, firstly, Kalman filter is used to preprocess the deformation monitoring data; secondly, sequential probability ratio test method is used on the basis of acoustic positioning method to improve the accuracy of leakage judgment through judging boundaries. The experimental results show the validity and applicability of this method. 
  
 
</p></abstract><kwd-group><kwd>序贯概率比检验法，卡尔曼滤波器，音波法，微小泄漏监测,  Sequential Probability Ratio Test</kwd><kwd> Kalman Filter</kwd><kwd> Sound Wave Method</kwd><kwd> Micro Leakage Monitoring</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>基于序贯概率的音波泄漏监测方法研究</title><p>陈帅<sup>1</sup>，刘建林<sup>1</sup>，刘艳超<sup>1</sup>，侯向峰<sup>1</sup>，胡勇<sup>2*</sup></p><p><sup>1</sup>中海广东天然气有限责任公司，广东 珠海</p><p><sup>2</sup>北京寰宇声望智能科技有限公司，北京</p><p>收稿日期：2020年7月2日；录用日期：2020年7月17日；发布日期：2020年7月24日</p><disp-formula id="hanspub.36676-formula139"><graphic xlink:href="//html.hanspub.org/file/5-2960141x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>本文将序贯概率比检验法应用到管道音波泄漏监测系统中，针对微弱泄漏信号特征，首先采用Kalman滤波法对监测数据进行动态滤波预处理；其次，在音波定位法的基础上运用序贯概率比检验法，判断边界阈值，提高了泄漏判断的准确性。实验结果表明了该方法的有效性和适用性。</p><p>关键词 :序贯概率比检验法，卡尔曼滤波器，音波法，微小泄漏监测</p><disp-formula id="hanspub.36676-formula140"><graphic xlink:href="//html.hanspub.org/file/5-2960141x7_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2020 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/5-2960141x8_hanspub.png" /> <img src="//html.hanspub.org/file/5-2960141x9_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>在石油、天然气输送过程中，由于管道运输方便、快捷，该方式成为石油石化输送的主要方式 [<xref ref-type="bibr" rid="hanspub.36676-ref1">1</xref>]。在输送过程中，由于输送介质的可燃性和污染性，如果管道一旦发生泄漏 [<xref ref-type="bibr" rid="hanspub.36676-ref2">2</xref>]，会带来极大的环境污染和人身安全，也有可能发生爆炸和引起火灾，为此，我们开发稳定、实时的泄漏监测系统，对输送油气进行实时监测具有重要的意义 [<xref ref-type="bibr" rid="hanspub.36676-ref3">3</xref>] [<xref ref-type="bibr" rid="hanspub.36676-ref4">4</xref>]。</p></sec><sec id="s4"><title>2. 音波检漏系统原理介绍</title><p>当管道内输送介质发生泄漏时，由于管道内外的压力差，使得泄漏的流体在通过漏点到达管道外部时形成涡流 [<xref ref-type="bibr" rid="hanspub.36676-ref5">5</xref>] [<xref ref-type="bibr" rid="hanspub.36676-ref6">6</xref>]，该涡流使局部管道产生了振荡变化的压力或声波，同时，泄漏到管道外部的流体与泥土、空气等物质撞击、摩擦，会产生不同频率的振动声波 [<xref ref-type="bibr" rid="hanspub.36676-ref7">7</xref>]。这些振动源产生的声波在管壁、管道内部输送介质、管道周围介质(如土壤)等媒介中快速传播，声波传播返回至泄漏点，从而在管道内部建立声场。泄漏点产生的声场就构成信号源，声波在流体介质中主要以平面波的纵波形式传播，传播速度与管道材质、规格、输送的介质有关。通过分析管道内部的声波，可以判断出管道是否发生泄漏。</p><p>泄漏声波是压力状态下的流体和多种介质相互作用的结果，频域范围宽。泄漏声波通常会经历产生、稳定两个阶段，不同阶段其频率、幅度特性不同。由于产生阶段一般持续时间较短，对于本检测方案而言，关注泄漏声波稳定阶段的特征。由于泄漏声波的频率特性与管道输送介质的压力、流速、泄漏处孔径 大小、形状等众多因素相关，实际中泄漏情况多种多样，因此泄漏频率特性各异。资料显示输水管道泄漏频率为16 Hz~20 kHz [<xref ref-type="bibr" rid="hanspub.36676-ref8">8</xref>]，泄漏点附近低频分量幅度更大，而输油管道泄漏的音频特性研究较少。</p><p>泄漏声波的强度随着在介质中的传播逐渐衰减，不同频率的声波衰减不同，高频信号衰减最快，因此在泄漏点处声波功率最大。泄漏点处声波强度与压差变化、泄漏口形状、流速、泄漏率等因素相关 [<xref ref-type="bibr" rid="hanspub.36676-ref9">9</xref>] [<xref ref-type="bibr" rid="hanspub.36676-ref10">10</xref>] [<xref ref-type="bibr" rid="hanspub.36676-ref11">11</xref>]。通常管道内部介质压力越大、泄漏口成扩张形状、流速快、泄漏率较大的泄漏点，声波强度越大。同一条管道中介质压力、管道材质等工况相同或相近，泄漏点的声功率与流速的n (n &gt; 1)次方近似正比关系。通过泄漏声音信号幅度强弱，可以大致判断出泄漏量的大小。</p></sec><sec id="s5"><title>3. 基于序贯概率的音波泄漏监测方法</title><p>传统音波泄漏监测方法大多是基于信号处理算法，该方法对于小泄漏及缓变信号检测比较困难，而基于序贯概率的音波泄漏监测方法很好的解决了这一问题。利用序贯概率比检验法判断泄漏时，需要对采集信号进行一定的预处理。采用卡尔曼滤波器对数据进行滤波可得到渐进高斯分布的数据，并且卡尔曼滤波器的递推形式适于在线应用。针对管道系统信号的特点，可以建立如下的状态方程、测量方程及残差方程 [<xref ref-type="bibr" rid="hanspub.36676-ref12">12</xref>]：</p><p>x t + 1 = x t + ω t z t = x t + v t e t = z t − x t (1)</p><p>式中 ω t 为模型噪声向量， v t 为测量噪声，均是零均值高斯白噪声，且互不相关； x t 为t时刻的状态向量； z t 为t时刻的观测向量，最终得到残差 e t 符合正态分布：</p><p>P ( e t ) = 1 2 π S t exp ( − e t 2 S t − 1 / 2 ) (2)</p><p>式中 S t 为递推过程中得到的参量。随着采集点数的增多 S t 趋近于常数。因此在实际的应用中可以用一个固定值的方差来代替 S t ，将得到的概率密度用于序贯检验中判断泄漏。</p><p>经过卡曼滤波预处理之后，音波信号的观测序列 x 1 , x 2 , ⋯ , x m 应该满足均值为 μ ，方差为 σ 2 的正态分布。假定管道运行正常时该序列满足原假设 H 0 : μ = μ 0 ；管道泄漏时满足备择假设： H 1 : μ = μ 0 + Δ μ 其中 Δ μ &gt; 0 表示压力上升； Δ μ &lt; 0 表示压力下降。同时假定 α 和 β 分别表示犯第一和第二类错误的概率，即允许的误报警率和漏报警率。在原假设 H 0 : μ = μ 0 成立的条件下和备择假设 H 1 : μ = μ 0 + Δ μ 成立的条件下，随机序列的联合概率密度为 [<xref ref-type="bibr" rid="hanspub.36676-ref13">13</xref>]：</p><p>P 0 m = 1 ( σ 2 π ) m exp ( − 1 2 σ 2 ∑ i = 1 m ( x i − μ 0 ) 2 ) (3)</p><p>P 1 m = 1 ( σ 2 π ) m exp ( − 1 2 σ 2 ∑ i = 1 m ( x i − μ 0 − Δ μ ) 2 ) (4)</p><p>如果序贯概率比值满足不等式：</p><p>P 1 m P 0 m ≤ β 1 − α (5)</p><p>那么，接受原假设H<sub>0</sub>，判断管道运行正常。如果比值满足不等式：</p><p>P 1 m P 0 m &gt; 1 − β α (6)</p><p>那么，拒绝原假设H<sub>0</sub>，判断管道上有泄漏发生。如果比值满足不等式：</p><p>β 1 − α &lt; P 1 m P 0 m &lt; 1 − β α (7)</p><p>则无法断定是接受还是拒绝原假设，必须继续观察，直到比值满足前两种情况为止。定义检验参数 λ ( n ) = Δ μ σ 2 ∑ i = 1 n ( x i − μ 0 − Δ μ 2 ) ，则式变为(7)</p><p>ln β 1 − α &lt; λ ( n ) &lt; ln 1 − β α (8)</p><p>进一步推导可以得到检验参数的递推公式：</p><p>λ ( n + 1 ) = λ ( n ) + Δ μ σ 2 ( x n + 1 − μ 0 − Δ μ 2 ) (9)</p><p>实际应用中，首先对管道首站音波信号 p 0 ( t ) 与末站音波信号 p 1 ( t ) 经过卡尔曼滤波，使其具有准高斯分布特征，分别对这两个观测序列作序贯概率比检验计算 λ ( n ) 。序贯概率比检验参数<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/5-2960141x42_hanspub.png" xlink:type="simple"/></inline-formula>首次达到上边界时，0到上边界这段波形的最低点定义为泄漏发生时刻。</p><p>检验参数 λ ( n ) 初始值取为零，当检验参数超过下边界时，即可做出判断：未发生泄漏，然后检验参数的值重新从零开始计算；当检验参数超出上边界时，做出泄漏的判断，并计算泄漏时刻，检验参数 λ ( n ) 同样重新从零开始计算。只有当检验参数未超过上下边界时无法做出是否泄漏的判断，继续计算检验参数 λ ( n ) ，一旦其超出边界，则做出判断，并将检验参数做归零处理，重新开始计算。只有两个序列(首、末站信号)都做出泄漏的判断而且经分析得到的泄漏点位置合理(并非站内操作)才认为管道发生了泄漏。通过上述序贯概率法判断泄漏发生的时刻并计算泄漏点到首、末两站的时间差 Δ t ，然后代入音波定位公式：</p><p>X = L + a Δ t 2 (10)</p><p>式中，X泄漏点距离管道始端测量点间的距离，L为管道的总长度。</p></sec><sec id="s6"><title>4. 实验说明及分析</title><sec id="s6_1"><title>4.1. 实验数据来源说明</title><p>本实验数据来源某音波管道泄漏监测系统，该管道系统选取的试点应用段全长41.75 km，管径660 mm，运行压力5~6 Mpa，中间设有分输站1、分输站2、分输站3，共计三个阀室。站场系统建设如图1所示。</p><p>图1. 站场系统建设图</p></sec><sec id="s6_2"><title>4.2. 实验说明及分析</title><p>实验数据取来自于分输站1 (上游)和分输站2 (下游)的音波数据：图2、图3上下游音波信号受噪声干扰严重，影响对泄漏信号突变拐点的准确定位，尤其对于微小泄漏来说，甚至会淹没在复杂工况产生的噪声中。</p><p>图4、图5显示了数据卡尔曼滤波后的估计值，在保持原音波信号不失真的同时可有效去除噪声干扰，得到更清晰的泄漏信号波形变化。图6、图7显示了对上、下游信号去除滤波后得到的残差序列。从中可以看出，残差序列满足渐进高斯分布。</p><p>图2. 上游音波</p><p>图3. 下游音波</p><p>图4. 上游数据Kalman滤波</p><p>图5. 下游数据Kalman滤波</p><p>图6. 上游数据残差序列(渐进高斯分布)</p><p>图7. 下游数据残差序列(渐进高斯分布)</p><p>对上下游渐进高斯分布数据计算序贯概率比检验参数 λ ( n ) 如图8、图9所示。</p><p>图8. 上游音波数据序贯概率比检验参数</p><p>图9. 下游音波数据序贯概率比检验参数</p><p>当未发生泄漏时，检验参数无明显变化，判断系统正常；当发生泄漏时，检验参数转为上升的趋势。当上下游音波数据序贯概率比检验参数均超过上限时，则判断泄漏发生，同时将两者的时间差作为定位的依据。如图8所示，上游序列<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/5-2960141x58_hanspub.png" xlink:type="simple"/></inline-formula>在60,000点时急速上升，此时对应上游泄漏(图)拐点；如图9所示，下游序列<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/5-2960141x59_hanspub.png" xlink:type="simple"/></inline-formula>在20000点时急速上升，此时对应下游泄漏(图)拐点；设计上、下游管道长度11.92 km，音波速度380 m/s，根据定位公式计算得实际泄漏点与入口处的距离为20米。</p></sec></sec><sec id="s7"><title>5. 结论</title><p>通过音波定位中的时间差来定位泄漏点，序贯概率法可以检测大于预设均值偏差的泄漏。根据现场实验，泄漏量小于总流量的1%时，序贯法报警时间较短，误报警较少；均值偏差越小，检测灵敏度越高，但检测所需时间会越长。实际情况下，管线配有高精度仪表并且泄漏发生时间大多较长，尤其适合对于微小泄漏的检测。</p></sec><sec id="s8"><title>文章引用</title><p>陈 帅,刘建林,刘艳超,侯向峰,胡 勇. 基于序贯概率的音波泄漏监测方法研究 Acoustic Wave Leakage Monitoring Method Based on Sequential Probability[J]. 传感器技术与应用, 2020, 08(03): 107-114. https://doi.org/10.12677/JSTA.2020.83012</p></sec><sec id="s9"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.36676-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">中国国家统计局. 2015年中国统计年鉴[M]. 北京: 中国国家统计局, 2015: 8-11.</mixed-citation></ref><ref id="hanspub.36676-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">靳世久, 孙家, 姜弘彦, 等. 强环境噪声下地下管道泄漏检测[J]. 天津大学学报: 自然科学与工程技术版, 1994(6): 782-787.</mixed-citation></ref><ref id="hanspub.36676-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">王海伟. 音波测漏系统在输气管道的应用[J]. 管道技术与设备, 2014(2): 22-24.</mixed-citation></ref><ref id="hanspub.36676-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">Yang, G., Liu, Y., Wang, Y., et al. (2015) EMD Interval Thresholding Denoising Based on Similarity Measure to Select Relevant Modes. Signal Processing, 109, 95-109. &lt;br&gt;https://doi.org/10.1016/j.sigpro.2014.10.038</mixed-citation></ref><ref id="hanspub.36676-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Wang, Z., Chang, J., Zhang, S., et al. (2015) An Im-proved Denoising Method in RDTS Based on Wavelet Transform Modulus Maxima. IEEE Sensors Journal, 15, 1061-1067. &lt;br&gt;https://doi.org/10.1109/JSEN.2014.2360559</mixed-citation></ref><ref id="hanspub.36676-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">Li, S., Wen, Y., Li, P., et al. (2014) Modal Analysis of Leakage-Induced Acoustic Vibrations in Different Directions for Leak Detection and Location in Fluid-Filled Pipelines. 2014 IEEE International Ultrasonics Symposium, Chicago, IL, 3-6 September 2014, 1412-1415. &lt;br&gt;https://doi.org/10.1109/ULTSYM.2014.0349</mixed-citation></ref><ref id="hanspub.36676-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">郭静波, 蔡雄, 胡铁华, 张志文, 油气管道中智能机器人跟踪定位关键技术综述[J]. 仪器仪表学报, 2015(36): 481-498.</mixed-citation></ref><ref id="hanspub.36676-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">魏明生, 童敏明, 訾斌, 唐守锋, 基于粒子群-拟牛顿混合算法的管道机器人定位[J]. 仪器仪表学报, 2012(33): 2594-2600.</mixed-citation></ref><ref id="hanspub.36676-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">郭晨城, 文玉梅, 李平, 等. 采用EMD的管道泄漏声信号增强[J]. 仪器仪表学报, 2015, 36(6): 1397-1405.</mixed-citation></ref><ref id="hanspub.36676-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">Demirci, S., Yigit, E., Eskidemir, I.H., et al. (2012) Ground Penetrating Radar Imaging of Water Leaks from Buried Pipes Based on Back-Projection Method. Ndt &amp; E International, 47, 35-42.  
&lt;br&gt;https://doi.org/10.1016/j.ndteint.2011.12.008</mixed-citation></ref><ref id="hanspub.36676-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">孙洁娣, 肖启阳, 温江涛, 等. 局域均值分解分析的管道泄漏孔径识别及定位[J]. 仪器仪表学报, 2014, 35(12): 2835-2842.</mixed-citation></ref><ref id="hanspub.36676-ref12"><label>12</label><mixed-citation publication-type="other" xlink:type="simple">贾沛璋, 朱征桃. 最优估计及其应用[M]. 北京: 科学出版社, 1984: 232-253.</mixed-citation></ref><ref id="hanspub.36676-ref13"><label>13</label><mixed-citation publication-type="other" xlink:type="simple">Van Der Merwe, R. (2004) Sigma-Point Kalman Filters for Probabilistic Infer-ence in Dynamic State-Space Models. OGI School of Science &amp; Engineering, Beaverton.</mixed-citation></ref></ref-list></back></article>