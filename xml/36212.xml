<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">HJWC</journal-id><journal-title-group><journal-title>Hans Journal of Wireless Communications</journal-title></journal-title-group><issn pub-type="epub">2163-3983</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/HJWC.2020.103004</article-id><article-id pub-id-type="publisher-id">HJWC-36212</article-id><article-categories><subj-group subj-group-type="heading"><subject>HJWC20200300000_36593614.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject></subj-group></article-categories><title-group><article-title>
 
 
  宽带多载波信号的自动增益控制方法
  An Automatic Gain Control Method for Wideband Multi-Carrier Signal
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>郭</surname><given-names>嘉勋</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><label>1</label><addr-line>null</addr-line></aff><aff id="aff2"><label>1</label><addr-line>中国电子科技集团公司第二十七研究所，河南 郑州</addr-line></aff><pub-date pub-type="epub"><day>22</day><month>06</month><year>2020</year></pub-date><volume>10</volume><issue>03</issue><fpage>28</fpage><lpage>33</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  
    自动增益控制是根据输入信号的强度自适应动态调整信道增益的一种常用方法。对于电平动态变化较大的输入信号，通过自动增益控制可以将其处理为稳定幅度的输出信号。针对宽带多载波信号，本文提出了一种模拟中放控制 + 数字域幅度调整的自动增益控制方法。该方法通过控制中放模拟电压和数字域调整幅度，可以实现对同一接收信道内不同输入电平信号的独立稳副输出控制，已成功运用于工程实践中。
    Automatic gain control is used to adjust the channel gain adaptively according to the input signal level. It can process the input signal with large dynamic level change into the output signal with stable amplitude. For the automatic gain control of wideband multi-carrier signal, a method based on analog amplifier control and digital amplitude adjustment is proposed in this paper. By controlling the analog voltage and the digital amplitude, the stable output amplitude control of different input level signals in a receiving channel can be realized independently. It has been successfully used in engineering practice. 
  
 
</p></abstract><kwd-group><kwd>自动增益控制，宽带信号，多载波信号, Automatic Gain Control</kwd><kwd> Wideband Signal</kwd><kwd> Multi-Carrier Signal</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>宽带多载波信号的自动增益控制方法<sup> </sup></title><p>郭嘉勋</p><p>中国电子科技集团公司第二十七研究所，河南 郑州</p><p>收稿日期：2020年5月21日；录用日期：2020年6月15日；发布日期：2020年6月22日</p><disp-formula id="hanspub.36212-formula33"><graphic xlink:href="//html.hanspub.org/file/2-1730353x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>自动增益控制是根据输入信号的强度自适应动态调整信道增益的一种常用方法。对于电平动态变化较大的输入信号，通过自动增益控制可以将其处理为稳定幅度的输出信号。针对宽带多载波信号，本文提出了一种模拟中放控制 + 数字域幅度调整的自动增益控制方法。该方法通过控制中放模拟电压和数字域调整幅度，可以实现对同一接收信道内不同输入电平信号的独立稳副输出控制，已成功运用于工程实践中。</p><p>关键词 :自动增益控制，宽带信号，多载波信号</p><disp-formula id="hanspub.36212-formula34"><graphic xlink:href="//html.hanspub.org/file/2-1730353x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2020 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/2-1730353x7_hanspub.png" /> <img src="//html.hanspub.org/file/2-1730353x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>在测控信号处理的过程中，为了使接收机能够可靠地接收电平具有一定动态范围的信号，并保证后续信号处理单元的性能，常在信道中加入自动增益控制(Automatic Gain Control，简称AGC)电路。通过自适应地调整信道的增益，使AGC后输出信号能够保持一定的电平强度。宽带多载波信号中含有多个不同频率的信号，不同信号的电平强度相互独立，可以相差几十分贝(dB)以上。AGC通过控制中放模拟电压，可以实现输入信道动态电平信号的稳副输出，但是对于带内各个信号的幅度无法进行分别控制，输入信道经过AGC之后，不同载波信号的电平差值没有发生改变。本文提出了一种模拟电压+数字幅度调整的两级AGC控制方法，在实现输入信道电平控制的同时又能对信道内的不同信号幅度进行分别控制，可有效地适用于宽带多载波信号的接收与信号处理情况。</p></sec><sec id="s4"><title>2. 信号模型</title><p>给定接收的宽带多载波信号模型：</p><p>r ( t ) = ∑ i = 1 N s i ( t ) = ∑ i = 1 N A i ⋅ exp ( j ω i t + j φ i ) (1)</p><p>式(1)中 r ( t ) 为整个接收信道的合成信号， s i ( t ) 为不同频点的载波信号，其中 A i ， ω i ， φ i 分别表示第i个载波信号的幅度、频率和相位。</p><p>如图1所示，宽带多载波信号中含有多个频率的载波信号，不同信号的频谱之间相距一定的带宽，功率有较大的差异。后端信号处理终端在对该接收信号进行处理之前需要对不同载波分别进行自动增益控制，确保所有信号都能以接近的幅度进行稳定输出。</p></sec><sec id="s5"><title>3. 自动增益控制原理</title><p>自动增益控制(AGC)是一种使放大电路的增益自适应地随输入信号强度而调整的限幅输出自动控制方法。AGC是一个闭环负反馈系统，主要由增益受控放大电路和控制电压形成电路两部分构成，通过反馈控制放大电路的增益来达到控制输出信号电平的目的 [<xref ref-type="bibr" rid="hanspub.36212-ref1">1</xref>]。</p><p>如图2所示，AGC通过增益受控放大电路来控制输出信号的电平，同时实时地根据输出信号的电平产生放大电路的控制电压，自适应地调整放大电路的增益 [<xref ref-type="bibr" rid="hanspub.36212-ref2">2</xref>]。</p><p>增益受控放大电路的增益随控制电压而改变，通过可变增益放大器(VGA)中线性放大和压缩放大的有效组合对输出信号进行调整。对于反向AGC系统(AGC电压增大，放大电路增益增加)而言，当输入信号较弱时，AGC控制电压增大，线性放大电路工作，提高输出信号的强度；当输入信号较强时，AGC控制电压减小，压缩放大电路工作，降低输出信号的强度。</p><p>控制电压形成电路主要由AGC检波器和低通平滑滤波器组成。放大电路的输出信号经检波并经滤波器滤除低频调制分量和噪声后，产生用以控制增益受控放大电路的电压，从而控制放大电路的增益，达到自动增益控制的目的。</p><p>图1. 宽带多载波信号频谱示意图</p><p>图2. AGC原理框图</p></sec><sec id="s6"><title>4. 设计实现</title><p>对于输入电平具有一定动态范围的信号，在进行信号处理之前应先进行AGC控制，使输出信号的电平保持适当的水平 [<xref ref-type="bibr" rid="hanspub.36212-ref3">3</xref>] [<xref ref-type="bibr" rid="hanspub.36212-ref4">4</xref>] [<xref ref-type="bibr" rid="hanspub.36212-ref5">5</xref>]。宽带多载波信号中不同信号的频谱之间相距一定的带宽，功率有较大的差异，需要对各频点信号分别进行提取处理，这就要求带内各频点信号的AGC独立可控、互不影响，使不同频点信号都能以适当的幅度进行稳定输出。而AGC控制电压只能统一调整整个接收信道的电路增益，无法对信道内各频点信号的增益进行分别控制，这里提出一种新的设计方法，采用模拟AGC电压控制+数字AGC幅度调整的两级AGC控制，在完成输入信道电平控制的同时又能实现信道内不同信号幅度的独立可控，可有效地适用于宽带多载波信号的自动增益控制。</p><sec id="s6_1"><title>4.1. 模拟AGC电压控制</title><p>宽带多载波信号的第一级AGC通过控制中放单元VGA的模拟电压来实现，主要是为了在中频输入信号电平发生波动时使模拟AGC环路输出稳定幅度的信号，其流程如图3所示。</p><p>信道接收的中频宽带信号经过中放模块的增益控制后送入高速模数转换器件(A/D)，将模拟信号转化为数字采样信号。数字信号先经过下变频单元进行频谱搬移，将中频输入信号转为后续信号处理所需的零中频正交I、Q两路信号。为降低数据率，减小数字信号处理的运算量，可以根据信号有效带宽对零中频正交信号进行进一步的滤波抽取。</p><p>图3. 模拟AGC电压环路控制流程图</p><p>将降速后的零中频正交信号送入检波单元，这里采用平方和幅度检波。对正交I、Q信号作平方和处理，得到信号功率，开方后得到信号的幅度信息。将检波幅度与设定的参考门限进行对比，作差得到两者之间的幅度误差，对误差进行积分，适当设置中放控制增益，转换为模拟电压输出给中放的VGA，不断调整中放电路的增益，使输入信号检波幅度与参考幅度的误差趋于零，达到AGC控制平衡。</p><p>V ο = k ∫ ( V i − V r e f ) d t (2)</p><p>式(2)中 V ο 为幅度误差积分， V i 为信号的检波幅度， V r e f 为参考门限，也就是中放控制输出稳定时的信号幅度值；k为AGC增益系数，控制AGC时常数。</p></sec><sec id="s6_2"><title>4.2. 数字AGC幅度调整</title><p>经过模拟AGC环路后，接收信道有效带宽内的宽带信号(图3中降速后的零中频正交信号)具有相对稳定的幅度，但对于单个载波信号而言，其幅度并未达到理想的AGC控制水平。将模拟AGC环路输出信号送入数字AGC环路，对各载波信号分别进行滤波提取与数字AGC控制，可以同时实现带宽内不同信号的AGC控制平衡，其流程如图4所示。</p><p>图4. 多载波信号数字AGC环路控制流程图</p><p>根据载波频率将模拟AGC环路输出信号分别送入不同的数字变频器完成频谱搬移至零中频。变频后的信号进行低通滤波抽取，滤除带外其它信号的干扰。滤波降速后的信号经过幅度调整模块，对幅度进行补偿修正后送入幅度检波模块。检波后幅度与参考幅值比较作差，得到两者之间的幅度误差，对误差进行积分平滑，产生数字幅度调整的比例系数，反馈输入至幅度调整模块，不断修正数字域信号的放大压缩比，直到输出信号检波幅度与参考幅度的误差趋于零，达到最终的AGC控制平衡。</p><p>通过数字AGC环路，接收信道内各载波信号可以独立地进行AGC控制，同时达到输出幅度稳定的目的。</p></sec><sec id="s6_3"><title>4.3. AGC增益输出标校</title><p>实现AGC控制的同时需要对信道的实际增益进行标校和量化输出。采用模拟AGC电压控制 + 数字AGC幅度调整的设计方法时，最终的AGC增益标校需要考虑模拟和数字两级AGC环路的增益系数，是两级AGC环路增益累加的结果。</p><p>模拟AGC环路的增益系数可以用AGC控制电压来指示。设置固定电平的中放输入信号，通过调整AGC电压的大小，可以标校出一组AGC电压值与中放控制增益的对应关系。实际应用中通过查询对应关系表可以得到模拟AGC环路的增益。</p><p>数字AGC环路的增益系数可以用幅度调整系数来指示。根据幅度调整系数与定标输出幅度的比值关系，可以计算出数字域幅度的放大/缩小比例，得到数字AGC环路的实际增益。</p></sec></sec><sec id="s7"><title>5. 计算分析</title><p>对于式(1)的宽带多载波信号模型，这里只考虑两个载波信号的接收：</p><p>r ( t ) = s 1 ( t ) + s 2 ( t ) = A 1 ⋅ exp ( j 2 π f 1 t + j φ 1 ) + A 2 ⋅ exp ( j 2 π f 2 t + j φ 2 ) (3)</p><p>设定模拟AGC环路输出电平−20 dBm，数字AGC环路输出电平−20 dBm，接收单载波信号电平动态范围−10~−70 dBm。不同输入电平下AGC环路增益控制如表1所示。</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Gain control results of two-stage AGC loop with different input signal</title></caption><table><tbody><thead><tr><th align="center" valign="middle"  colspan="3"  >输入信号电平(dBm)</th><th align="center" valign="middle" >模拟AGC 增益(dB)</th><th align="center" valign="middle"  colspan="3"  >模拟AGC 输出功率(dBm)</th><th align="center" valign="middle"  colspan="2"  >数字AGC 增益(dB)</th><th align="center" valign="middle"  colspan="2"  >数字AGC 输出功率(dBm)</th></tr></thead><tr><td align="center" valign="middle" >f<sub>1</sub></td><td align="center" valign="middle" >f<sub>2</sub></td><td align="center" valign="middle" >f<sub>1</sub> + f<sub>2</sub></td><td align="center" valign="middle" >f<sub>1</sub> + f<sub>2</sub></td><td align="center" valign="middle" >f<sub>1</sub></td><td align="center" valign="middle" >f<sub>2</sub></td><td align="center" valign="middle" >f<sub>1</sub> + f<sub>2</sub></td><td align="center" valign="middle" >f<sub>1</sub></td><td align="center" valign="middle" >f<sub>2</sub></td><td align="center" valign="middle" >f<sub>1</sub></td><td align="center" valign="middle" >f<sub>2</sub></td></tr><tr><td align="center" valign="middle" >−10</td><td align="center" valign="middle" >−10</td><td align="center" valign="middle" >−7</td><td align="center" valign="middle" >−13</td><td align="center" valign="middle" >−23</td><td align="center" valign="middle" >−23</td><td align="center" valign="middle" >−20</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >−20</td><td align="center" valign="middle" >−20</td></tr><tr><td align="center" valign="middle" >−10</td><td align="center" valign="middle" >−70</td><td align="center" valign="middle" >−10</td><td align="center" valign="middle" >−10</td><td align="center" valign="middle" >−20</td><td align="center" valign="middle" >−80</td><td align="center" valign="middle" >−20</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >60</td><td align="center" valign="middle" >−20</td><td align="center" valign="middle" >−20</td></tr><tr><td align="center" valign="middle" >−30</td><td align="center" valign="middle" >−60</td><td align="center" valign="middle" >−30</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >−20</td><td align="center" valign="middle" >−50</td><td align="center" valign="middle" >−20</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >30</td><td align="center" valign="middle" >−20</td><td align="center" valign="middle" >−20</td></tr><tr><td align="center" valign="middle" >−66</td><td align="center" valign="middle" >−63</td><td align="center" valign="middle" >−61.2</td><td align="center" valign="middle" >41.2</td><td align="center" valign="middle" >−24.8</td><td align="center" valign="middle" >−21.8</td><td align="center" valign="middle" >−20</td><td align="center" valign="middle" >4.8</td><td align="center" valign="middle" >1.8</td><td align="center" valign="middle" >−20</td><td align="center" valign="middle" >−20</td></tr></tbody></table></table-wrap><p>表1. 不同输入信号下两级AGC环路增益控制结果</p><p>当输入载波f<sub>1</sub>、f<sub>2</sub>的电平发生变化时，模拟AGC环路使整个信道的输出幅度保持稳定，数字AGC环路使各载波信号的输出幅度均保持稳定。</p></sec><sec id="s8"><title>6. 结束语</title><p>文中提出了一种针对宽带多载波接收信号的自动增益控制方法，采用模拟AGC电压 + 数字AGC幅度的两级环路控制设计，可以完成同一接收信道中不同载波信号的独立AGC控制。该方法实现简单、硬件复杂度低，已成功应用于工程实践中，对宽带多载波信号的接收与信号处理有非常好的效果。</p></sec><sec id="s9"><title>文章引用</title><p>郭嘉勋. 宽带多载波信号的自动增益控制方法An Automatic Gain Control Method for Wideband Multi-Carrier Signal[J]. 无线通信, 2020, 10(03): 28-33. https://doi.org/10.12677/HJWC.2020.103004</p></sec><sec id="s10"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.36212-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">袁孝康. 自动增益控制与对数放大器[M]. 北京: 国防工业出版社, 1987.</mixed-citation></ref><ref id="hanspub.36212-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">蔡凌云, 方振和, 李铭祥, 等. 自动增益控制技术应用[J]. 信息化研究, 2002, 28(4): 22-23.</mixed-citation></ref><ref id="hanspub.36212-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">吴初辉, 殷旭东, 任明利. 无AGC电平控制的雷达接收系统建模和仿真[J]. 导弹试验技术, 2013(4): 43-46.</mixed-citation></ref><ref id="hanspub.36212-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">喻斌, 陈军波, 李青侠. 数字AGC的分析和设计[J]. 桂林电子工业学院学报, 2003, 23(5): 35-37.</mixed-citation></ref><ref id="hanspub.36212-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">王彦, 曹鹏, 费元春. 数字中频接收机的设计与实现[J]. 电讯技术, 2004, 44(5): 41-44.</mixed-citation></ref></ref-list></back></article>