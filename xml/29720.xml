<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">HJWC</journal-id><journal-title-group><journal-title>Hans Journal of Wireless Communications</journal-title></journal-title-group><issn pub-type="epub">2163-3983</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/HJWC.2019.92008</article-id><article-id pub-id-type="publisher-id">HJWC-29720</article-id><article-categories><subj-group subj-group-type="heading"><subject>HJWC20190200000_12436808.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于数字可编码超表面的无线通信系统设计与实现
  Design and Implementation of Wireless Communication System Based on Digital Coding Metasurface
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>李</surname><given-names>享</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>阳</surname><given-names>析</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>唐</surname><given-names>万恺</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>东南大学信息科学与工程学院，江苏 南京</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>27</day><month>03</month><year>2019</year></pub-date><volume>09</volume><issue>02</issue><fpage>59</fpage><lpage>70</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  
    人工电磁超材料因其独特的物理特性不断受到研究者的关注。目前在数字成像、电磁学、雷达等多个领域已有许多超材料的应用实例。本文利用数字可编码超表面(超材料中的一种)设计和实现了一种无线通信系统，在电磁超材料与无线通信之间建立起新的桥梁。此系统利用数字可编码超表面，完成无线信号从基带到射频的直接调制，舍弃了传统无线通信系统中利用混频器等复杂模拟器件完成载波调制的射频架构。同时通过FPGA的硬件开发和实验证明，基于数字可编程超表面的无线通信系统可在3.8 GHz载频下利用FSK (Frequency Shift Keying，频移键控)的数字调制方式正常稳定地传输图片等多媒体信号。这种超表面与无线通信的结合，给构建新型通信系统架构提供了一种崭新的思路和可能。
    Artificial electromagnetic metamaterials continue to receive the attention of researchers due to their unique physical properties. There are many application examples of metamaterials in various fields such as digital imaging, electromagnetics, and radar. This paper designs and implements a wireless communication system using a digital coding metasurface (one kind of the metamaterials) to establish a new bridge between electromagnetic metamaterials and wireless communication. The system utilizes a digital coding metasurface to perform direct modulation of the wireless signal from the baseband to the radio frequency. In addition, the experiment based on LabVIEW FPGA proves that the wireless communication system based on metasurface can transmit pictures smoothly and stably at 3.8 GHz with FSK modulation. This combination of metasurface and wireless communication also provides a new idea and possibility to build a new communication system architecture. 
  
 
</p></abstract><kwd-group><kwd>数字可编码，超表面，无线通信，直接调制, Digital Coding</kwd><kwd> Metasurface</kwd><kwd> Wireless Communication</kwd><kwd> Direct Modulation</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>基于数字可编码超表面的无线通信系统设计与实现<sup> </sup></title><p>李享，阳析，唐万恺</p><p>东南大学信息科学与工程学院，江苏 南京</p><p><img src="//html.hanspub.org/file/2-1730323x1_hanspub.png" /></p><p>收稿日期：2019年3月21日；录用日期：2019年4月9日；发布日期：2019年4月16日</p><disp-formula id="hanspub.29720-formula23"><graphic xlink:href="//html.hanspub.org/file/2-1730323x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>人工电磁超材料因其独特的物理特性不断受到研究者的关注。目前在数字成像、电磁学、雷达等多个领域已有许多超材料的应用实例。本文利用数字可编码超表面(超材料中的一种)设计和实现了一种无线通信系统，在电磁超材料与无线通信之间建立起新的桥梁。此系统利用数字可编码超表面，完成无线信号从基带到射频的直接调制，舍弃了传统无线通信系统中利用混频器等复杂模拟器件完成载波调制的射频架构。同时通过FPGA的硬件开发和实验证明，基于数字可编程超表面的无线通信系统可在3.8 GHz载频下利用FSK (Frequency Shift Keying，频移键控)的数字调制方式正常稳定地传输图片等多媒体信号。这种超表面与无线通信的结合，给构建新型通信系统架构提供了一种崭新的思路和可能。</p><p>关键词 :数字可编码，超表面，无线通信，直接调制</p><disp-formula id="hanspub.29720-formula24"><graphic xlink:href="//html.hanspub.org/file/2-1730323x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2019 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/2-1730323x7_hanspub.png" /> <img src="//html.hanspub.org/file/2-1730323x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>电磁超材料是一种新型人工材料，它通常被设计成具有自然界中难以获得的性能。早期的例子是电磁学中的人工电介质，这些材料在固定频带内可拥有负数的有效介电常数和磁导率。另一种人们难以通过自然材料获得的物理特性是负折射率，但通过一定的设计也可获得等效的电磁超材料 [<xref ref-type="bibr" rid="hanspub.29720-ref1">1</xref>] 。这些拥有众多独特物理性能的超材料，目前已经在众多领域取得了相应的应用，例如在电磁学中可广泛应用在低频微波到光波段等各个频段，也可应用在成像、天线、雷达等领域 [<xref ref-type="bibr" rid="hanspub.29720-ref2">2</xref>] [<xref ref-type="bibr" rid="hanspub.29720-ref3">3</xref>] 。</p><p>虽然电磁超材料在上述领域中已经有所运用，但其在无线通信中的应用还不成熟。事实上，拥有众多特性的电磁超材料在通过适当的调整和优化后完全可用于无线信号的传输 [<xref ref-type="bibr" rid="hanspub.29720-ref4">4</xref>] ，甚至因其少见的物理特性会给通信系统带来新的便利。尤其是在无线通信中会涉及到电磁波操控的射频部分，超材料自身对电磁波的灵活可控性将大有可为。另一方面，传统无线通信载波调制中信号带宽、信号PAPR (Peak to Average Power Ratio，峰均功率比)等都会对射频电路中的器件提出较高要求 [<xref ref-type="bibr" rid="hanspub.29720-ref5">5</xref>] 。可以预见在未来无线通信系统中，信号会越来越复杂，射频前端的造价成本也急剧上升，因此寻找一种成本低廉且高效的新方法或新器件来一定程度上替代射频前端的工作也极具意义和价值。</p><p>本文通过研究超材料中的数字可编码超表面并结合无线通信理论，设计并提出了一种新型无线通信系统。该系统在发射机端运用一块数字可编码超表面，替代原先硬件复杂的射频前端和天线，完成信号的调制及发送。研究初期，通过观察数字可编码超表面在不同编码下对于单音载波的响应并经过频谱仪的分析发现，周期性编码序列能够有规律地控制响应信号中谐波的幅度和相位。众所周知，无线信号的幅度和相位等物理量能够承载信息，因此可以合理猜想能利用该超表面代替射频前端完成将用户信息加载到无线信号上的工作，即载波调制。本文给出了利用数字可编码超表面完成直接载波调制的无线通信系统通用模型，并以FSK数字调制为实例在LabVIEW FPGA上对系统加以实现，最终能够稳定传输图片。</p></sec><sec id="s4"><title>2. 数字可编程超表面无线通信系统模型</title><p>本节给出基于数字可编程超表面的无线通信系统通用模型。首先将介绍超表面的结构和特征及实现直接载波调制的原理，接着给出在不同数字调制下发射机对超表面的控制序列设计方法，最后给出几种超表面无线通信系统的框图和可能的应用方式。</p><sec id="s4_1"><title>2.1. 数字可编码超表面的结构及载波调制原理</title><p>数字可编码超表面是人工电磁超材料的一种，其主要特点是拥有若干个按照一定规律周期性排布的电磁单元，这些电磁单元可以是简单的电子元器件(如二极管、电容等)也可能是一些媒介或者孔径。这种密集型的周期排布参考了原子结构及其他物理结构模型，神奇的是这种排布往往能够获得意想不到的优良特性。</p><p>本文所采用的数字可编码超表面结构如图1所示，其在化学介质层表面上承载着一个由14 &#215; 16个电磁微单元组成的方阵。每个电磁微单元包含两侧的铜板和在其中间作为桥梁的变容二极管，两侧铜板上打有电极孔径用于给变容二极管施加电压。其数字可编码的特性即体现在变容二极管上，通过额外控制电路输出的数字控制电压序列，能够实时控制每个电磁微单元使其呈现出不同的电磁特性，而若干这样的电磁微单元以不同形式进行排布也将呈现不同的总体特性，相较以往的电磁器件而言数字可编码超表面具有更高的灵活度和应用范围。</p><p>图1. 数字可编码超表面结构模型示意图</p><p>当然，电磁超材料的结构不局限于此，其电磁微单元可替换或包含更多其他的物理器件(如电阻、三极管等)，甚至微单元可以不排列成平面式的方阵。其结构和存在形式和应用环境息息相关，只是在本文中采用了上述的结构。</p><p>传统无线通信系统载波调制过程简单来说是通过混频器等器件将基带信号与本地载频混频，利用包含用户信息的基带信号去调制高频载波的幅度、相位等物理量。因此，能否采用数字可编码超表面完成载波调制的关键，在于它能否根据已有的低频数字信号去改变高频单音的幅度或相位。通过早期的探索和实验，发现在周期性数字信号的驱动下，超表面对单个高频单音信号的响应包含了幅度可控的谐波成分，这一现象也表明数字驱动信号与响应信号之间的存在某种确切关系。</p><p>通过实验和理论分析发现，可以利用电磁波的反射定律一定程度上对数字可编码超表面和载波信号响应之间的关系进行建模：</p><p>R n ( t ) = Γ n ( t ) ⋅ I n ( t ) (1)</p><p>其中， I n ( t ) 是平行入射载波对应n号电磁微单元的分量， Γ n ( t ) 是n号电磁微单元在该单元的数字驱动电压下所呈现的特性，可理解成一个复反射系数(一种数字驱动电压序列与一个复反射系数一一对应)， R n ( t ) 是n号电磁微单元对入射载波的响应。</p><p>从式(1)响应信号的形式可以很直观的看到，数字可编码超表面能够将数字驱动信号的幅度与相位信息以反射系数的形式加载到入射波原本的幅度和相位上(分别是相乘与相加的关系)。因此可以将数字驱动电压信号看作无线通信中的基带信号，入射信号看作原先的本振信号，在超表面的作用下可以混频出已调的响应信号。这一关系也诠释了数字可编码超表面能够替代传统射频前端进行载波调制的原因。</p><p>但值得指出的是上述关系只针对单个电磁微单元，假设不同电磁微单元均可独立电压驱动且彼此间无耦合和干扰，则整块超表面呈现出的电磁特性将非常灵活，或者可以理解为一种新型的高精度相控阵。不过本文对此不做过多探讨，为了方便阐述原理，本文假设超表面上所有电磁微单元的驱动电压在时间</p><p>上是一致的，即用同一个驱动电压序列去操控数字可编码超表面( Γ n ( t ) = Γ ( t ) )。</p></sec><sec id="s4_2"><title>2.2. 不同数字调制方案下发射机对超表面数字驱动电压序列的设计</title><p>在数字通信系统中，根据基带调制方式的不同可分为单载波无线通信系统和多载波无线通信系统 [<xref ref-type="bibr" rid="hanspub.29720-ref6">6</xref>] 。</p><p>数字单载波系统中，在每个符号传输间隔中只调制单个载波信号，根据调制的物理量的不同具体可分为FSK (Frequency Shift Keying，频移键控)系统、PSK (Phase Shift Keying，相移键控)系统、ASK (Amplitude Shift Keying，振幅键控)系统和QAM (Quadrature Amplitude Modulation，正交幅度调制)系统，它们调制过程中分别操控载波信号的频率、相位、幅度以及幅度与相位的同时调控。因此可以将2.1节中的 Γ ( t ) 设计成如下形式：</p><p>Γ ( t ) = Γ m h ( t ) , 0 ≤ t ≤ T , Γ m ∈ A (2)</p><p>其中， Γ m 是当前传输符号对应的复反射系数，A是一个大小为M的集合， h ( t ) 是脉冲成形函数。每个传输的数据符号(或者说是每个 Γ m )都携带了 log 2 M 比特的信息。</p><p>以QPSK (Quadrature Phase Shift Keying，正交相移键控)系统为例， h ( t ) 可以认为是升余弦函数，则 Γ m 可以定义成：</p><p>Γ m ∈ A = { e j π 4 , e j 3 π 4 , e j 5 π 4 , e j 7 π 4 } , | A | = 4 , m = 0 , 1 , 2 , 3 (3)</p><p>这样每个 Γ m 都包含了两比特的信息，例如 Γ 0 代表了“00”， Γ 1 代表了“01”， Γ 2 代表了“10”， Γ 3 代表了“11”。假如需要传输的信息是“01111010”这样的序列，只需要将超表面的数字驱动电压设为使其复反射系数依次表现成 Γ 1 Γ 3 Γ 2 Γ 2 的序列即可。</p><p>再比如M进制的FSK系统，其动态的反射系数应该是如下形式：</p><p>Γ ( t ) = Γ m h ( t ) , 0 ≤ t ≤ T (4)</p><p>其中</p><p>Γ m = e j 2 π f m t , f m ∈ A = { f 0 , ⋯ , f M − 1 } (5)</p><p>对于基于数字可编码超表面的单载波无线通信系统，可将按照图2的流程设计出发射机对超表面的数字驱动电压序列，详细步骤如下：</p><p>步骤一：将用户信息如图片、视频、数据包等翻译成二进制的比特流(0-1序列)；</p><p>步骤二：将二进制比特流映射成一组星座点集或(对FSK来说)是相位序列，从而获得 Γ m ；</p><p>步骤三：根据步骤二得到的 Γ m 进行编码生成对应的数字驱动电压序列，在入射信号激励超表面时对超表面上的电磁微单元进行实时调控。</p><p>图2. 基于超表面的单载波无线通信系统发射机调制流程</p><p>在数字多载波无线通信系统中，在单个符号传输间隔内同时对多个载波进行信息的调制，典型的例子是OFDM (Orthogonal Frequency Division Multiplexing，正交频分复用)。多载波无线通信系统在利用数字可编码超表面完成载波调制的情况下也能充分利用子载波，可以将动态反射系数定义为：</p><p>Γ ( t ) = ∑ p P − 1 Γ p g ( t − p τ ) , 0 ≤ t ≤ T , Γ p ∈ A (6)</p><p>其中， Γ p 是在时间间隔 ( p − 1 ) τ ≤ t ≤ p τ 内的反射系数，P是一个大于零的整数， τ = T / P 是单个脉冲宽度，T是一个传输符号的时间间隔， g ( t ) 是一种脉冲信号，不是一般性可将 g ( t ) 写为：</p><p>g ( t ) = 1 , 0 ≤ t ≤ τ (7)</p><p>从式(6)可以看出，超表面多载波系统相较于单载波系统而言，它的动态反射系数 Γ ( t ) 在一个传输符号内被细分成了许多更小的间隙，在每个小间隙内都拥有自己的复反射系数，这也是为什么多载波系统能传输更多数据的原因。由于 Γ ( t ) 和 都是有限的，因此可以将它们进行傅里叶级数的展开：</p><p>Γ ( t ) = ∑ k = − ∞ + ∞ a k e j k 2 π f 0 t , 0 ≤ t ≤ T (8)</p><p>g ( t ) = ∑ k = − ∞ + ∞ c k e j k 2 π f 0 t , 0 ≤ t ≤ τ (9)</p><p>其中， f 0 = 1 / T 并且</p><p>c k = 1 P S a ( k π P ) e − j k π P (10)</p><p>将式(8)和式(9)代入式(6)，可以得到：</p><p>Γ ( t ) = ∑ p = 0 P − 1 Γ p g ( t − p τ ) = ∑ k = − ∞ + ∞ c k ( ∑ p = 0 P − 1 Γ p g − j 2 k p π P ) e j k 2 π f 0 t , 0 ≤ t ≤ T (11)</p><p>结合式(8) (10 )(11)， Γ ( t ) 的傅里叶级数展开的系数可以表达成：</p><p>a k = A k ∑ p = 0 P − 1 Γ p e − j 2 k p π P (12)</p><p>其中，在确定了P和脉冲函数 g ( t ) 后，A<sub>k</sub>是一个与p无关的常数。因此根据式(12)，缩放后的傅里叶级数展开系数 a ^ k = a k / A k 与反射系数 Γ p 之间存在DFT (Discrete Fourier Transform，离散傅里叶变换)关系。这也意味着在基于数字可编程超表面的多载波通信系统中，也能够类似于传统OFDM系统利用DFT变换来方便地将信息调制到各个载波上。图3描述了基于数字可编程超表面的多载波无线通信系统发射机在基带生成数字驱动信号的过程，具体流程如下：</p><p>步骤一：将用户信息如图片、视频、数据包等翻译成二进制的比特流(0-1序列)；</p><p>步骤二：将二进制比特流映射成一组星座点集或(对FSK来说)是相位序列，从而获得对应缩放后的傅里叶级数展开系数 a ^ k ；</p><p>步骤三：根据P值大小和基本脉冲函数 g ( t ) ，对 a ^ k 进行适当缩放得到 a k ；</p><p>步骤四：对单个传输符号内长度为P的 a k 序列进行FFT (Fast Fourier Transformation，快速傅里叶变换)，得到复反射系数 Γ p ；</p><p>步骤五：根据步骤四得到的 Γ p 进行映射和编码生成对应的数字驱动电压序列，在入射信号激励超表面时对超表面上的电磁微单元进行实时调控。</p><p>图3. 基于超表面的多载波无线通信系统发射机调制流程</p></sec><sec id="s4_3"><title>2.3. 未来超表面无线通信系统可能的结构和应用方式</title><p>如图4所示，超表面应用于无线通信时类似于多波束系统，有反射式、透射式等结构 [<xref ref-type="bibr" rid="hanspub.29720-ref7">7</xref>] 。反射式结构的源位于超表面信号辐射区域的同一侧，此时超表面的性能类似于之前提到的反射系数，该类结构设计较为容易，但也存在一定问题，比如其反射出的能量可能会被自身的源所遮挡或形成多次反射等。透射式结构相比则更加合理，因为其源的位置位于信号辐射区域的另一侧，不会干扰到超表面产生的信号，此时超表面则类似于一个透镜，只是其各个部位的透射系数是可以人为设计的，这种结构设计起来可能会较为复杂。</p><p>图4. 超表面反射式与透射式结构</p><p>不难看出，上述数字可编程超表面在射频前端控制多个表面微单元对载波信号幅度和相位的调控，与相控阵雷达或天线阵列极为相似。事实却是如此，但其表面微单元结构与尺寸均设计自由，对电压响应灵敏，造价相对低廉，应用带宽覆盖低频微波至光波段，相比如今的相控阵要更加精确灵活，因此未来超表面或超材料可能作为高精度相控阵天线、高自由度透镜天线得以应用。其特殊表面结构也可能到共形天线中，可能能够与飞机、导弹以及卫星等载体平台相共形且不破坏空气动力学等特性 [<xref ref-type="bibr" rid="hanspub.29720-ref8">8</xref>] 。此外， [<xref ref-type="bibr" rid="hanspub.29720-ref9">9</xref>] 指出这种超表面或智能表面可以应用在建筑物内的墙壁上，以此改变室内无线信道来满足不同用户的不同需求。类似于这种想法， [<xref ref-type="bibr" rid="hanspub.29720-ref10">10</xref>] 提出可以利用该类表面来改善多天线系统传输时的信道状况，更加高效地利用信号能量，实现绿色通信等。</p></sec></sec><sec id="s5"><title>3. 数字可编程超表面无线通信系统的硬件实现</title><p>本节以FSK调制为例，介绍利用数字可编码超表面完成直接载波调制的单载波无线通信系统的LabVIEWFPGA硬件实现。首先给出其系统框图并介绍其硬件架构和系统参数，接着详细介绍发射机和接收机侧的关键代码和操作，最后给出实测场景和图片传输的结果。</p><sec id="s5_1"><title>3.1. 系统架构和参数</title><p>图5就描述了整个基于数字可编码超表面的FSK无线通信系统框图。</p><p>图5. 基于数字可编码超表面的FSK无线通信系统框图</p><p>在发射机侧，用户数据首先在Host端完成到0-1比特流的转换，然后进行编码操作映射成对应的连续相位信号(比特“0”和“1”分别对应一种相位信号)，考虑到DAC (Digital to Analog Converter，数模转换器)的精度和效率问题，对该连续相位信号进行了4阶量化。接着Host将量化后的相位信号传输给FPGA，在FPGA上“0”和“1”对应的相位信号映射为实际的数字驱动电压，电压经过DAC和超表面背侧控制电路的调整和放大后传递给表面上的各个电磁微单元。在此同时，作为载波的单音信号由独立的信号发生器产生，并通过喇叭天线辐射向数字可编码超表面。</p><p>在接收机侧，由另一个喇叭天线捕捉空口信号并传输给射频前端，信号经过下变频和ADC (Analog to Digital Converter，模数转换器)后送入FPGA进行检测。FPGA在获得基带信号后先对信号进行加窗去噪，接着对其进行FFT操作并估计其信号频谱，再根据频谱检测结果译出0-1比特流信号，将其传入接收机侧的Host上位机进行数据恢复和结果显示。</p><p>本系统所用到的设备和器件如表1所示，系统参数如表2所示。</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> List of devices and hardwar</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >硬件名称</th><th align="center" valign="middle" >功能描述</th></tr></thead><tr><td align="center" valign="middle" >NI PXIe-1082机箱</td><td align="center" valign="middle" >用于装载NI系列硬件，并提供硬件连接使其数据互通</td></tr><tr><td align="center" valign="middle" >NI PXIe-8135控制器</td><td align="center" valign="middle" >作为发射端上位机，将用户数据(图片)翻译成比特流，再映射并量化为相位符号</td></tr><tr><td align="center" valign="middle" >NI FPGA 7966R</td><td align="center" valign="middle" >将量化后的相位符号转化为实际的数字驱动电压</td></tr><tr><td align="center" valign="middle" >NI DA 5781R</td><td align="center" valign="middle" >对数字驱动电压进行插值调整等操作</td></tr><tr><td align="center" valign="middle" >KeysightE8267D信号源</td><td align="center" valign="middle" >用于发射端产生单音载波信号，并通过喇叭天线辐射向超表面</td></tr><tr><td align="center" valign="middle" >NI USRP-RIO 2943R</td><td align="center" valign="middle" >用于接收端数据接收、检测和判决</td></tr><tr><td align="center" valign="middle" >DELL笔记本</td><td align="center" valign="middle" >作为接收端上位机，恢复出原始用户数据(图片)并显示相关参数</td></tr><tr><td align="center" valign="middle" >数字可编码超表面</td><td align="center" valign="middle" >用于发射端，根据基带数字驱动信号对载波信号进行直接调制</td></tr></tbody></table></table-wrap><p>表1. 设备及硬件列表</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> List of system parameter</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >参数名称</th><th align="center" valign="middle" >数值</th></tr></thead><tr><td align="center" valign="middle" >载波频率</td><td align="center" valign="middle" >3.8 GHz</td></tr><tr><td align="center" valign="middle" >FSK频点(比特“0”和“1”)</td><td align="center" valign="middle" >3.8 GHz &#177; 78.125 kHz</td></tr><tr><td align="center" valign="middle" >接收机采样速率</td><td align="center" valign="middle" >800 kHz</td></tr><tr><td align="center" valign="middle" >FFT点数</td><td align="center" valign="middle" >512</td></tr><tr><td align="center" valign="middle" >相位量化阶数</td><td align="center" valign="middle" >4</td></tr></tbody></table></table-wrap><p>表2. 系统参数列表</p></sec><sec id="s5_2"><title>3.2. 收发端关键代码及操作</title><p>LabVIEWFPGA是美国国家仪器公司推出的一款图形化界面FPGA开发语言，具有易开发、可释性强等优点，本文采用该语言进行数字可编程超表面无线通信系统的实现。下面给出该系统收发端关键的关键操作和模块代码。</p><p>发射端基带程序主要在于将数据比特流转化为对应的相位信号，并根据数据传输速率实时将数据传递给FPGA生成实际的数字驱动电压。图6描述了发射机基带将数字比特流转换为相位信号和驱动电压的过程，一个FSK符号是相位连续的，这里将其进行了4阶量化操作，即0~360度的相位信息会就近映射成0度、90度、180度和270度的相位。量化后所有相位只有四种取值，因此最后生成的数字驱动电压也为四种数值。采用的DAC精度为−32768~+32768，我们事先已通过实验在其中筛选出了四种电压档位−32768、−18684、−13995和12745，用它们控制超表面得到的反射信号相位正好对应0度、90度、180度和270度。得到四种电压档位后，将比特“0”映射为−32768，−18684，−13995，12745的序列，将比特“1”映射为12745，−13995，−18684，−32768的序列。</p><p>图6. 发射机将比特流转变为相位序列和数字驱动电压的流程图</p><p>图7描述了根据实时数据传输速率将图6中生成的相位序列压入FIFO并送入FPGA的过程。在这个循环中系统会实时监控名为“CommHost-to-FPGA”的FIFO可用深度，当FPGA从这个FIFO中读取数据时该空余深度会增加，当深度大于22500时说明该FIFO中大部分数据已经被FPGA读取并进行了处理，此时应该往该FIFO中压如新的数据。这样的监控机制使得数据速率能够得到控制，既不会导致信息的丢失，也不会造成时间上数据的空档。</p><p>图7. 相位序列传输至FPGA中</p><p>接收端基带程序主要分为四个主循环：采样信号重定时、检测与判决、判决信号组帧和T2H (Target-to-Host，目标设备至上位机)数据传输，四个单周期定时循环间利用DMA-FIFO (Direct Memory Access-First Input First Output，直接内存存取–先入先出)存储器进行数据的交互。由于预先设置的800 kHz的采样速率，每512点数据要进行一次FFT操作并检测出一个“0”或“1”比特，因此需根据每个单周期定时循环内所有操作的延时周期进行时钟的预设，这样才能够保证数据吞吐量的平衡，既不会出现数据的中断也不会出现数据的溢出，最终计算的到四个单周期定时循环的时钟速率分别为135 MHz、160 MHz、20 MHz和5 MHz。图8给出了采样信号重定时的模块框图。该循环主要的作用是根据同步操作后寻找到的帧头位置，对FPGA正交采样得到的数据点进行计数，当计数到帧头位置时开始将数据写入FIFO供后续数据处理。同时该循环还从这些数据中取出少量样本写入T2H-FIFO存储器供Host端考察FPGA采得的数据。本系统中由于是在检测阶段采取能量检测的方法来寻找数据起始点，故在此循环中无需给出帧头位置，默认设定同步点位置为0，即FPGA将接收到的数据全部依次写入FIFO。基带端需要利用FFT对信号的频谱进行估计，系统中设定的FFT长度为512，在此循环中则设定为在每次接收的5120个采样点中择取前512个点写入T2H-FIFO，以便Host端对频谱进行观察。</p><p>图8. 采样信号重定时循环</p><p>图9给出了接收器剩余循环操作的主要流程图。接收机主要实现对FSK信号码元的加窗处理、频谱估计和信号检测等功能。每次循环从采样信号重定时循环中的FIFO里读取512个采样点(对应着一个FSK码元)进行处理。首先为了降低噪声能量并提高频谱检测的效率，需要对该512个采样点进行加窗处理，本系统中采用汉明窗。接下来需要利用周期图法对码元的频谱进行估计，即先进行512点的FFT操作再对结果取模。估计完频谱后，为了凸显有效频点和噪声在功率上的差距，将信号的线性值功率转换为了dB值。最后通过比较FSK不同有效频点上信号能量的强弱来判决该码元是0还是1，并将结果写入FIFO。在判决阶段还实现了一个基于能量检测的同步机制，即若观测到的信号在有效频点处的能量低于人为设定的阈值时，则认为发射机没有发射信号，而一旦某个有效频点处的能量开始高于此阈值时，则认为发射机开始发射数据并且第一个能量高于阈值的码元为整个数据的起始码元(同步点)。系统在Host端需要还原出图片数据，图片是由像素点构成的，每个像素点含有红、绿、蓝三种颜色分量，每个颜色分量对应着一个U8 (8位无符号整形)值。当检测与判决循环判决出8个比特的信息后，该循环自动将其组为U8并写入FIFO。该部分每个通道利用了7个反馈节点用于暂时存储先到达了串行比特流，当第8个比特被判决出时会包含前7个比特一起打包成一个U8数据。</p><p>图9. 接收机基带处理流程图</p></sec><sec id="s5_3"><title>3.3. 测试结果及讨论</title><p>如图10，利用上述软硬件设备，我们在微波暗室中构建了一个基于数字可编码超表面的FSK无线通信系统，并且用其实时无线传输图片信息。在发射机中，系统采用两比特编码序列(也就是四种数字状态：“00”、“01”、“10”和“11”)来控制超表面上电磁微单元的反射系数 Γ m 。值得指出的是，由于之前发射机对连续的相位信号做了4阶量化，在超表面反射出的已调信号的频谱中将会引入一些高次谐波。但是尽管如此，这些高阶谐波的功率远远低于FSK系统真正需要检测谐波处的功率，因此仍然能够在接收端获得良好的FSK系统性能。而且如果继续充分利用量化精度和相位增量，这些高次谐波对系统性能的影响将越来越小或可以忽略。</p><p>本系统发射机的具体传输过程如下：首先发射机在基带部分通过图片软件读取图片字节并将字节转换成“010100…”的比特流；接着比特流中的每个比特顺序被映射成超表面的四种相位状态序列，即比特“0”被映射成“00-01-10-11”，比特“1”被映射成“11-10-01-00”；之后这些相位状态序列会重复若干次以填充满整个传输符号间隔，这样做是为了接收端FFT能够更加准确的检测出频谱能量；最后这些信息符号的状态序列通过控制电路转换成数字驱动电压作用到超表面上，这样一旦此时载波开始辐射到超表面上，图片就会以无线信号的形式进行传输。</p><p>本系统接收机采用软件无线电进行数据的处理。在采样速率为800 kS/s的情况下，每获取512个采样数据点就进行一次FFT变换，并以周期图法的方式估计出这传输符号的频谱。由于采用的是二进制的FSK调制，因此检测器重点关注频谱中的两个频点f<sub>1</sub>和f<sub>2</sub>处的能量，若频点f<sub>1</sub>处的能量大于频点f<sub>2</sub>处的能力，则检测器将超表面传输的符号判决为比特“0”，反则判决成比特“1”。在判决检测之后，比特流信息被恢复且打包给图片应用，从而再现图片信息。</p><p>图10中系统发射端的信号功率为0 dBm，发射机与接收机距离为6.2 m。接收机FFT之后估计出的信号频谱如图11所示。如预期的，在频点序号为50 (对应着78.125 kHz的频点)的地方出现了能量尖峰，即此时比特“1”正在传输。同时也可以看到由于相位量化的原因，频谱中出现了若干高次谐波的干扰，但我们目标频点处的能量仍然较这些干扰要高10 dB左右，因此性能几乎不受影响，并且如图中所示，所传输的图片也能够正常恢复。</p><p>图10. 用于实验中的基于超表面的FSK无线通信系统</p><p>图11. 基于超表面的FSK无线通信系统实验结果</p></sec></sec><sec id="s6"><title>4. 结论</title><p>本文设计并提出了一种基于数字可编码超表面的新型无线通信系统，并以FSK调制方式为例利用LabVIEW FPGA将其在硬件中实现，实验证明该系统能够正常稳定地发挥FSK系统的性能且实时传输图片信号。同时本文还给出了如何在利用超表面完成载波调制的情况下设计单载波及多载波通信系统数字驱动信号的通用流程。该系统的亮点在于，利用一块数字可编码超表面替代了传统通信系统发射机侧的射频前端和天线，完成了基带信号到射频信号的调制过程。将数字可编码超表面或人工电磁超材料应用于通信系统的想法和应用价值还值得研究者们继续探索，这种新型的架构在未来更复杂的通信系统中将可能缓解射频前端设计困难或造价昂贵的压力，也可能作为一种高精度相控阵解决方案得到特定的应用。</p></sec><sec id="s7"><title>文章引用</title><p>李 享,阳 析,唐万恺. 基于数字可编码超表面的无线通信系统设计与实现Design and Implementation of Wireless Communication System Based on Digital Coding Metasurface[J]. 无线通信, 2019, 09(02): 59-70. https://doi.org/10.12677/HJWC.2019.92008</p></sec><sec id="s8"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.29720-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">Holloway, C.L., Kuester, E.F., Gordon, J.A., OHara, J., Booth, J. and Smith, D.R. (2012) An Overview of the Theory and Applica-tions of Metasurfaces: The Two-Dimensional Equivalents of Metamaterials. IEEE Antennas and Propagation Magazine, 54, 10-35. https://doi.org/10.1109/MAP.2012.6230714</mixed-citation></ref><ref id="hanspub.29720-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">Pereda, A.T., Caminita, F., Martini, E. and Ederra, I. (2018) Experimental Validation of a Ku-Band Dual-Circularly Polarized Metasurface Antenna. IEEE Transactions on Antennas and Propagation, 66, 1153-1159.  
https://doi.org/10.1109/TAP.2018.2794395</mixed-citation></ref><ref id="hanspub.29720-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">Zvolensky, T., Gollub, J.N., Marks, D.L. and Smith, D.R. (2017) Design and Analysis of a W-Band Metasurface-Based Computational Imaging System. IEEE Access, 5, 9911-9918.  
https://doi.org/10.1109/ACCESS.2017.2703860</mixed-citation></ref><ref id="hanspub.29720-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">Cui, T.J., Liu, S. and Li, L.L. (2016) Information Entropy of Coding Metasurface. Light: Science &amp; Applications, 5, e16172. https://doi.org/10.1038/lsa.2016.172</mixed-citation></ref><ref id="hanspub.29720-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">纪静文, 蔡超时, 胡峰, 梁云英. OFDM系统中CF-ACE PAPR技术对功放非线性的抑制[J]. 中国传媒大学学报自然科学版, 2011, 18(3): 23-29.</mixed-citation></ref><ref id="hanspub.29720-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">力智, 胡学龙. 单载波与多载波调制系统中调制识别算法研究[J]. 国外电子测量技术, 2016, 35(11): 73-75.</mixed-citation></ref><ref id="hanspub.29720-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">周乐柱, 李斗, 郭文嘉. 卫星通信多波束天线综述[J]. 电子学报, 2001, 29(6): 824-828.</mixed-citation></ref><ref id="hanspub.29720-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">吴迪, 田茂, 皮楚, 何昉明. 共形天线阵列极化分集问题[J]. 太赫兹科学与电子信息学报, 2018, 16(3): 445-451.</mixed-citation></ref><ref id="hanspub.29720-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">Liaskos, C. and Nie, S. (2018) A New Wireless Communication Paradigm through Software-Controlled Metasurfaces. IEEE Communications Magazine, 56, 162-169. https://doi.org/10.1109/MCOM.2018.1700659</mixed-citation></ref><ref id="hanspub.29720-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">Huang, C.H. and Alexandropoulos, G.C. (2018) Energy Efficient Mul-ti-User MISO Communication Using Low Resolution Large Intelligent Surfaces. IEEE GLOBECOM. arXiv:1809.05397.</mixed-citation></ref></ref-list></back></article>