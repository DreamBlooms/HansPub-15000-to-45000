<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">HJDM</journal-id><journal-title-group><journal-title>Hans Journal of Data Mining</journal-title></journal-title-group><issn pub-type="epub">2163-145X</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/HJDM.2021.112002</article-id><article-id pub-id-type="publisher-id">HJDM-41262</article-id><article-categories><subj-group subj-group-type="heading"><subject>HJDM20210200000_33302986.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于随机森林方法的国产电影票房研究
  Research on Box Office of Domestic Films Based on Random Forest Method
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>郭</surname><given-names>萱</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>鲍</surname><given-names>勇</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>于</surname><given-names>水源</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><addr-line>null</addr-line></aff><aff id="aff2"><addr-line>北京科技大学天津学院，天津</addr-line></aff><pub-date pub-type="epub"><day>29</day><month>03</month><year>2021</year></pub-date><volume>11</volume><issue>02</issue><fpage>11</fpage><lpage>20</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  随着经济的发展和人民生活水平的提高，电影行业迅速发展。电影票房影响因素的研究及预测，对提高国产电影质量十分必要。目前学者们多采用神经网络方法对电影票房进行研究，神经网络方法未给出变量重要性排序，预测结果不够稳健。本文依据2014~2018年225部国产影片的相关数据，采用随机森林方法建立电影票房预测模型。得到了影响我国国产电影票房的因素主要有首周末票房、首映日票房、百度指数、豆瓣评分和点映票房。同时本文采用线性回归模型和神经网络模型建立电影票房的预测模型，应用三种方法对2019年12部国产电影票房进行预测。结果表明：随机森林在电影票房预测方面更加精确稳健，对《飞驰人生》、《银河补习班》等八部影片的预测误差在10%左右。神经网络和线性回归模型预测误差较大。
   With the development of economy and the improvement of people’s living standard, the film indus-try develops rapidly. It is necessary to study and forecast the influencing factors of film box office to improve the quality of domestic films. At present, most scholars use the neural network method to study the box office of films. The neural network method does not give the order of importance of variables, and the prediction results are not robust enough. Based on the relevant data of 225 do-mestic films from 2014 to 2018, this paper adopts the random forest method to establish the box office prediction model. The main factors that influence the box office of domestic films in China are the box office of the first weekend, the first day box office, baidu index, douban score and the ad-vance screenings box office. At the same time, this paper adopts linear regression model and neural network model to establish the box office prediction model, and applies three methods to predict the box office of 12 domestic films in 2019. The results show that the random forest is more accu-rate and stable in the prediction of box office, and the prediction error of eight films such as “Pega-sus” and “Looking Up” is around 10%. The prediction error of neural network and linear regression model is large.
 
</p></abstract><kwd-group><kwd>电影票房预测，影响因素，随机森林，神经网络，线性回归, Box Office Forecast</kwd><kwd> Affecting Factors</kwd><kwd> Random Forests</kwd><kwd> Neural Network</kwd><kwd> Linear Regression</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>摘要</title><p>随着经济的发展和人民生活水平的提高，电影行业迅速发展。电影票房影响因素的研究及预测，对提高国产电影质量十分必要。目前学者们多采用神经网络方法对电影票房进行研究，神经网络方法未给出变量重要性排序，预测结果不够稳健。本文依据2014~2018年225部国产影片的相关数据，采用随机森林方法建立电影票房预测模型。得到了影响我国国产电影票房的因素主要有首周末票房、首映日票房、百度指数、豆瓣评分和点映票房。同时本文采用线性回归模型和神经网络模型建立电影票房的预测模型，应用三种方法对2019年12部国产电影票房进行预测。结果表明：随机森林在电影票房预测方面更加精确稳健，对《飞驰人生》、《银河补习班》等八部影片的预测误差在10%左右。神经网络和线性回归模型预测误差较大。</p></sec><sec id="s2"><title>关键词</title><p>电影票房预测，影响因素，随机森林，神经网络，线性回归</p></sec><sec id="s3"><title>Research on Box Office of Domestic Films Based on Random Forest Method</title><p>Xuan Guo, Yong Bao, Shuiyuan Yu</p><p>Tianjin College, University of Science and Technology Beijing, Tianjin</p><p><img src="//html.hanspub.org/file/1-1760226x4_hanspub.png" /></p><p>Received: Feb. 17<sup>th</sup>, 2021; accepted: Mar. 22<sup>nd</sup>, 2021; published: Mar. 29<sup>th</sup>, 2021</p><p><img src="//html.hanspub.org/file/1-1760226x5_hanspub.png" /></p></sec><sec id="s4"><title>ABSTRACT</title><p>With the development of economy and the improvement of people’s living standard, the film industry develops rapidly. It is necessary to study and forecast the influencing factors of film box office to improve the quality of domestic films. At present, most scholars use the neural network method to study the box office of films. The neural network method does not give the order of importance of variables, and the prediction results are not robust enough. Based on the relevant data of 225 domestic films from 2014 to 2018, this paper adopts the random forest method to establish the box office prediction model. The main factors that influence the box office of domestic films in China are the box office of the first weekend, the first day box office, baidu index, douban score and the advance screenings box office. At the same time, this paper adopts linear regression model and neural network model to establish the box office prediction model, and applies three methods to predict the box office of 12 domestic films in 2019. The results show that the random forest is more accurate and stable in the prediction of box office, and the prediction error of eight films such as “Pegasus” and “Looking Up” is around 10%. The prediction error of neural network and linear regression model is large.</p><p>Keywords:Box Office Forecast, Affecting Factors, Random Forests, Neural Network, Linear Regression</p><disp-formula id="hanspub.41262-formula1"><graphic xlink:href="//html.hanspub.org/file/1-1760226x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2021 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/1-1760226x7_hanspub.png" /> <img src="//html.hanspub.org/file/1-1760226x8_hanspub.png" /></p></sec><sec id="s5"><title>1. 引言</title><p>近年来中国电影业发展迅速，但国产电影票房收入在总票房中占比不大，国产电影想要在国际电影市场占有一席之地仍需更大的努力，分析影响电影票房的因素，预测电影票房，提高电影质量势在必行。2014年杨威 [<xref ref-type="bibr" rid="hanspub.41262-ref1">1</xref>] 使用新媒体微博数据作为研究对象，利用神经网络方法建立票房预测模型，并与支持向量机模型和线性回归模型进行预测精度对比，结果表明神经网络模型准确度高于其他模型。2017年张雪 [<xref ref-type="bibr" rid="hanspub.41262-ref2">2</xref>] 使用多元线性回归、BP神经网络和卷积神经网络建立票房预测模型，结果表明 [<xref ref-type="bibr" rid="hanspub.41262-ref2">2</xref>]：多元回归模型预测效果精确度较低，BP神经网络和卷积神经网络预测效果都比回归好。2018年郭萱 [<xref ref-type="bibr" rid="hanspub.41262-ref3">3</xref>] 针对2014~2016年173部国产电影采用随机森林方法进行电影票房影响因素分析，兼顾数值预测方法与分类预测方法提供合理的电影票房预测方案。2019年鲁月 [<xref ref-type="bibr" rid="hanspub.41262-ref4">4</xref>] 基于随机森林构建票房组合预测模型并与基于BP神经网络、k-均值 [<xref ref-type="bibr" rid="hanspub.41262-ref4">4</xref>] 和局部BP神经网络的国产电影票房预测模型进行对比，结果表明基于随机森林因素筛选的国产电影票房组合模型在一定程度上提高了票房的预测精度。</p><p>随机森林方法提出至今，已经被广泛应用于机器学习、生物医学、生物信息学和数据挖掘等众多领域。该方法不仅可以进行分类和回归预测，同时可以给出变量重要性排序 [<xref ref-type="bibr" rid="hanspub.41262-ref5">5</xref>]。相比于参数模型中假设较多，参数估计数值不稳定的问题，随机森林方法可以更好地解决噪声问题以及数据中的异常值问题、能更好地对大规模数据进行处理 [<xref ref-type="bibr" rid="hanspub.41262-ref6">6</xref>]、具有良好的解释性及学习过程快速。本文采用随机森林方法对国产电影票房影响因素进行分析，并对2019年12部影片的票房进行预测。首先根据问题实际背景给出七个影响国产电影票房的因素，分别为：档期、是否有续集、首映日票房、点映票房、首周末票房、百度指数和豆瓣评分。基于2014~2018年225部影片的相关数据，采用随机森林方法建立回归模型，得到影响国产电影票房的主要因素并给出2019年12部影片电影票房的预测值和预测误差。同时采用电影票房领域应用较多的神经网络方法和线性回归方法对2019年12部影片进行预测。将随机森林预测结果与神经网络和线性回归模型预测结果进行对比分析。在变量选择方面随机森林具有一定的优势，在预测方面随机森林方法比其他两种方法更为精确。</p></sec><sec id="s6"><title>2. 随机森林方法介绍</title><p>随机森林是机器学习算法之一，由多个决策树分类器组合而成。随机森林 [<xref ref-type="bibr" rid="hanspub.41262-ref7">7</xref>] 的基本思想是每次随机选取一些特征，独立建立树，重复这个过程，保证每次建立树时变量选取的可能性一致，如此建立许多彼此独立的树，最终的分类结果由产生的这些树共同决定。将分类树替换成回归树，把类别替换为每个回归树预测值的加权平均，就可以将随机森林树转换成随机森林回归算法。随机森林流程图如图1所示。</p><p>图1. 随机森林流程图</p><sec id="s6_1"><title>2.1. 随机森林算法</title><p>随机森林算法为 [<xref ref-type="bibr" rid="hanspub.41262-ref8">8</xref>]：</p><p>(1) 对于 b = 1 , ⋯ , B</p><p>(a) 通过bootstrap抽样方式产生b个样本子集。</p><p>(b) 对每个bootstrap样本建立随机森林树 T b ，每个叶子节点递归地重复以下步骤，直到叶子节点包含的数据量为 n min 为止。</p><p>① 从p个自变量中随机选择mtry个自变量。在使用随机森林做回归时mtry默认值为p/3，使用随机森林做分类时默认值为 p ，其中p为自变量个数。</p><p>② 在mtry个自变量中选择最好分裂变量和分裂点。</p><p>③ 将节点拆分为两个叶子节点。</p><p>(2) 输出集成树 { T b } 1 B</p><p>(3) 预测</p><p>(a) 对于回归问题，待测样本x的预测为：</p><p>f r f B ^ ( x ) = 1 B ∑ b = 1 B T b ( x )</p><p>(b) 对于分类问题，设 C b ^ ( x ) 是第b棵树的类预测。</p><p>C r f B ^ ( x ) = majorityvote { C b ^ ( x ) } 1 B</p><p>majorityvote为多数票。</p></sec><sec id="s6_2"><title>2.2. 变量重要性排序</title><p>随机森林可以给出变量重要性的排序，其具体过程如下 [<xref ref-type="bibr" rid="hanspub.41262-ref9">9</xref>]：</p><p>(1) 对每个bootstrap抽取的样本建立一个回归树模型，同时使用该模型对相应的袋外数据OOB(out-of-bag)进行预测，得到B个袋外数据的残差均方，记为 M S E 1 , M S E 2 , ⋯ , M S E B 。</p><p>(2) 变量 X i 在B个OOB样本中随机置换，得到新的OOB样本，然后用已建立的随机森林模型预测新的OOB样本，得到随机置换后的OOB残差均方如下：</p><p>[ M S E 11 M S E 12 ⋯ M S E 1 B M S E 21 M S E 22 ⋯ M S E 2 B M S E 31 M S E 32 ⋯ M S E 3 B ⋮ ⋮ ⋱ ⋮ M S E p 1 M S E p 2 ⋯ M S E p B ]</p><p>(3) 用 M S E 1 , M S E 2 , ⋯ , M S E B 与如上矩阵对应的第i列向量相减，平均后再除以标准误则得到变量 X i 的重要性排序，即</p><p>s c o r e i = ( ∑ j = 1 B ( M S E j − M S E i j ) / b ) / S E , ( 1 ≤ i ≤ p )</p><p>随机森林方法通过在OOB样本中随机地置换变量，计算预测精度下降程度来衡量变量的重要性，其数值越大说明变量越重要。</p></sec></sec><sec id="s7"><title>3. 中国电影票房影响因素及预测的实证分析</title><sec id="s7_1"><title>3.1. 中国电影票房影响因素指标的选取以及数据来源</title><p>本文根据实际问题背景以及数据获取难易程度选择影响中国电影票房的7个因素，分别为：档期、是否有续集、首映日票房、点映票房、首周末票房、百度指数和豆瓣评分。</p><p>① 档期：中国电影目前主要有暑期档和贺岁档两大特殊档期，本文将档期分为三类 [<xref ref-type="bibr" rid="hanspub.41262-ref10">10</xref>]：贺岁档为每年12、1、2月份；暑期档为每年6、7、8月份；其余月份为其他档期记为第一类。</p><p>② 续集：漫威系列电影的成功启示我们是否有续集可能会吸引特定的观众带来源源不断的票房。国内《人在囧途》、《叶问》、《战狼》等影片的成功预示着续集有可能成为影响电影票房的因素。</p><p>③ 首映日票房：首映日票房整体上可以反映观众对于一部电影的关注度，可以反映电影上映前电影的宣传效果。《美人鱼》上映当天票房达到2.72亿元，最终票房大卖。发行商可以根据首映日票房进一步明确影片定位，调整营销策略。</p><p>④ 点映票房：点映是电影上映前，制作团队在个别城市、个别影院对影片提前放映。点映在好莱坞有半个多世纪的历史，中国电影点映始于张艺谋导演的作品《英雄》 [<xref ref-type="bibr" rid="hanspub.41262-ref11">11</xref>]。点映一方面可以满足观众的好奇心，为电影的正式上映积累大量的口碑，另一方面可以通过观众的反馈调整上映期间的场次，适当改变营销方案。</p><p>⑤ 首周末票房：电影上映一周的首周末票房可以检验这部电影是否被观众认可，可以为接下来一段时间的排片宣传提供一定的参考。</p><p>⑥ 百度指数：百度指数是当前互联网时代重要的统计分析平台之一，是众多企业营销决策的重要依据。百度指数里可以看到以电影名为关键词的搜索量规模大小，电影上映前百度指数是指以该电影为关键词的预告片以及宣传片的搜索量。本文统计了一部电影上映前四周的百度指数，由于搜索量波动较大，选择电影上映前四周的平均百度指数作为研究变量。</p><p>⑦ 豆瓣评分：豆瓣电影是中国最大最权威的电影分享与评论社区 [<xref ref-type="bibr" rid="hanspub.41262-ref12">12</xref>]，电影上映后，观众会通过自己的综合观感在豆瓣电影给出综合评分以及评论。豆瓣评分代表着电影口碑。一部电影的评分会随着上映期间观众的评价不断更新，无法动态收集，本文采用电影上映后的综合评分作为研究变量。</p><p>各影响因素指标具体如表1。</p><p>根据《艺恩数据》及《中国电影票房数据库》，得到我国2014~2018年上映的225部影片的观测数据，部分数据如表2所示。</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Index selectio</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >变量</th><th align="center" valign="middle" >类型</th><th align="center" valign="middle" >指标选取</th></tr></thead><tr><td align="center" valign="middle" >x<sub>1</sub>：档期</td><td align="center" valign="middle" >分类变量</td><td align="center" valign="middle" >贺岁档记为3，暑期档记为2，其他记为1</td></tr><tr><td align="center" valign="middle" >x<sub>2</sub>：是否有续集</td><td align="center" valign="middle" >分类变量</td><td align="center" valign="middle" >有续集记为1，无续集记为0</td></tr><tr><td align="center" valign="middle" >x<sub>3</sub>：首映日票房</td><td align="center" valign="middle" >数值型变量</td><td align="center" valign="middle" >上映当天总票房</td></tr><tr><td align="center" valign="middle" >x<sub>4</sub>：点映票房</td><td align="center" valign="middle" >数值型变量</td><td align="center" valign="middle" >上映前提前点映总票房</td></tr><tr><td align="center" valign="middle" >x<sub>5</sub>：首周末票房</td><td align="center" valign="middle" >数值型变量</td><td align="center" valign="middle" >上映后第一个周末总票房</td></tr><tr><td align="center" valign="middle" >x<sub>6</sub>：百度指数</td><td align="center" valign="middle" >数值型变量</td><td align="center" valign="middle" >上映前四周平均百度指数</td></tr><tr><td align="center" valign="middle" >x<sub>7</sub>：豆瓣评分</td><td align="center" valign="middle" >数值型变量</td><td align="center" valign="middle" >豆瓣评分</td></tr></tbody></table></table-wrap><p>表1. 指标选取</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> Some data of 225 films from 2014 to 201</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >影片</th><th align="center" valign="middle" >y (亿)</th><th align="center" valign="middle" >x<sub>1</sub></th><th align="center" valign="middle" >x<sub>2</sub></th><th align="center" valign="middle" >x<sub>3</sub> (亿)</th><th align="center" valign="middle" >x<sub>4</sub> (万)</th><th align="center" valign="middle" >x<sub>5</sub> (亿)</th><th align="center" valign="middle" >x<sub>6</sub></th><th align="center" valign="middle" >x<sub>7</sub></th></tr></thead><tr><td align="center" valign="middle" >《心花路放》</td><td align="center" valign="middle" >11.70</td><td align="center" valign="middle" >1</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >1.03</td><td align="center" valign="middle" >3695.5</td><td align="center" valign="middle" >2.78</td><td align="center" valign="middle" >171661.25</td><td align="center" valign="middle" >7</td></tr><tr><td align="center" valign="middle" >《西游记之大闹天宫》</td><td align="center" valign="middle" >10.46</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >1.29</td><td align="center" valign="middle" >159.7</td><td align="center" valign="middle" >3.2</td><td align="center" valign="middle" >23957.25</td><td align="center" valign="middle" >4.1</td></tr><tr><td align="center" valign="middle" >《捉妖记》</td><td align="center" valign="middle" >24.4</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >1.63</td><td align="center" valign="middle" >1128.5</td><td align="center" valign="middle" >5.02</td><td align="center" valign="middle" >167710.5</td><td align="center" valign="middle" >6.8</td></tr><tr><td align="center" valign="middle" >…</td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td></tr><tr><td align="center" valign="middle" >《寻龙诀》</td><td align="center" valign="middle" >16.83</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >1.62</td><td align="center" valign="middle" >941.90</td><td align="center" valign="middle" >5.92</td><td align="center" valign="middle" >73390.5</td><td align="center" valign="middle" >7.6</td></tr></tbody></table></table-wrap><p>表2. 2014~2018年225部影片部分数据</p><p>进行数据分析前，为了消除量纲以及数据数量级大小的影响，对于数值型变量的观测数据进行标准化处理，即因变量票房，自变量首映日票房、点映票房、首周末票房、百度指数和豆瓣评分标准化处理z分数表示为公式(1)：</p><p>z i = x i − x &#175; s (1)</p><p>x &#175; 表示本组数据的平均数，s表示本组数据的标准差。</p></sec><sec id="s7_2"><title>3.2. 随机森林模型的建立</title><p>建立票房回归预测模型，随机森林模型中有两个参数mtry和ntree，其中mtry表示每一步分裂选择的自变量个数，ntree为随机森林中树的个数，R软件randomforest()函数默认 mtry = p / 3 ，p为自变量个数，默认树的个数 ntree = 500 ，Gareth James等 [<xref ref-type="bibr" rid="hanspub.41262-ref13">13</xref>] 指出随机森林里参数取默认值也可以取得较稳健的效果。</p><p>模型建立过程：</p><p>(1) 对于 b = 1 , ⋯ , 500</p><p>(a) 通过bootstrap抽样方式产生500个样本子集。</p><p>(b) 对每个bootstrap样本建立随机森林树 T b ，每个叶子节点递归地重复以下步骤，直到叶子节点包含的数据量为5为止。</p><p>① 从7个自变量 x 1 , x 2 , ⋯ , x 7 中随机选择2个自变量。</p><p>② 在2个自变量中选择最好分裂变量和分裂点。</p><p>③ 将节点拆分为两个叶子节点。</p><p>(2) 输出集成树 { T b } 1 B</p><p>(3) 预测</p><p>对于回归问题，待测样本x的预测为：</p><p>f r f B ^ ( x ) = 1 500 ∑ b = 1 500 T b ( x )</p></sec><sec id="s7_3"><title>3.3. 变量重要性排序</title><p>使用上述建立的随机森林模型，可以采用R软件计算得出影响电影票房的变量重要性排序如表3所示。随机森林方法通过在OOB(out-of-bag)样本中随机地置换变量，计算变量重要性。该数值越大，变量越重要，对电影票房的影响越大。</p><table-wrap id="table3" ><label><xref ref-type="table" rid="table3">Table 3</xref></label><caption><title> Order of importance of variable</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >变量</th><th align="center" valign="middle" >节点纯度</th></tr></thead><tr><td align="center" valign="middle" >档期</td><td align="center" valign="middle" >3.34913</td></tr><tr><td align="center" valign="middle" >是否有续集</td><td align="center" valign="middle" >1.76756</td></tr><tr><td align="center" valign="middle" >首映日票房</td><td align="center" valign="middle" >44.11292</td></tr><tr><td align="center" valign="middle" >点映票房</td><td align="center" valign="middle" >13.79366</td></tr><tr><td align="center" valign="middle" >首周末票房</td><td align="center" valign="middle" >60.88706</td></tr><tr><td align="center" valign="middle" >百度指数</td><td align="center" valign="middle" >20.88351</td></tr><tr><td align="center" valign="middle" >豆瓣评分</td><td align="center" valign="middle" >14.74532</td></tr></tbody></table></table-wrap><p>表3. 变量重要性排序</p><p>通过计算得出的变量重要性排序可知，首周末票房、首映日票房、百度指数、豆瓣评分和点映票房为影响电影票房的重要因素，档期和续集对于电影票房的影响可以忽略不计。R软件中plot()函数可以给出变量重要性排序图，如图2所示。</p></sec><sec id="s7_4"><title>3.4. 三种方法预测结果比较</title><p>除了随机森林模型外，神经网络在分类数据预测方面有较好的效果，线性回归模型是传统的预测模型，这两种方法在电影票房的预测方面都有提及，本文选取2019年12部影片使用三种模型进行电影票房的预测，预测误差定义如公式(2)：</p><p>预 测 误 差 = | 实 际 值 − 预 测 值 | 实 际 值 (2)</p><p>图2. 变量重要性排序</p><p>采用三种方法对影片预测数值如表4，影片预测对比折线图如图3，影片预测误差如表5。</p><table-wrap id="table4" ><label><xref ref-type="table" rid="table4">Table 4</xref></label><caption><title> Box office estimates for 12 films in 201</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >影片</th><th align="center" valign="middle" >实际票房(亿)</th><th align="center" valign="middle" >随机森林预测票房(亿)</th><th align="center" valign="middle" >神经网络预测票房(亿)</th><th align="center" valign="middle" >线性回归预测票房(亿)</th></tr></thead><tr><td align="center" valign="middle" >《中国机长》</td><td align="center" valign="middle" >28.84</td><td align="center" valign="middle" >20.20</td><td align="center" valign="middle" >13.70</td><td align="center" valign="middle" >24.93</td></tr><tr><td align="center" valign="middle" >《飞驰人生》</td><td align="center" valign="middle" >17.03</td><td align="center" valign="middle" >18.40</td><td align="center" valign="middle" >13.20</td><td align="center" valign="middle" >6.18</td></tr><tr><td align="center" valign="middle" >《扫毒2天地对决》</td><td align="center" valign="middle" >12.85</td><td align="center" valign="middle" >10.50</td><td align="center" valign="middle" >12.60</td><td align="center" valign="middle" >13.65</td></tr><tr><td align="center" valign="middle" >《叶问4》</td><td align="center" valign="middle" >11.72</td><td align="center" valign="middle" >9.30</td><td align="center" valign="middle" >12.70</td><td align="center" valign="middle" >11.31</td></tr><tr><td align="center" valign="middle" >《攀登者》</td><td align="center" valign="middle" >10.88</td><td align="center" valign="middle" >9.93</td><td align="center" valign="middle" >13.70</td><td align="center" valign="middle" >4.43</td></tr><tr><td align="center" valign="middle" >《比悲伤更悲伤的故事》</td><td align="center" valign="middle" >9.46</td><td align="center" valign="middle" >6.61</td><td align="center" valign="middle" >5.80</td><td align="center" valign="middle" >11.86</td></tr><tr><td align="center" valign="middle" >《银河补习班》</td><td align="center" valign="middle" >8.64</td><td align="center" valign="middle" >8.57</td><td align="center" valign="middle" >5.80</td><td align="center" valign="middle" >9.68</td></tr><tr><td align="center" valign="middle" >《反贪风暴4》</td><td align="center" valign="middle" >7.88</td><td align="center" valign="middle" >7.48</td><td align="center" valign="middle" >5.81</td><td align="center" valign="middle" >8.93</td></tr><tr><td align="center" valign="middle" >《熊出没原始时代》</td><td align="center" valign="middle" >7.09</td><td align="center" valign="middle" >7.27</td><td align="center" valign="middle" >5.80</td><td align="center" valign="middle" >6.37</td></tr><tr><td align="center" valign="middle" >《使徒行者谍影行动》</td><td align="center" valign="middle" >6.93</td><td align="center" valign="middle" >9.82</td><td align="center" valign="middle" >5.83</td><td align="center" valign="middle" >3.27</td></tr><tr><td align="center" valign="middle" >《老师好》</td><td align="center" valign="middle" >3.50</td><td align="center" valign="middle" >3.11</td><td align="center" valign="middle" >5.80</td><td align="center" valign="middle" >3.53</td></tr><tr><td align="center" valign="middle" >《追龙2》</td><td align="center" valign="middle" >3.04</td><td align="center" valign="middle" >4.14</td><td align="center" valign="middle" >5.80</td><td align="center" valign="middle" >4.33</td></tr></tbody></table></table-wrap><p>表4. 2019年12部影片票房预测结果</p><p>表中可以看出，随机森林回归模型显示出良好的预测精度。影片的预测误差多在20%左右。神经网络和线性回归模型对于部分影片的预测误差较小，但其预测误差范围较大，对某些影片的预测误差太大。12部影片中，随机森林对电影《银河补习班》的预测误差达到0.81%，对电影《熊出没原始时代》的预测误差为2.54%。说明随机森林选择出的影响电影票房的重要因素，首周末票房度、首映日票房、百度指数、豆瓣评分和点映票房是决定这两部影片总票房收入的重要因素。</p><p>图3. 2019年12部影片票房预测结果折线图</p><table-wrap id="table5" ><label><xref ref-type="table" rid="table5">Table 5</xref></label><caption><title> Box office error for 12 films in 201</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >影片</th><th align="center" valign="middle" >随机森林预测误差(%)</th><th align="center" valign="middle" >神经网络预测误差(%)</th><th align="center" valign="middle" >线性回归预测误差(%)</th></tr></thead><tr><td align="center" valign="middle" >《中国机长》</td><td align="center" valign="middle" >29.96%</td><td align="center" valign="middle" >52.50%</td><td align="center" valign="middle" >13.56%</td></tr><tr><td align="center" valign="middle" >《飞驰人生》</td><td align="center" valign="middle" >8.04%</td><td align="center" valign="middle" >22.49%</td><td align="center" valign="middle" >63.71%</td></tr><tr><td align="center" valign="middle" >《扫毒2天地对决》</td><td align="center" valign="middle" >18.29%</td><td align="center" valign="middle" >1.95%</td><td align="center" valign="middle" >6.23%</td></tr><tr><td align="center" valign="middle" >《叶问4》</td><td align="center" valign="middle" >20.65%</td><td align="center" valign="middle" >8.36%</td><td align="center" valign="middle" >3.50%</td></tr><tr><td align="center" valign="middle" >《攀登者》</td><td align="center" valign="middle" >8.73%</td><td align="center" valign="middle" >25.92%</td><td align="center" valign="middle" >59.28%</td></tr><tr><td align="center" valign="middle" >《比悲伤更悲伤的故事》</td><td align="center" valign="middle" >30.13%</td><td align="center" valign="middle" >38.69%</td><td align="center" valign="middle" >25.37%</td></tr><tr><td align="center" valign="middle" >《银河补习班》</td><td align="center" valign="middle" >0.81%</td><td align="center" valign="middle" >32.87%</td><td align="center" valign="middle" >12.04%</td></tr><tr><td align="center" valign="middle" >《反贪风暴4》</td><td align="center" valign="middle" >5.08%</td><td align="center" valign="middle" >26.27%</td><td align="center" valign="middle" >13.32%</td></tr><tr><td align="center" valign="middle" >《熊出没原始时代》</td><td align="center" valign="middle" >2.54%</td><td align="center" valign="middle" >18.19%</td><td align="center" valign="middle" >10.16%</td></tr><tr><td align="center" valign="middle" >《使徒行者谍影行动》</td><td align="center" valign="middle" >41.70%</td><td align="center" valign="middle" >15.87%</td><td align="center" valign="middle" >52.81%</td></tr><tr><td align="center" valign="middle" >《老师好》</td><td align="center" valign="middle" >11.14%</td><td align="center" valign="middle" >65.71%</td><td align="center" valign="middle" >0.86%</td></tr><tr><td align="center" valign="middle" >《追龙2》</td><td align="center" valign="middle" >36.18%</td><td align="center" valign="middle" >90.79%</td><td align="center" valign="middle" >42.43%</td></tr></tbody></table></table-wrap><p>表5. 2019年12部影片票房预测误差</p><p>电影《银河补习班》2019年7月18日上映，总票房8.78亿元，首周末票房2.70亿元，首映日票房0.65亿元，上映前四周平均百度指数52717.5，豆瓣评分6.3分，点映票房0.99亿元。电影《熊出没原始时代》2019年2月5日上映，总票房7.18亿元，首周末票房1.90亿元，首映日票房0.74亿元，上映前四周平均百度指数1303.75，豆瓣评分6.7分，点映票房0.40亿元。</p><p>两部影片的数据对比表明，首周末票房和首映日票房都取得极大成功的基础上，在2019年同档次总票房收入的影片中，这两部影片有一个共同的特点即点映票房较高。《银河补习班》在上映前多地超前点映，观众的反响和点映现场的效果反馈其不仅在故事发展上吸引观众眼球，人员演技及影片质量同样好评如潮，使得该片的首映日票房和首周末票房取得不错的成绩。但是因为点映效果良好，提高了观众对这部影片的期待，使得其后续豆瓣评分成绩一般。《熊出没之原始时代》有别于《银河补习班》，其不仅是依靠点映票房取得总票房的好成绩，这部影片有续集，连续多年积累了一定的口碑，传播较为广泛，使得其在上映之后取得不错的票房。</p><p>故首周末票房、首映日票房、百度指数、豆瓣评分和点映票房对电影票房总收入影响较大，制片方、营销方和院线可以根据影片的实际市场情况，采取合适的营销方式来提高票房收入。</p></sec></sec><sec id="s8"><title>4. 结论</title><p>本文依据2014~2018年225部国产电影票房数据，运用随机森林方法对影响国产电影票房的因素进行分析，最终得出影响电影票房的主要因素有首周末票房、首映日票房、百度指数、豆瓣评分和点映票房五个因素，档期以及是否有续集这两个因素对电影票房的影响可以忽略不计。</p><p>首周末票房可以检验一部电影的口碑，反映电影的火爆程度以及在后续电影放映中的竞争态势，发行方可根据首周末票房来调整营销策略。首映日票房是电影本身类型、导演、演员类型以及上映前电影宣传情况的一个综合体现，提高首映日票房需要提高电影本身的制作，需要加强电影的宣传。百度指数可以洞察电影上映前观众对影片的兴趣、监测舆情动向、定位受众的特征。提高百度指数多在电影制作拍摄包括电影制作完成后要实时宣传，引起观众兴趣。豆瓣评分会动态影响电影票房，豆瓣评分较高的电影会吸引一部分观众，豆瓣评分较低会让一部分本来要去看电影的观众选择放弃观看。电影点映属于电影宣传环节，点映过程中可以收集观众对影片的初步评价，如果电影有所不足可以调整营销策略弥补电影本身的不足。</p><p>在分析影响电影票房因素的基础上，本文采用随机森林模型、神经网络模型和线性回归模型对2019年12部影片进行了预测。预测结果表明，随机森林对于《银河补习班》、《熊出没原始时代》、《反贪风暴4》这三部影片的预测误差在5%左右取得较好的效果，部分影片预测误差较大，但整体来讲随机森林预测票房较为稳健。神经网络和线性回归模型对于部分影片的预测效果良好，针对大部分影片其预测误差波动较大，就本文的研究而言，针对票房数据建立的三种预测模型，随机森林取得良好的效果。</p><p>电影票房影响因素分析及预测中，演员阵容、导演、发行商和新浪微博的宣传力度等是否会影响电影票房的收入，如何将这些变量量化纳入模型本文没有提及，有待继续探索研究。</p></sec><sec id="s9"><title>文章引用</title><p>郭萱,鲍勇,于水源. 基于随机森林方法的国产电影票房研究Research on Box Office of Domestic Films Based on Random Forest Method[J]. 数据挖掘, 2021, 11(02): 11-20. https://doi.org/10.12677/HJDM.2021.112002</p></sec><sec id="s10"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.41262-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">杨威. 基于微博数据的电影票房预测模型研究[D]: [硕士学位论文]. 安徽: 安徽大学计算机应用技术专业, 2014.</mixed-citation></ref><ref id="hanspub.41262-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">张雪. 基于深度学习卷积神经网络的电影票房预测[D]: [硕士学位论文]. 北京: 首都经济贸易大学统计学院, 2017.</mixed-citation></ref><ref id="hanspub.41262-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">郭萱. 基于随机森林的电影票房预测研究[D]: [硕士学位论文]. 北京: 中国石油大学(北京)数学系, 2018.</mixed-citation></ref><ref id="hanspub.41262-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">鲁月. 基于随机森林因素筛选的国产电影票房组合预测模型研究[D]: [硕士学位论文]. 江苏: 南京航空航天大学经济与管理学院, 2019.</mixed-citation></ref><ref id="hanspub.41262-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Boulesteix, A.L., Janitza, S., Kruppa, J., et al. (2012) Overview of Random Forest Methodology and Practical Guidance with Emphasis on Computational Biology and Bioinformatics. Wiley Interdisciplinary Reviews Data Mining &amp; Knowledge Discovery, 2, 493-507. &lt;br&gt;https://doi.org/10.1002/widm.1072</mixed-citation></ref><ref id="hanspub.41262-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">曹正凤. 随机森林算法优化研究[D]: [博士学位论文]. 北京: 首都经济贸易大学统计学院, 2014.</mixed-citation></ref><ref id="hanspub.41262-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">王星. 大数据分析: 方法与应用[M]. 北京: 清华大学出版社, 2013: 63-65.</mixed-citation></ref><ref id="hanspub.41262-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">Hastie, T., Tibshirani, R. and Friedman, J. (2008) The Elements of Statistical Learning. Stanford, California, August, 588-590.</mixed-citation></ref><ref id="hanspub.41262-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">徐戈. 基于随机森林模型的房产价格评估[J]. 统计与决策, 2014(17): 22-25.</mixed-citation></ref><ref id="hanspub.41262-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">聂鸿迪. 中国电影票房的影响因素及其实证研究[D]: [硕士学位论文]. 北京: 北京交通大学经济管理学院, 2015.</mixed-citation></ref><ref id="hanspub.41262-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">郎倩雯. 中国电影公关营销策略研究[D]: [硕士学位论文]. 浙江: 浙江大学传媒与国际文化学院, 2011.</mixed-citation></ref><ref id="hanspub.41262-ref12"><label>12</label><mixed-citation publication-type="other" xlink:type="simple">宋恩梅, 朱梦娴. 社会化媒体信息分布规律研究: 以电影评论为例[J]. 信息资源管理学报, 2015(3): 25-36.</mixed-citation></ref><ref id="hanspub.41262-ref13"><label>13</label><mixed-citation publication-type="other" xlink:type="simple">James, G., Witten, D., Hastie, T., et al. (2013) An Introduction to Statistical Learning: With Applications in R. Springer, New York, 320-321. &lt;br&gt;https://doi.org/10.1007/978-1-4614-7138-7_1</mixed-citation></ref></ref-list></back></article>