<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">CSA</journal-id><journal-title-group><journal-title>Computer Science and Application</journal-title></journal-title-group><issn pub-type="epub">2161-8801</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/CSA.2017.79103</article-id><article-id pub-id-type="publisher-id">CSA-22170</article-id><article-categories><subj-group subj-group-type="heading"><subject>CSA20170900000_57499815.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject></subj-group></article-categories><title-group><article-title>
 
 
  电力云资源池存储域的研究与实现
  Study and Implement of Storage-Pool in Electric Cloud’s Resource Pool
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>尚</surname><given-names>枫</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>张</surname><given-names>辉</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>杨</surname><given-names>宁</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>武</surname><given-names>毅</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>王</surname><given-names>国霞</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>国家电网信息通信产业集团北京中电普华信息技术有限公司，北京</addr-line></aff><aff id="aff3"><addr-line>北京科技大学自动化学院，北京</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>31</day><month>08</month><year>2017</year></pub-date><volume>07</volume><issue>09</issue><fpage>902</fpage><lpage>911</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   国家电网公司从2010年开始建设电力云资源池，存储域作为资源池的必须部分，设计和实现存储域是资源池建设重要部分。首先明确存储域中各种主机和业务对存储的需求、存储域的设计目标和设计原则，提出了两级三类的存储域总体架构，并详细阐述了每类每级能满足的存储需求和业务需求，存储域中监控模块和管理模块的结构和功能也作了详尽说明。该存储域的架构设计不仅可以满足电力云资源池的各种存储需求，符合存储域的设计目标和设计原则，还可以给其他企业的存储域设计和实现提供可借鉴的蓝图。 State Grid Corporation of China (SGCC) has been building electric cloud’s resource pool from 2010, and as the necessary part, storage-pool’s design and implement is the key step. In this paper, the storage requirements analysis of all kinds of host computer and business in storage-pool, and the design aim, design fundamentals are all clearly defined. On this basis, this paper proposed two-level and three-type schema of storage-pool. Storage and business requirements satisfied by each level and each type storage-pool are also explained in detail, and the monitoring model and management model in storage-pool are also declared. This schema of storage-pool can satisfy the storage-requirement, the design aim and design fundamentals. It also provides practical experience for other enterprises. 
    
  
 
</p></abstract><kwd-group><kwd>云计算，资源池，存储池，存储池总架构, Cloud Computer</kwd><kwd> Resource-Pool</kwd><kwd> Storage-Pool</kwd><kwd> The Schema of Storage-Pool</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>电力云资源池存储域的研究与实现<sup> </sup></title><p>尚枫<sup>1</sup>，张辉<sup>1</sup>，杨宁<sup>1</sup>，武毅<sup>1</sup>，王国霞<sup>2*</sup></p><p><sup>1</sup>国家电网信息通信产业集团北京中电普华信息技术有限公司，北京</p><p><sup>2</sup>北京科技大学自动化学院，北京</p><disp-formula id="hanspub.22170-formula21"><graphic xlink:href="//html.hanspub.org/file/12-1540810x5_hanspub.png"  xlink:type="simple"/></disp-formula><p>收稿日期：2017年9月10日；录用日期：2017年9月24日；发布日期：2017年9月27日</p><disp-formula id="hanspub.22170-formula22"><graphic xlink:href="//html.hanspub.org/file/12-1540810x6_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>国家电网公司从2010年开始建设电力云资源池，存储域作为资源池的必须部分，设计和实现存储域是资源池建设重要部分。首先明确存储域中各种主机和业务对存储的需求、存储域的设计目标和设计原则，提出了两级三类的存储域总体架构，并详细阐述了每类每级能满足的存储需求和业务需求，存储域中监控模块和管理模块的结构和功能也作了详尽说明。该存储域的架构设计不仅可以满足电力云资源池的各种存储需求，符合存储域的设计目标和设计原则，还可以给其他企业的存储域设计和实现提供可借鉴的蓝图。</p><p>关键词 :云计算，资源池，存储池，存储池总架构</p><disp-formula id="hanspub.22170-formula23"><graphic xlink:href="//html.hanspub.org/file/12-1540810x7_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2017 by authors and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/12-1540810x8_hanspub.png" /> <img src="//html.hanspub.org/file/12-1540810x9_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>资源池作为云计算技术在企业落地的新型应用方式，在金融业、运营商、高端制造业等行业的私有云中获得了应用 [<xref ref-type="bibr" rid="hanspub.22170-ref1">1</xref>] [<xref ref-type="bibr" rid="hanspub.22170-ref2">2</xref>] [<xref ref-type="bibr" rid="hanspub.22170-ref3">3</xref>] [<xref ref-type="bibr" rid="hanspub.22170-ref4">4</xref>] [<xref ref-type="bibr" rid="hanspub.22170-ref5">5</xref>] ，电力企业作为国家的支柱性企业，自2010年开始筹建自己的电力云，资源池作为电力云建设的第一步，经过几年的建设-修正-再修正，目前已经形成了相对完备的设计和实施方案。</p><p>电力云资源池 [<xref ref-type="bibr" rid="hanspub.22170-ref6">6</xref>] [<xref ref-type="bibr" rid="hanspub.22170-ref7">7</xref>] [<xref ref-type="bibr" rid="hanspub.22170-ref8">8</xref>] [<xref ref-type="bibr" rid="hanspub.22170-ref9">9</xref>] 按照提出的六层模型进行筹建，六层模型中从外到内是包含与被包含的关系，如图1所示。根据电力云中资源池六层物理模型的组成情况，给出在一个数据中心资源池基础架构设计的全景图，如图2所示，由此可以看出一个资源池包含哪些要素以及哪些要素是如何组装在一起的。</p><p>从图2可以看出，数据存储和数据备份是资源池规划建设的必须部分，资源池中的存储域不仅提供数据存储和数据备份，它同时也是支持资源池迁移等功能的基础。同时，和服务器端的虚拟化技术相比，存储虚拟化技术较为薄弱，而且不同厂商的存储器差异较大，异构现象突出，资源池对存储的需求也是多种多样的，如何规划和实现满足要求的存储域也是一项重大课题。</p><p>本文结合电力云的情况，在分析了不同主机、不同的业务对各类存储的需求情况，提出了资源池存储域的设计目标和设计原则的基础上，还提出了二级三类的存储池架构，并对该架构种每类、每层存储池进行了详细的设计说明。本文提出的存储池架构不仅给电力企业云计算的研究和实施提供了实际的技术方案，也为其他企业的存储池建设提供了可借鉴的方案，甚至是云计算技术的发展和云计算在企业的顺利实施铺平了道路。</p></sec><sec id="s4"><title>2. 资源池存储域的需求分析、设计目标及原则</title><sec id="s4_1"><title>2.1. 资源池存储域的需求分析</title><p>资源池存储域要将原来独立的只能独立纵向扩展的物理存储设备虚拟化统一管理，实现存储资源的逻辑虚拟化并集中使用和管理；虚拟化资源池常见的实现方式有通过虚拟化管理整合现有的物理存储</p><p>图1. 资源池六层模型</p><p>图2. 某数据中心资源池总架构</p><p>资源的存储池或者是基于分布式数据存储概念的分布式存储池。当然，存储池的建设要以满足电力企业业务需求为前提条件。</p><p>从图2可以看出，电力云资源池包括有X86虚拟机池、X86物理机池、小型机池，不同的资源池内的主机对存储的需求会有所不同；对电力企业而言，业务类型也林林总总，不同的主机承载不同的业务时，对存储和IO的要求也不尽相同，首先对资源池存储域的需求进行分析，如表1所示。</p><p>从存储的虚拟化需求来看，目前各网省公司已经采用了基于HP/HDS高端存储的存储虚拟化技术，技术原理是通过高端存储的前端端口模拟为服务器光纤端口，识别并接管外部存储数据卷后转换为虚拟化平台存储的内部数据卷格式，然后重新映射到现有服务器设备，实现外部存储的虚拟化接管过程。存储被虚拟化平台接管后，服务器端只识别到统一的虚拟化平台数据卷格式，并且服务器对于被虚拟化存储数据卷的访问通过虚拟化平台存储的数据缓存实现，虚拟化平台存储缓存会为IO访问提供读、写缓存功能，从而提高了数据访问性能。</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> The demand analysis of the storage-poo</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >存储需求</th><th align="center" valign="middle" >数据访问特点</th><th align="center" valign="middle" >对应解决方式</th></tr></thead><tr><td align="center" valign="middle" >虚拟化运行</td><td align="center" valign="middle" >启动与关闭时宿主OS进行内存与本地硬盘数据交互频繁，对本地磁盘容量要求低。</td><td align="center" valign="middle" >本地磁盘</td></tr><tr><td align="center" valign="middle" >虚拟机系统</td><td align="center" valign="middle" >1) 启动或关闭IOPS及流量较高； 2) 安装配置软件时IOPS及流量较高； 3) 可靠性要求较高；</td><td align="center" valign="middle" >冗余的、 共享存储</td></tr><tr><td align="center" valign="middle" >业务应用数据</td><td align="center" valign="middle" >1) 一般类型启动或关闭时IOPS及流量较高； 2) 提供文件形式服务取决于业务锋线； 3) 小型数据库I/O较小，库容量较低，使用文件形式存储数据文件较多； 4) 大型数据库I/O频繁，容量较大；</td><td align="center" valign="middle" >高性能、 高可靠性的 专用存储</td></tr><tr><td align="center" valign="middle" >数据备份</td><td align="center" valign="middle" >定期执行全备，日常对归档数据备份，保证RTO与RPO的最高性； 数据库全备容量较大，归档相对较小。最大程度上缩短备份时间窗； 速度要求一般；</td><td align="center" valign="middle" >具备备份 管理能力的存储</td></tr></tbody></table></table-wrap><p>表1. 资源池存储域的需求分析</p><p>在前期的国网容灾项目规划当中，存储虚拟化功能主要用于集中接管各网省非HP/HDS的高、中端存储资源，虚拟化管理其他存储资源后配合HP/HDS高端存储的远程异步复制技术以实现各网省到北京、上海两个数据中心的远程数据容灾构架。外部存储数据卷的虚拟化方式，根据规划采用了透传模式即不改变外部存储数据卷的格式内容，确保了数据安全并方便回退，且实施过程相对简单。</p><p>现有各网省的存储虚拟化方式主要目标是为了实现各个独立的物理存储资源的虚拟化集中，然后实现由网省到容灾中心的数据级容灾，目前，构架规划存在如下问题：</p><p>1) 没有实现存储资源集中共享，各应用项目存储资源仍独立使用，也就无法最大存储资源使用效率；</p><p>2) 目前的数据应用方式仍然采用透传模式，无法条带化方式使用，也就无法共享多台存储的访问性能和进一步优化数据存储效率；</p><p>3) 应用存储资源部署和使用方式相对粗放，没有进行精细的性能、可用性等的梳理，分配对应级别的存储资源；</p><p>4) 由于目前网省端到数据中心部署了异步数据容灾，因此数据卷的格式调整和变更需要容灾复制的变更操作。</p></sec><sec id="s4_2"><title>2.2. 资源池存储域的设计目标和原则</title><p>通过上述的需求分析，电力云资源池存储域的设计目标主要有以下几个方面：</p><p>1) 提升当前国网生产运行环境当中存储空间的整体使用效率 [<xref ref-type="bibr" rid="hanspub.22170-ref10">10</xref>] [<xref ref-type="bibr" rid="hanspub.22170-ref11">11</xref>] ，实现提升整体的存储空间及性能利用率，减少存储资源浪费并降低存储设备投资成本；</p><p>2) 物理存储资源虚拟化后，使管理面向相对单一的操作界面，降低了存储管理难度和人员管理技能要求，减少了存储维护难度；便于存储空间资源的灵活分配，且底层存储资源的扩展及调整均不会对生产应用业务运行产生影响；</p><p>3) 存储池化管理后，可以按照应用业务需求的不同定义对应的服务级别，实现对应不同应用级别的存储池 [<xref ref-type="bibr" rid="hanspub.22170-ref12">12</xref>] ，使用不同层级的存储池首先确保了应用能够得到所需服务级别的资源，又可以避免存储资源的不当分配及浪费，从而优化存储资源的部署；存储池内部可以进一步采用如精简供应、数据压缩、数据除重以及分级存储等技术进一步提升存储效率和访问性能；</p><p>4) 存储池化后，应用数据也随之集中，便于以应用业务群或其他方式为单位实现如本地高可用镜像、逻辑保护以及同城或异地灾备等功能，提供业务应用的业务连续性保护。</p><p>电力云资源池存储池域设计要基于以下两个基本原则：</p><p>1) 通过虚拟化管理平台设备整合现有的物理存储资源构架的存储池</p><p>在采用虚拟化平台方式进行现有的物理存储资源整合时，主要考虑以下几点：</p><p>a) 虚拟化平台整合过程应不影响数据及业务运行安全性，因此应用现有物理存储资源的虚拟化接管及优化方式都应考虑相应的数据备份及回退方案；</p><p>b) 接管后的存储访问性能应保持不变或有所提升，因此虚拟化平台设备自身的软、硬件资源配置应满足性能要求，如考虑对应处理能力的虚拟化平台的虚拟化处理器、数据缓存、数据访问端口等；</p><p>c) 存储池化并不是简单的物理存储资源大集中，物理存储资源本身应按照处理能力、可靠性、资源配置情况进行等级划分，同时对应于不同等级的应用需求划分合理数量、容量及处理能力的存储资源池；就国网现状来看，建议至少将高端存储及中端存储划分到不同的存储池当中，还可以考虑以应用群或可用性为边界进行进一步划分；</p><p>d) 存储池化的优点是便于集中管理和监控 [<xref ref-type="bibr" rid="hanspub.22170-ref13">13</xref>] ，应为存储监控平台提供统一的管理接口，提供存储池配置、性能监控及告警等功能。</p><p>2) 基于分布式数据存储概念设计的分布式存储构建的存储池</p><p>a) 分布式存储构架部署时，应重点考虑部署应用的存储功能需求 [<xref ref-type="bibr" rid="hanspub.22170-ref14">14</xref>] [<xref ref-type="bibr" rid="hanspub.22170-ref15">15</xref>] ，如存储容量及扩展性、可靠性、业务连续性等要求；对于从原有传统存储构架迁移至分布式存储构架时，应考虑相应的数据备份及回退方案；</p><p>b) 分布式存储池应按照处理能力、可靠性、资源配置情况进行等级划分，对应于不同等级的应用需求划分合理容量、处理能力的存储资源池，可以考虑以应用群或可用性为边界进行划分；分布式存储池可以利用SSD或高速磁盘资源满足对于访问性能要求较高的业务应用；</p><p>c) 存储池化的优点是便于集中管理、和监控，应为存储监控平台提供统一的管理接口，提供存储池配置、性能监控及告警等功能。</p></sec></sec><sec id="s5"><title>3. 资源池存储域的总体架构</title><p>根据对电力云资源池存储域的需求分析、设计目标和原则，并且在各省市利旧设备较多，存储环境已基本定型的情况下，提出了二级三类存储池架构。</p><p>从存储池存储数据来看，业务数据可靠性要求高、规模较大、并发数高、数据类型复杂，需要高性能、高可靠性的存储资源，这也是各类物理机池或小型机虚拟池对存储的需求。非业务数据的存储需要中性能和低性能的存储资源即可满足，而中性能和低性能的存储资源也可满足X86虚拟化池虚拟化映像对存储资源的需求。所以对电力云资源池的存储域提出了二级存储结构。</p><p>一级存储包括用于支撑业务应用系统所需要的存储资源，主要为满足各类物理机池或小型机虚拟池对存储的需求，由于这些主机规模较大、并发数高、数据类型复杂，因此选用高端集中式存储。</p><p>二级存储包括用于支撑服务器虚拟化镜像文件所需要的存储资源，主要为满足X86虚拟化池虚拟映像对存储资源的需求，一般采用中高端存储设备来保证存储的性能和可靠性。</p><p>同时，根据存储是否虚拟化及存储数据的不同，存储池存储虚拟化池和分布式存储池两类资源池，存储虚拟化池根据存储资源的性能、可靠性，分为高端存储资源池和中端存储资源池，业务应用按照服务等级分类分别规划到不同的存储资源池当中，高端存储资源池主要用于高性能、高可靠需求的业务应用，中端存储资源池主要用于高性能、高可靠和中等性能、高可靠需求的应用；分布式存储池按照IO处理能力划分为高IO处理能力和普通IO处理能力，主要区别在于高IO处理能力的分布式存储集群采用具备更高的IO处理能力、闪存盘及高转速磁盘资源，主要用于高性能、中等可靠性和中等性能、中等可靠性需求的应用；普通IO处理能力的分布式存储集群则用于一般性能、中等可靠性的应用，如图3所示。综合可得电力云资源池的存储域的两级三类的存储池架构，即集中部署的一级存储，包含在最小交付单元中的二级存储和分布式存储，总体架构如图4所示。另外，可按照应用数据的负载特点、交易量、可靠性和业务连续性需求等对存储资源池进行规划，如表2所示。</p><p>图4中存储池监控管理模块 [<xref ref-type="bibr" rid="hanspub.22170-ref16">16</xref>] 提供对存储虚拟化和分布式存储系统的综合监控和操作管理，分别由存储虚拟化设备提供SMI-S接口和分布式存储系统提供API接口进行存储设备的监控和管理功能，包含容量管理、性能管理、配置管理、故障管理、拓扑管理等功能。</p><p>存储监控管理的典型部署架构如图5所示。存储监控管理系统需要把存储阵列和光纤交换机的控制口接入网络，出于安全考虑，可建立专有的存储管理子网，存储监控管理所需的服务器放入存储管理域。其中两台作为数据库服务器，两台作为存储设备的接口机，存储监控管理系统通过核心交换机连接到业务网络。</p><p>图3. 资源池存储域总体框架</p><p>图4. 资源池存储池的存储结构</p><p>图5. 存储监控管理的典型部署架构</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> Capacity plan of storage-poo</title></caption><table><tbody><thead><tr><th align="center" valign="middle" ></th><th align="center" valign="middle" >一级存储高性能</th><th align="center" valign="middle" >一级存储低性能</th><th align="center" valign="middle" >二级存储高性能</th><th align="center" valign="middle" >二级存储低性能</th></tr></thead><tr><td align="center" valign="middle" >应用类型</td><td align="center" valign="middle" >大型应用</td><td align="center" valign="middle" >普通应用</td><td align="center" valign="middle" >虚拟机镜像</td><td align="center" valign="middle" >虚拟机备份</td></tr><tr><td align="center" valign="middle" >业务交易量</td><td align="center" valign="middle" >高</td><td align="center" valign="middle" >中</td><td align="center" valign="middle" >中</td><td align="center" valign="middle" >低</td></tr><tr><td align="center" valign="middle" >存储容量</td><td align="center" valign="middle" >中</td><td align="center" valign="middle" >中</td><td align="center" valign="middle" >高</td><td align="center" valign="middle" >高</td></tr><tr><td align="center" valign="middle" >数据存储类型</td><td align="center" valign="middle" >结构化</td><td align="center" valign="middle" >结构化为主</td><td align="center" valign="middle" >结构化为主</td><td align="center" valign="middle" >文件为主</td></tr><tr><td align="center" valign="middle" >日常业务负载</td><td align="center" valign="middle" >高</td><td align="center" valign="middle" >中</td><td align="center" valign="middle" >高、中</td><td align="center" valign="middle" >低</td></tr><tr><td align="center" valign="middle" >实时性要求</td><td align="center" valign="middle" >高</td><td align="center" valign="middle" >中</td><td align="center" valign="middle" >中</td><td align="center" valign="middle" >低</td></tr><tr><td align="center" valign="middle" >可靠性要求</td><td align="center" valign="middle" >高</td><td align="center" valign="middle" >高</td><td align="center" valign="middle" >中</td><td align="center" valign="middle" >低</td></tr><tr><td align="center" valign="middle" >数据安全级别</td><td align="center" valign="middle" >高</td><td align="center" valign="middle" >高</td><td align="center" valign="middle" >中</td><td align="center" valign="middle" >低</td></tr><tr><td align="center" valign="middle" >池化适用度</td><td align="center" valign="middle" >中</td><td align="center" valign="middle" >高</td><td align="center" valign="middle" >高</td><td align="center" valign="middle" >高</td></tr><tr><td align="center" valign="middle" >存储池建议</td><td align="center" valign="middle" >高端企业级存储</td><td align="center" valign="middle" >中端存储为主</td><td align="center" valign="middle" >高IO性能资源</td><td align="center" valign="middle" >普通IO性能资源</td></tr><tr><td align="center" valign="middle" >DR建议</td><td align="center" valign="middle" >一级部署</td><td align="center" valign="middle" >二级部署</td><td align="center" valign="middle" >二级部署</td><td align="center" valign="middle" >无</td></tr></tbody></table></table-wrap><p>表2. 存储资源性能规划</p><p>存储池的管理模块主要负责存储虚拟化和分布式存储池的设备监控、配置管理、容量管理、性能管理、故障管理和拓扑管理等基础功能，对于分布式存储还应当具备集群管理、可用性管理等功能。</p><p>存储池管理总体架构如图6所示，存储池有存储虚拟化池和分布式存储组成，向上提供一级和二级存储，分别包含高性能和中性能，一共四种组合。</p><p>在存储的虚拟化中，由虚拟化设备(比如国网现有环境中的HP/HDS高端虚拟化存储)向下统一管理后端的中高端存储，向上提供存储虚拟化池，存储管理模块通过存储管理协议(SMI-S)对虚拟化存储池进行管理。</p><p>在分布式存储池中，由分布式存储系统向下管理X86存储服务器集群，部分存储设备挂在X86集群中提供存储空间；向上提供分布式存储池；分布式存储系统提供标准的存储管理协议(比如CDMI或者WebService)等访问接口，有存储管理模块进行管理。</p><p>存储管理模块整合存储虚拟化和分布式的存储接口，向云资源管理平台提供统一的存储池管理接口，该接口基于WebService协议。</p></sec><sec id="s6"><title>4. 存储池应用举例</title><p>国网公司下属很多电力公司都建设了资源池和存储池，本文以上海电力公司存储池应用情况作简要说明。</p><p>上海电力公司存储虚拟化系统纳管1台联想VNX5100、1台宏杉MS3300、1台华为S5600的空闲资源后，形成统一的存储资源，并将业务系统数据迁移到存储虚拟化平台，原有主机仍旧通过FC网络访问整合后的存储资源。实施完成后具体情况如表3。</p><p>图6. 存储池管理模块架构</p><table-wrap id="table3" ><label><xref ref-type="table" rid="table3">Table 3</xref></label><caption><title> The running condition after Virtualization implementation of Shanghai electric power compan</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >网省公司</th><th align="center" valign="middle" >纳管存储</th><th align="center" valign="middle" >纳管存储池容量</th><th align="center" valign="middle" >性能</th><th align="center" valign="middle" >纳管业务系统</th><th align="center" valign="middle" >备注</th></tr></thead><tr><td align="center" valign="middle" >上海市电力公司</td><td align="center" valign="middle" >1台联想VNX5100 1台宏杉MS3300 1台华为S5600</td><td align="center" valign="middle" >本地存储池：27 TB 外部存储池：300 GB</td><td align="center" valign="middle" >随机写：21852 IOPS 随机读：99131 IOPS</td><td align="center" valign="middle" >营销档案管理、 营销GIS、 分布式电源系统</td><td align="center" valign="middle" >配置了 存储间 数据副本 冗余分布</td></tr></tbody></table></table-wrap><p>表3. 上海电力公司存储虚拟化实施完成后运行情况</p><p>上海电力公司存储虚拟化系统实现了现有联想VNX5100、宏杉MS3300、华为S5600等FC SAN存储的资源纳管，形成统一存储池资源，业务系统迁移到存储虚拟化系统后运行良好。系统提供了RESTful、RBD、FS等接口，实现了对象存储、FC SAN、IP SAN、NAS等存储服务的统一集成，满足业务系统对存储资源在线扩容、数据多副本保护、无缝迁移、性能加速、高可靠运行等方面的需求。</p><p>上海电力公司存储虚拟化系统建设完成后，存储资源利用率提升2.3倍、存储性能提升2.7倍、运维工作量降低2/3，存储资源池总体投入成本降低约20%，实现资源集约共享，取得较明显的经济效益和示范成果。</p><p>上海电力公司存储虚拟化系统构建了基础设施云平台的统一存储池，有效提升存储资源的整体利用率和可用性，提升上海电力公司云基础设施、数据、服务、应用等IT资源的一体化管理水平和管理效率，降低整体运维成本。上海电力公司存储虚拟化系统高效支撑国家电网公司调度控制类云、企业管理云与公共服务云建设，进一步提升信息储存、传输、集成、共享等服务水平，促进业务集成融合，提升用户体验；为公司的集约化发展、精益化管理、标准化建设提供强大动力，在持续提升公司信息化的管理能力和管理水平的同时，有力促进公司信息化管控水平再上新台阶。</p></sec><sec id="s7"><title>5. 结论及展望</title><p>国家电网公司从2010年开始建设自有的资源池，在接下来的几年中对其不断地改进和提高，存储域是在2013年资源池建设的版本上经过提炼总结提出的全新总体建设思路，既是对前期工作的继承，也是重大突破，不仅对电力企业的电力云建设，还是对云计算技术的整体提高都提供了巨大的实践意义。</p><p>电力企业作为国家的支柱性产业，云计算机技术在电力企业的应用必定会给企业的发展及其在国际地位的确立带来极大的推动作用。就资源池建设本身而言，存储池管理系统的研究、如何进行应用入池等都是有待进一步研究和实践的领域，也是本文进一步研究的方向。</p></sec><sec id="s8"><title>基金项目</title><p>北京工程实验室建设基金项目(京发改[<xref ref-type="bibr" rid="hanspub.22170-ref2014">2014</xref>]2400号)；国家电网实验室建设基金项目([<xref ref-type="bibr" rid="hanspub.22170-ref2016">2016</xref>]63号)。</p></sec><sec id="s9"><title>文章引用</title><p>尚 枫,张 辉,杨 宁,武 毅,王国霞. 电力云资源池存储域的研究与实现Study and Implement of Storage-Pool in Electric Cloud’s Resource Pool[J]. 计算机科学与应用, 2017, 07(09): 902-911. http://dx.doi.org/10.12677/CSA.2017.79103</p></sec><sec id="s10"><title>参考文献 (References)</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.22170-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">姚岳. 运营商业务平台云计算资源池建设方案探讨[J]. 电信技术, 2015, 4: 39-45.</mixed-citation></ref><ref id="hanspub.22170-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">倪晓熔. 电信运营商IT支撑云计算资源池建设方案[J]. 电信工程技术与标准化, 2012, 25(4): 49-53.</mixed-citation></ref><ref id="hanspub.22170-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">江波. 商业银行UNIX计算资源池研究与实践[J]. 中国金融电脑, 2015(1): 83-86.</mixed-citation></ref><ref id="hanspub.22170-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">李书生, 段勇, 石屹嵘. 电信BS架构系统迁移及云化研究[J]. 电信科学, 2012, 28(5): 133-141.</mixed-citation></ref><ref id="hanspub.22170-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">白云川, 钱敏谨. 利用虚拟化构建资源池是实现云计算的第一步[J]. 机械设计与制造工程, 2010(24): 34.</mixed-citation></ref><ref id="hanspub.22170-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">张科, 董亮, 邹澄澄. 利用云计算技术建立电力信息系统硬件资源池[J]. 湖北电力, 2014, 38(6): 1-3.</mixed-citation></ref><ref id="hanspub.22170-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">沐连顺, 崔立忠, 安宁. 电力系统云计算中心的研究与实践[J]. 电网技术, 2011, 35(6): 171-175.</mixed-citation></ref><ref id="hanspub.22170-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">董亮, 詹伟, 袁慧, 等. 湖北省电力公司云硬件资源池系统建设实践[J]. 信息与电脑, 2015, 15: 87-90.</mixed-citation></ref><ref id="hanspub.22170-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">王健伟. 一种全新的IT建设架构—统一资源池[J]. 数据通信, 2011(5): 10-12.</mixed-citation></ref><ref id="hanspub.22170-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">金晖, 罗堃, 欧兵. 存储虚拟技术的发展及在医院的应用现状[J]. 中国医疗设备, 2016, 29(6): 71-73.</mixed-citation></ref><ref id="hanspub.22170-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">张小龙. 存储虚拟技术在存储整合中的应用[J]. 电子技术与软件工程, 2013(23): 210-211.</mixed-citation></ref><ref id="hanspub.22170-ref12"><label>12</label><mixed-citation publication-type="other" xlink:type="simple">金斌, 刘礼加. 数据中心分层存储技术探索及实践[J]. 中国金融电脑, 2016(5): 71-74.</mixed-citation></ref><ref id="hanspub.22170-ref13"><label>13</label><mixed-citation publication-type="other" xlink:type="simple">高学武, 姚智慧, 牛中盈. 基于云存储的分布式弹性存储系统研究[J]. 软件导刊, 2016, 15(5): 18-20.</mixed-citation></ref><ref id="hanspub.22170-ref14"><label>14</label><mixed-citation publication-type="other" xlink:type="simple">李慧慧. 一种基于分布式文件云存储系统的设计与实现[J]. 太原大院教育学院学报, 2013, 31(4): 88-89.</mixed-citation></ref><ref id="hanspub.22170-ref15"><label>15</label><mixed-citation publication-type="other" xlink:type="simple">周江, 王伟平, 孟丹, 等. 面向大数据分析的分布式文件系统关键技术[J]. 计算机研究与发展, 2014, 51(2): 382-394.</mixed-citation></ref><ref id="hanspub.22170-ref16"><label>16</label><mixed-citation publication-type="other" xlink:type="simple">熊星, 杨亚军, 刘金刚. 基于虚拟化环境的存储设备管理的研究与实现[J]. 微计算机信息, 2010, 26(36): 46-47.</mixed-citation></ref></ref-list></back></article>