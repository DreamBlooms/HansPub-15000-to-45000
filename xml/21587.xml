<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">CSA</journal-id><journal-title-group><journal-title>Computer Science and Application</journal-title></journal-title-group><issn pub-type="epub">2161-8801</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/CSA.2017.78082</article-id><article-id pub-id-type="publisher-id">CSA-21587</article-id><article-categories><subj-group subj-group-type="heading"><subject>CSA20170800000_60990024.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject></subj-group></article-categories><title-group><article-title>
 
 
  智慧社区火警检测与灭火系统的研究与实现
  Research and Implementation of Fire Detection and Fire Extinguishing Systemin Smart Community
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>李</surname><given-names>凯江</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>郭</surname><given-names>倩倩</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>张</surname><given-names>书钦</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>中原工学院，计算机学院，河南 郑州</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>03</day><month>08</month><year>2017</year></pub-date><volume>07</volume><issue>08</issue><fpage>711</fpage><lpage>721</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   火灾自动报警系统是具有火灾预防、报警、扑救、善后处理等比较完善的监控管理体系。然而，我国的消防监控系统还不成熟，并且没有完善的体系。本文按照物联网的应用系统架构进行设计：感知层采用搭载Z-stack协议栈的CC2530主控芯片进行设计，网络层以社区内单元的嵌入式网关作为网络的基本节点，应用层主要包含火警检测和自动灭火两个模块，其中自动灭火模块由AGV小车与定位模块构成。 Fire automatic alarm system is composed of fire prevention, alarm, save and aftermath of the monitoring and management system. However, China’s fire monitoring system is not mature, and there is no perfect system. In this paper, the system is designed according to the Internet of things system architecture. The sensing layer is designed using the CC2530 master chip equipped with the Z-stack protocol stack. The network layer takes the embedded gateway of the cell in the community as the basic node of the network. The module of the application layer mainly includes fire detection and automatic fire suppression. The automatic fire extinguishing module consists of AGV car and positioning module.
    
  
 
</p></abstract><kwd-group><kwd>物联网，火警检测，自动灭火，AGV小车，Zigbee通信, Internet of Things</kwd><kwd> Fire Detection</kwd><kwd> Automatic Fire Extinguishing</kwd><kwd> AGV Car</kwd><kwd> Zigbee Communication</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>智慧社区火警检测与灭火系统的研究与实现<sup> </sup></title><p>李凯江，郭倩倩，张书钦</p><p>中原工学院，计算机学院，河南 郑州</p><p>收稿日期：2017年7月12日；录用日期：2017年7月31日；发布日期：2017年8月3日</p><disp-formula id="hanspub.21587-formula1"><graphic xlink:href="http://html.hanspub.org/file/1-1540813x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>火灾自动报警系统是具有火灾预防、报警、扑救、善后处理等比较完善的监控管理体系。然而，我国的消防监控系统还不成熟，并且没有完善的体系。本文按照物联网的应用系统架构进行设计：感知层采用搭载Z-stack协议栈的CC2530主控芯片进行设计，网络层以社区内单元的嵌入式网关作为网络的基本节点，应用层主要包含火警检测和自动灭火两个模块，其中自动灭火模块由AGV小车与定位模块构成。</p><p>关键词 :物联网，火警检测，自动灭火，AGV小车，Zigbee通信</p><disp-formula id="hanspub.21587-formula2"><graphic xlink:href="http://html.hanspub.org/file/1-1540813x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2017 by authors and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="http://image.hanspub.org:8080\Html/htmlimages\1-2890033x\e70a10f1-7c93-45ea-9603-062237856e4b.png" /><img src="http://image.hanspub.org:8080\Html\htmlimages\1-2890033x\e898c85e-ffc4-45c9-b817-14224a4d6960.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>目前社区智能化水平越来越高，但是一般情况下发生火灾后都是经过119调用火警，但火灾的本身就是毁灭性的灾难。特别火灾发生时，报警时机对经济损失具有重要性的影响。所以自动火警检测以及灭火系统对于一个智能化的社区具有非常重要的经济意义。在此背景下，学者研究了各式各样的火情探测的传感器。但是单纯的传感器感知后进行火警预警，无法真正做到火灾预防、报警、扑救、善后处理进行一体化的实现，特别当火灾发生时，由于电力或者通信设备的损坏，往往会延误火灾扑灭的最佳时机，本文设计了一种包含火灾预防、报警、扑救、善后处理的一整套的体系，来对社区的火灾智能化处理进行保障。</p></sec><sec id="s4"><title>2. 研究现状和设计分析</title><sec id="s4_1"><title>2.1. 国外研究现状</title><p>由于国外的信息化发现起步比较早，在自动预警系统上，在国家政府层面已经形成了比较完善的监控管理体系。德国、日本和美国等国家首先利用计算机与用户检测设备相连实现了实时的故障事件检测。美国、加拿大、英国等发达国家也将社区的自动报警设备纳入到检测网络进行火警的检测事件发现，并在此基础上可以识别火灾的类型，根据不同的火警事件，调度最佳的消防部队进行现场灭火 [<xref ref-type="bibr" rid="hanspub.21587-ref1">1</xref>] 。</p><p>此外，比较成熟的管理体系也是国外在火灾事件的关键，部分国家通过第三方服务机构的为消防部门提供报警数据。这样消防部门仅仅处理好此类的服务机构即可实现对该城市的火警事件做到实时的发现和救援。</p></sec><sec id="s4_2"><title>2.2. 国内研究现状和设计分析</title><p>在国内，由于缺乏标准的协议和安防工作的统一管理。很多学者都有提供了不同的报警事件检测的解决方案。李海娜等人针对火灾的及时预警，利用烟雾传感器和温度传感器实现了多处检测数据的实时更新和可视化投放在LM041L显示上 [<xref ref-type="bibr" rid="hanspub.21587-ref2">2</xref>] 。但是这种方式仅仅是对灾情的获取，并未实现无人化的监控管理方案，开放出网络端口做到自动报警和灭火的方案。史增芳等人通过火灾的误报和漏报率为研究点，利用温度、烟雾和CO气体的火灾特征数据作为模型的基础数据。通过模糊神经网络对火灾的精准事件检测提供了解决方案。但是这种方式仅仅考虑了这三种因素，忽略了天气，温湿度以及其他重要指标的特殊环境的特点，其应用的范围有很大的限制 [<xref ref-type="bibr" rid="hanspub.21587-ref3">3</xref>] 。王福平等人采用AT89S52单片机通过nRF无线通信模块与烟雾报警系统进行无线通信，实现了到达灭火房间完整的灭火过程 [<xref ref-type="bibr" rid="hanspub.21587-ref4">4</xref>] 。这种方式虽然实现了从火警信息传感到灭火整个过程，但是这种应用不利于推广，设计是定位到某一楼层进行灭火管理，成本比较高。</p><p>通过研究分析，目前国内的架构设计还比较单一，将火警检测和灭火报警割裂开来，这样使得应用性具有很大的限制，本文设计主要针对一个小区内的火警进行事件发现并选择性的报警。利用温度传感器获取室内温度，使用搭载Z-statck协议栈的CC2530作为Zigbee通信模块作为感知层的解决方案，使用单元间的嵌入式网关设备作为网络层。并且针对每一栋楼独立设置嵌入Zigbee网关的嵌入式安卓设备作为应用层进行数据的集中监控和报警的业务处理。考虑到灭火需求，本文设计了AGV小车系统和针对小区的地图格式的定义作为灭火方案的模拟。</p></sec></sec><sec id="s5"><title>3. 系统实现和分析</title><p>本项目的实现主要包括两个大的方面：火警检测模块和自动灭火模块。火警检测主要包括传感器感知发生火灾地，以及采集其他关键的信息传送至网关，一旦检测到温度超过阈值(也包含其他传感设备如烟雾传感器、Co传感器)，则向网关发送警报，网关为安卓的嵌入式设备。网管嵌入式设备主要对火灾地点获取后通过UDP协议发送灭火指令给上位机模块。这时小车即可到达布设的报警传感器的节点位置进行灭火。</p><sec id="s5_1"><title>3.1. 系统整体通信设计</title><p>通信模块作为整个系统的关键数据传输载体，该模块贯穿于从感知层的数据到灭火车的自动灭火整个过程。具体通信如图1所示。传感器采集温度信息后通过zigbee协议进行传感器网络的通信传送到协调器模块，进而协调器模块经过串口将数据上传的嵌入式网关的程序中。嵌入式网关获取到数据后转发导数据中心，由数据中心系统通过温度的阈值判定，当温度超过阈值时则通过UDP协议向AGV小车发送救火指令，AGV小车收到指令后经过GPIO口向Arduino上发送驱动的代码，Arduino解析后进行电机的控制。</p></sec><sec id="s5_2"><title>3.2. 火警检测模块设计与实现</title><p>火警检测模块已经包含了物联网中整个三层的体系结构 [<xref ref-type="bibr" rid="hanspub.21587-ref5">5</xref>] ，其中主要包含感知层(社区房间内温度获取和Zigbee协议的通信网络)、网络层(嵌入式安卓)和应用层(火警检测子模块和自动灭火子模块)。</p><p>图1. 模块间通信关系</p><sec id="s5_2_1"><title>3.2.1. 感知层设计与实现</title><p>当火灾事件发生时，可能会出现明火以及其他物体燃烧后的异常气体。并且当物体燃烧时，引起的最直观的现象就是温度会发生一定程度的升高，并可能伴随一些可燃气体的释放如一氧化碳、氢气和甲烷等。这些特征为感知层的感知对象提供了可能性，因此本问设计采用了温度传感器DS18B20来进行终端节点数据的采集。主控芯片采用携带ZigBee通信模块的CC2530。</p><p>随着ZigBee技术在物联网中应用越来越广泛。这打开了物联网传感器设备通信的缺口，这使得无论是在节点个数还是能源消耗上，都使得基于该技术的无线火灾报警系统具有了广阔的发展前景。</p><p>本文的信息采集模块采用CC2530节点进行温度的采集，然后经过ZigBee协议将温度信息发送到网关，网关会时刻对温度信息进行检测和上报。</p><p>感知层的实现开发环境是IAR Embedded Workbench for 80518.10.采用的协议栈为TI的ZStack-2.3.0-1.4.0，通过Z-Stack协议栈实现了对传感器节点和协调器节点的设计和实现。通过传感器节点的数据采集可通过协调器将该节点采集的数据发送到安卓嵌入式网关上。传感器节点如图2。</p></sec><sec id="s5_2_2"><title>3.2.2. 网络层设计</title><p>网络层主要是将安卓嵌入式设备从协调器设备上采集的数据进行网络层的处理和转发。这里针对社区内的一栋楼为一个Internet网的节点，将社区内的网络作为一个网络单元进行数据的交互和火灾报警系统的检测控制。网嵌入是网关收到该单元的温度数据后，通过UDP协议向数据管理中心设备进行数据转发。网络层中的设备关系图如图3。</p></sec><sec id="s5_2_3"><title>3.2.3. 应用层设计</title><p>应用层设计主要包含火灾检测子模块与自动灭火模块，这里自动灭火模块单独进行设计分析。该模块主要是在嵌入式设备上进行数据的可视化和报警。安卓系统本身具有SIM卡拨号模块，因此可以实现针对火灾不可控时的报警任务。该模块数据主要通过网络层的数据集中进行接收和分析。</p><p>数据管理中心可通过各个单元嵌入式网关设备进行数据的收集和监控。数据检测图如图4。当判断事件为火警时则向自动灭火模块发送灭火指令。当消防救援人员到达火灾现场前，可以对于火灾地点先进行自动小车灭火，并且可以通过AGV小车上的摄像头对火灾现场进行图像的采集，了解火情。各个监测点的数据将自动上位机进行数据解析。在正常情况下可以固定传感器位置进行定向的监测点的火灾监测。该系统对保护人身与财产安全有着重要的意义。</p><p>图2. 传感器节点</p><p>图3. 网络层中的设备关系</p><p>图4. 数据管理中心对房间1的实时检测数据</p></sec></sec><sec id="s5_3"><title>3.3. 自动灭火模块设计与实现</title><p>这里采用AGV小车进行自动灭火模块的模拟设计 [<xref ref-type="bibr" rid="hanspub.21587-ref6">6</xref>] 。本文中实现的AGV小车是基于UWB平台的定位系统，路径规划，惯性导航，远程控制于一体的AGV小车自动灭火系统。AGV小车见图5。</p><sec id="s5_3_1"><title>3.3.1. UWB定位技术</title><p>超带宽(UWB)是一种短距离，高带宽具有较强抗干扰能力的通信方式。UWB定位技术广泛应用在那些有较高定位精度要求(20~30 cm)的场合。一个典型的UWB系统结构中包括若干无线信号发生器和几个能够接收信号的接收器，也叫定位标签(tag)。该定位技术可以用于室外定位 [<xref ref-type="bibr" rid="hanspub.21587-ref7">7</xref>] 。本文采用Ubisense的定位方案。定位标签如图6。</p><p>该解决方案内部已经完成了对于标签的位置信息解算，因此可以在完成配置之后，向外以UDP方式发布标签的位置信息，方便与其他模块的集成。图7是该定位解决方案的平台布局示意图。</p><p>图5. 自动灭火AGV小车</p><p>图6. 定位标签</p><p>图7. 定位平台的布局图</p></sec><sec id="s5_3_2"><title>3.3.2. AGV车载端设计</title><p>AGV车载端主要包括一台小型电脑树莓派，带有无线网卡，软件系统是基于Linux的Raspbian操作系统，并在其上装有QT运行环境。(因为车载端运行的程序是由QT编写的)在AGV车载端：我们用的是C语言和C++，开发工具是QT5.3是在pc端完成后再在车载端进行运行的。</p><p>部分核心代码如下</p></sec><sec id="s5_3_3"><title>3.3.3. 系统开发地图格式设计</title><p>考虑到社区内路径的简单表现形式，本文自定义了地图格式MapInfo，分别用来显示整个社区的地理信息，显示AGV小车的在社区中的动态的位置和用来计算规划路径，以便于AGV小车顺利完成自动导航实施灭火的过程。下面是关于MapInfo的相关介绍。MapInfo地图文件为以一定格式储存位置信息的文本格式文件，文件中储存了一个区域中所有关键点和路径等信息，同时还存放了区域中的对象的边界信息。文件编码格式统一为UTF-8，文件拓展名是*.mapInfo。为了统一整个系统的开发与维护等工作，</p><p>区域：指的是整个需要描绘区域的二维平面构成。</p><p>关键点：亦称参考点或导航点。用来表示每条路径的起点、终点以及拐点信息，也可能用来表示两条路径的交汇点。注意，关键点是最终路径规划中AGV的起点或终点。</p><p>路径：两个关键点之间唯一确定的直线路径。注意，每个路径仅连接两个关键点，路径当中不包含其他关键点。测绘时应当满足路径不交叉。</p><p>对象：用来表示区域中除了路径、关键点之外的物体等。每个对象用一个三角形或多边形表示。</p><p>对象顶点：表示对象多边形的顶点。</p><p>对象边界：表示对象多边形的顶点连成的直线，所有对象边界围成的多边形为一个对象。</p><p>对于以上名词的详解如下：</p><p>1) 关键点是路径规划的基本单位，关键点有以下属性：唯一编号、坐标、名称、属性。</p><p>2) 每条路径能且仅能由两个关键点连接而成。AGV必须沿路径运行，路径不能交叉，如有实际需要，交叉处应设置一个关键点。路径有以下属性：唯一编号、起止关键点唯一编号、宽度、权重。权重是用在最短路径算法中的标志量。</p><p>3) 对象包括对象顶点和对象边界，对象不能与路径或关键点重合。对象包括以下属性：对象唯一编号、对象名称、对象顶点集合、对象附加属性。对象名称和对象附加属性用来给外界呈现，可以自定义其属性值，属性值将直接显示在UI中。</p><p>4) 对象顶点仅包含坐标属性。</p><p>5) 对象顶点依次(在文件中出现的先后顺序)相连，最后再与第一个顶点连接组成闭合多边形即为对象边界，因此对象边界不在文件中记录以减少冗余。</p><p>6) 区域为整个MapInfo所表示的二维空间，包含以下属性：区域号、区域名、区域附加属性等，这些仅用于UI呈现。区域必须在MapInfo文件的最前面定义。</p><p>本文中的地图格式如下：</p><p>图8. AGV小车视频监控测试</p></sec></sec><sec id="s5_4"><title>3.4. 火灾现场视频采集模块模拟</title><p>这是采用树莓派平台经过USB驱动视频模块，然后经过motion模块对视频细节进行配置和发布web监控端口，当发生火灾时可以进行端口查看，通过在远程的PC或者手机的浏览器进行在线的对火情进行监控。数据中心通过对该图像的分析，增加了对火灾的现场检测，可以通过人工的方式选择拨打119事件。视频测试模块如图8。</p></sec></sec><sec id="s6"><title>4. 结束语</title><p>本文通过设计了一种包含火灾预防、报警、扑救、善后处理的一整套的体系。通过这套体系来对社区的火灾智能化处理。本文主要将火灾的检测和灭火车自动灭火事件进行融合，实现了对小区智能化的火警检测和灭火任务的处理。当火灾发生时，该系统可以减轻火灾引起的经济损失和减少人员的伤亡，加强了对火灾的控制。但是本文在某些方面仍需要改进：例如通过监控图像的火灾情况的量化研究进行自动报警的设计；小车在导航过程中可能会遇到的急发事件没有考虑。</p></sec><sec id="s7"><title>基金项目</title><p>本文得到郑州市科技攻关项目支持，No. 153PKJGG131，工业控制系统安全隐患分析技术研究；本文得到河南省科技攻关项目支持，No. 172102210591，网络安全动态防御系统中协同策略研究；本文得到2015年河南省教育技术装备和实践教育研究立项课题支持，No. GZS031，面向创新创业能力培养的计算机专业综合实训课程建设研究，No. GZS137，面向智能制造的棉纺织工厂物联网实训系统开发；本文得到2016年度中原工学院教学改革与研究重点项目支持，以工程能力培养为核心的计算机专业综合实训课程建设研究。</p></sec><sec id="s8"><title>文章引用</title><p>李凯江,郭倩倩,张书钦. 智慧社区火警检测与灭火系统的研究与实现Research and Implementation of Fire Detection and Fire Extinguishing Systemin Smart Community[J]. 计算机科学与应用, 2017, 07(08): 711-721. http://dx.doi.org/10.12677/CSA.2017.78082</p></sec><sec id="s9"><title>参考文献 (References)</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.21587-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">董文辉, 李宁宁, 梅志斌, 等. 欧美国家火灾报警系统规范介绍及启示[J]. 消防科学与技术, 2008, 27(6): 423-426.</mixed-citation></ref><ref id="hanspub.21587-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">李海娜, 陈雪梅. 多路传感器火灾报警系统的设计[J]. 物联网技术, 2016, 6(10): 38-40.</mixed-citation></ref><ref id="hanspub.21587-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">史增芳, 姜岩蕾. 多传感器信息融合火灾探测器的研究[J]. 自动化技术与应用, 2016, 35(9): 8-10.</mixed-citation></ref><ref id="hanspub.21587-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">王福平, 唐小虎, 祝铃. 应用nRF24L01设计的智能灭火小车[J]. 现代电子技术, 2015(8): 19-21.</mixed-citation></ref><ref id="hanspub.21587-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">何婧媛. 物联网技术与应用研究[J]. 通讯世界, 2016(15): 41-42.</mixed-citation></ref><ref id="hanspub.21587-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">贺晶晶, 姜平, 冯晓荣. 基于UWB的无人运输车的导航定位算法研究[J]. 电子测量与仪器学报, 2016(11): 1743-1749.</mixed-citation></ref><ref id="hanspub.21587-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">Kolakowski, J., Consoli, A., Djaja-Josko, V., et al. (2015) UWB localization in EIGER Indoor/Outdoor Positioning System. IEEE, International Conference on Intelligent Data Acquisition and Advanced Computing Systems: Technology and Applications. IEEE, 845-849.</mixed-citation></ref></ref-list></back></article>