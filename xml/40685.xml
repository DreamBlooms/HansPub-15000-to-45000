<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">MOS</journal-id><journal-title-group><journal-title>Modeling and Simulation</journal-title></journal-title-group><issn pub-type="epub">2324-8696</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/MOS.2021.101022</article-id><article-id pub-id-type="publisher-id">MOS-40685</article-id><article-categories><subj-group subj-group-type="heading"><subject>MOS20210100000_67983361.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject><subject> 工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于Unity3D的鱼类运动行为可视化研究
  Study on Visual Simulation of Fish Motion Behavioral Response Based on Unity3D
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>代</surname><given-names>丽娜</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>黄</surname><given-names>月群</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>董</surname><given-names>堃</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>李</surname><given-names>文菁</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>黄</surname><given-names>寿琨</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>郭</surname><given-names>倩君</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>桂林理工大学，广西环境污染控制理论与技术重点实验室，广西 桂林</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>03</day><month>02</month><year>2021</year></pub-date><volume>10</volume><issue>01</issue><fpage>211</fpage><lpage>217</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  本文利用Veryengine引警和Unity3D虚拟仿真技术设计了水生态环境模型和鱼类运动轨迹模型，并将两个模型进行叠加，构建了由水质指标查询模块、污染物迁移过程仿真模块和鱼类运动轨迹仿真模块的可视化仿真系统，对污染物进入水体过程中鱼类的运动行为响应情况进行了动态模拟。根据鱼类在不同水生态环境中运动轨迹变化情况，确定鱼类运动行为响应指并根据指标对水质状况进行评价，为水生态健康评价以及水生态修复效果评价提供参考依据。
   A visual simulation system was constructed by using Veryengine and Unity3D engine technology. It was consisted of water quality indexes query module, pollutant migration module and fish motion trajectories module, respectively by superimposing the aquatic environment model and fish mo-tion trajectories model. It can simulate dynamically the behavioral response processof fish to water quality evolution after the pollutants entered the water. According to the changes of fish motion trajectories in different aquatic ecological environments, the indexes of fish motion behavior re-sponse were determined and the water quality status was evaluated. It provided a reference for the evaluation of water ecological health and the evaluation of water ecological restoration effects.
 
</p></abstract><kwd-group><kwd>Unity3D技术，功能模块，鱼类运动轨迹，水质演变，可视化仿真系统, Unity3D Technology</kwd><kwd> Functional Modules</kwd><kwd> Fish Motion Trajectories</kwd><kwd> Water Quality Evolution</kwd><kwd> Visual Simulation System</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>摘要</title><p>本文利用Veryengine引警和Unity3D虚拟仿真技术设计了水生态环境模型和鱼类运动轨迹模型，并将两个模型进行叠加，构建了由水质指标查询模块、污染物迁移过程仿真模块和鱼类运动轨迹仿真模块的可视化仿真系统，对污染物进入水体过程中鱼类的运动行为响应情况进行了动态模拟。根据鱼类在不同水生态环境中运动轨迹变化情况，确定鱼类运动行为响应指并根据指标对水质状况进行评价，为水生态健康评价以及水生态修复效果评价提供参考依据。</p></sec><sec id="s2"><title>关键词</title><p>Unity3D技术，功能模块，鱼类运动轨迹，水质演变，可视化仿真系统</p></sec><sec id="s3"><title>Study on Visual Simulation of Fish Motion Behavioral Response Based on Unity3D<sup> </sup></title><p>Lina Dai, Yuequn Huang<sup>*</sup>, Kun Dong, Wenjing Li, Shoukun Huang, Qianjun Guo</p><p>Guangxi Key Laboratory of Environmental Pollution Control Theory and Technology, Guilin University of Technology, Guilin Guangxi</p><p><img src="//html.hanspub.org/file/22-2570339x4_hanspub.png" /></p><p>Received: Jan. 28<sup>th</sup>, 2021; accepted: Feb. 17<sup>th</sup>, 2021; published: Feb. 25<sup>th</sup>, 2021</p><p><img src="//html.hanspub.org/file/22-2570339x5_hanspub.png" /></p></sec><sec id="s4"><title>ABSTRACT</title><p>A visual simulation system was constructed by using Veryengine and Unity3D engine technology. It was consisted of water quality indexes query module, pollutant migration module and fish motion trajectories module, respectively by superimposing the aquatic environment model and fish motion trajectories model. It can simulate dynamically the behavioral response processof fish to water quality evolution after the pollutants entered the water. According to the changes of fish motion trajectories in different aquatic ecological environments, the indexes of fish motion behavior response were determined and the water quality status was evaluated. It provided a reference for the evaluation of water ecological health and the evaluation of water ecological restoration effects.</p><p>Keywords:Unity3D Technology, Functional Modules, Fish Motion Trajectories, Water Quality Evolution, Visual Simulation System</p><disp-formula id="hanspub.40685-formula8"><graphic xlink:href="//html.hanspub.org/file/22-2570339x7_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2021 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/22-2570339x8_hanspub.png" /> <img src="//html.hanspub.org/file/22-2570339x9_hanspub.png" /></p></sec><sec id="s5"><title>1. Unity3D的应用现状</title><p>Unity3D是一种可视化、跨平台的大型虚拟现实引擎，其通过计算机对复杂数据进行可视化操作与交互，能够实时处理大量的三维模型，形成具有交互式、多维化的信息环境，由于其具有高质量和高效能等特点而备受关注。虚拟仿真技术在教学中的运用是近几年的研究热点，特别是通过先进的计算机和网络技术对实验教学虚拟仿真技术的研发可以更好地展现实验过程，虚拟仿真实验系统具有逼真的视觉效果和良好的交互性正逐步取代传统的实验教学，并取得了许多研究成果。虚拟仿真实验教学可以将复杂、抽象的实验过程立体逼真地演示出来 [<xref ref-type="bibr" rid="hanspub.40685-ref1">1</xref>] [<xref ref-type="bibr" rid="hanspub.40685-ref2">2</xref>]，还可将有毒有害化学实验 [<xref ref-type="bibr" rid="hanspub.40685-ref3">3</xref>] [<xref ref-type="bibr" rid="hanspub.40685-ref4">4</xref>]、实验周期长 [<xref ref-type="bibr" rid="hanspub.40685-ref5">5</xref>] [<xref ref-type="bibr" rid="hanspub.40685-ref6">6</xref>]、无法在现实实验室中完成的实验 [<xref ref-type="bibr" rid="hanspub.40685-ref7">7</xref>] [<xref ref-type="bibr" rid="hanspub.40685-ref8">8</xref>] [<xref ref-type="bibr" rid="hanspub.40685-ref9">9</xref>] 等直观、安全地展现出来。通过虚拟仿真实验，学生可以置身于虚拟环境中，有助于激发学生自主学习和构建思维。与传统的实验教学方法相比，虚拟仿真实验教学不仅无耗材，节约教学成本，还可以丰富课堂教学模式，增加课堂趣味，激发学生学习的主观能动性，有效地提高学生的学习成绩 [<xref ref-type="bibr" rid="hanspub.40685-ref10">10</xref>]。近几年，虚拟仿真技术也逐步应用于山洪演变情景进行模拟 [<xref ref-type="bibr" rid="hanspub.40685-ref11">11</xref>]、水污染应急进行模拟及演习仿真 [<xref ref-type="bibr" rid="hanspub.40685-ref12">12</xref>]、矿井突水事故模拟 [<xref ref-type="bibr" rid="hanspub.40685-ref13">13</xref>]、泥石流爆发仿真 [<xref ref-type="bibr" rid="hanspub.40685-ref14">14</xref>]、突水通道演化过程仿真 [<xref ref-type="bibr" rid="hanspub.40685-ref15">15</xref>]、环境灾害三维动态淹没模拟 [<xref ref-type="bibr" rid="hanspub.40685-ref16">16</xref>] 等环境灾害以及环境生态等领域的研究。</p><p>鱼类是水域污染情况活的“监测器”。当水环境发生变化时，首先出现响应的是长期生存于水中的鱼类，鱼类会逃避不利其生存的环境，因此根据鱼类运动轨迹的前后变化情况能够实时反映水生态环境的健康状况。利用虚拟仿真技术对鱼类在水环境变化过程中发生的行为响应进行动态仿真，对水生态环境中的评价及预测具有明显的优势，主要表现在以下两个方面：一方面具有真实感和全新交互体验方式。虚拟仿真技术具有身临其境的真实感受，是对现实的虚拟仿真以及对现实中无法看到的鱼类行为进行虚构，是其它非仿真模型展示手段所不具备的；另一方面可以对水生态环境修复效果的检验和优化，这是传统的模拟江河等水资源污染推演模拟无法比拟的。</p><p>因此，本文通过利用Unity3D技术来构建不同水生态环境情况下鱼类运动行为响应的现实场景，将水生态环境三维模型和鱼类运动轨迹三维模型进行融合，对鱼类随水环境变化而发生的行为响应变化过程进行动态模拟，并可进行情景查询、漫游和飞行浏览等操作，从而达到通过鱼类运动行为响应来评价和预测水生态环境健康状况的目的。</p></sec><sec id="s6"><title>2. 系统框架及模型设计</title><sec id="s6_1"><title>2.1. 系统构架设计</title><p>万维引擎Veryengine是一款虚拟现实软件开发平台。通过文本编辑的开发方式，具有对程序编写修改且无须编译直接运行的效果。水质演变过程与鱼类运动轨迹的可视化仿真是在Veryengine程序编写的基础上，以Unity3D界面为载体，采用EXCEL表格编辑技术开发进行的虚拟仿真。鱼类运动行为响应可视化仿真系统构建架构如图1所示。</p><p>图1. 系统框架图</p></sec><sec id="s6_2"><title>2.2. 系统模型设计</title><p>1) 水生态环境模型设计</p><p>为更真实地对展示鱼类在不同水环境中的行为响应，根据水域地形资料条件并利用3Dmax建模工具进行1:1等比例建模渲染，构建了地形、边界条件以及水动力特性的仿真模型(见图2)，实现湖泊三维场景交互式浏览。创建水质监测点并导入相应水质参数，可查询每个监测点水质变化过程。通过将模型数据导入Veryengine进行环境灯光效果、模型及相机等元素的调整，构建成水生态环境仿真模型(见图3)，可展现污染物在水中扩散、迁移过程，通过水体颜色的变化观察水生态环境的演变过程。</p><p>图2. 利用Unity3D创建的水生态环境模型</p><p>图3. 水生态环境仿真效果</p><p>2) 鱼类运动轨迹模型设计</p><p>将不同水生态环境的鱼类运动轨迹坐标导入万维引擎Veryengine，建立不同水环境下鱼类运动轨迹的可视化路径。利用EXCEL表格编辑技术，综合调整视角相机、语音简介等场景相关元素，展现鱼类在不同水生态环境的运动行为响应情况。</p><p>3) 模型叠加</p><p>将水生态环境演变过程的三维模型以及鱼类运动轨迹的三维模型进行叠加。用户可通过视频演示和操作说明，按照操作步骤快速熟悉仿真软件的基本环境及操作。可通过调整交互式场景以及键盘“WASD”键来控制视角前后、左右移动进行飞行模式，直观地浏览到污染物排入水体过程中水质变化对鱼类运动行为的影响，也可进行情景查询不同水质条件下鱼类运动轨迹信息，或者通过编辑修正水质指标来获取鱼类运动轨迹信息。</p></sec></sec><sec id="s7"><title>3. 系统功能模块</title><p>根据可视化仿真模型的不同功能设计，构建的功能模块有水质指标查询模块、污染物扩散迁移可视化模拟模块和鱼类运动轨迹可视化仿真模块。</p><sec id="s7_1"><title>3.1. 水质指标查询模块</title><p>水质指标查询模块可通过界面查询不同水生态环境的主要水质指标以及影响鱼类运动行为的水质指标(见图4)，也可通过输入水质指标查询相应的鱼类运动轨迹，由此来确鱼类运动行为响应指标如鱼类离污染物源距离、鱼类在水深方向的位置以及鱼类游泳速度等，并根据这些响应指标的变化对水生态环境的健康状况进行预测和评价。</p><p>图4. 水质指标查询</p></sec><sec id="s7_2"><title>3.2. 污染物迁移过程仿真模块</title><p>利用Untiy3D粒子特效技术，模拟污染物扩散、迁移过程(见图5)。可通过键盘“WASD”键控制视角前后、左右移动进行飞行模式，直观地浏览到污染物排入水体过程中水质的演变过程。</p><p>图5. 采用粒子特效技术对污染物迁移进行可视化</p></sec><sec id="s7_3"><title>3.3. 鱼类运动轨迹仿真模块</title><p>鱼类运动轨迹仿真模块可在浏览到水质演变过程中鱼类运动行为轨迹(见图6)。根据鱼类在不同水生态环境中的运动轨迹变化情况，确定鱼类运动行为响应指标。</p><p>图6. 鱼类运动过程可视化</p></sec></sec><sec id="s8"><title>4. 仿真系统的应用</title><p>鱼类在不同水环境中有不同的行为响应，根据其行为响应情况可对水生态健康状况进行评价。如在水体富营养化过程中，在贫营养阶段鱼类活动范围大；在中营养阶段鱼类运动轨迹表现为偏好于某一区域，且行为响应比较迟钝；在富营养阶段鱼类基本聚集于某处不动。在水体富营养过程中，鱼类运动轨迹是一个逐渐收敛的过程。</p><p>通过仿真系统查询鱼类运动轨迹变化情况来确定鱼类运动行为响应指标。如在水体富营养化过程中：1) 鱼类离污染源距离越来越远，说明水中污染物浓度逐渐升高；2) 鱼类运动轨迹由水域底层往表层迁移，这与垂线上溶解氧含量迅速下降、铜绿微囊藻毒素和非离子氨含量快速上升有关。3) 鱼类两个连续轨迹点之间距离的大小反映了鱼类游泳速度的快慢，距离大说明鱼类游泳速度快，反之则慢，而鱼类游泳速度的快慢与水中污染物浓度大小有关。因此，可通过查询鱼类两个连续运动轨迹点之间的距离大小，评价水中污染物浓度的变化情况。</p><p>根据鱼类在不同富营养阶段的行为响应变化，鱼类运动行为响应指标主要有鱼类离污染源距离、鱼类离水面距离和鱼类游泳速度，影响鱼类行为的主要水质指标为溶解氧、铜绿微囊藻毒素和非离子氨，且两者具有一定的相关性。根据鱼类运动行为响应指标与影响鱼类行为水质指标的相关性分析结果，构建鱼类运动行为的响应模型。对模型的拟合优度、显著性(F检验)以及回归系数的显著性(t检验)进行检验，用于鱼类在水质变化过程中的运动行为响应指标预测模型。根据预测模型反推影响鱼类行为的水质指标含量，从而达到对水体富营养状况进行预测与评价的目的。</p></sec><sec id="s9"><title>5. 结束语</title><p>可视化仿真系统是通过图形或图像方式来展示虚拟仿真的计算结果，通过鼠标在系统界面的操作，就可以完成整个实验研究成果的展示。可视化图形图像是虚拟仿真运算结果的核心，本文通过把实验研究数据以及计算机数值模拟的数据转换成可输出图表，即可形象直观地展现污染物排入水体过程中，水生态环境演变与鱼类运动轨迹的三维可视化效果，为水生态健康评价、水生态修复效果评价以及水污染变化趋势的准确性提供参考依据，也为水环境综合整治与管理走向定量化、科学化提供了新思路和技术支持。</p></sec><sec id="s10"><title>基金项目</title><p>广西自然科学基金“鱼类在水质演变过程中的运动行为响应模式研究”(2019GXNSFAA245058)。</p></sec><sec id="s11"><title>文章引用</title><p>代丽娜,黄月群,董堃,李文菁,黄寿琨,郭倩君. 基于Unity3D的鱼类运动行为可视化研究Study on Visual Simulation of Fish Motion Behavioral Response Based on Unity3D[J]. 建模与仿真, 2021, 10(01): 211-217. https://doi.org/10.12677/MOS.2021.101022</p></sec><sec id="s12"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.40685-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">刘嘉夫, 齐昕, 李前杰, 等. 基于Unity3D的水污染控制工程多媒体课件开发[J]. 中国教育技术装备, 2014(4): 98-100.</mixed-citation></ref><ref id="hanspub.40685-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">李秀. 基于Unity3D的冲压成形过程仿真及实验教学虚拟系统研究[D]: [硕士学位论文]. 武汉: 武汉工程大学, 2017.</mixed-citation></ref><ref id="hanspub.40685-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">杨国鑫, 郑阿群, 李健军, 等. 基于Unity3D的化学虚拟实验教学平台构建[J]. 实验室科学, 2019, 22(5): 72-76, 80.</mixed-citation></ref><ref id="hanspub.40685-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">朱夏绯, 杨昊语, 林妍君, 王宇飞. 虚拟实验室在化学实验教学中的应用[J]. 化工设计通讯, 2021, 47(1): 123-124.</mixed-citation></ref><ref id="hanspub.40685-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">朱安庆, 胡安超. 基于Unity3D的船舶制造虚拟仿真教学系统构建[J]. 实验室研究与探索, 2018, 37(6): 117-120.</mixed-citation></ref><ref id="hanspub.40685-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">姚晓晨. 基于Unity3D的注塑模设计虚拟仿真教学系统的构建[J]. 电脑知识与技术, 2019, 15(11): 174-175.</mixed-citation></ref><ref id="hanspub.40685-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">钟占琼, 姜岑, 谢璐霜, 易晓红. 浅析虚拟仿真实验教学在正常人体解剖学实验教学中的应用[J]. 当代医学, 2021, 27(3): 187-189.</mixed-citation></ref><ref id="hanspub.40685-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">阚研. 基于Unity3D的测控类虚拟仿真实验技术研究[D]: [硕士学位论文]. 武汉: 华中科技大学, 2019.</mixed-citation></ref><ref id="hanspub.40685-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">刘钊, 徐富新. 基于Unity 3D的光谱实验教学系统研究[J]. 计算机技术与发展, 2019, 29(6): 119-124.</mixed-citation></ref><ref id="hanspub.40685-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">Elizabeth, T. (2019) Learning Based on Flipped Classroom with Just-in-Time Teaching, Unity 3D, Gamification and Educational Spaces. International Journal on Interactive Design and Manufacturing, 13, 1159-1173.  
&lt;br&gt;https://doi.org/10.1007/s12008-019-00560-z</mixed-citation></ref><ref id="hanspub.40685-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">刘鑫垚, 张文富, 廖桂华, 等. 基于Unity3D的山洪淹没过程动态模拟[J]. 福建电脑, 2015(1): 17-18.</mixed-citation></ref><ref id="hanspub.40685-ref12"><label>12</label><mixed-citation publication-type="other" xlink:type="simple">王闯. 基于Unity3D的水污染突发事件的应用研究[J]. 哈尔滨师范大学自然科学学报, 2015, 31(3): 140-143.</mixed-citation></ref><ref id="hanspub.40685-ref13"><label>13</label><mixed-citation publication-type="other" xlink:type="simple">刘欣倩, 樊娟. 基于Unity3D煤矿矿井突水事故的三维仿真研究[J]. 无线互联科技, 2016(9): 98-99.</mixed-citation></ref><ref id="hanspub.40685-ref14"><label>14</label><mixed-citation publication-type="other" xlink:type="simple">陈淑姝. 基于Unity3D下的泥石流模拟分析研究[D]: [硕士学位论文]. 昆明: 昆明理工大学, 2018.</mixed-citation></ref><ref id="hanspub.40685-ref15"><label>15</label><mixed-citation publication-type="other" xlink:type="simple">徐莉娜, 秦蕾, 严昱欣. 基于Unity3D的突水通道演化过程及可视化研究[J]. 无线互联科技，2018, 15(15): 112-114.</mixed-citation></ref><ref id="hanspub.40685-ref16"><label>16</label><mixed-citation publication-type="other" xlink:type="simple">施景程, 刘波, 张鸿权. 环境灾害三维动态淹没的模拟算法[J]. 福建电脑, 2019, 35(5): 1-4.</mixed-citation></ref></ref-list></back></article>