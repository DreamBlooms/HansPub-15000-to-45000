<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">MOS</journal-id><journal-title-group><journal-title>Modeling and Simulation</journal-title></journal-title-group><issn pub-type="epub">2324-8696</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/MOS.2018.72005</article-id><article-id pub-id-type="publisher-id">MOS-24801</article-id><article-categories><subj-group subj-group-type="heading"><subject>MOS20180200000_16245151.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject><subject> 工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于Tecnomatix的四连杆机构运动原理介绍
  Kinematic Setup of Four-Bar Mechanism Based on Tecnomatix
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>杨</surname><given-names>冬梅</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>邓</surname><given-names>继涛</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>徐</surname><given-names>洪娟</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>null</addr-line></aff><aff id="aff1"><addr-line>上汽通用汽车有限公司，上海</addr-line></aff><author-notes><corresp id="cor1">* E-mail:<email>dongmei_yang@saic-gm.com(杨冬)</email>;</corresp></author-notes><pub-date pub-type="epub"><day>09</day><month>05</month><year>2018</year></pub-date><volume>07</volume><issue>02</issue><fpage>33</fpage><lpage>38</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   分析四连杆机构的工作原理，在Tecnomatix中建立相应杆件并定义运动副，通过对四连杆机构的运动学分析获得函数表达式，按照仿真函数格式要求，基于VBA开发了函数生成程序。 Based on the analysis of structure of four-bar mechanism, this paper establishes corresponding links in Tecnomatix. Kinematic joints are defined among the links. Through kinematic analysis, the functions of each joint are obtained. A program for generating kinematic functions is developed based on VBA.
    
  
 
</p></abstract><kwd-group><kwd>四连杆机构，Tecnomatix，运动仿真，VBA, Four-Bar Mechanism</kwd><kwd> Tecnomatix Software</kwd><kwd> Kinematic Simulation</kwd><kwd> VBA</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>基于Tecnomatix的四连杆机构运动原理介绍<sup> </sup></title><p>杨冬梅，邓继涛，徐洪娟</p><p>上汽通用汽车有限公司，上海</p><p><img src="//html.hanspub.org/file/1-2570169x1_hanspub.png" /></p><p>收稿日期：2018年4月18日；录用日期：2018年5月2日；发布日期：2018年5月9日</p><disp-formula id="hanspub.24801-formula12"><graphic xlink:href="//html.hanspub.org/file/1-2570169x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>分析四连杆机构的工作原理，在Tecnomatix中建立相应杆件并定义运动副，通过对四连杆机构的运动学分析获得函数表达式，按照仿真函数格式要求，基于VBA开发了函数生成程序。</p><p>关键词 :四连杆机构，Tecnomatix，运动仿真，VBA</p><disp-formula id="hanspub.24801-formula13"><graphic xlink:href="//html.hanspub.org/file/1-2570169x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2018 by authors and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/1-2570169x7_hanspub.png" /> <img src="//html.hanspub.org/file/1-2570169x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>机械设计与制造过程中往往会应用简易实用的四连杆机构，比如汽车发动机罩盖板与车身连接时，会利用四连杆机构控制其开启角度的大小。而为保证四连杆机构设计与安装的合理性与准确性，于设计早期发现并解决问题，进而缩短开发周期与费用，同步工程技术及虚拟仿真技术得到了广泛应用。由于不同车型的设计尺寸及要求千差万别，且同一组件在设计过程中往往会有多种备选方案，导致需要仿真的机构数量繁多，为应对大量资源的仿真，同一类型组件的标准化仿真方法显得非常重要。本文通过对车身与罩盖板连接处四连杆机构的运动学关系进行分析，并开发相应的函数辅助程序，得到了该类零件的一般仿真方法，为工程师们节约了仿真时间，保证了仿真的正确率。</p></sec><sec id="s4"><title>2. 仿真软件中的四栏杆机构模型</title><p>四连杆机构的三维数字模型通过*.jt文件格式导入Tecnomatix中的Process Simulate仿真软件中，对其运动过程进行编辑与定义。</p><sec id="s4_1"><title>2.1. 建立运动杆件</title><p>Tecnomatix (Process Simulate)中共同运动的部件集合称为杆件，给四连杆添加运动学的时候首先将不同部件及其附加结构分割成相应杆件。如图1，该四连杆机构应用于发动机罩盖板与车身的连接位置，在开启罩盖板时负责其开启角度的控制及与车身的支撑。其工作原理为：固定杆与车身相连，盖板平台通过螺钉与发动机罩盖板相连，抬起罩盖板过程中前后两支撑杆随之转动，最小角度定位螺钉与最大角度定位台阶分别用来限制罩盖板掀起的最小与最大角度。本文分析过程中以杆件1为固定杆件，设置杆件4为驱动杆件，通过计算各杆连接部位转动轴的角度关系，得到四连杆机构的运动规律。</p><p>根据以上分析，在Tecnomatix (Process Simulate)中建立四个杆件，如表1所示。其中，Opening是为建立独立运动副而设置的空杆件。</p><p>图1. 四连杆机构的基本结构</p></sec><sec id="s4_2"><title>2.2. 建立运动副</title><p>在Tecnomatix (Process Simulate)软件中为建立的杆件添加运动副和运动学(如图2)，杆件设置成功后将被标示以不同的颜色，空杆件为灰。Tecnomatix (Process Simulate)中的运动副表达的是杆件间的相对运动，箭头由参照杆件指向运动杆件，运动杆件的轴线始终与参照杆件的运动状态相同。</p><p>四连杆机构共需要建立4个运动副，j1用来定义驱动杆件的转角范围及方向，j2~j4分别指的是两相连杆件之间的转动副，为非独立运动副，需要通过运动学分析定义运动函数，运动函数的大小为相对运动中，摆动角度相对于初始位置的变化量。</p></sec></sec><sec id="s5"><title>3. 四连杆机构的运动学分析</title><p>通过分析四连杆结构的运动数模模型，对机构各连杆的角度和长度数值创建运算公式。</p><sec id="s5_1"><title>3.1. 四连杆机构的机构类型</title><p>四连杆机构的转动模式如图3所示，在初始位置时连接杆保持水平。</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Link of four-bar mechanis</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >杆件名称</th><th align="center" valign="middle" >所含零件或部件</th></tr></thead><tr><td align="center" valign="middle" >Opening</td><td align="center" valign="middle" >空</td></tr><tr><td align="center" valign="middle" >L0</td><td align="center" valign="middle" >与车身固定杆</td></tr><tr><td align="center" valign="middle" >L1</td><td align="center" valign="middle" >随动杆</td></tr><tr><td align="center" valign="middle" >L2</td><td align="center" valign="middle" >连接杆</td></tr><tr><td align="center" valign="middle" >L3</td><td align="center" valign="middle" >驱动杆</td></tr></tbody></table></table-wrap><p>表1. 四连杆机构的杆件</p><p>图2. 四连杆机构的杆件及运动副</p><p>图3. 四连杆机构转角示意图</p></sec><sec id="s5_2"><title>3.2. 四连杆机构运动学分析</title><p>以驱动杆与不动杆连接轴轴心点O原点(如图3)，以 O A → 方向为x轴，垂直于不动杆方向为z轴建立坐标系，四个铰链点的初始位置坐标分别为： O ( 0 , 0 ) , A ( x 1 , 0 ) , B 0 ( x 2 , z 2 ) , C 0 ( x 3 , z 3 ) ，相邻杆件间的初始夹角分别为 α 0 , β 0 , γ 0 , θ 0 ，经过转动后的夹角分别为 α , β , γ , θ ，其中θ为随动角度，当其余三个角度已确定时，该角度也将确定，因此不需进行计算。为计算简便，将β表示为如图3所示 β 1 , β 2 两角之和。</p><p>l 0 , l 1 , l 2 , l 3 分别为图示杆件的长度：</p><p>l 0 = x 1 (1)</p><p>l 1 = ( x 1 − x 2 ) 2 + z 2 2 (2)</p><p>l 2 = ( x 2 − x 3 ) 2 + ( z 2 − z 3 ) 2 (3)</p><p>l 3 = x 3 2 + z 3 2 (4)</p><p>初始夹角 α 0 , β 0 , γ 0 可分别表示为：</p><p>α 0 = − arctan z 3 x 3 (5)</p><p>β 0 = arccos l 2 2 + l 3 2 − ( x 2 2 + z 2 2 ) 2 l 2 l 3 (6)</p><p>γ 0 = π − arccos l 1 2 + l 2 2 − ( ( x 3 − x 1 ) 2 + z 3 2 ) 2 l 1 l 2 (7)</p><p>令经过转动后各相邻杆间的摆动角度分别为 Δ α , Δ β , Δ γ 则：</p><p>α = α 0 + Δ α (8)</p><p>由三角形余弦定理可知：</p><p>l 1 2 + l 2 2 − 2 l 1 l 2 cos ( π − γ ) = l 0 2 + l 3 2 − 2 l 0 l 3 cos ( π − α ) (9)</p><p>即得：</p><p>Δ γ = arccos l 0 2 + l 3 2 − l 1 2 − l 2 2 + 2 l 0 l 3 cos ( α ) 2 l 1 l 2 − γ 0 (10)</p><p>如图3所示，新位置处C点坐标可表示为：</p><p>{ x ′ 3 = − l 3 cos α z ′ 3 = l 3 sin α (11)</p><p>令此时点C至点A的连线距离为：</p><p>l 4 = ( l 3 sin α ) 2 + ( x 1 + l 3 cos α ) 2 (12)</p><p>故可得：</p><p>Δ β = β 1 + β 2 − β 0 = arccos l 2 2 + l 4 2 − l 1 2 2 l 2 l 4 + arccos l 3 2 + l 4 2 − l 0 2 2 l 3 l 4 − β 0 (13)</p></sec></sec><sec id="s6"><title>4. 生成四连杆机构仿真运动函数的程序开发</title><sec id="s6_1"><title>4.1. 自定义运动副函数</title><p>Tecnomatix (Process Simulate)仿真软件对运动函数格式有严格要求，T表示转动副大小。由四连杆的运动关系，得到四连杆运动副的输入输出传递函数由分析可知j<sub>2</sub>的函数：</p><p>T ( j 2 ) = T ( j 1 ) (14)</p><p>由式(9)得运动副j<sub>4</sub>的函数为：</p><p>T ( j 4 ) = arccos l 0 2 + l 3 2 − l 1 2 − l 2 2 + 2 l 0 l 3 cos ( T ( j 2 ) + α 0 ) 2 l 1 l 2 − γ 0 (15)</p><p>由式(12)得运动副j<sub>3</sub>的函数为：</p><p>T ( j 3 ) = arccos l 2 2 + ( l 3 sin ( π − T ( j 2 ) − α 0 ) ) 2 + ( x 1 + l 3 cos ( π − T ( j 2 ) − α 0 ) ) 2 − l 1 2 2 l 2 ( l 3 sin ( π − T ( j 2 ) − α 0 ) ) 2 + ( x 1 + l 3 cos ( π − T ( j 2 ) − α 0 ) ) 2     + arccos l 3 2 + ( l 3 sin ( π − T ( j 2 ) − α 0 ) ) 2 + ( x 1 + l 3 cos ( π − T ( j 2 ) − α 0 ) ) 2 − l 0 2 2 l 3 ( l 3 sin ( π − T ( j 2 ) − α 0 ) ) 2 + ( x 1 + l 3 cos ( π − T ( j 2 ) − α 0 ) ) 2 − β 0 (16)</p><p>其中， l 0 , l 1 , l 2 , l 3 分别为四支杆件的长度，由所输入的初始坐标决定。</p></sec><sec id="s6_2"><title>4.2. 基于VBA的仿真函数生成程序</title><p>由于建立3D四连杆机构数据的过程中对于四连杆运动学仿真的需求十分庞大，手动书写公式效率低且易出错，本文基于VBA开发了仿真函数生成程序，初始坐标输入部分及仿真函数生成部分截面分别如图4，图5所示。</p><p>在图4界面输入旋转点坐标值，程序获取用户输入的机构初始位置相关坐标后，将数值代入函数原</p><p>图4. 初始坐标输入界面</p><p>图5. 仿真函数生成界面</p><p>型，以字符串格式输出至文本框，以j4的运动学函数为例，其函数原型为式(14)，J4文本框的相应代码如下 [<xref ref-type="bibr" rid="hanspub.24801-ref1">1</xref>] ：</p><disp-formula id="hanspub.24801-formula14"><graphic xlink:href="//html.hanspub.org/file/1-2570169x39_hanspub.png"  xlink:type="simple"/></disp-formula><p>其中斜体为后台计算的数值量，其他(包括非斜体的括号)均为字符串格式，使用运算符&amp;强制叠加后输出至界面，用户拷贝后至相应的函数定义窗口。</p><p>将生成的J2、J3、J4函数输入至图2对应的j2、j3、j4运动副中，四连杆机构运动关系即建立，可以在Tecnomatix仿真环境中模拟前盖铰链安装过程，验证产品工艺设计合理性。</p></sec></sec><sec id="s7"><title>5. 结束语</title><p>本文基于Tecnomatix (Process Simulate)建立了四连杆机构的运动学仿真，基本表达了四连杆机构的真实运动，基于VBA开发的仿真函数生成程序界面简洁，运行稳健可靠，节约了仿真工作时间，保证了正确率。本文亦可作为基于Tecnomatix (Process Simulate)的其他各类设备的运动学仿真的参考。</p></sec><sec id="s8"><title>文章引用</title><p>杨冬梅,邓继涛,徐洪娟. 基于Tecnomatix的四连杆机构运动原理介绍 Kinematic Setup of Four-Bar Mechanism Based on Tecnomatix[J]. 建模与仿真, 2018, 07(02): 33-38. https://doi.org/10.12677/MOS.2018.72005</p></sec><sec id="s9"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.24801-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">王玲, 黄京. 基于Tecnomatix的气动焊枪运动学建立[J]. 机床与液压, 2015, 43(22): 1-3.</mixed-citation></ref></ref-list></back></article>