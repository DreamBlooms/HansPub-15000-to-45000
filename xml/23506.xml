<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">JISP</journal-id><journal-title-group><journal-title>Journal of Image and Signal Processing</journal-title></journal-title-group><issn pub-type="epub">2325-6753</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/JISP.2018.71004</article-id><article-id pub-id-type="publisher-id">JISP-23506</article-id><article-categories><subj-group subj-group-type="heading"><subject>JISP20180100000_65619712.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject></subj-group></article-categories><title-group><article-title>
 
 
  一种基于KNN的天气现象连续观测识别方法
  Continuous Observation and Identification of Weather Phenomena via KNN
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>刘</surname><given-names>泗照</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>徐</surname><given-names>冠雷</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><addr-line>大连舰艇学院，辽宁 大连</addr-line></aff><aff id="aff2"><addr-line>null</addr-line></aff><author-notes><corresp id="cor1">* E-mail:<email>278574378@qq.com(刘泗)</email>;</corresp></author-notes><pub-date pub-type="epub"><day>09</day><month>01</month><year>2018</year></pub-date><volume>07</volume><issue>01</issue><fpage>36</fpage><lpage>42</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   多级天气分类是视频监控和智能交通等诸多潜在应用的基础和重要技术。大多数现有的天气分类方法只考虑天气晴朗或晴天多云的天气条件，并且主要集中在一个固定的场景，如大众旅游和交通情景。本文基于HSV图像色彩模型，主要对各天气现象图片的亮度进行分析和研究，进行亮度间的对比，比较其亮度值的平均值与方差，采用最近邻方法，对所选图像进行分类与识别，达到自动识别各类天气的目的。实验结果证实了此研究方法的可行性。 Multi-level weather classification is the basis and important technology of many potential applications such as video surveillance and intelligent transportation. Most of the existing weather classification methods only consider weather conditions that are sunny or sunny cloudy and mainly concentrate in a fixed scene, such as mass tourism and traffic scenarios. Based on the HSV image color model, this paper mainly analyzes and studies the brightness of each weather image, com-paring the brightness, and the average and variance of its brightness value. Using the nearest neighbor method, the selected images are classified and identified, so as to automatically identify various types of weather. The experimental results confirm the feasibility of this method.
    
  
 
</p></abstract><kwd-group><kwd>天气分类，HSV图像色彩模型，最近邻方法，图像识别, Weather Classification</kwd><kwd> HSV Image Color Model</kwd><kwd> The Nearest Neighbor Method</kwd><kwd> 
Image Recognition</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>一种基于KNN的天气现象连续观测识别方法<sup> </sup></title><p>刘泗照，徐冠雷</p><p>大连舰艇学院，辽宁 大连</p><p>收稿日期：2018年1月3日；录用日期：2018年1月17日；发布日期：2018年1月24日</p><disp-formula id="hanspub.23506-formula29"><graphic xlink:href="//html.hanspub.org/file/4-2670132x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>多级天气分类是视频监控和智能交通等诸多潜在应用的基础和重要技术。大多数现有的天气分类方法只考虑天气晴朗或晴天多云的天气条件，并且主要集中在一个固定的场景，如大众旅游和交通情景。本文基于HSV图像色彩模型，主要对各天气现象图片的亮度进行分析和研究，进行亮度间的对比，比较其亮度值的平均值与方差，采用最近邻方法，对所选图像进行分类与识别，达到自动识别各类天气的目的。实验结果证实了此研究方法的可行性。</p><p>关键词 :天气分类，HSV图像色彩模型，最近邻方法，图像识别</p><disp-formula id="hanspub.23506-formula30"><graphic xlink:href="//html.hanspub.org/file/4-2670132x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2018 by authors and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/4-2670132x7_hanspub.png" /> <img src="//html.hanspub.org/file/4-2670132x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>随着互联网技术与数字化的飞速发展，以及电子数码产品的普及，人们能够获取的数字图像数据已经越来越多 [<xref ref-type="bibr" rid="hanspub.23506-ref1">1</xref>] 。图像作为一种表现直观、内容丰富的多媒体信息，在各行各业中也得到越来越广泛的应用，如数字多媒体图书馆、医学图像应用管理、卫星遥感图像等 [<xref ref-type="bibr" rid="hanspub.23506-ref2">2</xref>] 。目前，图像处理方法的重要性源于两个主要应用领域：改善图示信息以便人们解释；为存储、传输和表示而对图像数据进行处理，以便于机器自动理解。</p><p>图像特征提取是自动识别图像的基础。获得高效的图像不仅可以降低计算复杂度，还可以准确地表述图像的原始信息 [<xref ref-type="bibr" rid="hanspub.23506-ref3">3</xref>] 。目前，常用的图像底层特征包括颜色、纹理和形状等。此外，新颖合适的图像特征提取方法对别的领域如人工智能、模式识别等也会有一定的促进作用。因此，如何有效的提取低层视觉特征成为基于内容的图像识别中很关键的一个步骤，也成为图像识别领域研究的热点内容。</p><p>图像理解与智能视频技术的不断发展，对室外环境下各种天气现象，尤其是恶劣天气的现象的检测与识别提出了极为迫切的需求，同时在气象领域，对于天气现象的观测仍然依靠人工观测，天气现象信息的采集耗费了大量的人力物力，近几年来基于室外图像与视频数据的天气现象自动识别研究受到了较为广泛的关注 [<xref ref-type="bibr" rid="hanspub.23506-ref4">4</xref>] 。</p><p>目前，计算机视觉领域中的大多数现有方法都是基于户外图像或视频中的天气明确的假设 [<xref ref-type="bibr" rid="hanspub.23506-ref5">5</xref>] 。然而，不同的天气条件如雨，雪或烟雾会降低图像或视频的质量。这种影响可能会显著降低依赖于图像/视频特征提取或视觉注意建模的户外视觉系统的性能。因此，天气分类的应用很多，如天气条件的检测和观察，图像/视频分析，视频监控系统的可靠性改进。</p><p>本文基于光学图像处理技术，对晴阴雨雪气象的天气特征进行了提取并研究，为天气现象的自动观测提供光学技术、方法和手段。</p></sec><sec id="s4"><title>2. HSV空间模型</title><p>HSV模型在1978年由埃尔维&#183;雷&#183;史密斯创立。</p><p>HSV色彩模型从CIE三维颜色空间演变而来，它采用的是用户直观的色彩描述方法，它跟孟塞尔显色系统的HVC球型色立体较接近 [<xref ref-type="bibr" rid="hanspub.23506-ref6">6</xref>] 。只不过HSV色彩模型是一个倒立的六菱锥，只相当于孟塞尔球型色立体的一半(南半球)，所以不含黑色的纯净颜色都处于六菱锥顶面的一个色平面上 [<xref ref-type="bibr" rid="hanspub.23506-ref7">7</xref>] 。在HSV六菱锥色彩模型(如图1)中，色相(H)处于平行于六菱锥顶面的色平面上，它们围绕中心轴V旋转和变化，红、黄、绿、青、蓝、品红六个标准色分别相隔60度。色彩明度(B)沿六菱锥中心轴V从上至下变化，中心轴顶端呈白色(V = 1)，底端呈黑色(V = 0)，它们表示无彩色系的灰度颜色。色彩饱和度(S)沿水平方向变</p><p>图1. 六菱锥色彩模型图</p><p>化，越接近六菱锥中心轴的色彩，其饱和度越低，六边形正中心的色彩饱和度为零(S = 0)，与最高明度的V = 1相重合，最高饱和度的颜色则处于六边形外框的边缘线上(S = 1) [<xref ref-type="bibr" rid="hanspub.23506-ref8">8</xref>] 。</p><p>HSV模型通常用于计算机图形应用中。在用户必须选择一个颜色应用于特定图形元素各种应用环境中时，经常使用HSV色轮(如图2)。在其中，色相表示为圆环；可以使用一个独立的三角形来表示饱和度和明度。典型的，这个三角形的垂直轴指示饱和度，而水平轴表示明度。在这种方式下，选择颜色可以首先在圆环中选择色相，在从三角形中选择想要的饱和度和明度。</p><p>HSV模型的另一种可视方法是圆锥体(如图3)。在这种表示中，色相被表示为绕圆锥中心轴的角度，饱和度被表示为从圆锥的横截面的圆心到这个点的距离，明度被表示为从圆锥的横截面的圆心到顶点的距离。某些表示使用了六棱锥体。这种方法更适合在一个单一物体中展示这个HSV色彩空间；但是由于它的三维本质，它不适合在二维计算机界面中选择颜色 [<xref ref-type="bibr" rid="hanspub.23506-ref9">9</xref>] 。</p><p>HSV色彩空间还可以表示为类似于上述圆锥体的圆柱体，色相沿着圆柱体的外圆周变化，饱和度沿着从横截面的圆心的距离变化，明度沿着横截面到底面和顶面的距离而变化 [<xref ref-type="bibr" rid="hanspub.23506-ref10">10</xref>] 。这种表示可能被认为是HSV色彩空间的更精确的数学模型；但是在实际中可区分出的饱和度和色相的级别数目随着明度接近黑色而减少。此外计算机典型的用有限精度范围来存储RGB值；这约束了精度，再加上人类颜色感知的限制，使圆锥体表示在多数情况下更实用 [<xref ref-type="bibr" rid="hanspub.23506-ref11">11</xref>] 。</p></sec><sec id="s5"><title>3. K-邻近分类算法</title><p>K-邻近分类算法可以解释为有那么一堆已经知道分类的数据，然后当一个新数据进入的时候，就开始跟训练数据里的每个点求距离，然后挑选这个训练数据最近的K个点看看这几个点属于什么类型，然后用少数服从多数的原则，给新数据归类(如图4) [<xref ref-type="bibr" rid="hanspub.23506-ref12">12</xref>] 。</p><p>最近邻分类的解释是：令 D n = { x 1 , x 2 , ⋅ ⋅ ⋅ , x n } ，其中每一个样本 x i 所属的类别均己标记。对于参数样本点x，在集合 D n 中距离它最近的点记为 x ′ 那么最近邻分类规则就是把点x分为 x ′ 所属的类别 [<xref ref-type="bibr" rid="hanspub.23506-ref13">13</xref>] 。</p></sec><sec id="s6"><title>4. 基于HSV空间模型和K-邻近分类算法实验</title><sec id="s6_1"><title>4.1. 图像HSV模型的建立</title><p>在图像分类的过程中，我们之所以选择提取图像的主要特征，是因为直接处理原始图像得到的向量</p><p>图2. HSV色轮</p><p>图3. HSV圆锥体</p><p>图4. K-邻近分类算法示意图</p><p>维度不易分类。因此，提取图像的主要特征就成为了图像分类的关键。实际来讲，HSV分类是从两类问题的分类所提出的，但是现在我们所要做的工作是对多类图像进行分类，这就需要将两类的问题扩展到多类 [<xref ref-type="bibr" rid="hanspub.23506-ref14">14</xref>] 。本文要通过三种特征将图5中四种天气图像分类。</p><p>表1反应了四种天气H、S、V三个通道的特征数据情况，其中H_avg表示色调均值；H_var表示色调标准差；S_avg表示饱和度均值；S_var表示饱和度标准差；V_avg表示亮度均值；V_var表示亮度标</p><p>图5. 晴、阴、雨、雪四种天气图</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Classification results of HS</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >序号</th><th align="center" valign="middle" >类别</th><th align="center" valign="middle" >H_avg</th><th align="center" valign="middle" >H_var</th><th align="center" valign="middle" >S_avg</th><th align="center" valign="middle" >S_var</th><th align="center" valign="middle" >V_avg</th><th align="center" valign="middle" >V_var</th></tr></thead><tr><td align="center" valign="middle" >1</td><td align="center" valign="middle" >晴</td><td align="center" valign="middle" >0.5330</td><td align="center" valign="middle" >0.1042</td><td align="center" valign="middle" >0.4828</td><td align="center" valign="middle" >0.2188</td><td align="center" valign="middle" >0.7977</td><td align="center" valign="middle" >0.1319</td></tr><tr><td align="center" valign="middle" >2</td><td align="center" valign="middle" >阴</td><td align="center" valign="middle" >0.4242</td><td align="center" valign="middle" >0.2128</td><td align="center" valign="middle" >0.1711</td><td align="center" valign="middle" >0.1348</td><td align="center" valign="middle" >0.5245</td><td align="center" valign="middle" >0.2126</td></tr><tr><td align="center" valign="middle" >3</td><td align="center" valign="middle" >雨</td><td align="center" valign="middle" >0.3863</td><td align="center" valign="middle" >0.1891</td><td align="center" valign="middle" >0.3672</td><td align="center" valign="middle" >0.1634</td><td align="center" valign="middle" >0.4011</td><td align="center" valign="middle" >0.2082</td></tr><tr><td align="center" valign="middle" >4</td><td align="center" valign="middle" >雪</td><td align="center" valign="middle" >0.4258</td><td align="center" valign="middle" >0.1866</td><td align="center" valign="middle" >0.1082</td><td align="center" valign="middle" >0.0970</td><td align="center" valign="middle" >0.7401</td><td align="center" valign="middle" >0.1786</td></tr></tbody></table></table-wrap><p>表1. HSV分类结果</p><p>准差。本文共采用了800张天气图像，其中晴、阴、雨、雪四种天气中每类天气图像各200张用来提取图像特征，建立分类器，即四种天气已知样本库，分类结果如表1。</p></sec><sec id="s6_2"><title>4.2. k = 1与k = 3时邻近法的比较</title><p>在4.1建立四种已知天气样本库的基础上，选取晴、雨、阴、雪四种天气图像各200张作为待识别图像样本库，经图像识别，k = 1时分类结果如表2，k = 3时分类结果如表3。</p><p>从实验结果来看，当k = 1时晴天的正确识别率最高，到达85%，雨天的正确识别率最低，为65%。k = 3时晴天的正确识别率最高，到达80%，雨天的正确识别率最低，为62%。可见k = 1比k = 3时的天气正确识别率要高。但是，从人们视觉的直观感受来看，阴天图像与雪天图像整体上都呈现白色，两种天气的亮度和饱和度大致相同，因此，无论是k = 1的情形还是k = 3的情形都存在将阴天天气错判为雪天天气的情况。</p></sec></sec><sec id="s7"><title>5. 结论</title><p>基于光学图像的天气识别技术是当前研究比较热门的领域，涉及了计算机视觉、模式识别、图像处</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> Weather recognition rate when k is </title></caption><table><tbody><thead><tr><th align="center" valign="middle" >天气类别</th><th align="center" valign="middle" >样本数</th><th align="center" valign="middle" >识别准确数</th><th align="center" valign="middle" >准确率</th></tr></thead><tr><td align="center" valign="middle" >晴</td><td align="center" valign="middle" >200</td><td align="center" valign="middle" >170</td><td align="center" valign="middle" >85%</td></tr><tr><td align="center" valign="middle" >阴</td><td align="center" valign="middle" >200</td><td align="center" valign="middle" >146</td><td align="center" valign="middle" >73%</td></tr><tr><td align="center" valign="middle" >雨</td><td align="center" valign="middle" >200</td><td align="center" valign="middle" >130</td><td align="center" valign="middle" >65%</td></tr><tr><td align="center" valign="middle" >雪</td><td align="center" valign="middle" >200</td><td align="center" valign="middle" >142</td><td align="center" valign="middle" >71%</td></tr></tbody></table></table-wrap><p>表2. k = 1时的天气识别率</p><table-wrap id="table3" ><label><xref ref-type="table" rid="table3">Table 3</xref></label><caption><title> Weather recognition rate when k is </title></caption><table><tbody><thead><tr><th align="center" valign="middle" >天气类别</th><th align="center" valign="middle" >样本数</th><th align="center" valign="middle" >识别准确数</th><th align="center" valign="middle" >准确率</th></tr></thead><tr><td align="center" valign="middle" >晴</td><td align="center" valign="middle" >200</td><td align="center" valign="middle" >160</td><td align="center" valign="middle" >80%</td></tr><tr><td align="center" valign="middle" >阴</td><td align="center" valign="middle" >200</td><td align="center" valign="middle" >140</td><td align="center" valign="middle" >70%</td></tr><tr><td align="center" valign="middle" >雨</td><td align="center" valign="middle" >200</td><td align="center" valign="middle" >124</td><td align="center" valign="middle" >62%</td></tr><tr><td align="center" valign="middle" >雪</td><td align="center" valign="middle" >200</td><td align="center" valign="middle" >136</td><td align="center" valign="middle" >68%</td></tr></tbody></table></table-wrap><p>表3. k = 3时的天气识别率</p><p>理、分类聚类分析等众多方面的技术 [<xref ref-type="bibr" rid="hanspub.23506-ref15">15</xref>] 。基于HSV空间模型和K-邻近分类算法识别是本文的主要研究内容：</p><p>1) 利用HSV色彩分析法并结合近邻方法对图像进行比较归类，较为准确的对图像进行了自动识别，达到了预期的目的；</p><p>2) 在特征提取后，我利用K-NN对待识别检测图像进行了识别检测，检测正确率普遍为70%左右，准确度有待进一步提高；</p><p>3) 图像识别技术作为当前比较热门的专业，应该有很多的研究方法，因此可进一步拓宽研究渠道，进而增加图像识别的准确率。</p><p>该研究成果可以应用于天气条件的检测和观察，图像/视频的分析，视频监控系统的可靠性改进等方面。</p></sec><sec id="s8"><title>文章引用</title><p>刘泗照,徐冠雷. 一种基于KNN的天气现象连续观测识别方法Continuous Observation and Identification of Weather Phenomena via KNN[J]. 图像与信号处理, 2018, 07(01): 36-42. http://dx.doi.org/10.12677/JISP.2018.71004</p></sec><sec id="s9"><title>参考文献 (References)</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.23506-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">布洛基. 智能车辆[M]. 北京: 人民交通出版社, 2002.</mixed-citation></ref><ref id="hanspub.23506-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">郑南宁. 计算机视觉与模式识别[M]. 北京: 国防工业出版社, 1998.</mixed-citation></ref><ref id="hanspub.23506-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">尼克松, 阿瓜多, 李实英, 杨高波. 特征提取与图像处理[M]. 北京: 电子工业出版社, 2010.</mixed-citation></ref><ref id="hanspub.23506-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">穆尔. MATLAB实用教程[M]. 北京: 电子工业出版社, 2010.</mixed-citation></ref><ref id="hanspub.23506-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Gonzalez, R.C., Woods, R.E., 阮秋琦, 阮宇智. 数字图像处理[M]. 第3版. 北京: 电子工业出版社, 2001.</mixed-citation></ref><ref id="hanspub.23506-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">张彩华. 基于颜色和纹理特征的图像检索[D]: [硕士学位论文]. 哈尔滨: 哈尔滨理工大学, 2010.</mixed-citation></ref><ref id="hanspub.23506-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">顾宁. 基于颜色和纹理特征的图像检索算法研究[D]: [硕士学位论文]. 南京: 南京邮电大学, 2011.</mixed-citation></ref><ref id="hanspub.23506-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">姚华静. 基于颜色和纹理特征的图像检索技术研究[D]: [硕士学位论文]. 南京: 河海大学, 2007.</mixed-citation></ref><ref id="hanspub.23506-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">王惠明, 史萍. 图像纹理特征的提取方法[J]. 中国传媒大学学报(自然科学版), 2006, 13(1): 49-52.</mixed-citation></ref><ref id="hanspub.23506-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">谢菲. 图像纹理特征的提取和图像分类系统研究及实现[D]: [硕士学位论文]. 成都: 电子科技大学, 2009.</mixed-citation></ref><ref id="hanspub.23506-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">程涛. 基于颜色和形状特征的图像检索[D]: [硕士学位论文]. 西安: 西北大学, 2010.</mixed-citation></ref><ref id="hanspub.23506-ref12"><label>12</label><mixed-citation publication-type="other" xlink:type="simple">肖靓. 基于支持向量机的图像分类研究[D]: [硕士学位论文]. 上海: 同济大学, 2006.</mixed-citation></ref><ref id="hanspub.23506-ref13"><label>13</label><mixed-citation publication-type="other" xlink:type="simple">刘晓勇, 付辉. 一种快速AP聚类算法[J]. 山东大学学报(工学版), 2011, 41(4): 20-23.</mixed-citation></ref><ref id="hanspub.23506-ref14"><label>14</label><mixed-citation publication-type="other" xlink:type="simple">赵莹, 高隽, 汪荣贵, 胡静. 一种新的广义最近邻方法研究[J]. 电子学报, 2004, 32(s1): 196-198.</mixed-citation></ref><ref id="hanspub.23506-ref15"><label>15</label><mixed-citation publication-type="other" xlink:type="simple">钱丽丽, 施鹏飞. 近邻传播算法在非监督图像聚类中的应用[J]. 微型电脑应用, 2011, 27(2): 5+40-42.</mixed-citation></ref></ref-list></back></article>