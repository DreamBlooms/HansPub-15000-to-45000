<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">SA</journal-id><journal-title-group><journal-title>Statistics and Application</journal-title></journal-title-group><issn pub-type="epub">2325-2251</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/SA.2019.84068</article-id><article-id pub-id-type="publisher-id">SA-31575</article-id><article-categories><subj-group subj-group-type="heading"><subject>SA20190400000_86446383.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>数学与物理</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于探索性因子分析的R软件实现
  R Software Implementation Based on Exploratory Factor Analysis
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>王</surname><given-names>石坤</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>王</surname><given-names>熙婷</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>屈</surname><given-names>永强</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>程</surname><given-names>雪桃</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>沈</surname><given-names>海文</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><addr-line>昆明医科大学护理学院，云南 昆明</addr-line></aff><aff id="aff2"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>02</day><month>08</month><year>2019</year></pub-date><volume>08</volume><issue>04</issue><fpage>598</fpage><lpage>603</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   目的：为探究因子分析法在R软件中的使用和问卷结构效度的检验。方法：采用随机抽样的方法对昆明医科大学护理专业学生进行匿名问卷调查，随后对问卷用Rstudio软件进行因子分析。结果：使用Rstudio软件可以方便地实现因子分析，并检验问卷的结构效度。结论：R软件是一款免费开放且方便的软件，表明R软件可以方便而且快捷地完成因子分析的运算和问卷结构效度的检验。 Purpose: To explore the use of factor analysis in R Software and the validity test of questionnaire structure. Methods: An anonymous questionnaire survey was conducted among nursing students in Kunming Medical University by random sampling, and then factor analysis was carried out with R studio software. Results: Using R studio software, factor analysis can be easily realized, and the structural validity of the questionnaire can be tested. Conclusion: R software is a free, open and convenient software, which shows that R software can easily and quickly complete factor analysis and validity test of questionnaire structure. 
 
</p></abstract><kwd-group><kwd>探索性因子分析，R软件, Exploratory Factor Analysis</kwd><kwd> R Software</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>基于探索性因子分析的R软件实现<sup> </sup></title><p>王石坤<sup>*</sup>，王熙婷，屈永强，程雪桃，沈海文</p><p>昆明医科大学护理学院，云南 昆明</p><p><img src="//html.hanspub.org/file/3-2580516x1_hanspub.png" /></p><p>收稿日期：2019年7月16日；录用日期：2019年7月28日；发布日期：2019年8月5日</p><disp-formula id="hanspub.31575-formula24"><graphic xlink:href="//html.hanspub.org/file/3-2580516x6_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>目的：为探究因子分析法在R软件中的使用和问卷结构效度的检验。方法：采用随机抽样的方法对昆明医科大学护理专业学生进行匿名问卷调查，随后对问卷用Rstudio软件进行因子分析。结果：使用Rstudio软件可以方便地实现因子分析，并检验问卷的结构效度。结论：R软件是一款免费开放且方便的软件，表明R软件可以方便而且快捷地完成因子分析的运算和问卷结构效度的检验。</p><p>关键词 :探索性因子分析，R软件</p><disp-formula id="hanspub.31575-formula25"><graphic xlink:href="//html.hanspub.org/file/3-2580516x7_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2019 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/3-2580516x8_hanspub.png" /> <img src="//html.hanspub.org/file/3-2580516x9_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>探索性因子分析 [<xref ref-type="bibr" rid="hanspub.31575-ref1">1</xref>] (EFA)是一系列用来发现一组变量的潜在结构的方法。它通过寻找一组更小的潜在的或者隐藏的结构来解释已观测到的、显式的变量间的关系。可以把繁杂的数据整理划分为多个维度，也可以解释问卷的结构效度。R软件完全免费，由新西兰Auckland大学的RobertGentleman和ROSSIhaka等研究开发 [<xref ref-type="bibr" rid="hanspub.31575-ref2">2</xref>] 。其功能强大包括数据存储与处理、数组运算、统计分析、统计制图等，还可实现自定义编程。目前国内学者喜欢使用的SPSS软件需购买版权，随着整个社会越来越重视版权，使用未购买版权的SPSS软件分析而来的文章，刊发将会面临障碍，尤其是准备发表国外正规期刊时，R软件完全免费，不存在版权问题 [<xref ref-type="bibr" rid="hanspub.31575-ref3">3</xref>] 。目前越来越多的科研工作者开始使用。</p></sec><sec id="s4"><title>2. 探索性因子分析</title><sec id="s4_1"><title>2.1. 探索性因子分析模型 [<xref ref-type="bibr" rid="hanspub.31575-ref4">4</xref>] (见图1)的一般表达形式为</title><p>X 1 = w 11 F 1 + w 21 F 2 + ⋯ + w n 1 F n + w 1 U 1 + e 1</p><p>其中，x表示观测变量，F<sub>M</sub>代表因子分析中最基本的公因子(Common factor)，它们是各个观测变量所共有的因子，解释了变量之间的相关；U代表特殊因子(Unique factor)。它是每个观测变量所特有的因子，相当于多元回归分析中的残差项，表示该变量不能被公因子所解释的部分：w<sub>M</sub>代表因子负载(Factor-loading)，它是每个变量在各公因子上的负载，相当于多元回归分析中的回归系数；而e则代表了每一观测变量的随机误差。</p><p>图1. 探索性因子分析模型(来源：郭志刚 [<xref ref-type="bibr" rid="hanspub.31575-ref5">5</xref>] ，1999)</p></sec><sec id="s4_2"><title>2.2. 探索性因子分析步骤</title><p>① 收集观测变量：通常采用抽样的方法，按照实际情况收集观测变量数据。② 构造相关矩阵：根据相关矩阵可以确定是否适合进行因子分析。③ 确定因子个数：可根据实际情况事先假定因子个数，也可以按照特征根大于1的准则或碎 石准则来确定因子个数。④ 提取因子：可以根据需要选择合适的因子提取方法，如主成分方法、加权最小平方法、极大似然法等。⑤ 因子旋转：由于初始因子综合性太强，难以找出实际意义，因此一般都需要对因子进行旋转(常用的旋转方法有正交旋转、斜交旋转等)，以便于对因子结构进行合理解释。⑥ 解释因子结构：可以根据实际情况及负载大小对因子进行具体解释。⑦ 计算因子得分：可以利用公共因子来做进一步的研究，如聚类分析、评价等 [<xref ref-type="bibr" rid="hanspub.31575-ref6">6</xref>] 。</p></sec></sec><sec id="s5"><title>3. 对象和方法</title><sec id="s5_1"><title>3.1. 对象</title><p>本次研究以昆明医科大学护理学院护生为对象。纳入标准为实习过两个月以上的实习护生，愿意填写问卷的护生。</p><sec id="s5_1_1"><title>3.1.1. 护生对伦理学知识应用效果问卷</title><p>使用自制问卷进行调查。该问卷包含22条目，问卷中对问卷进行初步的划分维度，均采用Iikert5级计分法。随机抽取70名学生进行调查，最终回收问卷70份，有效问卷65份。</p></sec><sec id="s5_1_2"><title>3.1.2. 问卷的内部一致性检验</title><p>采用克朗巴哈α系数评估问卷的内部一致性。用R软件分析，问卷本次调查的克朗巴哈α系数为0.802，说明问卷具有较高信度。适合做探索性因子分析。</p></sec></sec><sec id="s5_2"><title>3.2. 方法</title><sec id="s5_2_1"><title>3.2.1. 导入数据及数据预处理</title><p>① 将65份的数据用EpiData软件录入后导出为sav文件。② 将数据命名为X123456.sav。③ 打开R studio软件，点击import Dataset，选择从SPSS中导入数据。</p><p>输入&gt;library(psych)#载入psych包</p><p>cor&lt;-cor(X123456)#计算变量相关系数矩阵并赋值给cor。</p><p>其中相关系数矩阵的原理，其是由矩阵各列间的相关系数构成的。也就是说，相关矩阵第i行第j列的元素是原矩阵第i列和第j列的相关系数。</p></sec><sec id="s5_2_2"><title>3.2.2. 判断需要提取的公共因子数</title><p>fa.parallel(cor,n.obs=65,n.iter=100,fa=fa,show.legend=FALSE,main=scree plot with parallel analysis)#n.obs：样本量cor：相关系数矩阵；#fa = fa，因子分析；#n.iter：模拟分析的次数；#main：标题命名。运行代码后得到碎石图：</p><p>分析：图2中，实线表示真实数据，虚线表示模拟数据。</p><p>因子分析(FA)即三角形线，通过模拟，真实数据中只有4个主成分高于模拟数据；Kaiser-Harris 准则，在探索性因子分析中，Kaiser-Harris 准则的特征值取值应该是大于0，而不是主成分分析中的大于1，这是大多数人所不了解的。根据图形，我们可以看出有7个公共因子特征值大于0；Cattell 碎石检验，通过绘制特征值与公共因子数的图形，因此我们选择7个公共因子。当然在选择公共因子时，有时候我们也可以我们所需要的公共因子数，来进行调整。需要考虑到因子分析中的累计方差贡献率。</p><p>图2. 平行分析碎石图</p></sec><sec id="s5_2_3"><title>3.2.3. 提取公共因子</title><p>fa&lt;-fa(correlations,nfactors=7,rotate=none,fm=pa)</p><p>#r：相关系数矩阵；#nfactors：设定公共因子数；#rotate：指定旋转方法。</p><p>代码运行后，输出结果如下：</p><p>PA1 PA2 PA3 PA4 PA5 PA6PA7</p><p>SS loadings 6.78 2.22 1.60 1.380.88 0.74 0.56</p><p>Proportion Var 0.31 0.100.07 0.06 0.040.030.03</p><p>Cumulative Var 0.310.41 0.48 0.540.590.62 0.64</p><p>已删除了多余的输出</p><p>其中，SS loadings行包含了与公共因子相关联的特征值，指的是与特定公共因子相关联的标准化后的方差值，Proportion Var行表示的是每个公共因子对整个数据集的解释程度，Cumulative Var行表示累计的公共因子的累计解释程度。</p><p>可以看到，在提取公共因子中，原始数据中的特征值和方差贡献率分别为：① 特征值：第1公共因子特征值为6.78，第2公共因子特征值为2.22，.....省略.....第6公共因子特征值为0.74，第7公共因子特征值为0.56；②方差贡献率：第1公共因子解释了问卷中31%的方差，第2公共因子解释了10%，.....省略.....第6公共因子解释了3％，第7公共因子解释了3%。累计共解释了64%的方差。累计方差贡献率大于64%，说明在提取公共因子中的因子分析是可靠的。</p></sec><sec id="s5_2_4"><title>3.2.4. 因子旋转</title><p>fa.varimax&lt;-fa(correlations,nfactors=7,rotate=varimax,fm=pa)#使用正交旋转来计算。varimax表示最大方差旋转法。pa表示主轴迭代法。</p><p>代码运行后，输出结果如下：</p><p>PA1 PA2 PA3 PA5 PA6 PA4 PA7</p><p>SS loadings 4.65 3.031.62 1.51 1.16 1.10 1.10</p><p>Proportion Var 0.210.14 0.07 0.07 0.05 0.05 0.05</p><p>Cumulative Var 0.21 0.35 0.42 0.49 0.54 0.59 0.64</p><p>已删除了多余的输出</p><p>可以看到，在提取公共因子中，旋转后的特征值和方差贡献率分别为：① 特征值：第1公共因子特征值为4.65，第2公共因子特征值为3.03，.....省略.....第6公共因子特征值为1.10，第7公共因子特征值为1.10；② 方差贡献率：第1公共因子解释了问卷中21%的方差，第2公共因子解释了14%，.....省略.....第6公共因子解释了5%，第7公共因子解释了5%。累计共解释了64%的方差。</p><p>在经过了因子旋转后，特征值和各公共因子贡献率发生了变化。</p></sec><sec id="s5_2_5"><title>3.2.5. 获取因子得分</title><p>scores&lt;-fa(correlations,nfactors=7,rotate=varimax,fm=pa,scores=TRUE)#Scores：设定是否需要计算因子得分。</p></sec><sec id="s5_2_6"><title>3.2.6. 因子分析可视化</title><p>fa.diagram(fa.varimax,simple=TRUE,digits=3)#digits=3表示保留3位小数。</p><p>&gt; corrplot(fa.varimax$loadings)</p><p>图3. 因子分析可视化(因子得分)</p><p>图4. 因子分析可视化</p></sec></sec></sec><sec id="s6"><title>4. 结果</title><sec id="s6_1"><title>4.1. 根据图3、图4得出旋转后的因子得分</title><p>公共因子PA1中q11：0.813、q12：0.774、q8：0.761、q7：0.760、q10：0.743、q6：0.705、q14：0.629、q9：0.569；在公共因子PA2中q1：0.794、q2：0.777、q3：0.763、q5：0.724；在公共因子PA3中q20：0.776、q16：0.603；在公共因子PA5中q21：0.752、q22：0.066；在公共因子PA6中q18：0.747、q17：0.608；在公共因子PA4中q15：0.716、q13：0.567；在公共因子PA7中q19：0.751、q4：0.497。</p></sec><sec id="s6_2"><title>4.2. 根据图3所示，提取出公共因子</title><p>包括：PA1：人文关怀和有利原则因子；PA2：基础护理因子；PA3：慎独因子；PA5：护患沟通因子；PA6：保密原则因子；PA4：护理决策因子；PA7：执行医嘱和医疗监督因子。利用探索性因子分析出来的结果与原先问卷中构建的问卷模型基本相符，说明问卷的结构效度良好，可以进行下一步分析。而且使用R软件可以方便的用因子分析法对实际的问题进行计算。</p></sec></sec><sec id="s7"><title>5. 结论</title><p>在此次研究中，R软件可以以清晰的碎石图(图2)，向我们展现出清晰的数据，其中根据图形，我们可以看出有7个公共因子特征值大于0；Cattell碎石检验，通过绘制特征值与公共因子数的图形，因此我们选择PA1：人文关怀和有利原则因子；PA2：基础护理因子；PA3：慎独因子；PA5：护患沟通因子；PA6：保密原则因子；PA4：护理决策因子；PA7：执行医嘱和医疗监督因子。当然我们也可以从提取公共因子中应用简单的程序得出，这里采用了主轴迭代法，当然也可以灵活地应用最大似然法(ml)、最小二乘法(wls)等，得出每个公共因子的特征值及方差贡献率，在因子旋转部分选用正交旋转中最常用的最大方差旋转法来实现。可以明显地看出，与因子旋转之前的结果相比，在人文关怀和有利原则因子中，方差贡献率减少了；慎独因子的方差贡献率没变；基础护理因子、护患沟通因子、保密原则因子、护理决策因子、执行医嘱和医疗监督因子的方差贡献率都增加了。然而，在R软件中，还可以对数据进行可视化及显示各公共因子的因子得分(如图3)情况。由此可以看出R软件是一款免费开放且方便的软件，而且应用R软件可以方便而且快捷地用因子分析方法对实际问题进行分析计算(图4)，检验问卷的结构效度。有利于下一步科研工作的进行。</p></sec><sec id="s8"><title>文章引用</title><p>王石坤,王熙婷,屈永强,程雪桃,沈海文. 基于探索性因子分析的R软件实现R Software Implementation Based on Exploratory Factor Analysis[J]. 统计学与应用, 2019, 08(04): 598-603. https://doi.org/10.12677/SA.2019.84068</p></sec><sec id="s9"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.31575-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">Kabacoff, R.I. R语言实战[M]. 北京: 中国邮电出版社, 2018: 296-297.</mixed-citation></ref><ref id="hanspub.31575-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">薛毅, 陈丽萍. 统计建模与R软件[M]. 北京: 清华大学出版社, 2007: 47.</mixed-citation></ref><ref id="hanspub.31575-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">王本洋. 试卷质量分析的数学模型及其R语言实现[J]. 长江大学学报(自然科学版), 2012(8): 114-116.</mixed-citation></ref><ref id="hanspub.31575-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">孙晓军, 周宗奎. 探索性因子分析及其在应用中存在的主要问题[J]. 心理科学, 2005, 28(6): 1440.</mixed-citation></ref><ref id="hanspub.31575-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">郭志刚. 社会统计分析方法一SPSS软件应用[M]. 北京: 中国人民大学出版社, 1999: 87-111.</mixed-citation></ref><ref id="hanspub.31575-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">周晓宏, 郭文静. 探索性因子分析与验证性因子分析异同比较[J]. 科技与产业, 2008, 8(9): 69.</mixed-citation></ref></ref-list></back></article>