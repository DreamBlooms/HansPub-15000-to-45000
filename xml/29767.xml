<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">SEA</journal-id><journal-title-group><journal-title>Software Engineering and Applications</journal-title></journal-title-group><issn pub-type="epub">2325-2286</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/SEA.2019.82009</article-id><article-id pub-id-type="publisher-id">SEA-29767</article-id><article-categories><subj-group subj-group-type="heading"><subject>SEA20190200000_23040286.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  智慧水务移动办公平台的开发
  Development of Smart Water Mobile Office Platform
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>刘</surname><given-names>明</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>许</surname><given-names>克军</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>刘</surname><given-names>盼</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>凌</surname><given-names>亮</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>黎</surname><given-names>杰</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>黄</surname><given-names>毅</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><addr-line>合肥工业大学，安徽 合肥</addr-line></aff><aff id="aff3"><addr-line>黄山市黄山风景区供水有限公司，安徽 黄山</addr-line></aff><aff id="aff2"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>14</day><month>03</month><year>2019</year></pub-date><volume>08</volume><issue>02</issue><fpage>72</fpage><lpage>79</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  系统结合当前智慧水务信息化系统建设的概况进行移动办公平台的应用，能够完成便携式移动办公，综合供水企业的多个信息化系统数据资源，同时对数据进行有效地分析、实时交互和信息展示。该应用主要采用MUI与Echarts技术实现Android前端开发、Spring + Spring MVC与Hibernate技术实现服务端开发，采用SQL Server数据库存储数据，最终实现该Android应用软件的开发。
   The system combines the current intelligent water-information-system construction overview to carry out the application of the mobile office platform, can complete the portable mobile office, integrate multiple information system data resources of the water supply enterprise, and simultaneously analyze real-time interaction and information display of the data. The application mainly uses MUI and Echarts technology to realize Android front-end development, Spring + Spring MVC and Hibernate technology to realize server-side development, and uses SQL Server database to store data, and finally realizes the development of the Android application software.
 
</p></abstract><kwd-group><kwd>移动办公，智慧水务, Mobile Office</kwd><kwd> Smart Water</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>智慧水务移动办公平台的开发<sup> </sup></title><p>刘明<sup>1*</sup>，许克军<sup>1</sup>，刘盼<sup>1</sup>，凌亮<sup>2</sup>，黎杰<sup>1</sup>，黄毅<sup>1</sup></p><p><sup>1</sup>合肥工业大学，安徽 合肥</p><p><sup>2</sup>黄山市黄山风景区供水有限公司，安徽 黄山</p><p><img src="//html.hanspub.org/file/7-2690356x1_hanspub.png" /></p><p>收稿日期：2019年3月27日；录用日期：2019年4月11日；发布日期：2019年4月18日</p><disp-formula id="hanspub.29767-formula23"><graphic xlink:href="//html.hanspub.org/file/7-2690356x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>系统结合当前智慧水务信息化系统建设的概况进行移动办公平台的应用，能够完成便携式移动办公，综合供水企业的多个信息化系统数据资源，同时对数据进行有效地分析、实时交互和信息展示。该应用主要采用MUI与Echarts技术实现Android前端开发、Spring + Spring MVC与Hibernate技术实现服务端开发，采用SQL Server数据库存储数据，最终实现该Android应用软件的开发。</p><p>关键词 :移动办公，智慧水务</p><disp-formula id="hanspub.29767-formula24"><graphic xlink:href="//html.hanspub.org/file/7-2690356x7_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2019 by authors and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/7-2690356x8_hanspub.png" /> <img src="//html.hanspub.org/file/7-2690356x9_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>国务院印发《国家新型城镇化规划(2014~2020年)》 [<xref ref-type="bibr" rid="hanspub.29767-ref1">1</xref>] 智慧城市建设方向第3条：发展智能水务，构建覆盖供水全过程、保障供水质量安全的智能供排水和污水处理系统。发展智能管网，实现城市地下空间、地下管网的信息化管理和运行监控智能化。</p><p>“智慧水务”是我国目前大力打造的“智慧城市”的重要组成部分，通过对水务信息的实时采集、传输、存储、处理，提升水务管理的效率，从而实现保障水质，移动办公，实时处理等目的。目前国内大部分供水企业都采用了一些信息化系统，但信息处理和流转只局限于本部门，信息孤岛现象严重，缺少一个规范的水务信息统一管理平台，尤其是缺少一个移动化办公的统一管理平台。</p><p>该平台是一个基于Android平台的智慧水务信息化管理系统的移动办公平台，完成便携式移动办公，综合供水企业的多个信息化系统数据资源，同时对数据进行有效地分析、实时交互和信息展示。</p></sec><sec id="s4"><title>2. 智慧水务移动办公平台的架构</title><sec id="s4_1"><title>2.1. 系统特点</title><p>系统是在供水企业原有的供水自动化、信息化系统的基础上开发的综合应用平台，特点是在Android平台下开发的移动工作应用软件，可以更加快捷，方便的完成一系列针对水务信息的查询和信息交互，方便供水企业工作人员的移动办公，提供工作效率。</p><p>在“智慧水务”理念的引导下，采用移动办公平台，使供水企业的管理模式发生了改变，对原有的信息化系统大量数据进行分析处理，实时预警，为管理供水系统提供更加实时动态和移动处理的办公方式。</p></sec><sec id="s4_2"><title>2.2. 系统功能</title><p>针对供水企业的需求特点，移动办公平台主要完成供水系统运行总览，供水管网展示，制水生产调度，远程抄表，水质检测，实时报警，历史数据分析等模块。其主要功能的架构框图如图1所示，还可以根据实际应用的需要增加功能模块。</p><p>主要应用功能包括：</p><p>水厂重要参数展示模块：为了让工作人员更加直观的观察到全区重要参数和报警信息，通过对供水系统数据的观察，制定运行总览数据展示模块。数据包括各个水厂的供水压力、水位数据，累计流量数据，水泵的开关状态，电量检测数据等。前端通过mui框架设计样式，在移动端设计较为美观的展示界面。在后端通过数据传输接口进行数据库数据的实时前后端交互。</p><p>图1. 功能架构图</p><p>管网展示模块：采用管网形式将数据以空间和属性数据一体化方式存储，实现基本的地图显示和查询功能。可以显示重要管网阀门位置，管网压力、流量，重要水位等实时数据，提供管网及相关资料的查询、统计以及各种输出等管理功能 [<xref ref-type="bibr" rid="hanspub.29767-ref2">2</xref>]。</p><p>制水生产综合数据展示模块：通过对制水生产时，各水厂使用的泵、阀等的电流、压力，固定地点的水位、水量等的数据进行实时显示；并对制水生产过程中各个仪器设备的状态进行实时显示。保证制水生产的自动化监测，提高制水生产过程的安全。</p><p>水质监测模块：对源水和出厂水的水质实时检测并显示，实时监测水质严格按照标准进行生产与供水。对水各个时间的重要水质指标进行显示，包括浊度、余氯、温度、ph值等数据。如果水质不符合标准可以及时提醒工作人员进行相关的检查和处理，从而保证水质的达标 [<xref ref-type="bibr" rid="hanspub.29767-ref3">3</xref>]。</p><p>报警模块：在各个模块设置需要报警的数据进行实时检测，包括实时供水压力、水位，配电间的电流、电压，水质是否符合标准等。通过后端数据库中所设置的报警界限进行判断，对不同的数据设置相应的报警界限，如果超出或低于报警界限便将报警信息通过后端传到前端界面。针对不同的数据进行不同的提示方法，并将最后的报警信息在报警模块进行文字显示，并进行明显标红提示。可以让相关工作人员能够不止在工作区间检测报警信息，还可以在任何地方任何时候都可以得到报警信息，对发生的报警情况及时的进行相应处理，从而实现供水系统的安全。</p><p>历史数据模块：对于水务系统来说，历史数据的查询与分析也尤为重要，在历史数据模块中分为两种形式展示：一种以可视化图表展示，采用echarts组件进行相关数据的图表形式展示，包括趋势折线图，直方图，饼状图等，可以直观且形象的展示历史数据；另一种以数据报表展示，把所有的数据都以表的形式罗列出来。两种形式都可以按照时间查询相应的历史数据，既可以观察历史数据的走向趋势、所占比例，又可以观察历史的详细数据。</p></sec></sec><sec id="s5"><title>3. 智慧水务移动办公平台的设计</title><p>系统平台是可以运行在Android和ios移动端的app系统。</p><sec id="s5_1"><title>3.1. 后端设计及技术难题</title><p>目前大多企业web应用开发都采用SpringMVC + spring + hibernate集成框架以解决传统J2EE应用的开发效率低以及复杂性。项目总体框架见图2。Spring是一个轻量级的控制反转和面向切面的容器框架，他是全面的和模块化的，具有分层的体系结构，编程人员可以选择使用它孤立的任何一部分并且它的架构仍然是内在稳定的。可以使用spring来简化JDBC的使用或者用来管理所有的业务对象。SpringMVC框架是一个全功能的构架Web应用程序的MVC实现。通过策略接口，MVC框架变成高度可配置的，SpringMVC分离了控制器、模型对象、分派器以及处理程序对象的角色，这种分离让它们更容易进行定制。而hibernate对JDBC访问数据库的代码做了封装，大大简化了数据访问层繁琐的重复性代码。并且它支持各种关系数据库多对多的各种复杂关系。</p><p>图2. 整体技术架构</p><p>SSH集成框架在maven的环境下进行搭建要特别注意相关配置文件的编写，如pom.xml、web.xml等配置文件要确保SSH框架相关的依赖包、对应接口实现以及虚拟路径与处理函数的映射等都配置正确，否则整个SSH框架将无法正常工作。SSH框架工作流程见图3。</p></sec><sec id="s5_2"><title>3.2. 前端设计</title><p>软件app的界面设计很多种方法，但为了更加贴原生app的体验，系统前端采用mui设计框架，它不依赖任何第三方JS库，轻量，高性能，可多端发布到Appstore、Android市场、浏览器、微信公众号、百度直达号及流应用。真正实现多端发布–开发一套代码，发布六个平台。可以利用框架内容，设计出一个用户体验更好的，画面更加美观的移动端app。可以实现的界面样式包括下拉刷新、图片滚动、可视化图表、分级底部导航栏等功能。</p><p>图3. 后端ssh框架工作流程</p></sec><sec id="s5_3"><title>3.3. 前后端交互</title><p>前后端交互采用ajax方法进行交互，ajax方法是指一种创建交互式网页应用的网页开发技术，ajax技术的核心操作是用前端请求对象进行异步数据处理，所谓异步，即通过ajax，JavaScript无需等待服务器的响应，而是在等待服务器响应时执行其它脚本，当响应就绪后对响应进行处理。具体流程见图4所示。</p><p>图4. 前后端交互流程图</p></sec></sec><sec id="s6"><title>4. 系统的开发与实现</title><p>系统采用Spring可插入的MVC架构，通过策略接口，Spring框架是高度可配置的，而且包含多种视图技术，分离了控制器、模型对象、分派器以及处理程序对象的角色，使得它们更容易进行定制。Hibernate对JDBC进行了封装，使得开发人员可以用面向对象等程序思维来操纵数据库。前端采用HBuilder + MUI框架快速构建APP的显示界面，再利用Ajax技术实现前后端数据交互，从而实现整个系统功能的联动。</p><sec id="s6_1"><title>4.1. 水厂参数显示</title><p>首先设计前端界面，利用table形式将所要显示的数据定格在前端界面中，指示灯则以圆形按钮的形式显示，设置页面实时刷新的时间间隔，到达设定时间前端开始刷新，利用ajax方法像后端获取数据，后端通过ssh框架对应的mvc结构，通过controller层的相关方法，调用数据库语言实现数据的获取。接到的数字形式的数据则直接显示到相应位置上，如果以0/1形式数据显示则为指示灯状态，通过判断当前圆形按钮的颜色样式进行相应颜色的改变，从而实现状态的显示。效果如图5、图6所示。</p><p>图5. 重要参数显示</p><p>图6. 制水生产参数</p></sec><sec id="s6_2"><title>4.2. 管网展示</title><p>调用百度地图SDK接口，进入百度地图开放网站，进行账号和百度地图apiak申请，在前端相应位置加入调用百度地图api的语句实现调用。把管网大致图形按照坐标的形式绘制到百度地图上即可实现管网的展现，在主要观察点进行标记，实时调用后端数据库相应数据，在图上显示重要参数。</p></sec><sec id="s6_3"><title>4.3. 报警信息</title><p>在后端数据库中设置相应数据的上限以及下限，在数据库采用触发器形式，如果数据超过规定则生成一条报警数据，从后端传到后端的报警界面，生成一条新的报警信息，并且根据报警信息进行手机声音或者弹出窗口进行提醒 [<xref ref-type="bibr" rid="hanspub.29767-ref4">4</xref>]。</p></sec><sec id="s6_4"><title>4.4. 历史数据显示</title><p>后端数据库中，实时数据表会同步传递数据到历史数据表，然后同上述参数显示，通过ssh框架的表示层、业务逻辑层、数据持久层和域模块层进行数据传输，在前端采用两种方法展示：一种是采用可视化组件echarts做成可视化图表，接受到的后端数据依照图表所提供的位置加入，即可显示相应的数据可视化图表；另一种是采用报表形式展示，在前端将所有属性加入表头，后端传到前端的data数据以列表形式以此加入到表单中，即可完成数据的显示。最后加入查询功能，可以在前端选择时间段，后端根据时间段进行筛选数据传输到前端界面 [<xref ref-type="bibr" rid="hanspub.29767-ref5">5</xref>]。效果如图7所示。</p><p>图7. 历史数据</p></sec></sec><sec id="s7"><title>5. 结束语</title><p>智慧水务移动办公平台的开发，能够提升供水企业的水务系统管理的效率，能更加快捷、方便地完成相关工作。平台中采用清晰美观的界面风格，将水务数据实时展示，用户体验良好，操作简单，功能齐全。系统为不同层面的生产运行管理者提供即时、丰富的生产运行信息，为辅助分析决策奠定良好的基础，为企业规范管理、节能降耗、减员增效和精细化管理提供强大的技术支持。本文所述的开发方法，希望对同类移动办公平台的设计与实现有一定的启发。</p></sec><sec id="s8"><title>基金项目</title><p>项目资金来源为合肥工业大学2018年校级大学生创新创业训练计划项目资助(项目编号：2018CXCY562)。</p></sec><sec id="s9"><title>文章引用</title><p>刘明,许克军,刘盼,凌亮,黎杰,黄毅. 智慧水务移动办公平台的开发Development of Smart Water Mobile Office Platform[J]. 软件工程与应用, 2019, 08(02): 72-79. https://doi.org/10.12677/SEA.2019.82009</p></sec><sec id="s10"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.29767-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">中共中央国务院. 国家新型城镇化规划(2014-2020) [N]. 新华社, 2014-03-16.</mixed-citation></ref><ref id="hanspub.29767-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">黎杰, 黄毅. 城市供水调度系统的功能与设备配置[C]//中国仪器仪表学会, 中国系统仿真学会, 合肥工业大学. 全国第19届计算机技术与应用(CACIS)学术会议论文集(上册): 2008年卷. 2018: 609-613.</mixed-citation></ref><ref id="hanspub.29767-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">王春超, 王丽萍, 曹云慧, 等. 改进多变量灰色模型在城市用水量预测中的应用[J]. 水电能源科学, 2013, 31(2): 27-30.</mixed-citation></ref><ref id="hanspub.29767-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">Izabela, Z. (2006) Risk Analysis as a Management Instruments of Water Suplly System Operation. Journal of KONBiN, 4, 383-400.</mixed-citation></ref><ref id="hanspub.29767-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">余翔. 城市日用水量的贝叶斯概率预测方法研究[D]: [硕士学位论文]. 杭州: 浙江工业大学, 2012.</mixed-citation></ref></ref-list></back></article>