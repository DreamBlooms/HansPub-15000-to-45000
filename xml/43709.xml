<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">DSC</journal-id><journal-title-group><journal-title>Dynamical Systems and Control</journal-title></journal-title-group><issn pub-type="epub">2325-677X</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/DSC.2021.103016</article-id><article-id pub-id-type="publisher-id">DSC-43709</article-id><article-categories><subj-group subj-group-type="heading"><subject>DSC20210300000_64925613.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于进给轴信号采样的机床装配质量检测方法
  Machine Tool Assembly Quality Inspection Based on Signal Sampling of Feed Shaft
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>秦</surname><given-names>昌述</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>张</surname><given-names>逸飞</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>武汉华中数控股份有限公司，湖北 武汉</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>01</day><month>07</month><year>2021</year></pub-date><volume>10</volume><issue>03</issue><fpage>152</fpage><lpage>161</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  数控机床的精度寿命、可靠性等性能指标的优劣往往受其装配质量的影响。在机床装配中使用传统测量仪器得到的检测结果不够直观且有效性差，针对该问题本文提出基于进给轴信号采样的装配质量检测方法。从时域和频域上对采集到的数据进行分析，并采用单组实验法和对比法设计了相关实验，实验发现：进给轴进给速度在中速区间时，速度电流平稳，频谱以结构频率为主，受杂波影响较小；速度、电流时域曲线会因丝杠预紧力或者弯曲呈现不同的形状，适合进一步分析丝杠装配质量；最后结合曲线拟合分析实现进给轴的故障诊断，综合准确率达95%以上。
   The level of performance indicators such as precision life and reliability of the CNC system is generally affected by its assembly quality. For machine tool assembly, the intuitiveness and effectiveness of the inspection results obtained based on traditional measuring instruments are relatively poor. Focus on the issue, this paper proposed an assembly quality inspection method based on feed axis signal sampling. From the time domain and frequency domain, it analyzed the collected data and applied the single-group experiment method and comparison method to design related experiments. The results obtained through the experiment are as follows: When the feed speed of the feed axis is in the middle speed range, the speed current is stable, and the frequency spectrum is dominated by the structure frequency, which is less affected by clutter; The time-domain curves of speed and current will show different shapes due to screw preload or bending, and these factors can be referred to for further analysis of screw assembly quality; Finally, the combination of curve fitting analysis can realize the fault diagnosis of the feed axis, and the comprehensive accuracy rate can reach more than 95%.
 
</p></abstract><kwd-group><kwd>精度寿命，可靠性，装配质量, Precision Life</kwd><kwd> Reliability</kwd><kwd> Assembly Quality</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>摘要</title><p>数控机床的精度寿命、可靠性等性能指标的优劣往往受其装配质量的影响。在机床装配中使用传统测量仪器得到的检测结果不够直观且有效性差，针对该问题本文提出基于进给轴信号采样的装配质量检测方法。从时域和频域上对采集到的数据进行分析，并采用单组实验法和对比法设计了相关实验，实验发现：进给轴进给速度在中速区间时，速度电流平稳，频谱以结构频率为主，受杂波影响较小；速度、电流时域曲线会因丝杠预紧力或者弯曲呈现不同的形状，适合进一步分析丝杠装配质量；最后结合曲线拟合分析实现进给轴的故障诊断，综合准确率达95%以上。</p></sec><sec id="s2"><title>关键词</title><p>精度寿命，可靠性，装配质量</p></sec><sec id="s3"><title>Machine Tool Assembly Quality Inspection Based on Signal Sampling of Feed Shaft<sup> </sup></title><p>Changshu Qin, Yifei Zhang<sup>*</sup></p><p>Wuhan Huazhong Numerical Control Co., Ltd., Wuhan Hubei</p><p><img src="//html.hanspub.org/file/2-2740312x4_hanspub.png" /></p><p>Received: Jun. 5<sup>th</sup>, 2021; accepted: Jun. 18<sup>th</sup>, 2021; published: Jul. 6<sup>th</sup>, 2021</p><p><img src="//html.hanspub.org/file/2-2740312x5_hanspub.png" /></p></sec><sec id="s4"><title>ABSTRACT</title><p>The level of performance indicators such as precision life and reliability of the CNC system is generally affected by its assembly quality. For machine tool assembly, the intuitiveness and effectiveness of the inspection results obtained based on traditional measuring instruments are relatively poor. Focus on the issue, this paper proposed an assembly quality inspection method based on feed axis signal sampling. From the time domain and frequency domain, it analyzed the collected data and applied the single-group experiment method and comparison method to design related experiments. The results obtained through the experiment are as follows: When the feed speed of the feed axis is in the middle speed range, the speed current is stable, and the frequency spectrum is dominated by the structure frequency, which is less affected by clutter; The time-domain curves of speed and current will show different shapes due to screw preload or bending, and these factors can be referred to for further analysis of screw assembly quality; Finally, the combination of curve fitting analysis can realize the fault diagnosis of the feed axis, and the comprehensive accuracy rate can reach more than 95%.</p><p>Keywords:Precision Life, Reliability, Assembly Quality</p><disp-formula id="hanspub.43709-formula9"><graphic xlink:href="//html.hanspub.org/file/2-2740312x7_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2021 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/2-2740312x8_hanspub.png" /> <img src="//html.hanspub.org/file/2-2740312x9_hanspub.png" /></p></sec><sec id="s5"><title>1. 引言</title><p>我们目前在机床装配过程中常见的测量校正仪器有：百分/千分杠杆表、大理石方尺、激光干涉仪、水平仪、芯棒等，这些仪器虽然测量的精度能得到保证，但其价格昂贵且耗时费力，检测结果没有得到量化，装配质量的评判仍需要依靠工作人员的经验，机床装配难免会出现偏差。虽然目前一些数控系统针对机床装配问题开发了一些自诊断功能，但还局限于电气系统方面的故障，对于机床加工过程中产生的机械故障问题还没有有效的解决方案，且由于振动信息耦合性和机床机械结构的封闭特性使得借助外置传感器的方法有一定的局限性，反而让机床装配过程变得更加复杂 [<xref ref-type="bibr" rid="hanspub.43709-ref1">1</xref>]。</p><p>通过数控机床的机械结构和工作原理可知，其进给轴传动系统是利用伺服电机连接驱动控制丝杠、齿轮箱、联轴器等部件的运转，如图1所示，从而带动工作台、刀具或加工物料的移动 [<xref ref-type="bibr" rid="hanspub.43709-ref2">2</xref>]。这些部件的运行状态会直接影响伺服电机转子的运行，从而间接影响了伺服电机定子电流信号的变化。最初，国内外学者对电机故障和其负载电流的关联性进行了建模和分析。韩国浦项大学的Jeong和Cho [<xref ref-type="bibr" rid="hanspub.43709-ref3">3</xref>] 利用建模探索出电流信号和机床倾斜角之间的关系；G.W. Younkin [<xref ref-type="bibr" rid="hanspub.43709-ref4">4</xref>] 也提出利用该关联性矫正机床水平相较于使用水平仪更加精准快捷。高宏力等 [<xref ref-type="bibr" rid="hanspub.43709-ref5">5</xref>] 采用恒模算法对负载电流的频域特性进行提取，延长了机床使用寿命。王淞灵 [<xref ref-type="bibr" rid="hanspub.43709-ref6">6</xref>] 提出基于尺寸变动度的装配特征精度指标评价体系，对机床装配质量进行量化。张会端 [<xref ref-type="bibr" rid="hanspub.43709-ref7">7</xref>] 利用拉格朗日方程推导进给轴系统各个部件的运动方程，进而分析出其稳定性及动态特征。因此，电流信号很适合用于机床传动部件的故障诊断，对电流信号的变化规律进行数据分析和提取，就可以有效准确地监测诊断传动系统的故障，从而达到评判机床装配质量的目的。</p><p>本文将介绍一种基于进给轴信号采样的检测方法，利用HNC-8采样模块对进给轴位置、电流和速度数据进行采样，分析伺服电机在不同进给速度下电流的波动和频谱特征，筛选适合分析装配质量的速度区间，再结合曲线拟合分析出常见的进给轴故障。并在HNC-8数控系统上开发了相应的诊断模块，以实现对装配质量的量化，最后通过现场实验进行了验证。由于机床机械结构复杂，关于机床装配质量的分析是一个很庞大的系统工程，所以在本文仅介绍进给轴系统的装配质量检测方法，但其它部件的装配质量问题也可以参考该方法来诊断。</p><p>图1. 进给轴系统基本组成</p></sec><sec id="s6"><title>2. 基于频域分析的速度区间筛选实验</title><sec id="s6_1"><title>2.1. 实验原理</title><p>由于电机齿槽效应 [<xref ref-type="bibr" rid="hanspub.43709-ref8">8</xref>] 的影响，当转矩频率与电机定子或转子的机械共振频率一致时，齿槽转矩产生的振动和噪声将放大，与此同时，当进给轴运动处于低速爬行状态时，其产生的特征频率与调制波频率极其接近，因而很难辨别因机械故障产生的特征频率，所以需要筛选出适合分析装配质量的速度区间，并对采样数据进行滤波，尽可能抑制或防止其他频谱成份的干扰。</p></sec><sec id="s6_2"><title>2.2. 实验过程</title><p>在三台机床上，每台机床的X、Y、Z轴分别以10 mm/min、1000 mm/min、4000 mm/min、8000 mm/min四种速度做全行程正反向运动，各运行三次，记录速度电流相应的特征频率，其中三台机床的各进给轴电机型号和规格都相同，共计测得108组数据，在此列举一台机床实验数据进行说明。</p></sec><sec id="s6_3"><title>2.3. 实验对象配置参数</title><p>表1为该实验中一台机床的X/Y/Z进给轴配置参数。</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Feed shaft configuration parameters of the experimental machine too</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >测试轴</th><th align="center" valign="middle" >运行速度mm/min</th><th align="center" valign="middle" >基频Hz</th><th align="center" valign="middle" >磁极对数</th><th align="center" valign="middle" >磁极频率Hz</th><th align="center" valign="middle" >齿槽个数</th><th align="center" valign="middle" >齿槽频率Hz</th></tr></thead><tr><td align="center" valign="middle"  rowspan="4"  >X/Y</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >0.01</td><td align="center" valign="middle"  rowspan="4"  >5</td><td align="center" valign="middle" >0.05</td><td align="center" valign="middle"  rowspan="4"  >12</td><td align="center" valign="middle" >0.12</td></tr><tr><td align="center" valign="middle" >1000</td><td align="center" valign="middle" >1.042</td><td align="center" valign="middle" >5.2</td><td align="center" valign="middle" >12.5</td></tr><tr><td align="center" valign="middle" >4000</td><td align="center" valign="middle" >4.167</td><td align="center" valign="middle" >20.8</td><td align="center" valign="middle" >50</td></tr><tr><td align="center" valign="middle" >8000</td><td align="center" valign="middle" >8.333</td><td align="center" valign="middle" >41.7</td><td align="center" valign="middle" >100</td></tr><tr><td align="center" valign="middle"  rowspan="4"  >Z</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >0.01</td><td align="center" valign="middle"  rowspan="4"  >4</td><td align="center" valign="middle" >0.04</td><td align="center" valign="middle"  rowspan="4"  >36</td><td align="center" valign="middle" >0.36</td></tr><tr><td align="center" valign="middle" >1000</td><td align="center" valign="middle" >1.042</td><td align="center" valign="middle" >4.16</td><td align="center" valign="middle" >37.5</td></tr><tr><td align="center" valign="middle" >4000</td><td align="center" valign="middle" >4.167</td><td align="center" valign="middle" >16.67</td><td align="center" valign="middle" >150</td></tr><tr><td align="center" valign="middle" >8000</td><td align="center" valign="middle" >8.333</td><td align="center" valign="middle" >33.32</td><td align="center" valign="middle" >300</td></tr></tbody></table></table-wrap><p>表1. 实验机床进给轴配置参数</p></sec><sec id="s6_4"><title>2.4. 实验结果</title><p>表2为该实验中一台机床的X/Y/Z进给轴在不同速度区间下运转产生的特征频率。</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> Characteristic frequency of feed shaft being teste</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >测试轴</th><th align="center" valign="middle" >运行速度mm/min</th><th align="center" valign="middle"  colspan="8"  >电流特征频率Hz</th><th align="center" valign="middle"  colspan="8"  >速度特征频率Hz</th></tr></thead><tr><td align="center" valign="middle"  rowspan="4"  >X</td><td align="center" valign="middle" >10</td><td align="center" valign="middle"  colspan="2"  >1.5</td><td align="center" valign="middle"  colspan="4"  >2.1</td><td align="center" valign="middle"  colspan="2"  >3.1</td><td align="center" valign="middle" >0.5</td><td align="center" valign="middle"  colspan="2"  >1</td><td align="center" valign="middle"  colspan="2"  >3</td><td align="center" valign="middle"  colspan="2"  >15</td><td align="center" valign="middle" >18</td></tr><tr><td align="center" valign="middle" >1000</td><td align="center" valign="middle"  colspan="4"  >5.4</td><td align="center" valign="middle"  colspan="4"  >21</td><td align="center" valign="middle" >5.4</td><td align="center" valign="middle"  colspan="2"  >12.7</td><td align="center" valign="middle"  colspan="2"  >21</td><td align="center" valign="middle"  colspan="2"  >31.2</td><td align="center" valign="middle" >62.5</td></tr><tr><td align="center" valign="middle" >4000</td><td align="center" valign="middle"  colspan="2"  >21</td><td align="center" valign="middle"  colspan="4"  >41.5</td><td align="center" valign="middle"  colspan="2"  >83.5</td><td align="center" valign="middle" >9.3</td><td align="center" valign="middle"  colspan="2"  >21</td><td align="center" valign="middle"  colspan="2"  >41.5</td><td align="center" valign="middle"  colspan="2"  >49.8</td><td align="center" valign="middle" >83.5</td></tr><tr><td align="center" valign="middle" >8000</td><td align="center" valign="middle" >10</td><td align="center" valign="middle"  colspan="2"  >26.9</td><td align="center" valign="middle"  colspan="2"  >31.2</td><td align="center" valign="middle"  colspan="2"  >41.5</td><td align="center" valign="middle" >83.5</td><td align="center" valign="middle"  colspan="2"  >10.7</td><td align="center" valign="middle"  colspan="2"  >21</td><td align="center" valign="middle"  colspan="2"  >41.5</td><td align="center" valign="middle"  colspan="2"  >100.1</td></tr><tr><td align="center" valign="middle"  rowspan="4"  >Y</td><td align="center" valign="middle" >10</td><td align="center" valign="middle"  colspan="8"  >2.2</td><td align="center" valign="middle" >1</td><td align="center" valign="middle"  colspan="2"  >1.8</td><td align="center" valign="middle"  colspan="2"  >2.5</td><td align="center" valign="middle"  colspan="2"  >3</td><td align="center" valign="middle" >4</td></tr><tr><td align="center" valign="middle" >1000</td><td align="center" valign="middle" >5.4</td><td align="center" valign="middle"  colspan="2"  >21</td><td align="center" valign="middle"  colspan="2"  >25.9</td><td align="center" valign="middle"  colspan="2"  >31.2</td><td align="center" valign="middle" >36.6</td><td align="center" valign="middle" >5.4</td><td align="center" valign="middle"  colspan="2"  >12.7</td><td align="center" valign="middle"  colspan="2"  >21</td><td align="center" valign="middle"  colspan="2"  >31.2</td><td align="center" valign="middle" >62.5</td></tr><tr><td align="center" valign="middle" >4000</td><td align="center" valign="middle"  colspan="2"  >21</td><td align="center" valign="middle"  colspan="4"  >41.5</td><td align="center" valign="middle"  colspan="2"  >83.5</td><td align="center" valign="middle" >21</td><td align="center" valign="middle"  colspan="2"  >62.5</td><td align="center" valign="middle"  colspan="2"  >83.5</td><td align="center" valign="middle"  colspan="2"  >104</td><td align="center" valign="middle" >125</td></tr><tr><td align="center" valign="middle" >8000</td><td align="center" valign="middle" >21.9</td><td align="center" valign="middle"  colspan="2"  >41.5</td><td align="center" valign="middle"  colspan="2"  >67.4</td><td align="center" valign="middle"  colspan="2"  >83.5</td><td align="center" valign="middle" >101.6</td><td align="center" valign="middle" >41.5</td><td align="center" valign="middle"  colspan="2"  >83.5</td><td align="center" valign="middle"  colspan="2"  >100.1</td><td align="center" valign="middle"  colspan="2"  >125</td><td align="center" valign="middle" >208.5</td></tr><tr><td align="center" valign="middle"  rowspan="3"  >Z</td><td align="center" valign="middle" >10</td><td align="center" valign="middle"  colspan="2"  >1.21</td><td align="center" valign="middle"  colspan="4"  >1.5</td><td align="center" valign="middle"  colspan="2"  >2.3</td><td align="center" valign="middle"  colspan="2"  >0.3</td><td align="center" valign="middle"  colspan="2"  >0.8</td><td align="center" valign="middle"  colspan="2"  >2.4</td><td align="center" valign="middle"  colspan="2"  >12.4</td></tr><tr><td align="center" valign="middle" >1000</td><td align="center" valign="middle"  colspan="4"  >4.4</td><td align="center" valign="middle"  colspan="4"  >16.6</td><td align="center" valign="middle" >4.3</td><td align="center" valign="middle"  colspan="2"  >9.8</td><td align="center" valign="middle"  colspan="2"  >16.6</td><td align="center" valign="middle"  colspan="2"  >25.1</td><td align="center" valign="middle" >43</td></tr><tr><td align="center" valign="middle" >4000</td><td align="center" valign="middle" >9.3</td><td align="center" valign="middle"  colspan="2"  >16.6</td><td align="center" valign="middle"  colspan="2"  >33.2</td><td align="center" valign="middle"  colspan="2"  >49.8</td><td align="center" valign="middle" >267.1</td><td align="center" valign="middle" >16.6</td><td align="center" valign="middle"  colspan="2"  >33.2</td><td align="center" valign="middle"  colspan="2"  >100.1</td><td align="center" valign="middle"  colspan="2"  >149.9</td><td align="center" valign="middle" >267.1</td></tr><tr><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td></tr></tbody></table></table-wrap><p>表2. 测试进给轴特征频率</p></sec><sec id="s6_5"><title>2.5. 实验分析</title><p>&#183; 在10 mm/min的低速爬行状态下，X、Y、Z进给轴电流频率均以极对数频率0.05 Hz为主，但实际频谱未检测到；爬行速度受噪声频率影响太大，且结构频率太低不容易检测到。</p><p>&#183; 在1000 mm/min的低中速区间下，X、Y轴电流特征频率：5.4 Hz，速度特征频率：5.4 Hz、12.7 Hz；Z轴电流频谱特征：16.6 Hz，速度频谱特征：16.6 Hz、25.1 Hz。X、Y、Z进给轴频谱成份均以结构频率为主，以及少量的4~6倍频，受一定的杂波影响。</p><p>&#183; 在4000 mm/min的中速区间下，X、Y轴频谱特征以20.8 HZ为主，Z轴以16.67 HZ为主。X、Y、Z进给轴频谱成份均以结构频率为主，受杂波影响较小。</p><p>&#183; 在8000 mm/min的高速区间下，X、Y轴电流频谱特征：41.5 Hz，速度频谱特征：41.5 Hz、100.1 Hz。X、Y、Z进给轴频谱成份均以结构频率为主，以及少量的2~3倍频，受一定的杂波影响。</p></sec><sec id="s6_6"><title>2.6. 实验结论</title><p>&#183; 进给轴在低速爬行时，电流波动极对数频谱较明显，速度波动杂波较严重，频谱特征不容易提取。</p><p>&#183; 低速频谱以高阶成份为主，随着转频增大，逐渐转为低阶，以结构频率为主。</p><p>&#183; 进给轴在中速区间的速度电流均很平稳，以结构频率为主，受杂波影响较小。适合进一步分析故障特征频率。</p></sec></sec><sec id="s7"><title>3. 装配质量量化方法</title><sec id="s7_1"><title>3.1. 时域波动指标的应用</title><p>时域分析指分析采样数据的波动特征，计算出一系列量化指标，如电流/速度的负载比、均方差、波动率等，来评判机床运行过程中是否平稳。</p><sec id="s7_1_1"><title>3.1.1. 计算方法</title><p>&#183; 电流负载比，电流平均值与伺服电机额定电流的比值。判断伺服电机在恒速段下是否超负载运转，计算公式如下，其中，Y为电流负载比， X &#175; 电流/速度平均值，I<sub>n</sub>为额定电流。</p><p>Y = X &#175; I n</p><p>&#183; 电流/速度均方差(标准差)，描述进给轴在不同位置下负载电流/实际速度的离散程度。该值越小，说明进给运动越平稳，反之亦然。计算公式如下，其中， σ 为电流/速度均方差(标准差)， 表示电流/速度平均值，x<sub>i</sub>表示某一位置下的负载电流/实际速度值，n为数据量。</p><p>σ = 1 n ∑ i = 1 n ( x i − x &#175; ) 2</p><p>&#183; 电流/速度波动率，表示进给轴在不同位置下负载电流/实际速度的变化幅度，即如果进给轴在某一段短距离的行程中，负载电流/实际速度产生了较大的变化，那么该值就会变大。计算公式如下，其中，Y为电流/速度波动率， σ 为电流/速度均方差(标准差)，I<sub>n</sub>为额定电流。</p><p>Y = 3 σ I n &#215; 100 %</p></sec><sec id="s7_1_2"><title>3.1.2. 波动指标横向对比实验</title><p>仍使用速度区间筛选实验中的三台机床，其编号分别为5、8、9号，每个机床X、Y、Z轴分别以相同的进给速度做正反向运动，走完全行程一个来回为一次，每次设置的进给速度逐渐递增或递减，各进行若干次，对比三台机床进给轴随速度变化下的波动特征。这里仅对三台机床进给轴的电流均方差进行对比，以下图2~4分别为三台机床X、Y、Z轴电流均方差对比，图中所示的横坐标为速度系数，与进给速度正相关；纵坐标为电流均方差值。</p><p>图2. X轴电流均方差</p><p>图3. Y轴电流均方差</p><p>图4. Z轴电流均方差</p></sec><sec id="s7_1_3"><title>3.1.3. 分析结果</title><p>&#183; X、Y、Z三轴的电流均方差随着进给速度的增长有下降的趋势，速度波动趋于稳定。</p><p>&#183; Y轴的波动9号机床最小，X与Z轴的波动8号机床最小。从理论上来说，8号机床的X、Z轴装配质量相较于其它两台机床的好；9号机床的Y轴装配质量相较于其他两台机床的好。</p></sec></sec><sec id="s7_2"><title>3.2. 时域曲线的应用</title><sec id="s7_2_1"><title>3.2.1. HNC-8采样模块与数据可视化</title><p>HNC-8具有独立的采样模块，使用数字量内部采集把生成的电控信号转化为实时性较高的数据如进给速度、实际位置、负载电流、主轴转速等，然后将转化的数据存放在配置好的采样通道内，供界面分析或获取，支持多通道，可最大同时配置32个采样通道，每个采样通道都可以储存不同的数据，最大可储存10万个数据点。在此基础上绘制进给轴全行程的负载电流、进给速度时域曲线。其中，实际位置为横坐标，负载电流/进给速度为纵坐标。</p><p>采样开始之前可以根据配置和进给轴的正负软限位自动生成G代码，因为需要分析进给轴在整条丝杠不同位置下的负载电流和实际进给速度的动态变化，则设定采样过程中的进给轴运动轨迹为全行程，即从负软限位到正软限位，再从正软限位返回到负软限位。进给轴运动由负软限位到正软限位为正向，相反，由正软限位到负软限位为负向。</p></sec><sec id="s7_2_2"><title>3.2.2. 案例分析</title><p>客户现场的一台机床在加工工件存在接刀痕现象，为查明原因，使该机床的X、Y、Z进给轴以中速5000 mm/min做全行程的正反向运动，对该进给轴的负载电流、实际速度数据进行采样，绘制时域曲线，发现X/Y轴的速度均方差与其它相同型号配置的机床的基本一致，而Z轴较大，其时域曲线如图5(a)所示。可以看到该机床的Z轴在调整前，全程的速度波动不均匀，从实际位置的−500 mm~−300 mm、0 mm~−150 mm都有明显的速度波动，波动幅度在&#177;100 mm/min左右。</p><p>经多次实验发现，Z轴在每次换向的过程中，速度有较大波动。图5(a)中的曲线也证明了这一点，所以优先从换向问题的角度查找原因。常见原因有四项：① 接线端子接触不良；② 螺钉松动；③ 伺服参数增益过大；④ 反向间隙过大。这里使用排除法来缩小确定范围。对比其它相同型号机床的伺服参数设置，发现该机床与其它机床一致，排除②；分别检查接线和螺钉松紧，排除① ②，所以猜测是反向间隙误差引起。在分析了导致反向间隙误差的原因 [<xref ref-type="bibr" rid="hanspub.43709-ref9">9</xref>] 之后，发现Z轴的丝杠预紧力不适当，导致轴向窜动量超出允许范围。在调整之后，Z轴的时域曲线如图5(b)所示，全程的速度波动均匀，波动幅度在&#177;25 mm/min左右，消除了接刀痕现象。</p></sec></sec></sec><sec id="s8"><title>4. 丝杠装配质量故障诊断</title><p>经3.2.2的案例之后发现，使用时域曲线和计算波动指标的方法只能知道哪个进给轴工作有异常，但不能知道异常产生的根本原因，故障诊断仍需要靠调试或装配人员的经验，例如丝杠的装配。为了能够进一步诊断装配质量故障，在时域曲线的应用基础上提出丝杠装配质量故障诊断方法。</p><p>图5. 时域曲线对比(a-b)</p><sec id="s8_1"><title>4.1. 原理</title><p>关于丝杠装配，常见的问题有：① 丝杠与导轨不平行、② 丝杠预紧力过大、③ 转子与丝杠不同轴等等，如图6所示 [<xref ref-type="bibr" rid="hanspub.43709-ref10">10</xref>] [<xref ref-type="bibr" rid="hanspub.43709-ref11">11</xref>]。</p><p>由于电流信号可以很好地反映进给轴传动系统运行状态，那么其时域曲线可对应丝杠的整体结构。绘制的时域曲线应是全行程的，能够保证进给运动从丝杠的一端到另一端。使用最小二乘法实现二次多项式拟合生成如下拟合曲线方程：</p><p>f ( x ) = a x 2 + b x + c</p><p>其中c为平均值，如果机床运行状态趋于稳定，系数a，b趋近于0，拟合曲线近似于一条直线如图7(a)所示；如果机床运行状态不稳定，则系数a，b的绝对值较大，当系数a不为0时，拟合曲线近似于一条抛物线如图7(b)所示，说明丝杠预紧力可能过大或过小或者丝杠机械结构产生了弯曲；当系数a趋近于0，系数b不为0时，拟合曲线近似于一条斜线如图7(c)所示，说明丝杠与导轨有可能不平行。</p><p>图6. 丝杠装配问题(a-b)</p><p>图7. 曲线拟合(a-c)</p></sec><sec id="s8_2"><title>4.2. 实验验证</title><p>在客户现场选取一台机床，对该机床的单个轴丝杠分别进行预紧力过大、丝杠导轨不平行实验，为了便于实验，这里对X轴进行测试。使X轴以4000 mm/min的速度做全行程的正反向运动，观察X轴时域曲线拟合方程三个系数的值。</p><sec id="s8_2_1"><title>4.2.1. 预紧力过大实验</title><p>分别对X轴丝杠预紧力调整至45˚、90˚和不调整(正常)三种情况进行对比，其曲线拟合实验数据如表3所示。</p><table-wrap id="table3" ><label><xref ref-type="table" rid="table3">Table 3</xref></label><caption><title> The experimental data of excessive preloa</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >丝杠预紧力度</th><th align="center" valign="middle" >进给方向</th><th align="center" valign="middle" >负载电流平均值A</th><th align="center" valign="middle" >系数a</th><th align="center" valign="middle" >系数b</th><th align="center" valign="middle" >系数c</th></tr></thead><tr><td align="center" valign="middle"  rowspan="2"  >45</td><td align="center" valign="middle" >正向</td><td align="center" valign="middle" >1.116</td><td align="center" valign="middle" >0.037411</td><td align="center" valign="middle" >0.001965</td><td align="center" valign="middle" >1.116603</td></tr><tr><td align="center" valign="middle" >负向</td><td align="center" valign="middle" >−1.110</td><td align="center" valign="middle" >−0.031233</td><td align="center" valign="middle" >−0.000714</td><td align="center" valign="middle" >−1.110090</td></tr><tr><td align="center" valign="middle"  rowspan="2"  >90</td><td align="center" valign="middle" >正向</td><td align="center" valign="middle" >1.114</td><td align="center" valign="middle" >0.059653</td><td align="center" valign="middle" >0.008333</td><td align="center" valign="middle" >1.114983</td></tr><tr><td align="center" valign="middle" >负向</td><td align="center" valign="middle" >−1.113</td><td align="center" valign="middle" >0.064575</td><td align="center" valign="middle" >−0.006232</td><td align="center" valign="middle" >−1.113666</td></tr><tr><td align="center" valign="middle"  rowspan="2"  >不调整(正常)</td><td align="center" valign="middle" >正向</td><td align="center" valign="middle" >1.117</td><td align="center" valign="middle" >0.000005</td><td align="center" valign="middle" >0.000814</td><td align="center" valign="middle" >1.117312</td></tr><tr><td align="center" valign="middle" >负向</td><td align="center" valign="middle" >−1.116</td><td align="center" valign="middle" >−0.000002</td><td align="center" valign="middle" >−0.000119</td><td align="center" valign="middle" >−1.116975</td></tr></tbody></table></table-wrap><p>表3. 预紧力过大实验数据</p><p>由表3可知，调整丝杠预紧力会显著影响曲线拟合方程系数a的变化，丝杠预紧力越大，曲线拟合方程系数a系数绝对值越大；在丝杠预紧力不调整(正常)情况下，其系数a，b的绝对值趋近于0；负载电流平均值为1.117 A与系数c接近；调整丝杠预紧力对系数b产生的影响极小，丝杠预紧力与系数b应呈无关性。</p></sec><sec id="s8_2_2"><title>4.2.2. 丝杠导轨不平行实验</title><p>分别对X轴丝杠相对导轨朝上下左右四个方向进行偏移，相对偏移量为0.2 mm，对比其时域拟合曲线方程系数，其曲线拟合实验数据如表4所示。</p><table-wrap id="table4" ><label><xref ref-type="table" rid="table4">Table 4</xref></label><caption><title> The experimental data of the lead screw is not parallel to the guide rai</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >丝杠偏移量及方向</th><th align="center" valign="middle" >进给方向</th><th align="center" valign="middle" >负载电流平均值A</th><th align="center" valign="middle" >系数a</th><th align="center" valign="middle" >系数b</th><th align="center" valign="middle" >系数c</th></tr></thead><tr><td align="center" valign="middle"  rowspan="2"  >上偏移0.2 mm</td><td align="center" valign="middle" >正向</td><td align="center" valign="middle" >1.114</td><td align="center" valign="middle" >0.000018</td><td align="center" valign="middle" >0.008375</td><td align="center" valign="middle" >1.114603</td></tr><tr><td align="center" valign="middle" >负向</td><td align="center" valign="middle" >−1.114</td><td align="center" valign="middle" >−0.000023</td><td align="center" valign="middle" >−0.009667</td><td align="center" valign="middle" >−1.114090</td></tr><tr><td align="center" valign="middle"  rowspan="2"  >下偏移0.2 mm</td><td align="center" valign="middle" >正向</td><td align="center" valign="middle" >1.116</td><td align="center" valign="middle" >0.000008</td><td align="center" valign="middle" >−0.008656</td><td align="center" valign="middle" >1.115983</td></tr><tr><td align="center" valign="middle" >负向</td><td align="center" valign="middle" >−1.114</td><td align="center" valign="middle" >−0.000012</td><td align="center" valign="middle" >0.008999</td><td align="center" valign="middle" >−1.114666</td></tr><tr><td align="center" valign="middle"  rowspan="2"  >左偏移0.2 mm</td><td align="center" valign="middle" >正向</td><td align="center" valign="middle" >1.113</td><td align="center" valign="middle" >0.000009</td><td align="center" valign="middle" >0.007333</td><td align="center" valign="middle" >1.113312</td></tr><tr><td align="center" valign="middle" >负向</td><td align="center" valign="middle" >−1.113</td><td align="center" valign="middle" >−0.000010</td><td align="center" valign="middle" >−0.009582</td><td align="center" valign="middle" >−1.113975</td></tr><tr><td align="center" valign="middle"  rowspan="2"  >右偏移0.2 mm</td><td align="center" valign="middle" >正向</td><td align="center" valign="middle" >1.116</td><td align="center" valign="middle" >0.000008</td><td align="center" valign="middle" >−0.013336</td><td align="center" valign="middle" >1.116333</td></tr><tr><td align="center" valign="middle" >负向</td><td align="center" valign="middle" >−1.114</td><td align="center" valign="middle" >−0.000015</td><td align="center" valign="middle" >0.009353</td><td align="center" valign="middle" >−1.114287</td></tr><tr><td align="center" valign="middle"  rowspan="2"  >不调整(正常)</td><td align="center" valign="middle" >正向</td><td align="center" valign="middle" >1.117</td><td align="center" valign="middle" >0.000005</td><td align="center" valign="middle" >0.000814</td><td align="center" valign="middle" >1.117312</td></tr><tr><td align="center" valign="middle" >负向</td><td align="center" valign="middle" >−1.116</td><td align="center" valign="middle" >−0.000002</td><td align="center" valign="middle" >−0.000119</td><td align="center" valign="middle" >−1.116975</td></tr></tbody></table></table-wrap><p>表4. 丝杠导轨不平行实验数据</p><p>由表4可知，调整丝杠相对导轨偏移量会显著影响曲线拟合方程系数b的变化；在丝杠预紧力不调整(正常)情况下，其系数a，b的绝对值趋近于0；负载电流平均值为1.117 A与系数c接近；调整丝杠预紧力对系数a产生的影响极小，丝杠与导轨不平行度与系数a应呈无关性。</p></sec><sec id="s8_2_3"><title>4.2.3. 实验结论</title><p>&#183; 拟合方程系数a绝对值大小与丝杠预紧力调整不当问题有关。</p><p>&#183; 拟合方程系数b绝对值大小与丝杠与导轨不平行问题有关。</p></sec></sec></sec><sec id="s9"><title>5. 结语</title><p>基于进给轴信号采样的装配质量检测方法提供了更直观的数据分析，从时域、频域、曲线拟合等多个维度评判进给轴电机和丝杠的装配质量，相较于传统仪器矫正方法方便灵活且不易出错，无需人工手动操作，为机床厂家节省了成本，提高了生产效率。该方法在经过机床实验验证之后，也确保了其可靠性和实用性。</p></sec><sec id="s10"><title>基金项目</title><p>山东省重点研发计划创新工程项目(项目编号：2019JZZY010437)。</p></sec><sec id="s11"><title>文章引用</title><p>秦昌述,张逸飞. 基于进给轴信号采样的机床装配质量检测方法Machine Tool Assembly Quality Inspection Based on Signal Sampling of Feed Shaft[J]. 动力系统与控制, 2021, 10(03): 152-161. https://doi.org/10.12677/DSC.2021.103016</p></sec><sec id="s12"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.43709-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">张曙. 中国制造企业如何迈向工业4.0 [J]. 机械设计与制造工程, 2014, 43(12): 1-5.</mixed-citation></ref><ref id="hanspub.43709-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">刘飞, 梁霖, 等. 基于电流信息的机床传动系统监测与诊断[J]. 组合机床与自动化加工技术, 2011(5): 64-67+71.</mixed-citation></ref><ref id="hanspub.43709-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">Jeong, Y.H. and Cho, D.W. (2002) Estimating Cutting Force from Rotating and Stationary Feed Motor Currents on a Milling Machine. International Journal of Machine Tools and Manufacture, 42, 1559-1566.  
https://doi.org/10.1016/S0890-6955(02)00082-2</mixed-citation></ref><ref id="hanspub.43709-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">Kim, G.D. and Chu, C.N. (1999) Indirect Cutting Force Measurement Considering Frictional Behavior in a Machining Centre Using Feed Motor Current. The International Journal of Advanced Manufacturing Technology, 15, 478-484.  
https://doi.org/10.1007/s001700050092</mixed-citation></ref><ref id="hanspub.43709-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">高宏力, 刘庆杰, 黄柏权, 等. 数控机床故障预测与健康管理系统关键技术[J]. 计算机集成制造系统, 2010, 16(10): 2217-2226.</mixed-citation></ref><ref id="hanspub.43709-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">王淞灵. 考虑结合面基础特性参数的数控机床装配精度研究[D]: [硕士学位论文]. 成都: 电子科技大学, 2013.</mixed-citation></ref><ref id="hanspub.43709-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">张会端. 机床进给系统的动力学分析[D]: [硕士学位论文]. 吉林: 吉林大学, 2009.</mixed-citation></ref><ref id="hanspub.43709-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">赵恩旭, 许镇琳. 数控机床伺服系统低速性能的研究[J]. 组合机床与自动化加工技术, 2002(12): 44-46.</mixed-citation></ref><ref id="hanspub.43709-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">梁毅, 曾力, 刘进. 数控车床过大的反向间隙故障维修[J]. 机床与液压, 2017, 45(10): 174-176+180.</mixed-citation></ref><ref id="hanspub.43709-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">何改云, 王凯, 等. 导轨平行度误差对工作台运动误差影响的建模与分析[J]. 机械科学与技术, 2015, 34(11): 1705-1709.</mixed-citation></ref><ref id="hanspub.43709-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">马玉奇. 基于负载电流的机床进给系统装配质量检测[D]: [硕士学位论文]. 武汉: 华中科技大学, 2016.</mixed-citation></ref></ref-list></back></article>