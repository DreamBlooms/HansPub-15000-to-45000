<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">AIRR</journal-id><journal-title-group><journal-title>Artificial Intelligence and Robotics Research</journal-title></journal-title-group><issn pub-type="epub">2326-3415</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/AIRR.2019.83015</article-id><article-id pub-id-type="publisher-id">AIRR-31790</article-id><article-categories><subj-group subj-group-type="heading"><subject>AIRR20190300000_21969846.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject><subject> 工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  一种用于跟踪不连续运动目标的视觉伺服方案
  A Visual Servoing Scheme for Tracking Discontinuous Moving Targets
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>王</surname><given-names>天琪</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>贺</surname><given-names>乃宝</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>高</surname><given-names>倩</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>赵</surname><given-names>俊杰</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><addr-line>江苏理工学院，江苏 常州</addr-line></aff><aff id="aff2"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>09</day><month>08</month><year>2019</year></pub-date><volume>08</volume><issue>03</issue><fpage>118</fpage><lpage>125</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   视觉伺服中跟踪速度受限的主要原因是处理图像采集、图像处理以及速度估计等带来的延迟。预测算法是处理延迟的一种解决方案，但是预测算法的缺点是对运动目标中的不连续性的预测行为较差。本文提出了一种克服该问题的视觉伺服方案。首先设计了一种新型的前馈–反馈控制方案，将控制系统中的卡尔曼滤波器设置在运动控制器之前，从而获得当前时刻的跟踪目标位置信息，进而减小控制机器人运动的任务函数的取值区间。使用预测监视器监督自适应卡尔曼滤波器的预测质量，如果检测到不连续性，则切换到适当的稳态卡尔曼滤波器，该滤波器比自适应卡尔曼滤波处理不连续性更好。这种新的预测算法能够获得很好的平滑运动和间断运动的预测质量。 The main reason for the limited tracking speed in visual servo is the delay caused by image acqui-sition, image processing and speed estimation. Prediction algorithm is a solution to deal with delay, but the disadvantage of prediction algorithm is that the prediction behavior of discontinuity in moving target is poor. In this paper, a visual servo scheme to overcome this problem is proposed. Firstly, a new feed forward-feedback control scheme is designed, in which the Kalman filter in the control system is set before the motion controller, so as to obtain the tracking target position in-formation at the current time, and then reduce the value range of the task function to control the robot motion. Monitor using Predictive Monitor if discontinuity is detected, the prediction quality of adaptive Kalman filter is switched to the appropriate steady-state Kalman filter, which is better than adaptive Kalman filter in dealing with discontinuity. This new prediction algorithm can obtain good prediction quality of smooth motion and intermittent motion. 
 
</p></abstract><kwd-group><kwd>视觉伺服，卡尔曼滤波，预测监视器，前馈–反馈控制, Visual Servoing</kwd><kwd> Kalman Filter</kwd><kwd> Prediction Monitor</kwd><kwd> Feed Forward Feedback Control</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>一种用于跟踪不连续运动目标的视觉伺服方案<sup> </sup></title><p>王天琪<sup>*</sup>,贺乃宝,高倩,赵俊杰</p><p>江苏理工学院,江苏 常州</p><p><img src="//html.hanspub.org/file/4-2610165x1_hanspub.png" /></p><p>收稿日期：2019年7月27日；录用日期：2019年8月14日；发布日期：2019年8月21日</p><disp-formula id="hanspub.31790-formula20"><graphic xlink:href="//html.hanspub.org/file/4-2610165x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>视觉伺服中跟踪速度受限的主要原因是处理图像采集、图像处理以及速度估计等带来的延迟。预测算法是处理延迟的一种解决方案,但是预测算法的缺点是对运动目标中的不连续性的预测行为较差。本文提出了一种克服该问题的视觉伺服方案。首先设计了一种新型的前馈–反馈控制方案,将控制系统中的卡尔曼滤波器设置在运动控制器之前,从而获得当前时刻的跟踪目标位置信息,进而减小控制机器人运动的任务函数的取值区间。使用预测监视器监督自适应卡尔曼滤波器的预测质量,如果检测到不连续性,则切换到适当的稳态卡尔曼滤波器,该滤波器比自适应卡尔曼滤波处理不连续性更好。这种新的预测算法能够获得很好的平滑运动和间断运动的预测质量。</p><p>关键词 :视觉伺服,卡尔曼滤波,预测监视器,前馈–反馈控制</p><disp-formula id="hanspub.31790-formula21"><graphic xlink:href="//html.hanspub.org/file/4-2610165x7_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2019 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/4-2610165x8_hanspub.png" /> <img src="//html.hanspub.org/file/4-2610165x9_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>随着视觉跟踪运动控制系统的广泛应用,提高视觉反馈的实时性已经成为进一步扩展此类系统应用的关键技术之一 [<xref ref-type="bibr" rid="hanspub.31790-ref1">1</xref>] 。这些应用所需的一种技术是视觉伺服,其定义是根据从视觉传感器收集的信息来控制机构。视觉伺服的一个基本任务是跟踪通过空间移动的对象,假设目标的运动是两个连续帧之间的小位移,因此可以在最后帧中找到对象的区域中搜索对象。因为只需考虑物体在两个框架之间的相对位移,所以视觉伺服的优点在于简化了由视觉传感器传送的数据的处理流程。用主动摄像机跟踪物体的任务包括两个主要主题：视觉处理和控制理论。本文将讨论第二个主题,重点讨论具有活动末端执行器的对象。从控制理论的角度看,需要解决三大难题。主要的困难是图像采集和处理所需时间的延迟。第二个困难是典型的噪声信号。第三个困难是由传感器的帧速率引入的采样速率的限制 [<xref ref-type="bibr" rid="hanspub.31790-ref2">2</xref>] 。</p><p>克服视觉传感器引入的延迟的一个常见方法是使用预测算法。卡尔曼滤波是一种常用的目标预测算法,针对不同的预测条件,延伸出了扩展卡尔曼滤波 [<xref ref-type="bibr" rid="hanspub.31790-ref3">3</xref>] [<xref ref-type="bibr" rid="hanspub.31790-ref4">4</xref>] [<xref ref-type="bibr" rid="hanspub.31790-ref5">5</xref>] 、自适应卡尔曼滤波 [<xref ref-type="bibr" rid="hanspub.31790-ref6">6</xref>] [<xref ref-type="bibr" rid="hanspub.31790-ref7">7</xref>] [<xref ref-type="bibr" rid="hanspub.31790-ref8">8</xref>] [<xref ref-type="bibr" rid="hanspub.31790-ref9">9</xref>] 等多种形式。Corke在 [<xref ref-type="bibr" rid="hanspub.31790-ref10">10</xref>] 中提出了考虑视觉传感器延迟的控制方案,将卡尔曼滤波器预测得到信息使用在控制器之后,这不利于使用当前时刻的预测值控制机器人运动。本文在其基础上,提出了一种新的预测方案,将控制系统中的卡尔曼滤波器设置在运动控制器之前,从而使控制器获得当前时刻的跟踪目标位置信息,进而减小控制机器人运动的任务函数的幅值。通过引入预测监视器来最小化由于依赖于估计而导致的跟踪误差。预测监视器的任务是监督预测误差,并判断这个误差是否表示目标运动中的不连续性。由于没有实际目标轨迹的信息,只能使用视觉传感器的测量。因此,预测监视器必须处理由于典型噪声的视觉数据而导致的预测质量的下降,并且只对目标运动的实际不连续性作出反应。如果预测监视器检测到不连续,则重新初始化预测器,辅助控制器设置控制律以防止大超调。</p></sec><sec id="s4"><title>2. 控制方案说明</title><p>在经典的控制方案文献 [<xref ref-type="bibr" rid="hanspub.31790-ref10">10</xref>] 的基础上,本文提出了如图1所示的视觉伺服控制方案。在本方案中机器人离散模型用 R ( z ) 表示,视觉系统用 V ( z ) 表示,其通常被建模为一个纯延迟 V ( z ) = k v z − d 。其中 k v 是将目标姿态与图像平面相关联的增益。模块KF是自适应卡尔曼滤波器,用于估计当前的目标位置 x ^ t ( k ) 。模块 C ( z ) 表示机器人控制器,它将最大限度地减小<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x16_hanspub.png" xlink:type="simple"/></inline-formula>(目标位置<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x17_hanspub.png" xlink:type="simple"/></inline-formula>与机器人位置<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x18_hanspub.png" xlink:type="simple"/></inline-formula>之间的差的数值)。低水平的连续机器人模型<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x19_hanspub.png" xlink:type="simple"/></inline-formula>由机器人的惯性和执行机构的动力学构成,采用经典单元负反馈的低水平动态控制器D(Z)对机器人块R(Z)进行控制。使用测速计M(z)计算机器人速度<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x20_hanspub.png" xlink:type="simple"/></inline-formula>,其中<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x21_hanspub.png" xlink:type="simple"/></inline-formula>由编码器处离散获得。为了在连续信号和离散信号之间进行转换,在系统中设置了两个零阶保持器(ZOH)。</p><p>图1. 视觉伺服框图</p><p>图1的控制方案中的一个重要改进是卡尔曼滤波器输出当前机器人位置<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x23_hanspub.png" xlink:type="simple"/></inline-formula>进入三个控制回路,实时反映视觉系统中的图像特征的实际差值,减小在基准配对过程中存在的视野丢失的概率；为第1级卡尔曼滤波器的预测工作减小误差,使其结果有效收敛；任务函数法中的<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x24_hanspub.png" xlink:type="simple"/></inline-formula>更快趋近于0,并保证其控制过程中不会因为延迟导致过大的超调。自适应卡尔曼滤波器输出的是经过两次预测的数据,保证其预测的目标位置的<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x25_hanspub.png" xlink:type="simple"/></inline-formula>是当前时刻k的值而不是前一时刻k − 1的值。</p></sec><sec id="s5"><title>3. 滤波器设计</title><p>考虑如下非线性系统的状态估计问题：</p><disp-formula id="hanspub.31790-formula22"><label>(1)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x26_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.31790-formula23"><label>(2)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x27_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中：状态向量<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x28_hanspub.png" xlink:type="simple"/></inline-formula>,输出向量<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x29_hanspub.png" xlink:type="simple"/></inline-formula>；矩阵<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x30_hanspub.png" xlink:type="simple"/></inline-formula>是所谓的系统矩阵,它描述状态从<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x31_hanspub.png" xlink:type="simple"/></inline-formula>到k时刻的传播；<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x32_hanspub.png" xlink:type="simple"/></inline-formula>为k时刻的系统噪声矩阵；矩阵<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x33_hanspub.png" xlink:type="simple"/></inline-formula>描述从状态x生成测量值的矩阵；<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x34_hanspub.png" xlink:type="simple"/></inline-formula>是系统的状态噪声序列,<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x35_hanspub.png" xlink:type="simple"/></inline-formula>是测量噪声序列,假设噪声序列为高斯序列、白序列和无关的,并具有如下统计特征：<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x36_hanspub.png" xlink:type="simple"/></inline-formula>,<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x37_hanspub.png" xlink:type="simple"/></inline-formula>,<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x38_hanspub.png" xlink:type="simple"/></inline-formula>,<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x39_hanspub.png" xlink:type="simple"/></inline-formula>。其中<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x40_hanspub.png" xlink:type="simple"/></inline-formula>为对称非负定矩阵,<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x41_hanspub.png" xlink:type="simple"/></inline-formula>为对称正定矩阵。初始状态<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x42_hanspub.png" xlink:type="simple"/></inline-formula>为高斯分布的随机向量,且与<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x43_hanspub.png" xlink:type="simple"/></inline-formula>、<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x44_hanspub.png" xlink:type="simple"/></inline-formula>统计独立。</p><p>由式(2)可知,预测与当前时刻的状态有关外,还与前一时刻的状态有关,即预测方程为状态的n阶延迟,为了解决此类系统的状态估计问题,在文献 [<xref ref-type="bibr" rid="hanspub.31790-ref6">6</xref>] EKF的基础上提出了延迟算法,AKF的迭代过程如式(3)~(9)所示。</p><disp-formula id="hanspub.31790-formula24"><label>(3)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x45_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.31790-formula25"><label>(4)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x46_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.31790-formula26"><label>(5)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x47_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.31790-formula27"><label>(6)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x48_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.31790-formula28"><label>(7)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x49_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.31790-formula29"><label>(8)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x50_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.31790-formula30"><label>(9)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x51_hanspub.png"  xlink:type="simple"/></disp-formula><p>在视觉伺服跟踪条件下,矩阵<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x52_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x53_hanspub.png" xlink:type="simple"/></inline-formula>分别取值为</p><p><inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x54_hanspub.png" xlink:type="simple"/></inline-formula>,<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x55_hanspub.png" xlink:type="simple"/></inline-formula></p><p>其中T为采样时间,欲使上述算法具有强跟踪特性,则应该满足如下正交性原理：</p><disp-formula id="hanspub.31790-formula31"><label>(10)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x56_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.31790-formula32"><label>(11)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x57_hanspub.png"  xlink:type="simple"/></disp-formula><p>利用上述正交性原理,令<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x58_hanspub.png" xlink:type="simple"/></inline-formula>,若<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x59_hanspub.png" xlink:type="simple"/></inline-formula>成立,则有下式：</p><disp-formula id="hanspub.31790-formula33"><label>(12)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x60_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中：</p><disp-formula id="hanspub.31790-formula34"><label>(13)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x61_hanspub.png"  xlink:type="simple"/></disp-formula><p>欲使上述正交性原理成立,通过将式(12)转换成选择适当的<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x62_hanspub.png" xlink:type="simple"/></inline-formula>,使下式成立。</p><disp-formula id="hanspub.31790-formula35"><label>(14)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x63_hanspub.png"  xlink:type="simple"/></disp-formula><p>其中残差协方差矩阵<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x64_hanspub.png" xlink:type="simple"/></inline-formula>可由下式估计得到：</p><disp-formula id="hanspub.31790-formula36"><label>(15)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x65_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x66_hanspub.png" xlink:type="simple"/></inline-formula>为遗忘因子,将式(6)中的<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x67_hanspub.png" xlink:type="simple"/></inline-formula>代入式(14)后可得：</p><disp-formula id="hanspub.31790-formula37"><label>(16)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x68_hanspub.png"  xlink:type="simple"/></disp-formula><p>采用自适应渐消因子对上一时刻数据渐消,实时调整状态预测误差协方差矩阵以及相应的增益矩阵,从而削弱上一时刻数据对当前估计值的影响。于是,修改式(4)中的<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x69_hanspub.png" xlink:type="simple"/></inline-formula>为</p><disp-formula id="hanspub.31790-formula38"><label>(17)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x70_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中：<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x71_hanspub.png" xlink:type="simple"/></inline-formula>为渐消矩阵；<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x72_hanspub.png" xlink:type="simple"/></inline-formula>为渐消因子。由系统的先验知识确定<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x73_hanspub.png" xlink:type="simple"/></inline-formula>。令<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x74_hanspub.png" xlink:type="simple"/></inline-formula>。其中,<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x75_hanspub.png" xlink:type="simple"/></inline-formula>为预先确定的常数；<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x76_hanspub.png" xlink:type="simple"/></inline-formula>为待定因子。则渐消因子由下式得到：</p><disp-formula id="hanspub.31790-formula39"><label>(18)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x77_hanspub.png"  xlink:type="simple"/></disp-formula><p>将式(17)代入式(16)可得：</p><disp-formula id="hanspub.31790-formula40"><label>(19)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x78_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中β为弱化因子,对上式求迹可得：</p><disp-formula id="hanspub.31790-formula41"><label>(20)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x79_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中：</p><disp-formula id="hanspub.31790-formula42"><label>(21)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x80_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.31790-formula43"><label>(22)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x81_hanspub.png"  xlink:type="simple"/></disp-formula><p>上述即为AKF的递推过程,结合视觉伺服系统建立联合状态估计算法,步骤如下：</p><p>1) 令<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x82_hanspub.png" xlink:type="simple"/></inline-formula>,初始化机器人的初始状态<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x83_hanspub.png" xlink:type="simple"/></inline-formula>,状态预测误差协方差矩阵<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x84_hanspub.png" xlink:type="simple"/></inline-formula>,噪声协方差矩阵Q、R以及参数<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x85_hanspub.png" xlink:type="simple"/></inline-formula>、<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x86_hanspub.png" xlink:type="simple"/></inline-formula>、<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x87_hanspub.png" xlink:type="simple"/></inline-formula>,由于两个滤波器在同一条件下进行工作,故将参数设置成相同的值。</p><p>2) 由式(3)、(8)分别计算出<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x88_hanspub.png" xlink:type="simple"/></inline-formula>,<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x89_hanspub.png" xlink:type="simple"/></inline-formula>以及系数矩阵<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x90_hanspub.png" xlink:type="simple"/></inline-formula>、<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x91_hanspub.png" xlink:type="simple"/></inline-formula>、<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x92_hanspub.png" xlink:type="simple"/></inline-formula>。</p><p>3) 由式(15)计算出<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x93_hanspub.png" xlink:type="simple"/></inline-formula>,联合式(18)、(20)计算出渐消矩阵<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x94_hanspub.png" xlink:type="simple"/></inline-formula>。</p><p>4) 由式(17)计算出<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x95_hanspub.png" xlink:type="simple"/></inline-formula>,由式(5)、(6)计算<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x96_hanspub.png" xlink:type="simple"/></inline-formula>,</p><p>5) 由式(9)、(7)分别更新状态估计<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x97_hanspub.png" xlink:type="simple"/></inline-formula>和误差协方差矩阵<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x98_hanspub.png" xlink:type="simple"/></inline-formula>。</p><p>通过上述步骤估计得到k时刻的目标位置<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x99_hanspub.png" xlink:type="simple"/></inline-formula>。</p></sec><sec id="s6"><title>4. 预测监视器</title><p>预测监视器PM是检测目标运动中不连续性的一种算法。如果位置、速度或加速度信号变化率足够大,则可以称为一个阶跃,并认为该运动是不连续性的。对于PM来说,快速检测不连续是很重要的,因为延迟的重新初始化会产生比不重新初始化更差的结果。为了说明这一要求,由图2表示步长变化条件下的积分绝对平均误差,并在步骤发生后的t秒内重新初始化AKF。可以看出,如果不能快速反应,当IAM值超过AKF值时,不需要由水平线重新初始化。PM的另一个要求是对噪音不敏感,这意味着PM应该区分由噪声产生的预测误差和由于目标的不连续性运动而产生的误差。</p><disp-formula id="hanspub.31790-formula44"><label>(23)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x100_hanspub.png"  xlink:type="simple"/></disp-formula><p>PM的结构如图3所示。其中<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x101_hanspub.png" xlink:type="simple"/></inline-formula>定义了允许的预测误差带的宽度,而<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x102_hanspub.png" xlink:type="simple"/></inline-formula>是这个误差带的中心。</p><p><inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x103_hanspub.png" xlink:type="simple"/></inline-formula>定义的两步预测误差为：</p><disp-formula id="hanspub.31790-formula45"><label>(24)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x104_hanspub.png"  xlink:type="simple"/></disp-formula><p>其中<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x105_hanspub.png" xlink:type="simple"/></inline-formula>是实际的测量值,<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x106_hanspub.png" xlink:type="simple"/></inline-formula>是从时间瞬态的k − 2到k的两步预测。为了适应环境或运动中的变化,这两项都不应该引起PM的反应,<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x107_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x108_hanspub.png" xlink:type="simple"/></inline-formula>必须在线进行调整。</p><p>一种常见的检测机动目标突然变化的方法是使用马氏距离：</p><disp-formula id="hanspub.31790-formula46"><label>(25)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x109_hanspub.png"  xlink:type="simple"/></disp-formula><p>如果滤波器的模型符合实际系统,则式(25)定义的新息序列的均值为零。为了判断测量的准确性,需要对误差带进行调整。例如,当目标在正弦轨迹上运动时,假设加速度不恒定,则预测误差为噪声测量和模型误差之和。使用最后n个预测误差序列的标准差来进行误差带的适配：</p><disp-formula id="hanspub.31790-formula47"><label>(26)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x110_hanspub.png"  xlink:type="simple"/></disp-formula><p>其中<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x111_hanspub.png" xlink:type="simple"/></inline-formula>为序列的平均值。误差带由式(27)确定：</p><disp-formula id="hanspub.31790-formula48"><label>(27)</label><graphic position="anchor" xlink:href="//html.hanspub.org/file/4-2610165x112_hanspub.png"  xlink:type="simple"/></disp-formula><p>其中<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x113_hanspub.png" xlink:type="simple"/></inline-formula>是一个固定常数。因为平均值对动态信号的适应太慢,所以波段的中心将使用低通滤波器</p><p><inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x114_hanspub.png" xlink:type="simple"/></inline-formula>,而不是<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/4-2610165x115_hanspub.png" xlink:type="simple"/></inline-formula>来调整。</p><p>图2. PM执行初始化后的IAM值</p><p>图3. 预测监视器PM的结构</p></sec><sec id="s7"><title>5. 仿真实验与结果分析</title><p>如图4所示,设计一个目标由静止状态并突然开始做正弦运动的仿真实验。本实验是通过将目标安装在旋转的杆上实现的,目标在一个周期3 s内完成加减速运动,振幅为x = 2m。通过本文提出的视觉伺服方案,对图4所示的运动目标进行仿真测试之后,得到如图5所示的仿真结果。由图5看出,误差一开始呈指数递减,在到达减速–加速阶段时出现短暂误差增大,其后又保持平稳,说明该控制系统具有较好的鲁棒性。通过对比图5(a)和图5(b)可以看出,增大采样时间T<sub>h</sub>,可以有效减小因减速–加速阶段引起的不稳定性。说明本系统作为一种强跟踪性质的滤波算法,能有效跟踪目标状态的突变和扰动。实际系统存在噪声,算法通过在线变化渐消因子来抵消噪声的影响,使稳态估计准确平稳,具有很强的噪声抑制能力。</p><p>图4. 做加减速运动的跟踪目标</p><p>图5. (a) T<sub>h</sub> = 0.04 sec；T<sub>h</sub> = 0.002 sec</p></sec><sec id="s8"><title>6. 结论</title><p>本文的主要任务是开发一种用于跟踪不连续运动目标的视觉伺服方案。为提高视觉伺服系统的跟踪速度,提供了良好的平滑和间断运动预测质量。该方案使用自适应卡尔曼滤波器预测下一时刻的目标位置,减小运动控制器中由于系统延迟而导致的误差。PM连续地监视预测质量,并且在检测到不连续时将重新初始化脉冲发送到滤波器。在正弦运动的实验中分析了所提出方案的性能,图像平面误差都得到了显著的减小,系统表现出快速的反应以及几乎消除了过冲。未来的工作需要进一步改善PM的行为,以增加它对在平滑运动中产生脉冲的不连续运动的敏感性。</p></sec><sec id="s9"><title>基金项目</title><p>国家自然基金(61803186)；江苏省研究生科研与实践创新计划项目(SJCX18_1052)。</p></sec><sec id="s10"><title>文章引用</title><p>王天琪,贺乃宝,高 倩,赵俊杰. 一种用于跟踪不连续运动目标的视觉伺服方案 A Visual Servoing Scheme for Tracking Discontinuous Moving Targets[J]. 人工智能与机器人研究, 2019, 08(03): 118-125. https://doi.org/10.12677/AIRR.2019.83015</p></sec><sec id="s11"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.31790-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">钟建冬, 苏建波. 基于视觉预测的运动目标实时跟踪系统[J]. 机器人, 2010, 32(4): 516-521.</mixed-citation></ref><ref id="hanspub.31790-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">Chroust, S. and Vincze, M. (2003) Improvement of the Prediction Quality for Visual Servoing with a Switching. International Journal of Robotics Research, 22, 905-922. &lt;br&gt;https://doi.org/10.1177/027836490302210008</mixed-citation></ref><ref id="hanspub.31790-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">Fang, J.C. and Yang, S. (2011) Study on Innovation Adaptive EKF for In-flight Alignment of Airborne POS. IEEE Transactions on Instrumentation &amp; Measurement, 60, 1378-1388. &lt;br&gt;https://doi.org/10.1109/TIM.2010.2084710</mixed-citation></ref><ref id="hanspub.31790-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">Tsai, C.Y., Song, K.T., Dutoit, X., Van Brussel, H. and Nuttin, M. (2009) Robust Visual Tracking Control System of a Mobile Robot Based on a Dual-Jacobian Visual Interaction Model. Robotics and Au-tonomous Systems, 57, 652-664. &lt;br&gt;https://doi.org/10.1016/j.robot.2009.01.001</mixed-citation></ref><ref id="hanspub.31790-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">穆邵硕, 乔川. 小型机载光电平台中基于扩展卡尔曼滤波的地面目标定位算法[J]. 光学学报, 2019, 39(5): 1-11.</mixed-citation></ref><ref id="hanspub.31790-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">陆可, 肖建. 基于强跟踪延迟滤波算法的互馈双电机联合状态估计[J]. 中国电机工程学报, 2008, 28(36): 80-86.</mixed-citation></ref><ref id="hanspub.31790-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">徐祥, 史凡伟, 等. 基于参数识别的SINS/DVL初始对准方法[J]. 中国惯性技术学报, 2019, 27(2): 176-180.</mixed-citation></ref><ref id="hanspub.31790-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">刘志林, 李国胜, 张军. 有横摇约束的欠驱动船舶航迹跟踪预测控制[J]. 哈尔滨工程大学学报, 2019, 40(2): 312-317.</mixed-citation></ref><ref id="hanspub.31790-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">燕必希, 朱立夫, 董明利, 等. 卡尔曼滤波单目相机运动目标定位研究[J]. 仪器仪表学报, 2018, 39(8): 220-229.</mixed-citation></ref><ref id="hanspub.31790-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">Corke, P.I. and Good, M.C. (1996) Dynamic Effects in Visual Closed-Loop Systems. IEEE Transactions on Robotics and Automation, 12, 671-653. &lt;br&gt;https://doi.org/10.1109/70.538973</mixed-citation></ref></ref-list></back></article>