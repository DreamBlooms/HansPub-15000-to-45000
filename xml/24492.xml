<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">SEA</journal-id><journal-title-group><journal-title>Software Engineering and Applications</journal-title></journal-title-group><issn pub-type="epub">2325-2286</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/SEA.2018.72011</article-id><article-id pub-id-type="publisher-id">SEA-24492</article-id><article-categories><subj-group subj-group-type="heading"><subject>SEA20180200000_67449807.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于PLC的城市生活污水处理模糊控制系统
  Fuzzy Control System of Municipal Living Sewage Treatment Based on PLC
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>李</surname><given-names>丽荣</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>杜</surname><given-names>小巍</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>赵</surname><given-names>树国</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><addr-line>邯郸职业技术学院，河北 邯郸</addr-line></aff><aff id="aff3"><addr-line>河北工程大学，河北 邯郸</addr-line></aff><aff id="aff2"><addr-line>null</addr-line></aff><author-notes><corresp id="cor1">* E-mail:<email>lilirong917@163.com(李丽)</email>;</corresp></author-notes><pub-date pub-type="epub"><day>19</day><month>04</month><year>2018</year></pub-date><volume>07</volume><issue>02</issue><fpage>91</fpage><lpage>98</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   本文针对城市生活污水设计和实现了一种先进、实用、有效的，集PLC技术、组态软件技术和网络通信技术为一体的污水处理模糊控制系统。系统采用高可靠性的西门子S7-300可编程序控制器为主控制器；控制算法采用模糊控制；采用工控组态软件KingView6.53实现上位机监控功能；采用工业以太网Profibus现场总线实现网络通信。结果表明，该控制系统对强时滞、非线性、不确定性的污水处理过程具有很好的控制效果，实现了污水处理过程的自动控制，提高了污水处理的效率，降低了污水处理的成本。 This paper designs and realizes a kind of advanced, practical and effective fuzzy control system for municipal sewage, which is composed of PLC technology, configuration software technology and network communication technology. Siemens S7-300 programmable controller with high reliability is adopted as the main controller. The control algorithm adopts fuzzy control. The control function of the upper computer is realized by the software KingView 6.53. The industrial Ethernet Profibus field bus is used to realize network communication. The results show that the control system has a good effect on the high delay, nonlinear and uncertain sewage treatment process. It realizes automatic control of the sewage treatment process, improves the efficiency, and reduces the cost of sewage treatment. 
  
 
</p></abstract><kwd-group><kwd>PLC，污水处理，模糊控制，Profibus现场总线, PLC</kwd><kwd> Sewage Treatment</kwd><kwd> Fuzzy Control</kwd><kwd> Profibus Field Bus</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>基于PLC的城市生活污水处理模糊控制系统<sup> </sup></title><p>李丽荣<sup>1</sup>，杜小巍<sup>2</sup>，赵树国<sup>1</sup></p><p><sup>1</sup>邯郸职业技术学院，河北 邯郸</p><p><sup>2</sup>河北工程大学，河北 邯郸</p><p><img src="//html.hanspub.org/file/4-2690310x1_hanspub.png" /></p><p>收稿日期：2018年4月6日；录用日期：2018年4月17日；发布日期：2018年4月24日</p><disp-formula id="hanspub.24492-formula39"><graphic xlink:href="//html.hanspub.org/file/4-2690310x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>本文针对城市生活污水设计和实现了一种先进、实用、有效的，集PLC技术、组态软件技术和网络通信技术为一体的污水处理模糊控制系统。系统采用高可靠性的西门子S7-300可编程序控制器为主控制器；控制算法采用模糊控制；采用工控组态软件KingView6.53实现上位机监控功能；采用工业以太网Profibus现场总线实现网络通信。结果表明，该控制系统对强时滞、非线性、不确定性的污水处理过程具有很好的控制效果，实现了污水处理过程的自动控制，提高了污水处理的效率，降低了污水处理的成本。</p><p>关键词 :PLC，污水处理，模糊控制，Profibus现场总线</p><disp-formula id="hanspub.24492-formula40"><graphic xlink:href="//html.hanspub.org/file/4-2690310x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2018 by authors and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/4-2690310x7_hanspub.png" /> <img src="//html.hanspub.org/file/4-2690310x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>随着计算机技术、控制技术的突飞猛进，近年来我国污水处理厂的自动化系统要求也越来越高，污水处理自动化系统应具有全自动的逻辑控制，系统能够长期安全无故障的运行，且具有很高的可靠性。为此，本文根据某污水处理厂处理工艺，采用高可靠性的西门子S7-300可编程序控制器、工控组态软件KingView6.53和Profibus-dp现场总线来构建一个分布式的模糊自动控制系统，从而提高了污水处理的自动化程度和系统的高可靠性。</p></sec><sec id="s4"><title>2. 城市污水处理工艺流程</title><p>某污水处理厂的城市生活污水的处理采用CASS (Cyclic Activated Sludge System)工艺，全称为循环式活性污泥法。CASS的整个工艺为一间歇式反应器，在此反应器中活性污泥法过程按曝气和非曝气阶段不断重复，将生物反应过程和泥水分离过程结合在一个池子中进行。在CASS工艺中，在反应池的首部设置生物选择器，不仅可以快速去除进水中可溶性有机物，并且可以有效地抑制丝状菌生长和繁殖，消除污泥膨胀。随着电子计算机的日益普及，CASS工艺由于其投资和运行费用低、处理性能高超，尤其是优异的脱氮除磷功能而越来越得到重视 [<xref ref-type="bibr" rid="hanspub.24492-ref1">1</xref>] 。该工艺已广泛应用于城市污水和各种工业废水的处理。某污水处理厂污水处理流程，见图1。</p></sec><sec id="s5"><title>3. 污水处理控制系统的组成及工作原理</title><p>根据该污水处理厂的工艺流程和要求，本控制系统采用上下位机两级结构。上位机监控系统选用性能稳定、抗干扰性能好的工控机，使用工控组态软件进行对上位机监控功能进行组态，设计工艺流程、记录查询、报警、报表、参数设定等操作画面，实现现场设备的监控与人机交互。下位机控制系统采用PLC控制技术实现对系统中多个泵、阀门等设备的启/停、开/关控制，从而使该污水处理系统按照工艺要求完成自动控制 [<xref ref-type="bibr" rid="hanspub.24492-ref2">2</xref>] 。系统整个网络采用两层网络拓扑结构，上位机PC之间以及上位机和下位机PLC之间采用工业以太网通讯，底层为现场总线，下位机PLC主站和两个从站之间采用PROFIBUS-DP现场总线通讯，污水控制系统图，见图2。</p><p>1#PLC柜位于提升泵房内，其电气控制系统主要完成对粗格栅环节的液位差计，提升泵房的液位计，细格栅环节的PH分析仪、悬浮物在线分析仪、COD在线分析仪、氨氮在线分析仪、1#液位计、2#液位计、出水流量计等各类仪表、执行设备的数据采集和控制 [<xref ref-type="bibr" rid="hanspub.24492-ref3">3</xref>] 。2#PLC柜位于变配电间内，其电气控制系</p><p>图1. CASS工艺流程图</p><p>图2. 污水处理控制系统图</p><p>统主要完成对CASS池A1内溶解氧分析仪、悬浮物分析仪、液位计，CASS池A2内悬浮物分析仪、液位计，CASS池A进气管流量计、CASS池B进气管流量计，鼓风机出口总管流量计等各类仪表、执行设备的数据采集和控制，电气控制原理图如图3所示。3#PLC柜位于污泥脱水间，其电气控制系统主要完成对中间提升泵房的液位计，储泥池内的液位计、悬浮物分析仪、进泥管道流量计，接触池内硝氮在线分析仪、出水管道流量计、COD在线分析仪、悬浮物分析仪等各类仪表、执行设备的数据采集和控制。</p><p>2#PLC工作站为主站，位于变配电间内，CPU具体型号选择S7-300系列中应用广泛的CPU315-2DP。CPU315-2DP具有大中规模的程序容量，对二进制和浮点数有较高的处理性能，它有两个PROFIBUS-DP主站/从站接口，可用于建立分布式1/0结构和大规模I/O配置，并且可以通过CP通信卡来扩展其DP接口。</p><p>CPU315-2DP带有128KB集成式RAM，不能扩展。FB、FC、DB、OB的最大容量都为16 KB，FB、FC最大模块数为2048，DB最大块数为1023，可以处理的最大模拟量I/O总数为1024个，最大数字量I/0总数为16,384个。</p><p>CPU315-2DP需要配置电源，这里选择了PS307-5A。2#PLC工作站I/O点统计表，见表1。</p></sec><sec id="s6"><title>4. 模糊控制算法</title><p>模糊控制系统由被控制过程和模糊控制器构成，模糊控制器由模糊化、模糊推理和去模糊化三部分组成，三者均建立在知识库(控制率和隶属函数)基础上 [<xref ref-type="bibr" rid="hanspub.24492-ref4">4</xref>] 。模糊控制的基本原理见图4。</p><p>模糊控制系统的主要特点是对操作人员的控制经验进行总结，形成可以通过控制系统表达的控制方</p><p>图3. 2#PLC工作站系统配置图</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Summary of the I/O points for 2#PLC workstatio</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >控制点描述</th><th align="center" valign="middle" >AI</th><th align="center" valign="middle" >AO</th><th align="center" valign="middle" >DI</th><th align="center" valign="middle" >DO</th></tr></thead><tr><td align="center" valign="middle" >CASS池A1</td><td align="center" valign="middle" >6</td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td></tr><tr><td align="center" valign="middle" >CASS池A2</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td></tr><tr><td align="center" valign="middle" >鼓风机房</td><td align="center" valign="middle" >1</td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td></tr><tr><td align="center" valign="middle" >CASS池A1</td><td align="center" valign="middle" ></td><td align="center" valign="middle" >1</td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td></tr><tr><td align="center" valign="middle" >CASS池A2</td><td align="center" valign="middle" ></td><td align="center" valign="middle" >1</td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td></tr><tr><td align="center" valign="middle" >CASS池A1</td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" >30</td><td align="center" valign="middle" ></td></tr><tr><td align="center" valign="middle" >CASS池A2</td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" >30</td><td align="center" valign="middle" ></td></tr><tr><td align="center" valign="middle" >CASS池A1</td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" >9</td></tr><tr><td align="center" valign="middle" >CASS池A2</td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" >9</td></tr></tbody></table></table-wrap><p>表1. 2#PLC工作站I/O点统计表</p><p>图4. 模糊控制系统方块图</p><p>法，达到自动控制的目的。泵站的传统控制只考虑了液位的变化，没有考虑变化率。由于集水井具有非线性和大延迟性，因此，往往出现控制滞后现象。采用计算机技术和先进液位检测仪表后，可非常简便地得到液位差和液位变化率，通过引入模糊控制方法，利用液位变化率，实现PD控制结构，能明显提高泵站对进水量变化的响应能力。</p><p>结合有关文献和实际，对污水厂污水提升泵站进行了以下的控制方法实施。模糊控制器采用三个模糊变量：液位差(E)、液位变化率(EC)和启动泵台数(U)，其中E和EC为输入模糊变量，U为使出模糊变量。模糊控制器由PLC编程实现。现采样间隔设为10 s，这种结构实质上为非线性的PD控制方式。</p><p>根据现场对集水井液位变化情况的了解，三个控制变量的论域量化关系如下：</p><p>液位差E分为6档，11级，即：</p><p>{−5，−4，−3，−2，−1，0，1，2，3，4，5}</p><p>模糊子集选取如下语言值：</p><p>{NB(负大)，NM(负中)，NS(负小)，PS(正小)，PM(正中)，PB(正大)}</p><p>液位变化率EC分为5档7级，即：</p><p>{−3，−2，−1，0，1，2，3}</p><p>模糊子集选取如下语言值：</p><p>{NB(负大)，NS(负小)，Z(零)，PS(正小)，PB(正大)}</p><p>控制变量U分为5档5级，即：</p><p>{0，1，2，3，4}</p><p>模糊子集选取如下语言值：</p><p>{小，中，大，很大}</p><p>参考有关资料可知，由于不同形状隶属函数所代表的控制含义不同，模糊自己的隶属函数形状较尖，反映模糊集合具有高的分辨率特性，其控制的灵敏度较高；模糊自己的隶属函数形状较宽，反映模糊集合具有低的分辨率特性，其控制的灵敏度较低，控制特性比较平缓，系统稳定性较好。</p></sec><sec id="s7"><title>5. 软件设计</title><p>本污水处理系统下位机PLC编程软件设计选用的是西门子编程软件STEP 7，STEP 7对PLC进行编</p><p>图5. 创建功能块</p><p>图6. CASS池控制流程图</p><p>图7. 粗细格栅监控界面</p><p>程采用结构化程序，把程序分成多个模块，各模块完成相应的功能 [<xref ref-type="bibr" rid="hanspub.24492-ref5">5</xref>] 。每个模块实际上就是一个子程序，用相应子程序实现特定的功能，再通过主程序来调用子程序，然后再结合起来从而就可以实现复杂的污水处理控制。</p><p>本次程序设计中所用到的各个逻辑块，见图5。S7-300 PLC采用循环执行用户程序的方式。所有的FC逻辑块均放在OB块中进行循环。OB1是用于循环处理的组织块(主程序)，它可以调用别的逻辑块，或被中断程序(组织块)中断。在启动完成后，不断地循环调用OB1，在OB1中可以调用其他逻辑块(FB、SFB、FC或SFC)。</p><p>CASS池自动控制，CASS生物池运行周期为4个阶段：进水、曝气、沉淀、滗水，每个阶段由相应的一组设备动作完成。CASS生物池运行周期为4 h，其中进水1 h、曝气2 h、沉淀0.5 h、滗水0.5 h。其控制流程图见图6。</p><p>污水处理控制系统上位机监控系统选用性能稳定、抗干扰性能好的工控机，使用工控组态软件KingView6.53对上位机监控功能进行组态 [<xref ref-type="bibr" rid="hanspub.24492-ref6">6</xref>] ，进行工艺流程、记录查询、报警、报表、参数设定等操作画面设计，实现现场设备的监控，见图7。</p><p>该污水处理自动控制系统的整个通信网络采用两层网络拓扑结构，上层为工业以太网，用于上位机PC之间以及上位机和下位机PLC之间的通讯，底层为PROFIBUS-DP现场总线，用于下位机PLC主站和从站之间的通讯。</p></sec><sec id="s8"><title>6. 结论</title><p>本文对基于PLC控制的生活污水处理模糊控制系统进行了设计实现。以CPU315-2DP PLC做主站，接口模块IM153-1做从站，构成PROFIBUS-DP总线控制系统，实现对系统中多个泵及阀门的启/停、开/关控制，实现了生活污水处理过程的自动化操作；同时，采用组态王软件对上位机监控功能进行组态，设计了多个监控操作画面，实现了现场设备的监控。通过严格的测试，基本达到了预期要求。</p></sec><sec id="s9"><title>文章引用</title><p>李丽荣,杜小巍,赵树国. 基于PLC的城市生活污水处理模糊控制系统 Fuzzy Control System of Municipal Living Sewage Treatment Based on PLC[J]. 软件工程与应用, 2018, 07(02): 91-98. https://doi.org/10.12677/SEA.2018.72011</p></sec><sec id="s10"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.24492-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">金鹏康, 宋利, 任武昂. 城市污水处理过程中不同形态氮类营养物的转化特性[J]. 环境工程学报, 2015, 9(9): 4193-4198.</mixed-citation></ref><ref id="hanspub.24492-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">谢小冬. 微动力污水处理系统的研发[D]: [硕士学位论文]. 合肥: 合肥工业大学, 2016.</mixed-citation></ref><ref id="hanspub.24492-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">王香爱, 张洪利, 杨珊, 葛子龙. 工业污水处理技术及前景[J]. 应用化工, 2017, 46(3): 216-221.</mixed-citation></ref><ref id="hanspub.24492-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">肖璐明, 王亮, 杨展飞. 基于模糊PID污水处理监控系统研究[J]. 现代机械, 2017(2): 90-94.</mixed-citation></ref><ref id="hanspub.24492-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">孙宜. 鲍店矿家属区污水处理改造控制系统的设计与实现[D]: [硕士学位论文]. 成都: 电子科技大学, 2015.</mixed-citation></ref><ref id="hanspub.24492-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">黄广华, 朱勇强. 污水曝气过程在线监控系统设计与仿真[J]. 工业控制计算机, 2016, 29(1): 7-9.</mixed-citation></ref></ref-list></back></article>