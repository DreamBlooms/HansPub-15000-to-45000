<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">AAM</journal-id><journal-title-group><journal-title>Advances in Applied Mathematics</journal-title></journal-title-group><issn pub-type="epub">2324-7991</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/AAM.2016.52021</article-id><article-id pub-id-type="publisher-id">AAM-17493</article-id><article-categories><subj-group subj-group-type="heading"><subject>AAM20160200000_48903313.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>数学与物理</subject></subj-group></article-categories><title-group><article-title>
 
 
  双向切割单/双面英文碎纸片拼接复原算法设计
  Algorithm Design of Restoring Two-Way Single/Double-Sized Shredded Documents
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>张</surname><given-names>晨</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>王</surname><given-names>诗云</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>沈阳航空航天大学理学院，辽宁 沈阳</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><author-notes><corresp id="cor1">* E-mail:<email>wsy0902@163.com(王诗)</email>;</corresp></author-notes><pub-date pub-type="epub"><day>05</day><month>05</month><year>2016</year></pub-date><volume>05</volume><issue>02</issue><fpage>159</fpage><lpage>165</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  针对单/双面英文文本文件，经过双向(横向 + 纵向)切割后形成的碎纸片，本文通过设计拼接算法将其还原。首先，利用“英文字母的结构特征”和“空白行间距”这两个几何特征将原图中同行的碎纸片按行聚类。在此基础上，我们利用向量的l1范数差异度模型对每类碎片进行列拼接，以形成一个横切碎片，最后再对所有的横切碎片进行行拼接即可。在算法的数值检验部分，我们以2013年全国大学生数学建模赛题为例，对横纵切后形成的209块单/双面英文碎纸片进行拼接复原。数值复原结果证实了该算法实现简单，且聚类成功率高，其中聚类部分的正确率可以达到93%以上。
   This paper designs an algorithm to restore English shredded documents no matter they are single- sized or double-sized text files which are cut both vertically and horizontally. Firstly, we cluster the fragments which were located in the same line in original text files according to the structural features of English letters and the row spacing. Then, using l1 norm difference model, we attach the fragments in the same class. By this way, the scraps of paper in the same line can be restored as a whole crosscutting shredded document. Finally, we should splice the crosscutting shredded doc-uments into a complete image. In the numerical test part, taking the 2013 national mathematics model contest problem as examples, our algorithm restores 209 pieces of English shredded doc-uments. Numerical results show that the correct rate of clustering is over 93% which demonstrates the efficiency of the algorithm.
 
</p></abstract><kwd-group><kwd>峰值权数，行间距权数，聚类可信度，Jffreys&amp;Matusita距离，l<sub>1</sub>范数, Peak Weight</kwd><kwd> Row Spacing Weight</kwd><kwd> Clustering Credibility</kwd><kwd> Jffreys&amp;Matusita Distance</kwd><kwd> l<sub>1</sub> Norm</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>双向切割单/双面英文碎纸片拼接复原算法设计<sup> </sup></title><p>张晨，王诗云</p><p>沈阳航空航天大学理学院，辽宁 沈阳</p><disp-formula id="hanspub.17493-formula57"><graphic xlink:href="http://html.hanspub.org/file/1-2620244x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>收稿日期：2016年4月14日；录用日期：2016年5月2日；发布日期：2016年5月5日</p><disp-formula id="hanspub.17493-formula58"><graphic xlink:href="http://html.hanspub.org/file/1-2620244x7_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>针对单/双面英文文本文件，经过双向(横向 + 纵向)切割后形成的碎纸片，本文通过设计拼接算法将其还原。首先，利用“英文字母的结构特征”和“空白行间距”这两个几何特征将原图中同行的碎纸片按行聚类。在此基础上，我们利用向量的l<sub>1</sub>范数差异度模型对每类碎片进行列拼接，以形成一个横切碎片，最后再对所有的横切碎片进行行拼接即可。在算法的数值检验部分，我们以2013年全国大学生数学建模赛题为例，对横纵切后形成的209块单/双面英文碎纸片进行拼接复原。数值复原结果证实了该算法实现简单，且聚类成功率高，其中聚类部分的正确率可以达到93%以上。</p><p>关键词 :峰值权数，行间距权数，聚类可信度，Jffreys &amp; Matusita距离，l<sub>1</sub>范数</p><disp-formula id="hanspub.17493-formula59"><graphic xlink:href="http://html.hanspub.org/file/1-2620244x8_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s3"><title>1. 引言</title><p>破碎文件的拼接在司法物证复原、历史文献修复以及军事情报获取等领域都有着重要的应用。传统上，拼接复原工作需由人工完成，虽然准确率较高，但效率很低。特别是在碎片数量巨大的情况下，人工拼接很难在短时间内完成任务。</p><p>如今，人们则期望结合计算机强大的计算能力与合理的数学模型，获得精确高效的碎纸片自动拼接复原技术。目前，在拼接形状规则的矩形碎纸片时，最为常规的拼接复原算法大多基于碎纸片的行列距离，以及碎纸片边缘的几何特征。通过特定的算法对所有碎片按行进行聚类，然后再根据碎片边缘黑色像素的灰度特征，建立碎片之间的相似度，最后根据相似度的大小筛选出邻接碎片。但是无论筛选的条件有多精确，还是会出现匹配错误，这时就会要求引入人工干预。</p><p>为了提高拼接复原的准确度，国内外众多学者从不同的角度出发，进行了诸多的尝试，也得到了很多优秀的拼接复原算法。2009年，维也纳科技大学的Mattias Prandtstetter以及Gunther R. Raidl提出了基于变邻域查询(VNS)和蚁群优化算法(ACO) [<xref ref-type="bibr" rid="hanspub.17493-ref1">1</xref>] ，这两个算法可以分别提高拼接准确度和拼接复原时间。2012年，弗吉尼亚理工大学计算机科学系与发现分析中心的Patrick Butler等人则采用一种可视化的分析方法来复原碎纸片文件 [<xref ref-type="bibr" rid="hanspub.17493-ref2">2</xref>] 。2014年，中国政法大学的鲁嘉琪发表了基于文字信息的碎纸片拼接复原算法，该算法根据中文文字的字体稳定性与英文字母的形状固定性，分别采用聚类分析或模式识别算法来进行拼接复原 [<xref ref-type="bibr" rid="hanspub.17493-ref3">3</xref>] 。</p><p>碎纸片的按行聚类作为整个拼接复原过程的重要组成部分，同样也吸引众多国内外学者对其进行研究。2013年，尹玉萍等人提出了基于碎纸片特征向量的动态行聚类算法进行行初步聚类，再根据文字特征及行距对初步聚类进行调整修改，才确定最终的行分类 [<xref ref-type="bibr" rid="hanspub.17493-ref4">4</xref>] 。Azzam Sleit提出了另一种聚类思想，他认为聚类应该作为整个拼接复原过程其的一部分，而不是预处理步骤，这样的改变可以使得结果更加精确 [<xref ref-type="bibr" rid="hanspub.17493-ref5">5</xref>] 。</p><p>本文的研究重点也聚焦在聚类过程上，本文在聚类过程中引入了“行间距权数”，“模板峰值权数”，以及“模板更新”的概念，以实现碎纸片的更好聚类。在本文中，我们假设所有的碎纸片无破损，且只有黑白双色(灰度值介于0~255之间)，切割整齐均匀。</p></sec><sec id="s4"><title>2. 单面英文双向切割的碎纸片的拼接复原算法</title><p>本节针对双向切割的单面英文碎纸片的情况，设计拼接复原算法。设单/双面文本文件被横向平均分割成<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x9_hanspub.png" xlink:type="simple"/></inline-formula>份，纵向平均切割成<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x10_hanspub.png" xlink:type="simple"/></inline-formula>份，则碎纸片的总个数为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x11_hanspub.png" xlink:type="simple"/></inline-formula>份。</p><sec id="s4_1"><title>2.1. 预处理</title><p>这些碎纸片在Matlab软件下，皆有唯一对应的矩阵<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x12_hanspub.png" xlink:type="simple"/></inline-formula>。为了使得矩阵的计算存储快捷，我们将数值矩阵转换成相应的稀疏矩阵，即令<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x13_hanspub.png" xlink:type="simple"/></inline-formula>。此时，矩阵中的元素“0”代表“白色”，“255”代表“黑色”。本文中的矩阵<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x14_hanspub.png" xlink:type="simple"/></inline-formula>皆作该处理。</p><p>Principle 1：任意两张列相邻的碎纸片，其相邻的两个向量中，黑色像素灰度值以及分布位置相近。例如，给定碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x15_hanspub.png" xlink:type="simple"/></inline-formula>，其最右边的列向量为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x16_hanspub.png" xlink:type="simple"/></inline-formula>；其余纸片为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x17_hanspub.png" xlink:type="simple"/></inline-formula>，其最左边的列向量为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x18_hanspub.png" xlink:type="simple"/></inline-formula>。记<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x19_hanspub.png" xlink:type="simple"/></inline-formula>，则模板碎片与<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x20_hanspub.png" xlink:type="simple"/></inline-formula>左右相邻的可能性最大。</p><p>Principle 2：处于同一行的碎纸片，具有相似的空白行间距特征，构成英文字母的黑色像素具有分布特征。</p><p>Principle 3：任意两张行相邻的横切碎纸片，也具有两种相似特征。具体的，若给定模板碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x21_hanspub.png" xlink:type="simple"/></inline-formula>的最后一行向量为零向量(图像中的表现为空白行)，且该碎片底端的零向量共有<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x22_hanspub.png" xlink:type="simple"/></inline-formula>行，而与之相邻的碎纸片的顶端前<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x23_hanspub.png" xlink:type="simple"/></inline-formula>行也为零向量，根据空白行间距<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x24_hanspub.png" xlink:type="simple"/></inline-formula>固定的特征，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x25_hanspub.png" xlink:type="simple"/></inline-formula>；另一方面，若<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x26_hanspub.png" xlink:type="simple"/></inline-formula>的最后一行<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x27_hanspub.png" xlink:type="simple"/></inline-formula>不为零向量，其余纸片为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x28_hanspub.png" xlink:type="simple"/></inline-formula>及其最上边的行向量为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x29_hanspub.png" xlink:type="simple"/></inline-formula>，若<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x30_hanspub.png" xlink:type="simple"/></inline-formula>，则指定的横切碎片与待拼接的横切碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x31_hanspub.png" xlink:type="simple"/></inline-formula>上下相邻的可能性最大。</p></sec><sec id="s4_2"><title>2.2. 同行碎纸片的聚类</title><p>本节，我们将<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x32_hanspub.png" xlink:type="simple"/></inline-formula>块纸片，先按行聚类，即聚成<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x33_hanspub.png" xlink:type="simple"/></inline-formula>类，每类包含<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x34_hanspub.png" xlink:type="simple"/></inline-formula>块纸片。通过观察，我们发现同行的英文碎纸片具有两种几何特征。首先构成文字的黑色像素的规律分布。同行英文字母的黑色像素，在该行的某些固定行高位置处出现频率较高。其次是基于空白的行间距，同行碎纸片的行间距所占的高度范围是基本相同的。结合这两种几何特征，我们来设计英文碎纸片的聚类算法。</p><sec id="s4_2_1"><title>2.2.1. 聚类原则</title><p>首先对碎纸片矩阵<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x35_hanspub.png" xlink:type="simple"/></inline-formula>作横向求和，得到的向量称为横向求和向量<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x36_hanspub.png" xlink:type="simple"/></inline-formula>，横向求和向量中的第<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x37_hanspub.png" xlink:type="simple"/></inline-formula>个元素<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x38_hanspub.png" xlink:type="simple"/></inline-formula>表示矩阵<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x39_hanspub.png" xlink:type="simple"/></inline-formula>的第<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x40_hanspub.png" xlink:type="simple"/></inline-formula>行的元素之和。我们发现如果两个碎纸片位于同一行，那么碎纸片对应的两个横向求和向量中峰值出现的位置重合程度就越高(见图1与图2)，图1与图2所对应的碎纸片来自于2013年全国大学生数学建模B题提供的附件4的081.bmp和077.bmp。</p><p>本文将同行碎纸片中位置重合频率较高处的峰值称为必然峰值，而每行英文字母基本都有五个必然峰值。本文选取图1与图2所对应的两张碎纸片图像，并在图中标出每行字母中五个必然峰值所在位置(见图3)。图3也证实了同行碎片中必然峰值的重合性。本文将横向求和向量<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x41_hanspub.png" xlink:type="simple"/></inline-formula>中剩余的峰值称为“偶然峰值”，它们在同行碎纸片中各横向求和向量<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x42_hanspub.png" xlink:type="simple"/></inline-formula>中的出现具有偶然性。必然峰值在其形状特征上，表现为该峰值很大且很凸出；而偶然峰值的形状特征则是很小且很平缓。为了区别对待两种峰值情况，我们引入“峰值权数”的概念。这里，我们所说的“峰值”，取横向求和向量元素中的“极值”之意，本文假设“峰值”元素不小于其前三个和后三个元素。</p><p>定义1：设某模板碎片有<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x43_hanspub.png" xlink:type="simple"/></inline-formula>个峰值，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x44_hanspub.png" xlink:type="simple"/></inline-formula>表示峰值权数向量，记<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x45_hanspub.png" xlink:type="simple"/></inline-formula>。其中<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x46_hanspub.png" xlink:type="simple"/></inline-formula>表示第<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x47_hanspub.png" xlink:type="simple"/></inline-formula>个峰值的峰值权数：</p><disp-formula id="hanspub.17493-formula60"><label>(1)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/1-2620244x48_hanspub.png"  xlink:type="simple"/></disp-formula><p>图1. 图片081.bmp的横向求和图像</p><p>图2. 图片077.bmp的横向求和图像</p><p>图3. 五个必然峰值出现的位置(081.bmp, 077.bmp)</p><p>其中，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x52_hanspub.png" xlink:type="simple"/></inline-formula>表示模板碎片的横向求和向量，而第<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x53_hanspub.png" xlink:type="simple"/></inline-formula>个峰值在横向求和向量<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x54_hanspub.png" xlink:type="simple"/></inline-formula>中的位置用<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x55_hanspub.png" xlink:type="simple"/></inline-formula>表示，即<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x56_hanspub.png" xlink:type="simple"/></inline-formula>表示第<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x57_hanspub.png" xlink:type="simple"/></inline-formula>个峰值的大小，同时称<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x58_hanspub.png" xlink:type="simple"/></inline-formula>为峰值位置向量。</p><p>由于<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x59_hanspub.png" xlink:type="simple"/></inline-formula>为峰值，由(1)式，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x60_hanspub.png" xlink:type="simple"/></inline-formula>，因此，该定义有意义。下面，我们以模板碎纸片的峰值权数为参照，计算其余待聚类碎片与模板碎纸片的峰值位置重合处的峰值权数之和。</p><p>定义2：如果待聚类的碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x61_hanspub.png" xlink:type="simple"/></inline-formula>与模板碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x62_hanspub.png" xlink:type="simple"/></inline-formula>在某些相同位置处皆出现了峰值，则重合的位置所形成的重合位置集合记为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x63_hanspub.png" xlink:type="simple"/></inline-formula>，称<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x64_hanspub.png" xlink:type="simple"/></inline-formula>为待聚类碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x65_hanspub.png" xlink:type="simple"/></inline-formula>的重合峰值权数之和。</p><p>由定义2可知，衡量待聚类碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x66_hanspub.png" xlink:type="simple"/></inline-formula>与模板碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x67_hanspub.png" xlink:type="simple"/></inline-formula>位于同一类的可能性的大小，就是衡量基于峰值重合位置集合<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x68_hanspub.png" xlink:type="simple"/></inline-formula>所对应的峰值权数之和的大小，若<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x69_hanspub.png" xlink:type="simple"/></inline-formula>，则表示待聚类碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x70_hanspub.png" xlink:type="simple"/></inline-formula>与模板碎片处于同一行可能性最大。</p><p>此外，处于同一行的碎纸片，还具有相同的空白行间距特征。为了利用这一几何特征，我们引入了行间距权数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x71_hanspub.png" xlink:type="simple"/></inline-formula>。其定义如下。</p><p>定义3：令<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x72_hanspub.png" xlink:type="simple"/></inline-formula>为模板碎片中空白间距的像素行之和，待聚类碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x73_hanspub.png" xlink:type="simple"/></inline-formula>本身在模板碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x74_hanspub.png" xlink:type="simple"/></inline-formula>的空白间距范围内的空白像素行之和为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x75_hanspub.png" xlink:type="simple"/></inline-formula>，则待聚类碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x76_hanspub.png" xlink:type="simple"/></inline-formula>的行间距权数定义为</p><disp-formula id="hanspub.17493-formula61"><label>(2)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/1-2620244x77_hanspub.png"  xlink:type="simple"/></disp-formula><p>从定义3可以看出，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x78_hanspub.png" xlink:type="simple"/></inline-formula>，且<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x79_hanspub.png" xlink:type="simple"/></inline-formula>的值越大，则待聚类碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x80_hanspub.png" xlink:type="simple"/></inline-formula>的空白行特征与模板碎片的空白行特征的相似性越好。</p><p>定义4：待聚类碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x81_hanspub.png" xlink:type="simple"/></inline-formula>与模板碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x82_hanspub.png" xlink:type="simple"/></inline-formula>位于同一类的可信度大小定义为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x83_hanspub.png" xlink:type="simple"/></inline-formula>。</p><p>显然，综合了重合峰值权数之和<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x84_hanspub.png" xlink:type="simple"/></inline-formula>和行间距权数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x85_hanspub.png" xlink:type="simple"/></inline-formula>所得到的聚类可信度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x86_hanspub.png" xlink:type="simple"/></inline-formula>越大，则该碎片与模板碎片是同一类的可能性就越高。由于<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x87_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x88_hanspub.png" xlink:type="simple"/></inline-formula>的数量级不同，差别很大，因此，我们以<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x89_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x90_hanspub.png" xlink:type="simple"/></inline-formula>相乘的方式来可信度。</p></sec><sec id="s4_2_2"><title>2.2.2. 模板碎片的更新</title><p>在聚类过程中，搜索拼接一个新碎片，往往要依赖于一个指定的模板碎片。如果模板碎片选取不当(横向求和向量中信息量较少)，筛选出的结果就会差强人意，此外还会引起连锁反应，导致后续筛选的碎片都出错。反过来想，如果一个模板中包含的碎片个数越多，则其所体现的峰值信息与行间距信息也就越全面，聚类过程中产生误差的可能性也越小。因此，我们所采取的改进方法是，指定模板碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x91_hanspub.png" xlink:type="simple"/></inline-formula>后，根据聚类可信度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x92_hanspub.png" xlink:type="simple"/></inline-formula>筛选出碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x93_hanspub.png" xlink:type="simple"/></inline-formula>，并且还要将<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x94_hanspub.png" xlink:type="simple"/></inline-formula>纳入到模板碎片中，即将[<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x95_hanspub.png" xlink:type="simple"/></inline-formula>,<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x96_hanspub.png" xlink:type="simple"/></inline-formula>]作为新模板碎片，这样就可以使得下一次聚类时，新模板的峰值权数和行间距权数更加精确，再次聚类筛选所得的结果也更加准确。我们可将聚类算法归纳如下。</p><disp-formula id="hanspub.17493-formula62"><graphic xlink:href="http://html.hanspub.org/file/1-2620244x97_hanspub.png"  xlink:type="simple"/></disp-formula></sec></sec><sec id="s4_3"><title>2.3. 类碎片序列的列拼接</title><p>当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x98_hanspub.png" xlink:type="simple"/></inline-formula>个碎纸片都被聚类之后，就形成了<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x99_hanspub.png" xlink:type="simple"/></inline-formula>个类碎片序列，每个序列中有<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x100_hanspub.png" xlink:type="simple"/></inline-formula>个碎纸片。接下来，本文会将每个类碎片序列进行列拼接复原，拼接复原完成后的每类的碎片序列就可以作为一个完整的横切碎片。</p><p>若两碎纸片左右是相邻的，则前一个碎纸片右边一列的像素与后一个碎纸片左边一列的像素向量，在相邻行高位置处的黑色像素灰度值是渐进变化的。这个几何特点在数值上表现为，切缝边缘的两个列向量在相同高度上的非零数值元素(即黑色像素)的大小变化是“渐进的”。为此本文引入边缘差异度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x101_hanspub.png" xlink:type="simple"/></inline-formula>，其定义如下：</p><disp-formula id="hanspub.17493-formula63"><graphic xlink:href="http://html.hanspub.org/file/1-2620244x102_hanspub.png"  xlink:type="simple"/></disp-formula><p>其中<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x103_hanspub.png" xlink:type="simple"/></inline-formula>为向量的<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x104_hanspub.png" xlink:type="simple"/></inline-formula>范数，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x105_hanspub.png" xlink:type="simple"/></inline-formula>为指定碎片，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x106_hanspub.png" xlink:type="simple"/></inline-formula>是待聚类碎片，而<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x107_hanspub.png" xlink:type="simple"/></inline-formula>则表示待拼接碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x108_hanspub.png" xlink:type="simple"/></inline-formula>与指定碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x109_hanspub.png" xlink:type="simple"/></inline-formula>的边缘差异度。而待聚类碎片中边缘相似度最大的碎片，即边缘差异度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x110_hanspub.png" xlink:type="simple"/></inline-formula>最小的碎片。所以指定碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x111_hanspub.png" xlink:type="simple"/></inline-formula>的邻接碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x112_hanspub.png" xlink:type="simple"/></inline-formula>，定义如下：</p><disp-formula id="hanspub.17493-formula64"><graphic xlink:href="http://html.hanspub.org/file/1-2620244x113_hanspub.png"  xlink:type="simple"/></disp-formula><p>通过该1-范数最小差异模型就可以得到指定碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x114_hanspub.png" xlink:type="simple"/></inline-formula>的邻接碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x115_hanspub.png" xlink:type="simple"/></inline-formula>。为了放大误差的效果，本文还对1-范数最小差异模型进行了优化，即引入Jffreys &amp; Matusita距离 [<xref ref-type="bibr" rid="hanspub.17493-ref6">6</xref>] ，此时向量<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x116_hanspub.png" xlink:type="simple"/></inline-formula>的边缘差异度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x117_hanspub.png" xlink:type="simple"/></inline-formula>定义如下：</p><disp-formula id="hanspub.17493-formula65"><graphic xlink:href="http://html.hanspub.org/file/1-2620244x118_hanspub.png"  xlink:type="simple"/></disp-formula><p>类碎片序列的列拼接算法归纳如下。</p><disp-formula id="hanspub.17493-formula66"><graphic xlink:href="http://html.hanspub.org/file/1-2620244x119_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s4_4"><title>2.4. 横切碎片的行拼接</title><p>同行的类碎片序列按序拼接复原后就形成了一个完整的横切碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x120_hanspub.png" xlink:type="simple"/></inline-formula>。所以在整个拼接复原流程中，对横切碎片的拼接就成为了最后一步。横切碎片的拼接复原基于两个准则，其一就是1-范数最小相似模型，其二则是行间距固定的几何特征。如果指定横切碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x121_hanspub.png" xlink:type="simple"/></inline-formula>的底端有黑色像素，则可以使用优化后的1-范数最小相似模型搜索拼接邻接碎片。如果横切碎片<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x122_hanspub.png" xlink:type="simple"/></inline-formula>的底端为空白行，则利用该碎片底端空白行距<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x123_hanspub.png" xlink:type="simple"/></inline-formula>与相邻碎片顶端空白行距<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x124_hanspub.png" xlink:type="simple"/></inline-formula>之和与行间距<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x125_hanspub.png" xlink:type="simple"/></inline-formula>相等的几何特征，即<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x126_hanspub.png" xlink:type="simple"/></inline-formula>来完成横切碎片的拼接复原。该算法归纳如下。</p><disp-formula id="hanspub.17493-formula67"><graphic xlink:href="http://html.hanspub.org/file/1-2620244x127_hanspub.png"  xlink:type="simple"/></disp-formula><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> The results of row-clustering of single-sized text fil</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >T</th><th align="center" valign="middle" >1</th><th align="center" valign="middle" >2</th><th align="center" valign="middle" >3</th><th align="center" valign="middle" >4</th><th align="center" valign="middle" >5</th><th align="center" valign="middle" >6</th><th align="center" valign="middle" >7</th><th align="center" valign="middle" >8</th><th align="center" valign="middle" >9</th><th align="center" valign="middle" >10</th><th align="center" valign="middle" >11</th></tr></thead><tr><td align="center" valign="middle" >初始模板</td><td align="center" valign="middle" >002</td><td align="center" valign="middle" >006</td><td align="center" valign="middle" >005</td><td align="center" valign="middle" >019</td><td align="center" valign="middle" >001</td><td align="center" valign="middle" >015</td><td align="center" valign="middle" >007</td><td align="center" valign="middle" >008</td><td align="center" valign="middle" >003</td><td align="center" valign="middle" >009</td><td align="center" valign="middle" >000</td></tr><tr><td align="center" valign="middle" >p</td><td align="center" valign="middle" >16</td><td align="center" valign="middle" >19</td><td align="center" valign="middle" >17</td><td align="center" valign="middle" >17</td><td align="center" valign="middle" >19</td><td align="center" valign="middle" >18</td><td align="center" valign="middle" >18</td><td align="center" valign="middle" >18</td><td align="center" valign="middle" >18</td><td align="center" valign="middle" >18</td><td align="center" valign="middle" >19</td></tr><tr><td align="center" valign="middle" >q</td><td align="center" valign="middle" >84%</td><td align="center" valign="middle" >100%</td><td align="center" valign="middle" >89%</td><td align="center" valign="middle" >89%</td><td align="center" valign="middle" >100%</td><td align="center" valign="middle" >94%</td><td align="center" valign="middle" >94%</td><td align="center" valign="middle" >94%</td><td align="center" valign="middle" >94%</td><td align="center" valign="middle" >94%</td><td align="center" valign="middle" >100%</td></tr></tbody></table></table-wrap><p>表1. 单面行聚类序列统计表</p></sec></sec><sec id="s5"><title>3. 数值算例</title><p>我们以2013年全国大学生数学建模竞赛B题的附件4为例，该附件中<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x128_hanspub.png" xlink:type="simple"/></inline-formula>。在表1中，我们用<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x129_hanspub.png" xlink:type="simple"/></inline-formula>代表聚类顺序；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x130_hanspub.png" xlink:type="simple"/></inline-formula>代表该类碎片中正确的个数；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/1-2620244x131_hanspub.png" xlink:type="simple"/></inline-formula>代表该类碎片的聚类正确率。根据表1的结果可知，单面碎纸片的平均聚类正确率为94.3%。</p></sec><sec id="s6"><title>4. 小结</title><p>以往的算法针对英文碎片进行聚类时，由于英文字母的高度不一致导致算法聚类时正确率较低，从而间接的增加人工干预的次数。本文提出的模板峰值权数向量和行间距权数这两个概念，以及采用了模板更新的方法，大大提高了聚类结果的准确率。</p><p>其中模板更新的代价则是牺牲算法的运算时间，因为每聚类完成一次后，以往的数据(如模板峰值权数向量、行间距约束等)都需要重新计算，所以改进后聚类算法的时间复杂度是成倍的增加。本文所提出的1-范数最小相似模型算法在处理信息量较少的碎片时，容易出现误差。这也是本文产生人工误差较多的地方。因此，在以后的工作中，我们会在本文的模型和算法的基础上加入对字母的模式识别技术，希望可以进一步减少人工干预，提高拼接的准确率。</p></sec><sec id="s7"><title>文章引用</title><p>张晨,王诗云. 双向切割单/双面英文碎纸片拼接复原算法设计Algorithm Design of Restoring Two-Way Single/Double-Sized Shredded Documents[J]. 应用数学进展, 2016, 05(02): 159-165. http://dx.doi.org/10.12677/AAM.2016.52021</p></sec><sec id="s8"><title>参考文献 (References)</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.17493-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">Prandtstetter, M. and Raidl, G.R. (2009) Meta-Heuristics for Reconstructing cross Cut Shredded Text Documents. In-stitute of Computer Graphics and Algorithms Vienna University of Technology, GECCO’09, 349-356. 
&lt;br&gt;http://dx.doi.org/10.1145/1569901.1569950</mixed-citation></ref><ref id="hanspub.17493-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">Butler, P., Chakraborty, P. and Ramakrishan, N. (2012) The De-shredder: A Visual Analytic Approach to Reconstructing Shredded Documents. IEEE Symposium on Visual Analytics Science and Technology, Seattle, 14-19 October 2012, 14-19. &lt;br&gt;http://dx.doi.org/10.1109/vast.2012.6400560</mixed-citation></ref><ref id="hanspub.17493-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">鲁嘉琪. 基于文字信息的碎纸片拼接复原算法[J]. 现代电子技术, 2014, 37(4): 28-31.</mixed-citation></ref><ref id="hanspub.17493-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">尹玉萍, 刘万军, 张冲, 刘永超. 基于动态聚类的文档碎纸片自动拼接算法[J]. 计算机工程与应用, 2014, 50(18): 162-170.</mixed-citation></ref><ref id="hanspub.17493-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Sleit, A., Massad, Y. and Musaddaq, M. (2013) An Alternative Clustering Approach for Reconstructing cross Cut Shredded Text Documents. Telecommunication Systems, 52, 1491-1501. &lt;br&gt;http://dx.doi.org/10.1007/s11235-011-9626-x</mixed-citation></ref><ref id="hanspub.17493-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">张宇, 刘雨东, 计钊. 向量相似度测量方法[J]. 声学技术, 2008, 28(4): 532-535.</mixed-citation></ref></ref-list></back></article>