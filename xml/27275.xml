<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">CSA</journal-id><journal-title-group><journal-title>Computer Science and Application</journal-title></journal-title-group><issn pub-type="epub">2161-8801</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/CSA.2018.810174</article-id><article-id pub-id-type="publisher-id">CSA-27275</article-id><article-categories><subj-group subj-group-type="heading"><subject>CSA20181000000_27529901.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于贝叶斯判别准则的机械设备泄露区域全自动检测
  Automatic Detection of Leak Areas in Mechanical Equipments Based on Bayesian Judging Criterion
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>贺</surname><given-names>德键</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><label>1</label><addr-line>null</addr-line></aff><aff id="aff2"><label>1</label><addr-line>北京奥塔科技开发有限公司，北京</addr-line></aff><pub-date pub-type="epub"><day>19</day><month>10</month><year>2018</year></pub-date><volume>08</volume><issue>10</issue><fpage>1589</fpage><lpage>1593</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   大型机械设备安装过程复杂、繁琐，要求密闭的区域常常出现泄漏，传统检测泄漏的方法效率低，成本高，针对这一难题，本文提出一种基于贝叶斯判别准则的机械设备安装泄露区域全自动检测方法，利用贝叶斯理论推导出自适应的动态阈值，作为区分前景泄漏目标区域和背景的准则。实验结果显示，该方法可以在复杂环境下，快速、准确地找到机械设备安装过程中泄漏区域的位置。 It is very complex and tedious to install the big mechanical equipments. Leak often happens in the areas in which seal requirement must be met. Traditional leak detection methods are low efficiency and high cost. Therefore, in this paper an automatic leak detection method based on Bayesian judging criterion is proposed. An adaptive dynamic threshold is derived by the means of Bayesian theory which is considered as a criterion to differentiate leak objective areas from background. The experimental results show that the leak areas in the big mechanical equipments can be fast and exactly found using the proposed method. 
  
 
</p></abstract><kwd-group><kwd>贝叶斯准则，目标检测，固定阈值，动态阈值, Bayesian Criterion</kwd><kwd> Object Detection</kwd><kwd> Fixed Threshold</kwd><kwd> Dynamic Threshold</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>基于贝叶斯判别准则的机械设备泄露区域 全自动检测<sup> </sup></title><p>贺德键</p><p>北京奥塔科技开发有限公司，北京</p><p><img src="//html.hanspub.org/file/13-1541167x1_hanspub.png" /></p><p>收稿日期：2018年10月9日；录用日期：2018年10月19日；发布日期：2018年10月26日</p><disp-formula id="hanspub.27275-formula15"><graphic xlink:href="//html.hanspub.org/file/13-1541167x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>大型机械设备安装过程复杂、繁琐，要求密闭的区域常常出现泄漏，传统检测泄漏的方法效率低，成本高，针对这一难题，本文提出一种基于贝叶斯判别准则的机械设备安装泄露区域全自动检测方法，利用贝叶斯理论推导出自适应的动态阈值，作为区分前景泄漏目标区域和背景的准则。实验结果显示，该方法可以在复杂环境下，快速、准确地找到机械设备安装过程中泄漏区域的位置。</p><p>关键词 :贝叶斯准则，目标检测，固定阈值，动态阈值</p><disp-formula id="hanspub.27275-formula16"><graphic xlink:href="//html.hanspub.org/file/13-1541167x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2018 by author and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/13-1541167x7_hanspub.png" /> <img src="//html.hanspub.org/file/13-1541167x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>在大型机械设备安装过程中，常常要求密封条件满足一定的要求，但是由于安装误差，人为因素等不确定事件的存在，泄漏情况时有发生，最终导致设备无法正常运行，进而带来巨大的损失和安全隐患，因此，能够快速、准确地确定安装设备的泄露区域，是很多工程实践的迫切需求。</p><p>传统检测安装设备泄漏区域的方法，是利用肥皂水涂抹机械设备表面，通过人工观察气泡变化情况，判断是否存在泄露现象，即如果某区域有气泡生成，说明安装过程存在泄漏，否则，不存在泄漏，但是这种方法效率低下，而且容易引起工作人员的疲劳，导致误报率上升。随着计算机技术和人工智能技术的快速发展，利用机器学习方法实现观测目标的全自动实时检测与跟踪，已经成为一种必然趋势 [<xref ref-type="bibr" rid="hanspub.27275-ref1">1</xref>] ，为此，很多学者做出了不断的探索。Huang Xinjuan [<xref ref-type="bibr" rid="hanspub.27275-ref2">2</xref>] 等人使用背景减除法，实时地选择每个像素的高斯数，用来检测移动变化的目标。Morelander [<xref ref-type="bibr" rid="hanspub.27275-ref3">3</xref>] 等人利用粒子滤波同时跟踪多个目标。此外，还有很多基于固定阈值的目标检测算法 [<xref ref-type="bibr" rid="hanspub.27275-ref4">4</xref>] [<xref ref-type="bibr" rid="hanspub.27275-ref5">5</xref>] [<xref ref-type="bibr" rid="hanspub.27275-ref6">6</xref>] ，显示出较好的性能。</p><p>虽然这些算法都获得了很好的表现，但是由于固定阈值会引起大量有用信息的损失，因此，利用自适应阈值建立模型将更有助于动态目标的检测与跟踪。在此启发下，本文提出一种全自动的设备泄露区域实时检测方法，即实时检测设备是否存在气泡生成的区域。该方法利用贝叶斯理论，根据视频流中的每一帧图像，实时动态地调整门限阈值参数，作为区分前景泄漏目标区域和背景的准则，最终实现泄露区域生成气泡的实时检测，有效提高工作效率和准确率，降低生产的运作成本。</p></sec><sec id="s4"><title>2. 传统固定阈值检测算法</title><p>完成智能监控任务时，传统方法中常常使用固定阈值，假设差分图像 D ( i , j ) 利用目标图像去除背景得到，其中 ( i , j ) 表示图像像素的位置，那么通过选择合适的阈值T，可以有效区分目标信息与背景，用下式所示：</p><p>E ( i , j ) = { 1             | D ( i , j ) | &gt; T 0         | D ( i , j ) | ≤ T (1)</p><p>其中 E ( i , j ) 表示目标的二值图，阈值T根据经验进行设置 [<xref ref-type="bibr" rid="hanspub.27275-ref7">7</xref>] 。而灰度值差分图像 D ( i , j ) = F ( i , j ) − B ( i , j ) ， F ( i , j ) 为前景图像， B ( i , j ) 为背景图像。</p></sec><sec id="s5"><title>3. 改进的动态阈值检测算法</title><p>利用固定阈值方法得到二值图，其结果在很大程度上会受到不同阈值取值的影响，阈值取的过小，会导致噪声过多，目标检测困难，而阈值过大时，虽然可以有效去除噪声的影响，但检测到的目标有可能不完整，进而导致被跟踪的目标丢失，尤其在本文实时检测生成气泡任务中，气泡变化微小，利用传统方法进行检测很不稳定，经常发生误报，如果能够根据实际条件，自适应地选取阈值，会使得气泡变化跟踪过程更加鲁棒和稳定。</p><p>利用贝叶斯理论，可以选取合适的阈值，使下式目标函数的风险最小 [<xref ref-type="bibr" rid="hanspub.27275-ref7">7</xref>] ：</p><p>R = P ( H 0 ) r 0 + P ( H 1 ) r 1 = P ( H 0 ) [ P ( D 0 / H 0 ) c 00 + P ( D 1 / H 0 ) c 10 ]     + P ( H 1 ) [ P ( D 0 / H 1 ) c 01 + P ( D 1 / H 1 ) c 11 ] (2)</p><p>其中， H 0 表示均值为 m 1 ，方差为 σ 1 2 的噪声信号， H 1 表示均值为 m 2 ，方差为 σ 2 2 的目标信号。输入信号为噪声时的风险用 r 0 表示，为目标时的风险用 r 1 表示。 P ( H 0 ) 和 P ( H 1 ) 分别为噪声和目标的先验概率， D 0 和 D 1 是判断为噪声和目标的区域。 c i j 表示输入信号 H j 为真，但却判断为 H i 的风险代价，i和j只有0和1两种情况，通常情况下， c 1 0 和 c 0 1 为1，而 c 0 0 和 c 1 1 为0。由于实际情况中只有目标和噪声两种信号，所以 P ( D 0 / H 1 ) = 1 − P ( D 1 / H 1 ) ，将此式代入到式(2)中有：</p><p>R = P ( H 0 ) P ( D 1 / H 0 ) + P ( H 1 ) ( 1 − P ( D 1 / H 1 ) ) (3)</p><p>由概率论可知</p><p>P ( D 1 / H 0 ) = ∫ D 1 P ( x / H 0 ) d x P ( D 1 / H 1 ) = ∫ D 1 P ( x / H 1 ) d x (4)</p><p>将式(4)带入式(3)可以得到如下公式：</p><p>R = P ( H 1 ) + ∫ D 1 ( P ( H 0 ) P ( x / H 0 ) − P ( H 1 ) P ( x / H 1 ) ) d x (5)</p><p>根据贝叶斯判别准则，目标检测的任务是当式(5)的值最小时，确定噪声和目标的区域 D 0 和 D 1 。当 为最大值时，判断输入信号为 H i ，因此，上述贝叶斯判别准则可以转化为最大似然准则：</p><p>P ( H 1 ) P ( x / H 1 ) ≥ P ( H 0 ) P ( x / H 0 ) (6)</p><p>假设条件概率密度函数为高斯分布：</p><p>P ( x / H 0 ) = 1 2 π σ 1 e − ( x − m 1 ) 2 2 σ 1 2 P ( x / H 1 ) = 1 2 π σ 2 e − ( x − m 2 ) 2 2 σ 2 2 (7)</p><p>根据式(7)可知，当 x &lt; 0 时， P ( x / H 0 ) 和 P ( x / H 1 ) 为0，当 x &gt; 0 时均为正数，且可以得到如下表达：</p><p>Γ ( x ) = P ( x / H 1 ) P ( x / H 0 ) = σ 1 σ 2 e − ( x − m 2 ) 2 2 σ 2 2 + ( x − m 1 ) 2 2 σ 1 2 (8)</p><p>Γ ( x ) 为输入信号x的单调递增函数，设 x = ε 时， Γ 0 = P ( H 0 ) P ( H 1 ) 为阈值，那么，当 Γ ( x ) ≥ Γ 0 时，输入信号x为目标，否则，输入信号为噪声。因此可以用如下公式表示：</p><p>ln Γ ( x ) = ln σ 1 σ 2 − ( x − m 2 ) 2 2 σ 2 2 + ( x − m 1 ) 2 2 σ 1 2 ≥ ln Γ 0 = ln P ( H 0 ) P ( H 1 ) (9)</p><p>在动态目标检测任务中，如果将背景视为噪声，目标和噪声的先验概率近似于相等，即 P ( H 0 ) P ( H 1 ) = 1 。此外，设 σ 1 2 = k σ 2 2 ，k为常量，式(10)可以表示为如下形式：</p><p>G ( x ) = ln Γ ( x ) − ln Γ 0 = 1 − k 2 k σ 2 2 x 2 + k m 2 − m 1 k σ 2 2 x + m 1 2 − k m 2 2 2 k σ 2 2 + 1 2 ln k ≥ 0 (10)</p><p>当 k ≥ 1 ，说明图像中背景区域占优势，利用这种情况下得到的目标区域 D 1 的边界值，并作为二值图 E ( i , j ) 的阈值，可以获得更高的目标检测的稳定性。由式(10)可知，当 k ≥ 1 时，目标函数 G ( x ) = 0 的两个解为：</p><p>λ 1 = x 0 − Δ t λ 2 = x 0 + Δ t (11)</p><p>其中， x 0 = k m 2 − m 1 k − 1 ， Δ t = ( m 1 − m 2 ) 2 k − k σ 2 2 ( 1 − k ) ln k k − 1 。</p><p>那么感兴趣目标区域可以由下式判断得到：</p><p>E ( i , j ) = { 1         λ 1 &lt; | D ( i , j ) | &lt; λ 2 0                     其 它 (12)</p><p>得到二值图像 E ( i , j ) 后，将二值图像进行形态学腐蚀处理，消除噪点，再进行形态学膨胀处理，获得新的二值图像中所有白色区域的轮廓，并分别判断提取的轮廓面积是否大于预设最小值，如果小于最小值则忽略，如果大于最小值，则将该轮廓位置在当前帧图像中标记出来，得到气泡变化区域。</p></sec><sec id="s6"><title>4. 实验结果与分析</title><p>为了测试本文提出算法的有效性，分别用固定阈值和动态阈值检测方法对同一段气体泄漏视频进行检测，总帧数973帧，两种算法最优检测结果如图1所示。实验运行环境为Windows 10，Python 3.6，个人PC机4 G内存，500 G硬盘，处理器2.80 GHz。</p><p>根据图1的实验结果可以看出，固定阈值法由于二值图像获取过程简单粗暴，得到的结果误检率很高，没有气泡生成的地方，也常常识别为泄露区域。而动态阈值法由于根据每一帧的具体情况，自适应的调节阈值，因此不仅能够很好的区分背景和动态目标，检测到微小的气泡变化差异，同时还能有效避免将图像中的噪声作为错误目标标记出来。</p></sec><sec id="s7"><title>5. 总结</title><p>智能视频监控系统中，传统的帧差法检测动态目标，准确性十分有限，且检测过程中容易受到光照变化、人为因素等干扰。本文根据贝叶斯理论，提出一种自适应的动态阈值算法，利用每一帧的具体信息，计算动态阈值，作为区分前景目标和背景的准则，并应用在机械设备泄露区域的实时检测中，能够有效避免噪声等干扰信息导致的错误判断，提高了实时检测的鲁棒性和准确率。未来工作将进一步优化数学模型，并设计更加细致可靠的预处理方法，使得微小气泡检测地更加准确和鲁棒。</p><p>图1. 泄露区域检测结果(左列为视频源图像，中间列为固定阈值T = 1的结果，右列为自适应阈值且参数k = 15的结果)，(a) 第20帧；(b) 第103帧；(c) 第396帧；(d) 第477帧</p></sec><sec id="s8"><title>基金项目</title><p>国家自然基金面上项目(No. 61671028)；北京市自然科学基金面上项目(No.4162018)。</p></sec><sec id="s9"><title>文章引用</title><p>贺德键. 基于贝叶斯判别准则的机械设备泄露区域全自动检测 Automatic Detection of Leak Areas in Mechanical Equipments Based on Bayesian Judging Criterion[J]. 计算机科学与应用, 2018, 08(10): 1589-1593. https://doi.org/10.12677/CSA.2018.810174</p></sec><sec id="s10"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.27275-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">苑益军, 兰昆艳. 基于腐蚀滤波的运动目标检测的图像处理[J]. 计算机工程与应用, 2008, 44(1): 173-174.</mixed-citation></ref><ref id="hanspub.27275-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">Huang, X.J., Zhou, J.M. and Liu, B.Y. (2010) Moving Objects Detection Approach Based on Adaptive Mixture Gaussian Background Model. Journal of Computer Applications, 30, 71-74.  
&lt;br&gt;https://doi.org/10.3724/SP.J.1087.2010.00071</mixed-citation></ref><ref id="hanspub.27275-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">Morelander, M., Kreucher, M.C. and Kastella, K. (2007) A Bayesian Approach to Multiple Target Detection and Tracking. IEEE Transactions on Signal Processing, 55, 1589-1604. &lt;br&gt;https://doi.org/10.1109/TSP.2006.889470</mixed-citation></ref><ref id="hanspub.27275-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">Huang, K.Q., Wang, L.S., Tan, T.N. and Maybank, S. (2008) A Real-Time Object Detecting and Tracking System for Outdoor Night Surveillance. Pattern Recognition, 41, 432-444. &lt;br&gt;https://doi.org/10.1016/j.patcog.2007.05.017</mixed-citation></ref><ref id="hanspub.27275-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Shen, C.H., Kim, J.N. and Wang, H.Z. (2010) Generalized Ker-nel-Based Visual Tracking. IEEE Transactions on Circuits and Systems for Video Technology, 20, 119-130. &lt;br&gt;https://doi.org/10.1109/TCSVT.2009.2031393</mixed-citation></ref><ref id="hanspub.27275-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">王春兰. 智能视频监控系统中运动目标检测方法综述[J]. 自动化与仪器仪表, 2017(3): 1-3.</mixed-citation></ref><ref id="hanspub.27275-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">Liu, Y.X. and Chang, F.L. (2011) Detecting Algorithm for Moving Objects Based on Bayesian Judging Criterion. Journal of Computers, 6, 849-855.</mixed-citation></ref></ref-list></back></article>