<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">DSC</journal-id><journal-title-group><journal-title>Dynamical Systems and Control</journal-title></journal-title-group><issn pub-type="epub">2325-677X</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/DSC.2019.82007</article-id><article-id pub-id-type="publisher-id">DSC-29134</article-id><article-categories><subj-group subj-group-type="heading"><subject>DSC20190200000_28401393.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  船舶路径规划数值仿真
  Numerical Simulation of Path Planning in Ship
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>李</surname><given-names>文颉</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>周</surname><given-names>傲</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>丁</surname><given-names>松</given-names></name><xref ref-type="aff" rid="aff4"><sup>4</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>昝</surname><given-names>英飞</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff3"><addr-line>哈尔滨工程大学船舶工程学院，黑龙江 哈尔滨</addr-line></aff><aff id="aff4"><addr-line>中国舰船研究院，北京</addr-line></aff><aff id="aff2"><addr-line>中国船舶重工集团公司第七O三研究所，黑龙江 哈尔滨</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>20</day><month>02</month><year>2019</year></pub-date><volume>08</volume><issue>02</issue><fpage>55</fpage><lpage>62</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  
    本文对动力定位船舶的路径规划进行数值仿真研究，首先建立船舶的数学模型，通过设定路径点生成的路径与船舶之间的几何位置关系生成追踪策略，计算船舶当前时刻的期望艏向；应用控制算法得到控制船舶达到期望艏向所需的控制力矩；最后计算控制船舶达到期望运动速度所需要的纵向推力。同时分析船舶在波浪环境作用下，按照规划路径移动时的运动响应及推进器推力变化情况。
    In this paper, the path planning of dynamic positioning ship is studied by numerical simulation. Firstly, the mathematical model of the ship is established. Then the tracking strategy is generated by setting the geometric position relation between the path generated by the path point and the ship, and the desired heading of the ship at the current moment is calculated. The control moment needed to control the ship to the desired heading is obtained by using the control algorithm. Finally, the longitudinal thrust required to control the ship to reach the desired velocity is calculated. At the same time, the motion response and propeller thrust change of the ship moving along the planned path under the action of waves are analyzed. 
  
 
</p></abstract><kwd-group><kwd>路径规划，动力定位，数值仿真，运动响应, Path Planning</kwd><kwd> Dynamic Position</kwd><kwd> Numerical Simulation</kwd><kwd> Motion Response</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>船舶路径规划数值仿真<sup> </sup></title><p>李文颉<sup>1</sup>，周傲<sup>2</sup>，丁松<sup>3</sup>，昝英飞<sup>2*</sup></p><p><sup>1</sup>中国船舶重工集团公司第七O三研究所，黑龙江 哈尔滨</p><p><sup>2</sup>哈尔滨工程大学船舶工程学院，黑龙江 哈尔滨</p><p><sup>3</sup>中国舰船研究院，北京</p><p><img src="//html.hanspub.org/file/3-2740221x1_hanspub.png" /></p><p>收稿日期：2019年2月12日；录用日期：2019年2月23日；发布日期：2019年3月6日</p><disp-formula id="hanspub.29134-formula20"><graphic xlink:href="//html.hanspub.org/file/3-2740221x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>本文对动力定位船舶的路径规划进行数值仿真研究，首先建立船舶的数学模型，通过设定路径点生成的路径与船舶之间的几何位置关系生成追踪策略，计算船舶当前时刻的期望艏向；应用控制算法得到控制船舶达到期望艏向所需的控制力矩；最后计算控制船舶达到期望运动速度所需要的纵向推力。同时分析船舶在波浪环境作用下，按照规划路径移动时的运动响应及推进器推力变化情况。</p><p>关键词 :路径规划，动力定位，数值仿真，运动响应</p><disp-formula id="hanspub.29134-formula21"><graphic xlink:href="//html.hanspub.org/file/3-2740221x7_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2019 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/3-2740221x8_hanspub.png" /> <img src="//html.hanspub.org/file/3-2740221x9_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>随着海上运输和海洋活动的频繁，各类海上事故频发。在水上交通事故中，碰撞事故是所占比例最高的原因之一。根据国际海事组织备案世界海难纪录以及相关统计表明，人为原因导致的事故占到80% [<xref ref-type="bibr" rid="hanspub.29134-ref1">1</xref>] 。因此，提高船舶驾驶自动化水平，研发船舶操纵的支持系统成为重要且迫切需要的课题。</p><p>另一方面，有些任务或环境条件不适合有人船工作，而水面无人船(Unmanned Surface Vehicles)更适合应对海上的恶劣及复杂环境，已成为了国内外智能装备的热门研究方向之一。它不仅可在危险海域或不适宜有人船航行的海域自主执行任务，还可以与有人船协作提高工作效率。无论是在布雷、排雷等军事领域，还是在海洋勘探、海域测绘、水中搜救等科研民用领域，无人船都具有极其广泛的应用前景。自主决策和自动控制技术的高低体现了无人船的智能化程度的高低，为了提高无人船的自主能力，路径规划是必不可少的关键技术之一 [<xref ref-type="bibr" rid="hanspub.29134-ref2">2</xref>] 。船舶避碰路径规划主要解决两类问题：船舶从航行起点到终点有效地避开静态和动态障碍物安全航行；船舶在航行过程中按照某种指标选择最优路径 [<xref ref-type="bibr" rid="hanspub.29134-ref3">3</xref>] 。</p><p>船舶的航迹大多由设定航迹点通过直线和圆弧的连接组成。在两个航迹点之间的长距离直线航行司空见惯，通常由传统的航向自动舵功能就可以完成。但航向自动舵不能直接控制航迹偏差，难以使船舶既满足艏向要求又保证循迹的精度，已不能满足海上运输的要求。本文利用分段几何导引方法对动力定位船舶的路径规划进行数值仿真分析。</p></sec><sec id="s4"><title>2. 船舶时域运动学模型</title><p>研究船舶在海上进行工程作业时，通常可以将船舶假定为一个不会发生变形的刚体，将在船舶水线面的波浪假定为微幅的规则波。基于微幅波理论，船舶在微幅波浪中运动也应当是微幅振荡运动，从而可以把船舶在微幅波浪上的运动和受力问题进行线性的简化处理，即可以通过叠加原理进行计算求解。</p><p>船舶在海上由于遭遇各种力的作用从而建立的动力学模型用下式表征为 [<xref ref-type="bibr" rid="hanspub.29134-ref4">4</xref>] ：</p><p>( M + M a ) v ˙ + ∫ 0 t K i j ( t − τ ) v j ( τ ) d τ + g ( η ) = F e + F D P + F l (1)</p><p>式中，水动力系数附加质量矩阵 M a ，以及阻尼矩阵 A 。 F e 表示船体所受的外载荷，包括风、浪、流载荷； F l 表示吊索的拉力； F D P 为动力定位的推进器产生的推力。</p></sec><sec id="s5"><title>3. 船舶路径规划模型</title><sec id="s5_1"><title>3.1. 动力定位系统</title><p>动力定位系统，顾名思义是对船舶运动实施控制，包括船舶的纵荡运动、横荡运动以及艏摇运动。</p><p>本文所采用PID控制器控制DP系统 [<xref ref-type="bibr" rid="hanspub.29134-ref5">5</xref>] ：</p><p>F D P = K p η ˜ + K i ∫ 0 t η ˜ ( τ ) d τ + K d v ˜ (2)</p><p>式中： η ˜ 、<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/3-2740221x18_hanspub.png" xlink:type="simple"/></inline-formula>分别为位置与速度偏差， K p , K i , K d 分别为比例、积分、微分控制参数，可以采用时间离散Kalman滤波获得低频运动状态。</p><p>船舶推进器的推力分配可以转化为最优化问题来求解，目标为推进器的发出所需总推力和力矩的同时达到最低的能源消耗，推力分配目标函数可以表示为：</p><p>J = ∑ i = 1 m W i ( u i ) + s T Q s + ( α − α 0 ) T Ω ( α − α 0 ) (3)</p><p>船舶推进器的约束条件为推进器的推力及变化率(角度及变化率)的上下限。其中 s = F − B ( α ) u ，F为推进器总推力，B为方位角矩阵， α 为各推进器的方位角，u为推进器的推力。</p><p>该动力定位船舶采用三台全回转推进器以及两台90˚角推进器，其推进器分布情况如图1所示 [<xref ref-type="bibr" rid="hanspub.29134-ref6">6</xref>] ，其中3、4、5为全回转推进器，1、2为固定90˚角推进器。</p><p>图1. 动力定位船舶推进器分布图</p></sec><sec id="s5_2"><title>3.2. 路径规划算法研究</title><p>对于路径规划的算法流程，首先要建立坐标系和船舶数学模型，然后对船舶航迹进行设定，运用分段导引策略计算出船舶的期望艏向和控制力，最终完成船舶的循迹运动。具体流程见图2：</p><p>图2. 路径规划算法流程图</p><p>本文运用视距原理对期望艏向角进行求解。在求解期望艏向之前，首先要设定路径点，生成船舶运动航迹线。设船舶初始点坐标(大地坐标系)为(x, y)，终点坐标为(x<sub>los</sub>, y<sub>los</sub>)。视距原理是一种非常简单的几何原理，即船舶会按照两个路径点之间的视线最短距离进行运动。在这种形式下，船舶的期望艏向角为 [<xref ref-type="bibr" rid="hanspub.29134-ref7">7</xref>] ：</p><p>ψ d = tan − 1 ( y l o s − y x l o s − x ) (4)</p><p>这种方法有一个缺点，那就是在船舶到达路径点所在位置之前，航迹偏差是无法被避免的。而航迹偏差值应该尽量降低，所以要对这个算法进行补充。在这里我们加入一个偏航参考值，该参考值等于从船舶当前位置到期望轨迹和交线的距离，如图3所示：</p><p>图3. 船舶在可行域中运动图</p><p>当船舶进入到可行域的范围时，则会改变船艏方向，向下一个路径点运动。对于本文的路径规划所使用的分段导引策略，主要分为直线路径和拐点，当路径处于直线位置时，船舶会保持直线方向航行。而当船舶运动至路径的拐点位置，则会根据视距原理及所规定的可行域大小进行航迹规划。</p></sec></sec><sec id="s6"><title>4. 数值仿真与结果分析</title><sec id="s6_1"><title>4.1. 环境参数及路径点参数</title><p>船舶初始位置位于大地坐标系的圆点，及(0, 0)坐标点，规定船舶的最终位置为(−433.01 m, −616.03 m)，具体路径坐标见表1。</p><p>为了模拟出真实作业中的工作环境，在数值仿真中加入波浪环境的影响，本文中波浪选取为不规则波，波浪谱为JONSWAP谱(γ = 2.4)。波浪浪向为45˚，有义波高为1 m，周期为8 s。</p></sec><sec id="s6_2"><title>4.2. 船舶路径规划运动分析</title><sec id="s6_2_1"><title>4.2.1 . 航迹分析</title><p>船舶运动速度设定为0.5 m/s，视线圆的半径设为10 m，船舶运动航迹如图4所示。</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Coordinates of waypoint</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >x坐标(m)</th><th align="center" valign="middle" >y坐标(m)</th><th align="center" valign="middle" >艏向角(˚)</th></tr></thead><tr><td align="center" valign="middle" >0</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >0</td></tr><tr><td align="center" valign="middle" >500</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >0</td></tr><tr><td align="center" valign="middle" >750</td><td align="center" valign="middle" >−433.01</td><td align="center" valign="middle" >−60</td></tr><tr><td align="center" valign="middle" >500</td><td align="center" valign="middle" >−866.03</td><td align="center" valign="middle" >−120</td></tr><tr><td align="center" valign="middle" >0</td><td align="center" valign="middle" >−866.03</td><td align="center" valign="middle" >−180</td></tr><tr><td align="center" valign="middle" >−433.01</td><td align="center" valign="middle" >−616.03</td><td align="center" valign="middle" >150</td></tr></tbody></table></table-wrap><p>表1. 路径点坐标</p><p>图4. 船舶路径规划航迹对比图</p><p>从图4中可以看到，船舶的运动轨迹与所规划的理想轨迹基本重合，当船舶转向时会发生一点偏航现象，但很快船舶会回到规划好的航迹上航行。这表明本文所建立的船舶控制系统可以保证船舶按照路径规划航行，且本文所设定的可行域半径大小为10 m，而船舶在海上能见度小于100 m时就要下达停航命令，所以本文所建立的路径规划控制系统具有实际工程意义。</p></sec><sec id="s6_2_2"><title>4.2.2 . 船舶运动响应分析</title><p>在船舶按路径规划运动时，由于艏向角不断变化，导致波浪对船舶运动的影响也时刻发生改变，在这一小节中，对船舶的运动响应分析进行分析。</p><p>图5为船舶垂荡运动曲线，可以看出，在0到1000 s以及2000 s到4000 s之间，船舶的垂荡运动幅度明显小于其他时刻的运动幅值，这是因为在这两个时间段内波浪与船舶的接触面积要小，在其他时刻波浪基本是作用在船舶的舷侧，这导致波浪对船舶的作用力增大，所以运动幅度变大。</p><p>图5. 船舶垂荡运动曲线</p><p>图6和图7分别为船舶的横摇和纵摇运动曲线，从两图的纵坐标可以看出，船舶的横摇运动要比纵摇运动更加剧烈，同垂荡运动相似，船舶运动导致的波浪力的增大同样影响着船舶横摇运动的幅度大小。</p><p>图6. 船舶横摇运动曲线</p><p>图7. 船舶纵摇运动曲线</p><p>图8为船舶首摇运动曲线，可以看到船舶在1000 s、2000 s、3000 s和4000 s左右的时候，船舶的艏向角都发生了变化，这与前文所规划的路径是一致的，且艏向角误差很小。在3000 s左右时艏向角曲线形式发生很大的变化，这是因为本文所建立的大地坐标系下，180˚角与−180˚角的交线重合，所以会产生这种结果。</p><p>图8. 船舶首摇运动曲线</p><p>图9为船舶运动速度曲线，可以看到当船舶沿着直线航行时，速度基本保持在0.5 m/s上下波动，而当船舶进行转弯时，速度值明显变大，这是因为船舶在转弯时推进器加大了推力，加速度变大，所以速度值也跟着增加。</p><p>图9. 船舶运动速度曲线</p></sec><sec id="s6_2_3"><title>4.2.3. 船舶推进器推力分析</title><p>图10和图11分别为船舶运动过程中的x方向和y方向的推力曲线，可以看到当船舶处于直航状态时，推进器的总推力明显比船舶转弯时要小，这说明当船舶进入路径点位置的视线范围内时后，为了改变艏向角而到达期望的航线，推进器的推力便呈现增大的趋势，且因为推力的变化主要作用于船舶的方向转动中，所以y方向的推力变化值要比x方向大。</p><p>图10. 船舶x方向推力曲线</p><p>图11. 船舶y方向推力曲线</p></sec></sec></sec><sec id="s7"><title>5. 结论</title><p>本文首先提出了一种动力定位船舶路径追踪的算法，根据视距原理计算船舶追踪路径过程中的期望艏向，并在动力定位系统中控制推进器的推力来实现船舶的路径规划功能。根据此算法对动力定位船舶路径规划进行了数值仿真计算，计算结果表明此算法可以实现船舶的路径规划。同时根据仿真计算的结果对船舶的运动响应和推进器的推力变化进行了分析，得出当船舶运动方向和波浪向呈90˚时，船舶的运动响应最为剧烈，所以在实际工程中，我们要尽量避免这种情况出现。</p></sec><sec id="s8"><title>基金项目</title><p>本文由国家重点研发计划项目(2018YFC0309400)支持。</p></sec><sec id="s9"><title>文章引用</title><p>李文颉,周 傲,丁 松,昝英飞. 船舶路径规划数值仿真Numerical Simulation of Path Planning in Ship[J]. 动力系统与控制, 2019, 08(02): 55-62. https://doi.org/10.12677/DSC.2019.82007</p></sec><sec id="s10"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.29134-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">王宁. 世界海难事故现状分析及应对措施[J]. 世界海运, 2010, 33(7): 70-71.</mixed-citation></ref><ref id="hanspub.29134-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">郑恒, 白雪. 解秘“无人船”的前世今生[J]. 上海信息化, 2015(4): 24-27.</mixed-citation></ref><ref id="hanspub.29134-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">康与涛, 朱大奇, 陈伟炯. 船舶避碰路径规划研究综述[J]. 船海工程, 2013, 42(5): 141-145.</mixed-citation></ref><ref id="hanspub.29134-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">Fossen, T.I. (2011) Handbook of Marine Craft Hydrodynamics and Motion Control. Wiley, Hoboken.  
https://doi.org/10.1002/9781119994138</mixed-citation></ref><ref id="hanspub.29134-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">孙丽萍, 朱枭猛, 艾尚茂. 水下设备悬垂法安装动力定位耦合数值模拟[J]. 哈尔滨工程大学学报, 2017, 38(11): 1689-1695.</mixed-citation></ref><ref id="hanspub.29134-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">李严, 李素美, 刘苏粤. “海洋石油286”船三级动力定位系统配置分析[J]. 广东造船, 2017, 36(3): 33-36.</mixed-citation></ref><ref id="hanspub.29134-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">MARINTEK (2013) SIMO-Theory Manual. Norwegian Marine Technology Research Insti-tute.</mixed-citation></ref></ref-list></back></article>