<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">SEA</journal-id><journal-title-group><journal-title>Software Engineering and Applications</journal-title></journal-title-group><issn pub-type="epub">2325-2286</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/SEA.2020.94037</article-id><article-id pub-id-type="publisher-id">SEA-37324</article-id><article-categories><subj-group subj-group-type="heading"><subject>SEA20200400000_62654496.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于4G LTE的应急通信网络
  Emergency Communication Network Based on 4G LTE
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>黄</surname><given-names>金城</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>张</surname><given-names>雅恒</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>项</surname><given-names>慧慧</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>田</surname><given-names>明</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><addr-line>盐城工学院，江苏 盐城</addr-line></aff><aff id="aff2"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>24</day><month>07</month><year>2020</year></pub-date><volume>09</volume><issue>04</issue><fpage>326</fpage><lpage>335</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  本文提出了一种基于4G LTE的应急通信网络，该网络可以实现固定电话间、移动智能手机等智能终端之间顺畅无中断的连接，在紧急情况发生时可以为智能终端与智能手机提供实时的多址接入的高速率和低功耗的可靠通信。分析结果表明，网络可以提供包括单呼、群呼、短信服务等多种语音和网络连接服务，在应急救援中可以发挥重要作用。&lt;br/&gt;This paper proposes an emergency communication network based on 4G LTE. This network can connect the fixed-line phone, mobile smartphone smoothly and provide real-time multi-access communications, high-speed data transmission, and low transmit power capability between smart terminal and smartphone under the emergency environment. The study shows that the network can be used to provide a variety of voice and network connection services including the single-call, group-call, network SMS service, etc., and play an important role in the emergency rescue.
 
</p></abstract><kwd-group><kwd>应急通信网络，4G LTE，智能终端，智能手机, Emergency Communication Network</kwd><kwd> 4G LTE</kwd><kwd> Smart Terminal</kwd><kwd> Smartphone</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>基于4G LTE的应急通信网络</title><p>黄金城，张雅恒，项慧慧，田明</p><p>盐城工学院，江苏 盐城</p><p>收稿日期：2020年8月7日；录用日期：2020年8月20日；发布日期：2020年8月27日</p><disp-formula id="hanspub.37324-formula9"><graphic xlink:href="//html.hanspub.org/file/10-2690451x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>本文提出了一种基于4G LTE的应急通信网络，该网络可以实现固定电话间、移动智能手机等智能终端之间顺畅无中断的连接，在紧急情况发生时可以为智能终端与智能手机提供实时的多址接入的高速率和低功耗的可靠通信。分析结果表明，网络可以提供包括单呼、群呼、短信服务等多种语音和网络连接服务，在应急救援中可以发挥重要作用。</p><p>关键词 :应急通信网络，4G LTE，智能终端，智能手机</p><disp-formula id="hanspub.37324-formula10"><graphic xlink:href="//html.hanspub.org/file/10-2690451x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2020 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/10-2690451x7_hanspub.png" /> <img src="//html.hanspub.org/file/10-2690451x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>近年来，国内发生的地震、火灾、洪涝等灾害给人们带来了严重的生命财产损失，也暴露出了我国在灾害应急处置与应对能力方面还存在诸多薄弱环节。例如，5.12汶川大地震中，灾区的固网通信和移动通信网络受到了很大破坏，外界与灾区通信中断，无法获知部分重灾区的情况，直接影响到抢险救灾工作的开展；2015年天津8.12爆炸事故中，由于对火情等信息的掌握不足，造成了重大的人民生命和财产损失。防灾减灾工作信息化的重要性越来越被广泛地认识到，如何实现灾情信息的联动与共享，建设信息化的平台，对于防灾减灾工作来说起着至关重要的作用。《国家综合防灾减灾规划(2016-2020年)》指出：加强基础理论研究和关键技术研发，着力揭示重大自然灾害及灾害链的孕育、发生、演变、时空分布等规律和致灾机理，推进“互联网+”、大数据、物联网、云计算、地理信息、移动通信等新理念新技术新方法的应用，提高灾害模拟仿真、分析预测、信息获取、应急通信与保障能力。因此提高防灾减灾信息化水平，需要有效利用各级各类信息资源，拓展信息获取渠道，完善灾情信息采集、分析、预警发布、调度等防灾各环节的信息化建设，其中作为灾情信息传递的重要载体，应急通信网络必不可少。</p><p>防灾减灾应用领域的需求发展对应急通信网络提出了新的要求，如何及时地保障灾区的通信畅通，保证灾区百姓的安全，这些问题已经引起了越来越多的国家关注 [<xref ref-type="bibr" rid="hanspub.37324-ref1">1</xref>]。目前国际上许多国家已经将应急通信网络作为救灾减灾，保持社会稳定的重要手段，国际上多个标准化组织也将应急通信网络作为重要课题进行研究 [<xref ref-type="bibr" rid="hanspub.37324-ref2">2</xref>]。</p><p>在实践研究方面，为了满足政府对于紧急事件的指挥调度需求，美国从20世纪70年代开始建设应急通信网络 [<xref ref-type="bibr" rid="hanspub.37324-ref3">3</xref>]。9.11事件之后，美国更是投入巨资建设与互联网物理隔离的政府专网，推行通信优先服务计划并利用自由空间光通信(Free Space Optics, FSO)、WiMAX和Wi-Fi等技术来提高应急通信网络保障能力。在经历3.11大地震后，日本政府深刻认识到了防灾通信建设的重要性，目前已建立起了覆盖全国、功能完善、技术先进的防灾专用通信网络 [<xref ref-type="bibr" rid="hanspub.37324-ref4">4</xref>] [<xref ref-type="bibr" rid="hanspub.37324-ref5">5</xref>]，包括以政府各职能部门为主，由固定通信线路、卫星通信线路和移动通信线路组成的“中央防灾无线网”；连接消防厅与都道府县的“消防防灾无线网”；以自治体防灾机构和当地居民为主的都道府县、市町村的“防灾行政无线网”；在应急过程中实现互联互通的防灾相互通信无线网等。中央防灾无线网是日本防灾通信网的骨架网络，由固定通信线路、卫星通信线路和移动通信线路构成。防灾互联通信网可以在现场迅速连通多个防灾救援机构以交换各种现场救灾信息，从而有效进行指挥调度和抢险救灾。此外，国际上许多标准化组织(例如ITU-R、ITU-T、ETSI和IETF等)也在积极推进应急通信网络标准的研究 [<xref ref-type="bibr" rid="hanspub.37324-ref6">6</xref>]。ITU-R主要从预警和减灾的角度对应急通信网络展开研究，包括利用固定卫星、无线电广播、移动定位等向公众提供应急业务、预警信息和减灾服务；ITU-T从开展国际紧急呼叫以及增强网络支持能力等方面进行研究，主要包括紧急通信业务(Emergency Telecommunications Service, ETS)和减灾通信业务(Telecommunication for Disaster Relief, TDR)两大领域；ETSI主要关注紧急情况下组织之间以及组织和个人之间的通信需求；IETF对应急通信网络的研究涵盖通信服务需求、网络架构和协议等多个方面。</p><p>在理论层面上，国外的研究主要集中在了应急通信网络的交互性，应急通信网络的目标及原则，应急通信网络的相关制度和组织架构上 [<xref ref-type="bibr" rid="hanspub.37324-ref7">7</xref>] [<xref ref-type="bibr" rid="hanspub.37324-ref8">8</xref>]。应急通信网络交互性是指特定的应急响应机构的系统与其他系统或者设备进行通信的能力。交互性良好就是在无特殊需求的情况下能够实现无缝的通信沟通。应急通信网络交互使得在重大灾难事件时，应急响应机构之间能够高效的沟通合作。</p><p>我国应急通信网络保障工作起步较晚，目前还处于从政策向管理机制和技术平台研发方面推进的阶段 [<xref ref-type="bibr" rid="hanspub.37324-ref9">9</xref>]。我国在2004年正式启动应急通信相关标准的研究工作，内容涉及应急通信综合体系和标准、公众通信网支持应急通信的要求、紧急特种业务呼叫等。与此同时，国内许多企业也在积极研发应急通信相关产品。我国的应急通信系统建设多以应急通信设备配置为主，对公用通信网的依存度较高，自组网能力欠缺 [<xref ref-type="bibr" rid="hanspub.37324-ref10">10</xref>]。另外，当前的应急通信系统高度依靠企业建设，而由于企业缺乏经济效益而投入不足，制约了我国应急通信网络领域的发展 [<xref ref-type="bibr" rid="hanspub.37324-ref11">11</xref>]。随着政府对公众安全、应急事件如恐怖袭击、突发自然灾害等的处理日益重视，灵活性高且抗毁坏性强的应急通信网络机制与平台的研究和建设也迫在眉睫。这也成为国内当前该领域的研究热点，特别在物联网与应急通信网络结合方面，中国很多成果都走在了世界前列。中国2008 年起施行的《城乡规划法》规定防灾减灾等内容应作为城市总体规划、乡镇总体规划的强制性要求。《城乡建设防灾减灾“十三五”规划》为防灾减灾工作提供了依据，北京、厦门、海口等城市也已展开了城市综合防灾规划或专题研究。汶川地震后我国针对地震灾害颁布、审查、编制、修订了多部技术标准，进一步完善了防灾技术标准体系。然而，我国应急网络的建设大多数停留在政策和制度层面，没有统一的防灾应急通信网络。我国的公用通信网建设很少考虑应急需求，特别是在应急优先接入方面十分欠缺，导致在突发事件面前，公用通信网无法识别应急指挥、救援人员的呼叫，而使这些重要呼叫俺没在巨大的网络拥塞之中。另外，我国应急通信网络设备在传输方面较为薄弱，有些设备还需依赖公用通信网的有线传输资源，难以在突发事件中迅速发挥作用。因此尽快建立灾害应急通信网络体系，将信息通信技术与防灾减灾系统建设相结合，对于推进防灾减灾事业发展，构建防灾减灾体系来说至关重要。本项目以高密度环境下的灾害对应为研究对象，探索设计和建立防灾减灾应急通信网络平台的理论和方法。</p><p>传统电话网络中，家庭及小型企业使用的电话机一般采用双绞线电线直接连接电信运营商的电话线路，来实现电话语音通信，一般称之为直线(或专线)电话。而大型企业，学校等电话用户较多的企事业单位，则一般会选择专业的传统程控电话交换机(PBX)来建设内部电话系统，在内部电话网中通过分机短号互相通话，一般称作集团电话。无论是传统直线电话还是集团电话，电话如果要接入计算机软件中(开发与电话通信有关的电信增值应用软件)，即CTI (Computer Telephony Integration)软件，需要在计算机上增加额外的主板语音扩展卡或外接USB扩展设备，并通过传统客户端CTI开发技术(例如Intel和微软在Windows提供的TAPI以及Novell和AT&amp;T的TSAPI)才能实现相应功能，而传统电话程控交换机及CTI标准学习和使用成本过高的限制，使得计算机CTI应用开发领域一直是大企业、大规模系统的专属，只有象银行、集团公司等地方才有能力拥有。采用MIMO和OFDM技术的第四代移动通信4G LTE技术，以其超高数据传输速率及稳定性广泛应用于我们的日常生活中。但是由于建网成本高昂，目前该技术主要应用于收费的移动话务及移动数据服务等方面 [<xref ref-type="bibr" rid="hanspub.37324-ref12">12</xref>]。</p><p>IP通信，可借助标准化的计算机网络通信和软件技术，实现了将“电话”也作为软件能处理的“数据”的一种，统一纳入到IP网络通信环境之中，传统电话通信受制于“电话线”和“移动运营设备”的缺点被解决，只要网络能够接通的地方，IP电话通信就能到达。而网络通信，早已涵盖了以太网有线、WiFi无线局域网，3G/4G移动互联网，以及特殊行业领域的卫星、LiFi光通信等各种方式，跨地区甚至跨越太空都没有问题，而传统电话线即使是在同一个楼层不同房间内布线，就要耗费太量人力物力。将固定电话和手机作为“数据”并入IP网络，也就打开了电话与软件世界互联互通的大门，在融合通信整体架构下，软件中实现电话通信功能的复杂度被大大降低，可以真正意义上实现电信电话网与互联网的无缝对接 [<xref ref-type="bibr" rid="hanspub.37324-ref13">13</xref>]。而目前手机等智能终端设备已经普及，如若能充分利用每个人的智能终端设备去组建应急通信网络，将能大大的降低通信网络建设与维护成本。因此本文提出一种基于4G/LTE的无线自组网的应急通信网络信息平台，该平台能够在灾害发生时有较好的鲁棒性，在公共通信网络瘫痪时该网络能够最大限度的保障受灾区域和外界的联通。</p></sec><sec id="s4"><title>2. 基于4G/LTE的应急通信网络模型</title><sec id="s4_1"><title>2.1. 网络模型</title><p>图1为本文提出的基于4G/LTE的应急通信网络模型。该模型包括：4G/LTE智能语音路由器、智能电话和智能终端、数据汇聚节点路由器、互联网和卫星以及指挥控制中心。不失一般性，图1给出了1到4共4个小区，应急通信区域被细化成若干个通信小区域，我们这里称为网络节点。通过多个4G/LTE语音智能路由器可以创建一个覆盖应急通信所需范围大小的无线局域网，该局域网通过汇聚节点经由互联网连接指挥控制中心。每个网络节点包括汇聚节点均由一台连接UPS不间断电源的4G/LTE语音智能路由器、若干个智能终端设备组成。不同节点之间相互独立。UPS不间断电源确保了灾害发生时节点的供电持续，使得受灾后网络能够继续正常运营，为救灾防灾提供可靠帮助。</p><p>不同的4G/LTE智能语音路由器、数据汇聚节点路由器通过WDS无线桥接组网，数据汇聚节点实际也是一个4G/LTE智能语音路由器。每个节点的覆盖范围半径在100米~150米左右，保证所有节点相互连通的情况下，实现无死角覆盖全区域的应急无线WIFI通信网络。汇聚节点路由器通过有线网络与指挥控制中心相连，实现了监控区域与灾害防治部门的联系。</p><p>图1. 基于4G/LTE的应急通信网络模型</p></sec><sec id="s4_2"><title>2.2. 网络工作原理</title><p>智能手机等终端设备中安装有使用VOIP网络电话的App，这里APP也可以是微信小程序 [<xref ref-type="bibr" rid="hanspub.37324-ref14">14</xref>]。智能手机连接无线网络时需验证手机号码作为身份信息，注册信息经由汇聚节点向指挥控制中心备份，验证通过后每个智能设备被自动分配唯一的ID。不同ID的所有者之间可以通过网络电话APP传输语音，图片，文字及语音信息。这样一来相同节点内的智能终端设备，不同节点间的智能终端设备，均可以进行视频和语音通话，可以传递语音、视频、图片、文字等数据信息。数据信息可以全体发送，可以选择部分用户群发，也可以发到指定用户。终端设备自动选择信号最强的语音智能路由器进行连接，当节点在应急网络内移动时，自动切换智能设备所属语音智能路由器信息并更新位置信息，以便灾害发生时确定灾害的发生地理位置信息。智能终端设备可以是智能手机或者平板电脑的持有人，也可以是智能无线传感器节点，比如监测火灾信息的智能终端传感器等，传感器的情况下由系统自动群发信息给局域网内全体用户及指挥控制中心。局域网内用户之间相互使用不限制速率，特殊情况下局域网可以成为替代打手机电话的沟通工具。</p><p>汇聚节点路由器通过连接入互联网，并且插有4G网络的Sim流量卡，部分节点的4G/LTE语音智能路由器也同样插入4G网络的Sim卡，防止灾害发生时汇聚节点无法接入互联网从而变更汇聚节点。通过这样的设置，用户可以通过4G网络的Sim卡流量直接连接互联网，也可以通过多台智能路由器组成的覆盖本小区范围的无死角的WIFI网络经由汇聚节点路由器接入互联网，实现指挥中心服务器客户端和应急区域APP的用户之间的通信，可以传输语音，图片，文字及语音信息。</p><p>通信网络的工作原理如下：</p><p>&#183; 非紧急情况时，Sim卡设置在休眠状态，汇聚节点路由器通过低速率接入互联网，保证基本的用户注册、唤醒及通知功能即可，防止用户蹭网减少网络负载并节约成本。</p><p>&#183; 发生灾害时，智能终端用户通过点击APP的应急唤醒功能即可，点击后汇聚节点路由器转换到高速率运行状态、汇聚节点通过有线网络方式连接指挥控制中心。SIM卡也唤醒至于正常状态，当有线网络不能使用时汇聚节点启动Sim卡数据连接功能联系指挥中心，当汇聚节点出现故障时，系统自动选择网络较好的插有Sim卡普通节点变更为汇聚节点。当节点的智能4G/LTE智能语音路由器正常接收移动基站信号时，节点中的智能设备所有者可以使用Sim卡通过APP网络电话软件的给区域内的全体人员和灾害指挥控制中心管理人员群发手机短信信息。当灾害发生时，用户和救援人员还可以通过微信等即时通讯软件联系外界。</p><p>&#183; 指挥控制中心收到信息后，立即与相关部门取得联系，并立即组织灾害救援工作。同时通过软件把减灾及避难措施发布给全体注册用户。为了防止没有安装的用户收不到消息，同时给全体注册过的用户的手机号码发送了群发避难措施。</p><p>&#183; 救援人员赶赴现场，并通过应急通信网络彼此间相互确定位置并组织营救措施，将灾害被困人员及时解救出来。</p><p>综上，当地震、火灾、水灾等发生时，公用通信网络陷入瘫痪的情况下，通过自组织的应急通信网络以及人民的智能手机等设备，构建应急通信网络，保障受灾区域和指挥控制中心的联系与沟通。</p></sec></sec><sec id="s5"><title>3. 关键技术</title><p>要实现上述的应急通信网络功能，创建4G/LTE无线局域网和软电话互连互拨是关键，本节对主要关键技术的实现做具体说明。</p><sec id="s5_1"><title>3.1. 创建4G/LTE无线局域网</title><p>创建4G/LTE无线局域网需要交换机、4G/LTE语音智能路由器等设备，拓扑图如图2所示。4G/LTE语音智能路由器可以通过连接其他网络发射无线WIFI信号，也可以通过运营商的SIM卡的流量发出无线WIFI信号 [<xref ref-type="bibr" rid="hanspub.37324-ref15">15</xref>]。在配置好无线局域网的用户名和密码后，4G/LTE无线局域网就创建完。处于该局域网信号覆盖下的智能手机或者终端打开WIFI上网开关，搜索WIFI热点，找到对应局域网，输入事先设定好的密码就可连接局域网。智能手机端连接WIFI热点后通过4G/LTE语音智能路由器与IPX所在局域网互通，通过电话软件向IPX服务器注册账号，从而使智能手机作为IPX服务器下面的一个分机，实现了与其他分机之间相互连通 [<xref ref-type="bibr" rid="hanspub.37324-ref16">16</xref>]。</p><p>图2. 4G/LTE创建无线局域网实验拓扑图</p></sec><sec id="s5_2"><title>3.2. 软电话互连互拨</title><p>软电话也称为softphone，是一种通信终端设备，是虚拟电话，向终端用户提供廉价可靠、良好通话质量的语音服务。只要在同一网内，就可以不受限制的进行通话，可以支持PC to PC、PC to phone、phone to PC等多种通话方式。图3为软电话拓扑图，IPX的基本功能功能有模拟电话、IP电话、及内部电话互通等。通过对IPX的配置，通过正确配置可以简单的搭建起内部VOIP网络，实现了内部各终端(电话、手机以及智能终端)间的互拨，同时内部电话可以拨通外线客户的电话。</p><p>图3. 软电话实验拓扑图</p></sec><sec id="s5_3"><title>3.3. IP PBX设备互联互通</title><p>本节利用融合通信SDK，详解IP PBX设备互联互通的关键技术，实现软件与IP PBX的电话分机，以及手机、固话电话的通信，实现“互联互通”最基础的应用功能。</p><p>图4. 融合通信SDK</p><p>融合通信SDK如图4所示，实现融合通信步骤如下：</p><p>1) 解压缩原代码压缩包，使用VC开发环境打开源代码工程文件，将SDK程序sdk.exe拷贝至演示程序目标编译输出路径(debug版本即debug目录下，release版本即release目录下)。</p><p>2) 双击运行SDK程序：sdk.exe，在打开的界面上右键点击，选择配置打开配置界面，配置要连接的全媒体融合通信设备上预先分配好的分机账号：成功配置了账号的SDK程序，就像一台普通的电话分机一样工作，所以它也有一个分机号码，这个号码可以与电话分机和手机直接对话(通过电脑耳麦与电话机通信)。手工在SDK主界面中拨打“*25”，如果从电脑扬声器中正常听到软件自动报号声音，表示SDK正常工作，可以继续开发，将SDK程序最小化即可。否则，请检查电脑网络是否正常，打开计算机音频配置界面查看麦克风拨声器硬件是否正常。</p><p>3) 电话接通后，可以使用电脑的麦克风和扬声器与电话机或者手机直接进行双向全双工的语音通话，电脑会自动将网卡上接收到的来自电话机的语音编码后的IP数据包还原为音频信号，通过电脑扬声器发出来；电脑也会自动将麦克风接收到的声音信号，编码为IP数据包发送到电话机上。</p><p>为了开发软件实现“电话”功能，软件首选读取自身所在的路径，并找到callmsg.dat的绝对路径(因为我们把sdk.exe提前拷贝到了程序编译目标路径下)，所以可以方便打开状态文件进行读操作，代码中sdk_msg_path是全局的字符串，就是状态文件的绝对路径，而另外的sdk_full_path则表示sdk程序的绝对路径，下方要通过SDK执行相应功能时发送指令时，需要使用到它，代码节选如下：</p><p>char cur_path[MAX_PATH] = {0};</p><p>char drive[_MAX_DRIVE];</p><p>char dir[_MAX_DIR];</p><p>GetModuleFileNameA(NULL, cur_path, MAX_PATH);</p><p>sprintf(sdk_full_path, %s%ssdk.exe, drive, dir);</p><p>sprintf(sdk_msg_path, %s%scallmsg.dat, drive, dir);</p><p>为了让开发的应用程序准确地了解SDK所对应的“虚拟电话机”当前的工作状态，需要不停的读取上述状态文件，所以需要用到定时器，每隔1秒读取一次并对界面进行更新(电话通信是秒级的通信系统，而且这里演示的是串行的单路电话处理没有并发，所以隔1秒读一次完全足够)，代码如下：</p><p>SetTimer(101, 1000, NULL);</p><p>f_cmsg = fopen(sdk_msg_path, r);</p><p>融合通信SDK大大简化了PC应用软件(IP互联网)与外部电话(电信电话网)互联互通的成本，这种简化幅度大大超出想象，只需如下一条指令，就可以让一个普通应用软件，具备了与外部电话直接对话的能力，代码如下：</p><p>char cmd_string[<xref ref-type="bibr" rid="hanspub.37324-ref256">256</xref>] ={0};</p><p>char dial_number[<xref ref-type="bibr" rid="hanspub.37324-ref32">32</xref>] = {0};</p><p>GetDlgItem(IDC_NUMBER)-&gt;GetWindowTextA(dial_number, 32);</p><p>sprintf(cmd_string, call,%s, dial_number);</p><p>ShellExecuteA(NULL, open, sdk_full_path, cmd_string, NULL, SW_SHOWMINNOACTIVE);</p></sec></sec><sec id="s6"><title>4. 实例分析</title><p>假设图1所示的环境是一个由4个小区域组成的大型健身休闲中心，整个休闲中心是一个应急通信网络范围，在这个范围内有4干个节点(1, 2, 3, 4)，分别为娱乐区、休闲区、健身区和餐饮区，4个区域围城一个井字形，汇聚节点设置在了井字形中央的漏天空地上。四个小区域内分别设置了带有UPS电源的4台4G/LTE语音智能服务器。井字空地的雕塑上安装了一台接UPS电源的4G/LTE语音智能服务器，此服务器为汇聚节点，汇聚节点通过地下网络光纤与互联网相连接。4个节点及汇聚节点通过WDS无线桥接组成了一个无线局域网络。</p><p>假设某天有A、B、C、D、E共5个人在这个健身休闲中心消费，在进入休闲中心时5人的智能手机打开了WIFI上网开关，搜索WIFI热点，找到对应局域网，按要求安装了应急网络防灾系统的App软件并进行了注册。</p><p>智能手机端连接WIFI热点后通过4G/LTE语音智能路由器与IPX所在局域网互通，通过电话软件向IPX服务器注册账号，从而使智能手机作为IPX服务器下面的一个分机，实现与其他分机之间相互连通。</p><p>晚上20点整，E在休闲中心点餐，并等待A、B、C、D四人前去用餐，其中A、B在娱乐区，C、D分别在休闲区和健身区。20点5分小区4的智能终端传感器感应到了火情，并迅速把火情信息通过局域网送传输到了汇聚节点，最后经由汇聚节点传送到无线网络，与此同时汇聚结点路由器的节点通过sim卡给全体在休闲中心消费并注册了的用户发送了火情手机短信。同时，顾客E迅速点击了App软件的应急唤醒功能并把火灾视频配文字群发到App软件及指挥控制中心。</p><p>由于火情的出现，休闲中心供电系统启动了断电保护措施，由于供电的中断，手机在此刻也失去移动运营商的信号，只能连接上由4G/LTE语音智能路由器为中心的小区域所构成的无线局域网。</p><p>控制指挥中心同时接收到来自传感器和E的火情信息，立即通知火警前往营救并通过软件群发信息到局域网，告知避难逃出方法。大部分接收到App信息的和短信的人们按避难方法顺利避难到休闲中心广场上，消防车此刻已经到了现场开始灭火并营救人员。A、B、C、E 4人此时才发现D没有出来避难，他们把E的情况通过App进行了上报。</p><p>消防人员和控制中心通过App的回复确认还有E并未避难。因为E健身结束后去了浴室，并未看见手机提醒。等到冲洗好后更衣室已经烟雾缭绕，无法回到更衣室，只能等待救援。救援人员通过指挥控制中心的数据得知，E最后活动地点为健身中心，因而把主要力量先集中在了健身区域，最后终于把围着毛巾的E安全营救了出来。</p><p>大部分人由于避难匆忙，只拿着手机逃了出来，在移动运营商通信网络瘫痪的情况下，大家利用此基于4G/LTE的应急通信网络接上了外网，并用微信等即时通软件与家人取得了联系，报了平安。在救援结束后，消防队和休闲娱乐中心管理人员排查了火灾的原因，并进行了装修整顿，休闲中心再次恢复营业。</p><p>通过分析，可以得出此4G LTE网络和现有技术相比具有以下优点：</p><p>&#183; 与传统350 MHz模拟集群通信网相比，不仅能实现了语音通信，而且可以加载数字应用，实现受灾地点的视频、数据通信的高速传输，有利于救灾应急救援工作。</p><p>&#183; 灾害发生时，伴随着停电诸如移动运营商等的公共通信网络可能陷入瘫痪，但UPS电源的使用使得通信网络有很强的鲁棒性。</p><p>&#183; 现有的无线传感器网络，由于节点受限，在高层、超高层建筑物或者地下超大空间覆盖时，会受到衰落和干扰的影响，出现很多盲区，不利于救灾的执行。</p><p>&#183; 防灾减灾网络成本较低，除了App软件内硬件只需要UPS电源和4G/LTE语音智能路由器，采用无线组网方式，局域网内不需要进行有线连接。便于节点的设置和局域网络的优化。</p></sec><sec id="s7"><title>5. 结语</title><p>本文提出了一种基于4G/LTE的应急通信网络。该网络除了每个人的智能终端设备之外，只需要每个小区配备UPS电源和4G/LTE语音智能路由器，采用无线组网方式，组成可靠的无线局域网络。当地震、火灾、水灾等发生公用通信网络陷入瘫痪时，通过自组织的应急通信网络以及公众的智能手机等终端设备，可以迅速构建起应急通信网络，保障受灾区域和指挥控制中心的联系与沟通，在防灾减灾中起到重要作用。</p></sec><sec id="s8"><title>文章引用</title><p>黄金城,张雅恒,项慧慧,田 明. 基于4G LTE的应急通信网络Emergency Communication Network Based on 4G LTE[J]. 软件工程与应用, 2020, 09(04): 326-335. https://doi.org/10.12677/SEA.2020.94037</p></sec><sec id="s9"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.37324-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">Lin, Y., Wang, T. and Wang, S. (2019) UAV-Assisted Emergency Communications: An Extended Multi-Armed Bandit Perspective. IEEE Communications Letters, 23, 938-941. &lt;br&gt;https://doi.org/10.1109/LCOMM.2019.2906194</mixed-citation></ref><ref id="hanspub.37324-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">Pervez, F., Qadir, J., Khalil, M., Yaqoob, T., Ashraf, U. and Younis, S. (2018) Wireless Technologies for Emergency Response: A Comprehensive Review and Some Guidelines. IEEE Access, 6, 71814-71838.  
&lt;br&gt;https://doi.org/10.1109/ACCESS.2018.2878898</mixed-citation></ref><ref id="hanspub.37324-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">Pan, M. and Wang, C. (2019) A Group-Less and Energy Efficient Communication Scheme Based on Wi-Fi Direct Technology for Emergency Scenes. IEEE Access, 7, 31840-31853. &lt;br&gt;https://doi.org/10.1109/ACCESS.2019.2903228</mixed-citation></ref><ref id="hanspub.37324-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">丁琦, 博庆贺. 应急管理体系信息化建设的国际经验[J]. 中国电信业, 2020(2): 73-76.</mixed-citation></ref><ref id="hanspub.37324-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Liu, X. and Ansari, N. (2019) Resource Allocation in UAV-Assisted M2M Communications for Disaster Rescue. IEEE Wireless Communications Letters, 8, 580-583. &lt;br&gt;https://doi.org/10.1109/LWC.2018.2880467</mixed-citation></ref><ref id="hanspub.37324-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">Zhou, X., Durrani, S. and Guo, J. (2020) Drone-Initiated D2D-Aided Multihop Multicast Networks for Emergency Information Dissemination. IEEE Access, 8, 3566-3578. &lt;br&gt;https://doi.org/10.1109/ACCESS.2019.2962224</mixed-citation></ref><ref id="hanspub.37324-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">宋小琼. 重大灾害现场消防应急通信保障方法初探[J]. 山西科技, 2020, 35(4): 47-49.</mixed-citation></ref><ref id="hanspub.37324-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">刘荣朵. 我国应急通信发展的需求分析[J]. 信息通信技术与政策, 2019(12): 63-66.</mixed-citation></ref><ref id="hanspub.37324-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">陈育璇. 应急通信在电力抢修中的应用[J]. 技术与市场, 2019, 26(11): 141 + 143.</mixed-citation></ref><ref id="hanspub.37324-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">张磊, 范玉峰. 新时期我国应急通信体系建设分析[J]. 中国公共安全(学术版), 2019(2): 48-51.</mixed-citation></ref><ref id="hanspub.37324-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">杨夏. 移动通信工程4G-LTE技术分析[J]. 通讯世界, 2020, 27(6): 116 + 118.</mixed-citation></ref><ref id="hanspub.37324-ref12"><label>12</label><mixed-citation publication-type="other" xlink:type="simple">马会琳, 刘超, 杨海龙. 浅谈移动通信发展历程和TD-LTE演进[J]. 数字技术与应用, 2020, 38(5): 31-32.</mixed-citation></ref><ref id="hanspub.37324-ref13"><label>13</label><mixed-citation publication-type="other" xlink:type="simple">张嘉元, 高晓辉, 陈涛, 杨清森. 基于VoIP语音网系统设计[J]. 数字通信世界, 2018(12): 21 + 265.</mixed-citation></ref><ref id="hanspub.37324-ref14"><label>14</label><mixed-citation publication-type="other" xlink:type="simple">王燚, 陈宇, 罗凤娅. 一种基于SIM认证的WiFi节点入网方法[J]. 通信与信息技术, 2015(3): 78-81 + 59.</mixed-citation></ref><ref id="hanspub.37324-ref15"><label>15</label><mixed-citation publication-type="other" xlink:type="simple">张平波, 何纬. 基于PJSIP协议的VoIP软电话系统的开发设计[J]. 信息化研究, 2019, 45(1): 51-57.</mixed-citation></ref><ref id="hanspub.37324-ref16"><label>16</label><mixed-citation publication-type="other" xlink:type="simple">文旭桦. IPX承载VoLTE国际漫游的组网方案研究[J]. 移动通信, 2016, 40(15): 54-58.</mixed-citation></ref></ref-list></back></article>