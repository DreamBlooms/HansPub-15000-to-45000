<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">SSEM</journal-id><journal-title-group><journal-title>Service Science and Management</journal-title></journal-title-group><issn pub-type="epub">2324-7908</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/SSEM.2020.96052</article-id><article-id pub-id-type="publisher-id">SSEM-38816</article-id><article-categories><subj-group subj-group-type="heading"><subject>SSEM20200600000_26882917.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>经济与管理</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于多产品报童模型的自动售货机补货策略研究
  Replenishment Strategy of Vending Machine Based on Multi Product Newsboy Model
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>鲁</surname><given-names>宇婷</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><label>1</label><addr-line>null</addr-line></aff><aff id="aff2"><label>1</label><addr-line>东华大学，旭日工商管理学院，上海</addr-line></aff><pub-date pub-type="epub"><day>29</day><month>10</month><year>2020</year></pub-date><volume>09</volume><issue>06</issue><fpage>414</fpage><lpage>428</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  本文以上海地铁某品牌自动售货机为研究对象，考虑到自动售货机区别于其他传统销售店铺，其每一种商品都有各自固定的货道且容量是有限的，而且频繁的缺货会对顾客带来较差的消费体验，因此将服务水平考虑在内，以需求分布预测作为输入，构建基于货道容量和服务水平双重约束的多产品报童补货模型。对于模型的求解，引入了拉格朗日函数和KKT乘子进行求解。结果发现，1) 较之企业原先在每一个补货时间段对售货机采用全部补满货道的方式，基于货道容量与服务水平双重约束的多产品报童补货模型能够带来更大的收益。2) 考虑服务水平约束，随着服务水平的增大，成本增加速度越来越快，所以运营企业需要选择合理的服务水平使得成本控制在较低的水平。
   This paper takes the vending machine of a brand in Shanghai Metro as the research object. Consid-ering that vending machine is different from other traditional stores, each commodity has its own fixed aisle and its capacity is limited. Moreover, frequent out of stock will bring poor consumption experience to customers, so the service will be provided. Considering the level and taking the de-mand distribution forecast as the input, a multi product newsboy replenishment model based on the dual constraints of channel capacity and service level is constructed. Lagrange function and KKT multiplier are introduced to solve the model. The results show that: 1) Compared with the original way of replenishing all the vending machines in each replenishment period, the multi product newsboy replenishment model based on the dual constraints of channel capacity and service level can bring more benefits. 2) Considering the service level constraint, with the increase of service lev-el, the cost increases faster and faster, so the operating enterprises need to choose a reasonable service level to control the cost at a lower level.
 
</p></abstract><kwd-group><kwd>自动售货机，补货策略，多产品报童模型，拉格朗日函数, Vending Machine</kwd><kwd> Replenishment Strategy</kwd><kwd> Multi Product Newsboy Model</kwd><kwd> Lagrange Function</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>摘要</title><p>本文以上海地铁某品牌自动售货机为研究对象，考虑到自动售货机区别于其他传统销售店铺，其每一种商品都有各自固定的货道且容量是有限的，而且频繁的缺货会对顾客带来较差的消费体验，因此将服务水平考虑在内，以需求分布预测作为输入，构建基于货道容量和服务水平双重约束的多产品报童补货模型。对于模型的求解，引入了拉格朗日函数和KKT乘子进行求解。结果发现，1) 较之企业原先在每一个补货时间段对售货机采用全部补满货道的方式，基于货道容量与服务水平双重约束的多产品报童补货模型能够带来更大的收益。2) 考虑服务水平约束，随着服务水平的增大，成本增加速度越来越快，所以运营企业需要选择合理的服务水平使得成本控制在较低的水平。</p></sec><sec id="s2"><title>关键词</title><p>自动售货机，补货策略，多产品报童模型，拉格朗日函数</p></sec><sec id="s3"><title>Replenishment Strategy of Vending Machine Based on Multi Product Newsboy Model<sup> </sup></title><p>Yuting Lu</p><p>XURI School of Business Administration, Donghua University, Shanghai</p><p><img src="//html.hanspub.org/file/6-2710399x4_hanspub.png" /></p><p>Received: Nov. 4<sup>th</sup>, 2020; accepted: Nov. 19<sup>th</sup>, 2020; published: Nov. 26<sup>th</sup>, 2020</p><p><img src="//html.hanspub.org/file/6-2710399x5_hanspub.png" /></p></sec><sec id="s4"><title>ABSTRACT</title><p>This paper takes the vending machine of a brand in Shanghai Metro as the research object. Considering that vending machine is different from other traditional stores, each commodity has its own fixed aisle and its capacity is limited. Moreover, frequent out of stock will bring poor consumption experience to customers, so the service will be provided. Considering the level and taking the demand distribution forecast as the input, a multi product newsboy replenishment model based on the dual constraints of channel capacity and service level is constructed. Lagrange function and KKT multiplier are introduced to solve the model. The results show that: 1) Compared with the original way of replenishing all the vending machines in each replenishment period, the multi product newsboy replenishment model based on the dual constraints of channel capacity and service level can bring more benefits. 2) Considering the service level constraint, with the increase of service level, the cost increases faster and faster, so the operating enterprises need to choose a reasonable service level to control the cost at a lower level.</p><p>Keywords:Vending Machine, Replenishment Strategy, Multi Product Newsboy Model, Lagrange Function</p><disp-formula id="hanspub.38816-formula46"><graphic xlink:href="//html.hanspub.org/file/6-2710399x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2020 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/6-2710399x7_hanspub.png" /> <img src="//html.hanspub.org/file/6-2710399x8_hanspub.png" /></p></sec><sec id="s5"><title>1. 引言</title><p>自动售货机作为零售业发展的新形势，近几年在国内发展迅猛。在人力成本日益增加的今天，自动售货机能大大降低人力成本和店铺租金，还能24小时营业，全年无休。其占地面积小，可以实现无人化运营，具有独特的优势。</p><p>自动售货机发展面临巨大机遇的同时，如何更加高效管理售货机的运营也成了亟待解决的问题。目前对售货机的自动化管理文献并不多。自动售货机提供的商品多为快速消费品，单位价值低，消耗周期短，而且其品牌忠诚度不高，一旦缺货消费者往往会选择购买替代品或者通过其他周边商铺进行购买，而不是等待补货商品的到来。售货机的缺货状态不仅严重影响了收益，拉低了顾客服务水平，频繁的缺货还将给顾客带来较差的消费体验，使得顾客在后续的消费中转而选择其他消费途径。虽然缺货对售货机的运营带来了极为重要的影响，但是做到“随缺随补”是不现实的。首先，地铁站作为一个公共场所，频繁的补货行为给地铁出行的市民及游客带来了较差的视觉体验，影响城市形象；其次，地铁站本身是一个人流量密集场所，为防止拥堵等情况发生，不允许在出行高峰时间段进行补货，比如我们了解到的上海地铁某自动售货机投放公司，根据相关制度规定，该公司一天中只有早晚高峰前后的两次补货机会。再者，每一次补货都需支付一定人工成本，而且补货过程中工作人员会进行断电开机操作，这一过程中顾客无法进行购买。综上所述，我们可以发现，对于决策者来说，为了实现利润最大化，鉴于自动售货机的有限存储空间，在面临每一个补货机会时，需要考虑：1) 是否对该自动售货机进行补货操作。2) 每种商品补多少货。</p></sec><sec id="s6"><title>2. 文献综述</title><p>自动售货机通过补货的方式使得其能在有限的空间约束下将库存维持在理想的水平以获得最大期望利润。报童模型作为优化库存订购决策的重要理论工具，近年来仍是理论研究的热点之一。随着国内学术界对供应链管理中的契约协调、共享经济、风险规避、行为决策科学、带有约束条件的优化决策和模型的求解方法等问题的普遍关注，报童模型基本理论的发展得到了极大的促进。</p><p>随着生产技术的进步和销售环境的复杂化，多产品的生产经营顺应了现实的决策环境而产生，多产品报童模型也被众多研究者关注。很多学者对多产品报童模型进行了深入的研究和推广，如将市场因素中预算限制、生产外包、供应商数量折扣、损失最大限制、预售策略、价格协议、产品可替代等引入到多产品报童模型中，丰富和发展了多产品报童模型的研究。Moon和Silver [<xref ref-type="bibr" rid="hanspub.38816-ref1">1</xref>] 研究了对补货数量总价值有预算约束的多产品报童模型，且考虑了补货的固定成本。给出了两种情况下的动态规划解法，还提出了简单有效的启发式算法。Abdel-Malek和Montanari [<xref ref-type="bibr" rid="hanspub.38816-ref2">2</xref>] 在2005年研究了具有预算约束多产品报童问题解空间的对偶，设计了求解产品最优订购量的算法。该方法时基于拉格朗日乘数、莱布尼茨规则、库恩–塔克条件，必要时可采用这几种方法迭代求解，以获得最佳或接近最佳的解值。该方法的重要特征是它适用于一般概率分布函数，而且可以在约束非常严格的情况下使用。Abdel-Malek和Areeratchakul [<xref ref-type="bibr" rid="hanspub.38816-ref3">3</xref>] 提出了一个采用二次规划方法求解多种边界约束下的多产品的报童模型。他们利用Excel Solver和Lingo等线性规划软件求解出多种约束下报童模型，并依赖于需求分布函数的类型得出了精确的和较优的近似解。还解决了由于产品需求下限可能导致负的最优解，或一些产品订购量的不可行数量。此外，该方法可以处理更多的约束。Niederhoff [<xref ref-type="bibr" rid="hanspub.38816-ref4">4</xref>] 区别于前期学者在研究中试图采用拉格朗日松弛算法或有限需求分布的方法求解多产品报童模型，进而提出了一个近似规划法求解多产品报童模型，该模型用分段线性插值逼近目标函数，有效地解决了多约束下的多商品库存问题。其中产品的需求相互独立，库存产品数量受两个或更多的线性约束，例如预算或容量约束，并用凸规划理论得出一个最优近似解。</p><p>许多学者对多产品报童模型的研究做了大量深入的探讨，构建了许多量化模型，考虑了需求不确定情况下的库存控制策略和联合定价与库存控制策略。学者们也提出了许多求解方法，包括动态规划法等，但大多是采用启发式算法求解模型，例如启发式算法Erlebacher [<xref ref-type="bibr" rid="hanspub.38816-ref5">5</xref>]，动态规划法Moon和Silver [<xref ref-type="bibr" rid="hanspub.38816-ref1">1</xref>]，拉格朗日方法 [<xref ref-type="bibr" rid="hanspub.38816-ref6">6</xref>] 和二次规划法等都有一定的研究，得出最优策略的解或近似解。但是这些带有约束的多产品报童模型都是对产品总体有约束条件，本文所构建的有约束条件的多产品报童问题是基于产品货道容量约束，对单个产品的补货容量有上限要求，在此条件下求最优补货策略，使得利润最大化。</p><p>综上分析，本文从数据、模型、求解方法上对基于多产品报童模型的自动售货机补货策略进行研究。考虑到自动售货机频繁缺货会带来较差的购物体验，使得顾客忠诚度降低，转而选择其他购买渠道，所以将服务水平也考虑在内，构建基于货道容量和服务水平双重约束的多产品报童补货模型。对于模型的求解，引入了拉格朗日函数和KKT乘子进行求解。为了验证模型，利用上海地铁某品牌自动售货机的销售数据进行实证研究。</p></sec><sec id="s7"><title>3. 模型建立</title><sec id="s7_1"><title>3.1. 问题描述</title><p>服务水平是指存货及时满足顾客需求的能力。服务水平对于自动售货机来说尤为重要。如果服务水平过低，消费者在购买时频繁面临缺货状态，则会让消费者产生无法在该售货机上购买所需产品的固有印象，不仅带来了较差的消费体验，而且不利于培养顾客忠诚度。所以商家往往对自动售货机的最低服务水平存在约束。但是过高的服务水平会增加补货成本。基于此建立带有服务水平与货道容量双重约束的多产品报童模型，根据该模型确定最优补货量后计算补货前后成本差值确定是否进行补货。</p><p>不同的服务水平衡量方式，可归结为两种带有服务水平约束的模型：1) 带有平均服务水平约束的模型，用于衡量整个时期库存系统的平均表现；2) 带有最小服务水平约束的模型，用于反映系统任意一个时期可以提供的最小服务水平。如果决策者可以通过经验估计得到缺货成本，则采用模型：(1)有明显的优势；如果服务水平约束在合同中明确给出，则用模型(2)比较好。所以对于自动售货机来说，用平均服务水平衡量较为合适。</p><p>这一模型考虑的问题为：自动售货机销售n种产品，在面临补货机会时，得到下一周期每种商品的需求预测分布函数后，寻求满足给定服务水平的每种产品的最优订购量，使得利润的期望值达到最大。目标函数和约束函数均为非线性函数，该模型是要求解非线性最优化问题。</p></sec><sec id="s7_2"><title>3.2. 创建模型</title><p>对于产品 i = 1 , 2 , ⋯ , n ，本章模型是建立在以下符号和假设的基础上。</p><p>p i ：产品i的售价；</p><p>c i ：产品i的成本；</p><p>X i ：产品i的需求；</p><p>μ i ： X i 的均值；</p><p>σ i ： X i 的方差；</p><p>f i ( x ) ： X i 的概率密度函数；</p><p>F i ( x ) ： X i 的累积分布函数；</p><p>Q i ：产品i补货后最优量；</p><p>s：每件产品的运输费用；</p><p>G：每次补货的固定成本；</p><p>R i ：产品i的货道容量；</p><p>L i ：售货机产品i剩余量。</p><p>对于该模型，做出以下假设：</p><p>1) 产品之间需求相互独立。</p><p>2) 不失一般性， p i − c i &gt; 0 ， p i − c i − s &gt; 0 。</p><p>3) 根据文献所提出的衡量标准，服务水平的定义为</p><p>E S L i = 1 − E S i μ i (1)</p><p>其中 E S L i 为产品i的服务水平， E S i 为产品i的期望缺货量， μ i 为产品i的期望需求量，总服务水平ESL为每个产品的服务水平加权和，即</p><p>E S L = ∑ i = 1 n w i ∗ E S L i (2)</p><p>权重 w i 显示了产品i的服务水平占总体服务水平的重要性， w i 越大，说明产品i的服务水平对总体服务水平的影响越大。总服务水平ESL大于等于目标服务水平TSL，即 E S L ≥ T S L 。</p><p>4) F i ( x ) 连续可微，且当 x &gt; 0 时， F i ( x ) 是严格单调的函数。</p><p>本章的目标是在满足货道容量的约束下，求得每种产品的最优补货量，使得商品总服务水平满足目标约束，并且期望利润达到最大。由于自动售货机销售产品为饮料，保质期较长，所以本期未销售的产品可以在下一期继续按照原价销售，不需要考虑残值。如果对售货机进行补货的操作，则最大利润计算公式为：总期望利润 = 期望收入 − 购买成本 − 产品运输费用 − 固定成本。</p><p>E ( Q ) = ∑ i = 1 n ( ( p i − c i ) ∫ 0 Q i x f i ( x ) + ( p i − c i ) ∫ Q i ∞ Q i f i ( x ) d x − s ( Q i − L i ) ) − G (3)</p><p>根据假设3，可以得到 E S L i = 1 − E S i μ i ， E S i 为产品i的期望缺货量， E S i = ∫ Q i ∞ ( x − Q i ) f i ( x ) d x ，令 1 − T S L = α 得到带有服务水平和货道容量双重约束的自动售货机补货模型为</p><p>max E ( Q ) (4)</p><p>s .t     0 ≤ Q i ≤ R i , i = 1 , 2 , ⋯ , n (5)</p><p>∑ i = 1 n w i μ i ∫ Q i ∞ ( x − Q i ) f i ( x ) d x ≤ α (6)</p></sec><sec id="s7_3"><title>3.3. 模型分析与算法</title><p>本模型的最优解利用拉格朗日方法求解，拉格朗日函数为</p><p>L = − E ( Q ) + ∑ i = 1 n β i ( Q i − R i ) + λ ( ∑ i = 1 n w i μ i ∫ Q i ∞ ( x − Q i ) f i ( x ) d x − α ) (7)</p><p>其中， λ ≥ 0 ， β i ≥ 0   ( i = 1 , 2 , ⋯ , n ) 为拉格朗日乘子。模型的求解为：求解 λ ≥ 0 ， β i ≥ 0   ( i = 1 , 2 , ⋯ , n ) ， Q i ≥ 0   ( i = 1 , 2 , ⋯ , n ) 使得L取得可行解。</p><p>首先忽略所有约束条件，即 λ = 0 ， β i = 0 时得到模型的最优解为：</p><p>Q i ∗ = F i − 1 ( p i − c i − s p i − c i ) , i = 1 , 2 , ⋯ , n (8)</p><p>如果求解得到的 Q i ∗ 满足 Q i ∗ ≤ R i 且 ∑ i = 1 n w i μ i ∫ Q i ∞ ( x − Q i ∗ ) f i ( x ) d x ≤ α ，则 Q i ∗ 为模型的最优解，此时 λ = 0 ， β i = 0 。如果 Q i ∗ 不满足约束条件，得到如下KKT条件</p><p>∂ L ∂ Q i = ( p i − c i + λ w i μ i ) F i ( Q i ) − ( p i − c i − s − β i + λ w i μ i ) = 0 (9)</p><p>β i ( Q i − R i ) = 0 (10)</p><p>λ ( ∑ i = 1 n w i μ i ∫ Q i ∞ ( x − Q i ) f i ( x ) d x − α ) = 0 (11)</p><p>首先考虑方程(9)，当 β i = 0 时， F i ∗ ( Q i ) = p i − c i − s + λ w i μ i p i − c i + λ w i μ i 使得方程2.9成立。 λ 满足</p><p>λ ≤ μ i w i ( c i − p i + s 1 − F ( R i ) ) (12)</p><p>令 Δ i = μ i w i ( c i − p i + s 1 + F ( R i ) ) ， ( i = 1 , 2 , ⋯ , n ) ，假设 Δ i 满足 Δ 1 ≤ Δ 2 ≤ ⋯ ≤ Δ n 。当 0 ≤ λ ≤ Δ i 时，方程(9)和(10)的解满足</p><p>β i = 0 , F i ( Q i ) = p i − c i − s + λ w i μ i p i − c i + λ w i μ i (13)</p><p>当 λ &gt; Δ i 时， β i &gt; 0 ，方程2.10的解满足 Q i = R i 。下面证明存在 Q i = R i 对于方程(9)成立。</p><p>当 β i &gt; 0 时，此时 Q i &gt; R i ，根据 F i ( &#183; ) 定义以及严格单调性可知， F i ∗ ( Q i ) &gt; F ( R i ) 。由方程(13)得到</p><p>F i ∗ ( Q i ) = p i − c i − s + λ w i μ i p i − c i + λ w i μ i &gt; F ( R i ) ,     F i ( Q i ) = p i − c i − s − β i + λ w i μ i p i − c i + λ w i μ i = F ( R i ) (14)</p><p>因为 β i &gt; 0 ， λ ≥ 0 ，根据假设2， p i − c i &gt; 0 ， p i − c i − s &gt; 0 ， w i ≥ 0 ， μ i &gt; 0 ，所以一定存在唯一 β i 使得方程(14)成立。证毕。</p><p>此时方程的解为</p><p>β i = ( 1 − F ( R i ) ) ( p i − c i + λ w i μ i ) − s ,   Q i = R i &gt; 0 。 (15)</p><p>综上可得下面定理。</p><p>定理1：对于任意给定的 λ ≥ 0 ，当 0 ≤ λ ≤ Δ i , ( i = 1 , 2 , ⋯ , n ) 时，方程(9)和方程(10)的解满足(13)；当 λ &gt; Δ i , ( i = 1 , 2 , ⋯ , n ) 时，方程的解满足(15)。为方便叙述，将其记作 β i ( λ ) , ( i = 1 , 2 , ⋯ , n ) 和 Q i ( λ ) , ( i = 1 , 2 , ⋯ , n ) 。</p><p>接下来考虑方程(11)的解。对于方程(11)，令</p><p>G ( λ ) = ∑ i = 1 n w i μ i ∫ Q i ∞ ( x − Q i ) f i ( x ) d x − α , ( i = 1 , 2 , ⋯ , n ) (16)</p><p>对 进行求导，得到</p><p>∂ G ( λ ) ∂ Q i ( λ ) = − w i μ i ( 1 − F i ( Q i ) ) (17)</p><p>对方程(17)两边求关于 λ 的导数，得到</p><p>f i ( Q i ) ⋅ d Q i d λ = w i μ i ⋅ s + β ( − c i + p i + λ w i μ i ) 2 μ i (18)</p><p>因为 s &gt; 0 ， β ≥ 0 ， f i ( Q i ) ≥ 0 ， F i ( Q i ) ≤ 1 ， w ≥ 0 ， μ i &gt; 0 ，所以 d Q i d λ ≥ 0 ， ∂ G ( λ ) ∂ Q i ( λ ) ≤ 0 , ( i = 1 , 2 , ⋯ , n ) ，所以 ∂ G ( λ ) ∂ λ ≤ 0 ， G ( λ ) 是关于 λ 的减函数。</p><p>当 0 ≤ λ ≤ Δ 1 时，根据定理1可以得到，对于任意 i = 1 , 2 , ⋯ , n</p><p>β i = 0 , F i ( Q i ) = p i − c i − s + λ w i μ i p i − c i + λ w i μ i (19)</p><p>此时</p><p>G ( λ ) = ∑ i = 1 n w i μ i ∫ Q i ∞ ( x − Q i ) f i ( x ) d x − α , ( i = 1 , 2 , ⋯ , n ) (20)</p><p>当 λ &gt; Δ 1 时，假设 Δ k ≤ λ &lt; Δ k + 1 ， k = 1 , 2 , ⋯ , n ，则对于任意 i = 1 , 2 , ⋯ , k</p><p>β i = ( 1 − F ( R i ) ) ( p i − c i + λ w i μ i ) − s ,   Q i = R i (21)</p><p>此时</p><p>G ( λ ) = ∑ i = 1 k w i μ i ∫ R i ∞ ( x − R i ) f i ( x ) d x + ∑ i = k + 1 n w i μ i ∫ Q i ∞ ( x − R i ) f i ( x ) d x − α (22)</p><p>假设 0 ≤ λ &lt; Δ 1 ， k = 1 , 2 , ⋯ , n ，则</p><p>因为 G ( λ ) 是关于 λ 的减函数，当 λ = 0 时， Q i ( 0 ) = Q i ∗ ， G ( λ ) &gt; 0 恒成立。</p><p>由(27)可知 Q i 是 λ 的增函数， G ( λ ) 是关于 λ 的减函数，使得方程有解，需要满足</p><p>∑ i = 1 n w i μ i ∫ R i ∞ ( x − R i ) f i ( x ) d x − α &lt; 0 (23)</p><p>则存在 λ 满足 λ &gt; 0 使得 G ( λ ) = 0 。否则不存在解。</p><p>综上所述可以得到定理2。</p><p>定理2：如果存在 λ ≥ 0 ，使得 Q i ≥ 0 ， i = 1 , 2 , ⋯ , n ，同时满足方程(9)和(10)，并且满足方程(11)，即 G ( λ ) = 0 ，则 Q i ( λ ) ， i = 1 , 2 , ⋯ , n 为该模型的最优解。</p><p>综上所示，下面给出求解最优补货量的算法流程图如图1。</p><p>图1. 求解最优补货量的算法流程图</p><p>算法2.1 求最优补货策略的算法</p><p>Step 0 输入参数， ε &gt; 0 ；取值 λ = 0 ， β = 0 ，根据式2.8计算 Q i ∗ ，若 Q i ∗ ≤ R i 且 G ( λ ) &lt; 0 ，转step 15。</p><p>Step 1 计算 Δ i ，令 Δ 1 ≤ Δ 2 ≤ ⋯ ≤ Δ n ， λ 取值 Δ 1 ，代入式2.16计算 G ( λ ) 。如果 G ( λ ) = 0 ，转step 15；如果 G ( λ ) &gt; 0 ，转step 2；如果 G ( λ ) &lt; 0 ，转step 9。</p><p>Step 2 根据式(23)进行计算，如果式(23)值不成立，输出“无解”；否则转step 3。</p><p>Step 3 计算满足下面条件的整数k： Δ 1 ≤ ⋯ ≤ Δ k ≤ λ ≤ Δ k + 1 ≤ ⋯ ≤ Δ n ，代入式2.22计算 G ( λ ) 。若 G ( λ ) = 0 ，转step 15；若 G ( λ ) &gt; 0 ，转step 4；若 G ( λ ) &lt; 0 ，转step 5。</p><p>Step 4 λ = λ + ε ，转step 3。</p><p>Step 5 令 λ U = λ + ε ， λ L = λ ， λ = λ U + λ L 2 。</p><p>Step 6 将 代入式2.22计算 G ( λ ) 。若 G ( λ ) = 0 ，转step 15；若 G ( λ ) &gt; 0 ，转step 7；若 G ( λ ) &lt; 0 ，转step 8。</p><p>Step 7 令 λ L = λ ， λ = λ U + λ L 2 ，转step 6。</p><p>Step 8 令 λ U = λ ， λ = λ U + λ L 2 ，转step 6。</p><p>Step 9 令 λ = λ − ε ，转step 10。</p><p>Step 10 根据2.20计算 G ( λ ) ，若 G ( λ ) = 0 ，转step 15；若 G ( λ ) &lt; 0 ，转step 11；若 G ( λ ) &gt; 0 ，转step 5。</p><p>Step 11 令 λ = λ − ε ，转step 10。</p><p>Step 12 将 λ 代入2.20计算 G ( λ ) ，若 G ( λ ) = 0 ，转step 15；若 G ( λ ) &lt; 0 ，转step 13；若 G ( λ ) &gt; 0 ，转step 14。</p><p>Step 13 令 λ U = λ ， λ = λ U + λ L 2 ，转step 12。</p><p>Step 14 令 λ L = λ ， λ = λ U + λ L 2 ，转step 12。</p><p>Step 15 代入式2.5，计算 E ( Q i ) ，输出 Q i ∗ 。</p></sec></sec><sec id="s8"><title>4. 实验仿真</title><sec id="s8_1"><title>4.1. 数据准备</title><p>本文所用数据为上海某品牌自动售货机的销售流水细目，原始数据的形式如图2所示。数据为自动售货机每天销售的流水数据，一共有27个字段，分别是，订单编号，订单号，营运组，设备名称，场所类型，场所名/区，设备生产厂商，微信唯一标识，机器订单，商品名称，订单类型，交易单号，OPENID，支付类型，订单名，总金额(单位：元)，实际支付(单位：元)，支付状态，退款状态，订单状态，出货状态，出货失败码，付款完成时间，创建时间，线下退款交易单号，发放积分和抵扣积分。</p><p>图2. 某自动售货机销售流水细目示例</p><p>为了得到单台自动售货机的日销量，首先将销售流水细目导入数据库，统计单台售货机每种商品的日销售量。统计后的数据如表1。</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Statistical example of daily sales volume of each commodity of a single vending machin</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >行标签</th><th align="center" valign="middle" >阿萨姆原味奶茶 500 ml</th><th align="center" valign="middle" >矿泉水 570 ml</th><th align="center" valign="middle" >海之言柠檬味500 ml</th><th align="center" valign="middle" >天然低钠矿泉水 500 ml</th><th align="center" valign="middle" >可乐 600 ml</th><th align="center" valign="middle" >瓶装冰红茶 500 ml</th><th align="center" valign="middle" >无糖乌龙茶 500 ml</th><th align="center" valign="middle" >汽水 600 ml</th><th align="center" valign="middle" >乳酸菌饮品 420 ml</th><th align="center" valign="middle" >燕麦麦芽乳 可可味 250 ml</th><th align="center" valign="middle" >无糖大麦茶 500 ml</th><th align="center" valign="middle" >无糖绿茶 500 ml</th></tr></thead><tr><td align="center" valign="middle" >2018/6/9</td><td align="center" valign="middle" >8</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >5</td><td align="center" valign="middle" >1</td><td align="center" valign="middle" >8</td><td align="center" valign="middle" >1</td><td align="center" valign="middle" >8</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >5</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >1</td></tr><tr><td align="center" valign="middle" >2018/6/10</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >8</td><td align="center" valign="middle" >8</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >1</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >1</td><td align="center" valign="middle" >2</td></tr><tr><td align="center" valign="middle" >2018/6/11</td><td align="center" valign="middle" >8</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >1</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >18</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >5</td><td align="center" valign="middle" >8</td><td align="center" valign="middle" >6</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >1</td><td align="center" valign="middle" >2</td></tr><tr><td align="center" valign="middle" >2018/6/12</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >7</td><td align="center" valign="middle" >5</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >14</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >8</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >6</td><td align="center" valign="middle" ></td></tr><tr><td align="center" valign="middle" >2018/6/13</td><td align="center" valign="middle" >6</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >1</td><td align="center" valign="middle" >11</td><td align="center" valign="middle" >7</td><td align="center" valign="middle" >6</td><td align="center" valign="middle" >7</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" ></td><td align="center" valign="middle" >6</td><td align="center" valign="middle" >2</td></tr><tr><td align="center" valign="middle" >2018/6/14</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >7</td><td align="center" valign="middle" >27</td><td align="center" valign="middle" >6</td><td align="center" valign="middle" >5</td><td align="center" valign="middle" >12</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >6</td><td align="center" valign="middle" >1</td></tr><tr><td align="center" valign="middle" >2018/6/15</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >11</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >6</td><td align="center" valign="middle" >12</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >11</td><td align="center" valign="middle" >9</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >4</td></tr><tr><td align="center" valign="middle" >2018/6/16</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >12</td><td align="center" valign="middle" >8</td><td align="center" valign="middle" >1</td><td align="center" valign="middle" >16</td><td align="center" valign="middle" ></td><td align="center" valign="middle" >6</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >5</td><td align="center" valign="middle" ></td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >7</td></tr><tr><td align="center" valign="middle" >2018/6/17</td><td align="center" valign="middle" >5</td><td align="center" valign="middle" >17</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >12</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >9</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >6</td><td align="center" valign="middle" >1</td><td align="center" valign="middle" >3</td></tr></tbody></table></table-wrap><p>表1. 单台售货机每种商品的日销售量统计示例</p><p>为了验证本文模型，选取了静安寺站台其中一台售货机的销售情况进行验证。选取的时间为2018年6月1日至2018年7月7日。对原销售流水数据进行清洗，统计后得到，该自动售货机在这段时间内共销售12种商品如表2。这12种商品的销量统计时序图如图3所示。</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> Description of sales characteristics of a certain cargo aircraf</title></caption><table><tbody><thead><tr><th align="center" valign="middle" ></th><th align="center" valign="middle" >阿萨姆原味奶茶 500 ml</th><th align="center" valign="middle" >矿泉水 570 ml</th><th align="center" valign="middle" >海之言柠檬味500 ml</th><th align="center" valign="middle" >天然低钠矿泉水 500 ml</th><th align="center" valign="middle" >可乐600 ml</th><th align="center" valign="middle" >瓶装冰红茶 500 ml</th><th align="center" valign="middle" >无糖乌龙茶 500 ml</th><th align="center" valign="middle" >汽水 600 ml</th><th align="center" valign="middle" >乳酸菌饮品 420 ml</th><th align="center" valign="middle" >燕麦麦芽乳 可可味250 ml</th><th align="center" valign="middle" >无糖大麦茶 500 ml</th><th align="center" valign="middle" >无糖绿茶 500 ml</th></tr></thead><tr><td align="center" valign="middle" >count</td><td align="center" valign="middle" >37.00</td><td align="center" valign="middle" >37.00</td><td align="center" valign="middle" >37.00</td><td align="center" valign="middle" >37.00</td><td align="center" valign="middle" >37.00</td><td align="center" valign="middle" >37.00</td><td align="center" valign="middle" >37.00</td><td align="center" valign="middle" >37.00</td><td align="center" valign="middle" >37.00</td><td align="center" valign="middle" >37.00</td><td align="center" valign="middle" >37.00</td><td align="center" valign="middle" >37.00</td></tr><tr><td align="center" valign="middle" >mean</td><td align="center" valign="middle" >5.22</td><td align="center" valign="middle" >7.70</td><td align="center" valign="middle" >4.16</td><td align="center" valign="middle" >4.43</td><td align="center" valign="middle" >13.00</td><td align="center" valign="middle" >5.38</td><td align="center" valign="middle" >5.49</td><td align="center" valign="middle" >6.03</td><td align="center" valign="middle" >4.08</td><td align="center" valign="middle" >2.03</td><td align="center" valign="middle" >3.24</td><td align="center" valign="middle" >2.78</td></tr><tr><td align="center" valign="middle" >std</td><td align="center" valign="middle" >2.23</td><td align="center" valign="middle" >3.94</td><td align="center" valign="middle" >2.58</td><td align="center" valign="middle" >2.15</td><td align="center" valign="middle" >6.84</td><td align="center" valign="middle" >2.73</td><td align="center" valign="middle" >2.71</td><td align="center" valign="middle" >3.58</td><td align="center" valign="middle" >2.30</td><td align="center" valign="middle" >1.48</td><td align="center" valign="middle" >2.01</td><td align="center" valign="middle" >1.75</td></tr><tr><td align="center" valign="middle" >min</td><td align="center" valign="middle" >1.00</td><td align="center" valign="middle" >1.00</td><td align="center" valign="middle" >0.00</td><td align="center" valign="middle" >1.00</td><td align="center" valign="middle" >2.00</td><td align="center" valign="middle" >0.00</td><td align="center" valign="middle" >0.00</td><td align="center" valign="middle" >0.00</td><td align="center" valign="middle" >0.00</td><td align="center" valign="middle" >0.00</td><td align="center" valign="middle" >0.00</td><td align="center" valign="middle" >0.00</td></tr><tr><td align="center" valign="middle" >25%</td><td align="center" valign="middle" >3.00</td><td align="center" valign="middle" >5.00</td><td align="center" valign="middle" >2.00</td><td align="center" valign="middle" >3.00</td><td align="center" valign="middle" >8.00</td><td align="center" valign="middle" >3.00</td><td align="center" valign="middle" >3.00</td><td align="center" valign="middle" >3.00</td><td align="center" valign="middle" >2.00</td><td align="center" valign="middle" >1.00</td><td align="center" valign="middle" >2.00</td><td align="center" valign="middle" >2.00</td></tr><tr><td align="center" valign="middle" >50%</td><td align="center" valign="middle" >5.00</td><td align="center" valign="middle" >8.00</td><td align="center" valign="middle" >4.00</td><td align="center" valign="middle" >4.00</td><td align="center" valign="middle" >12.00</td><td align="center" valign="middle" >5.00</td><td align="center" valign="middle" >5.00</td><td align="center" valign="middle" >6.00</td><td align="center" valign="middle" >4.00</td><td align="center" valign="middle" >2.00</td><td align="center" valign="middle" >3.00</td><td align="center" valign="middle" >2.00</td></tr><tr><td align="center" valign="middle" >75%</td><td align="center" valign="middle" >6.00</td><td align="center" valign="middle" >9.00</td><td align="center" valign="middle" >6.00</td><td align="center" valign="middle" >6.00</td><td align="center" valign="middle" >18.00</td><td align="center" valign="middle" >8.00</td><td align="center" valign="middle" >7.00</td><td align="center" valign="middle" >9.00</td><td align="center" valign="middle" >6.00</td><td align="center" valign="middle" >3.00</td><td align="center" valign="middle" >4.00</td><td align="center" valign="middle" >3.00</td></tr><tr><td align="center" valign="middle" >max</td><td align="center" valign="middle" >11.00</td><td align="center" valign="middle" >19.00</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >31.00</td><td align="center" valign="middle" >11.00</td><td align="center" valign="middle" >11.00</td><td align="center" valign="middle" >13.00</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >6.00</td><td align="center" valign="middle" >8.00</td><td align="center" valign="middle" >7.00</td></tr></tbody></table></table-wrap><p>表2. 某台售货机商品的销量特征描述</p><p>图3. 某台售货机商品的销量统计时序图</p><p>为了更直观的观察数据，做出这12种商品在这段时间内销量的箱型图，如图4所示。箱型图标注了数据的中位数、四分位数和异常值。通过统计我们可以得到，在该自动售货机销售的商品中，可乐600 ml是最为畅销的商品，销量远远领先与其他商品，最高销量一天中达到了31，而且其销量跨度较大，最差一天的销量只有2。除了可乐600 ml之外，销量排名前三的商品为矿泉水570 ml、汽水600 ml和无糖乌龙茶500 ml，这些商品都是比较受消费者欢迎的商品。而一些商品的销量较小，比如燕麦麦芽乳可可味250 ml的平均销量只有1.62。对数据进行统计后，本文采用这段时间内商品销量的平均值与方差作为补货模型的数据输入。</p><p>图4. 某台售货机商品销量箱型图</p></sec><sec id="s8_2"><title>4.2. 基于货道容量和服务水平双重约束的多产品报童补货模型实证</title><p>考虑受到服务水平和货道容量双重约束的补货模型，商品的权重满足以下公式：</p><p>w i = p i u i / ∑ i = 1 n p i u i</p><p>计算当服务水平约束设定为0.9时，商品的最优补货量。本模型用到的其余参数与不受服务水平约束的参数相同，每瓶水的补货费用为0.5元，每进行一次补货所需固定成本为10元，如下表3所示。</p><table-wrap id="table3" ><label><xref ref-type="table" rid="table3">Table 3</xref></label><caption><title> Model parameter</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >商品名称</th><th align="center" valign="middle" >u</th><th align="center" valign="middle" >σ</th><th align="center" valign="middle" >p<sub>i</sub></th><th align="center" valign="middle" >c<sub>i</sub></th><th align="center" valign="middle" >R</th><th align="center" valign="middle" >L</th><th align="center" valign="middle" >w</th></tr></thead><tr><td align="center" valign="middle" >原味奶茶500 ml</td><td align="center" valign="middle" >4.889168</td><td align="center" valign="middle" >1.849454</td><td align="center" valign="middle" >5.0</td><td align="center" valign="middle" >3.333333</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >1</td><td align="center" valign="middle" >0.088978</td></tr><tr><td align="center" valign="middle" >矿泉水570 ml</td><td align="center" valign="middle" >9.280399</td><td align="center" valign="middle" >3.250295</td><td align="center" valign="middle" >5.0</td><td align="center" valign="middle" >3.571429</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >0.168893</td></tr><tr><td align="center" valign="middle" >海之言柠檬味500 ml</td><td align="center" valign="middle" >5.262612</td><td align="center" valign="middle" >2.032626</td><td align="center" valign="middle" >4.0</td><td align="center" valign="middle" >2.857143</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >0.076619</td></tr><tr><td align="center" valign="middle" >天然低钠矿泉水500 ml</td><td align="center" valign="middle" >3.672762</td><td align="center" valign="middle" >1.439371</td><td align="center" valign="middle" >4.0</td><td align="center" valign="middle" >2.857143</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >0.053472</td></tr><tr><td align="center" valign="middle" >可乐600 ml</td><td align="center" valign="middle" >8.164888</td><td align="center" valign="middle" >5.549118</td><td align="center" valign="middle" >4.0</td><td align="center" valign="middle" >2.857143</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >0.118874</td></tr><tr><td align="center" valign="middle" >瓶装冰红茶500 ml</td><td align="center" valign="middle" >5.854491</td><td align="center" valign="middle" >2.226164</td><td align="center" valign="middle" >4.0</td><td align="center" valign="middle" >2.857143</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >0.085236</td></tr><tr><td align="center" valign="middle" >无糖乌龙茶500 ml</td><td align="center" valign="middle" >5.973120</td><td align="center" valign="middle" >2.092590</td><td align="center" valign="middle" >4.2</td><td align="center" valign="middle" >3.000000</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >3</td><td align="center" valign="middle" >0.091312</td></tr><tr><td align="center" valign="middle" >汽水600 ml</td><td align="center" valign="middle" >5.914194</td><td align="center" valign="middle" >3.228664</td><td align="center" valign="middle" >3.0</td><td align="center" valign="middle" >1.875000</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >0.064579</td></tr><tr><td align="center" valign="middle" >乳酸菌饮品420 ml</td><td align="center" valign="middle" >2.804960</td><td align="center" valign="middle" >1.602748</td><td align="center" valign="middle" >6.5</td><td align="center" valign="middle" >4.642857</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >0.066361</td></tr><tr><td align="center" valign="middle" >燕麦麦芽乳 可可味250 ml</td><td align="center" valign="middle" >2.167938</td><td align="center" valign="middle" >1.160973</td><td align="center" valign="middle" >7.0</td><td align="center" valign="middle" >5.000000</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >2</td><td align="center" valign="middle" >0.055236</td></tr><tr><td align="center" valign="middle" >无糖大麦茶500 ml</td><td align="center" valign="middle" >3.641936</td><td align="center" valign="middle" >1.334000</td><td align="center" valign="middle" >5.0</td><td align="center" valign="middle" >3.571429</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >5</td><td align="center" valign="middle" >0.066279</td></tr><tr><td align="center" valign="middle" >无糖绿茶500 ml</td><td align="center" valign="middle" >3.525503</td><td align="center" valign="middle" >1.448353</td><td align="center" valign="middle" >5.0</td><td align="center" valign="middle" >3.571429</td><td align="center" valign="middle" >10</td><td align="center" valign="middle" >5</td><td align="center" valign="middle" >0.064160</td></tr></tbody></table></table-wrap><p>表3. 模型参数</p><p>计算得到当服务水平约束为0.9时，商品的最优库存量如下表4所示。可以看到加上服务水平约束后，为了达到服务水平，每一种商品的存量都增加了，而且爱夸矿泉水和可口可乐这两种商品的最优库存量都已经达到了货道最大容量。计算此时的最优利润为42.39，与不受服务水平约束的补货模型期望利润为42.53相比，期望利润降低了0.14。</p><table-wrap id="table4" ><label><xref ref-type="table" rid="table4">Table 4</xref></label><caption><title> Optimal inventory of good</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >商品</th><th align="center" valign="middle" >原味奶茶 500 ml</th><th align="center" valign="middle" >矿泉水 570 ml</th><th align="center" valign="middle" >海之言柠檬味 500 ml</th><th align="center" valign="middle" >天然低钠矿泉水 500 ml</th><th align="center" valign="middle" >可乐600 ml</th><th align="center" valign="middle" >瓶装冰红茶 500 ml</th></tr></thead><tr><td align="center" valign="middle" >Q<sup>*</sup></td><td align="center" valign="middle" >6.0818</td><td align="center" valign="middle" >10.0000</td><td align="center" valign="middle" >5.9364</td><td align="center" valign="middle" >4.1499</td><td align="center" valign="middle" >10.0000</td><td align="center" valign="middle" >6.5925</td></tr><tr><td align="center" valign="middle" >商品</td><td align="center" valign="middle" >无糖乌龙茶 500 ml</td><td align="center" valign="middle" >汽水600 ml</td><td align="center" valign="middle" >乳酸菌饮品 420 ml</td><td align="center" valign="middle" >燕麦麦芽乳可可味 250 ml</td><td align="center" valign="middle" >无糖大麦茶 500 ml</td><td align="center" valign="middle" >无糖绿茶 500 ml</td></tr><tr><td align="center" valign="middle" >Q<sup>*</sup></td><td align="center" valign="middle" >6.7653</td><td align="center" valign="middle" >6.8133</td><td align="center" valign="middle" >4.0009</td><td align="center" valign="middle" >3.0981</td><td align="center" valign="middle" >4.3565</td><td align="center" valign="middle" >4.3013</td></tr></tbody></table></table-wrap><p>表4. 商品的最优库存量</p><p>将服务水平约束从0.85~0.95，每隔0.01计算每一种商品的最优补货量。从表5中可以看到，当服务水平低于0.88的时候，最优每种商品的补货量都相同。计算不受服务水平约束时的模型达到最优补货量时的服务水平，值为0.8787，所以在服务水平约束低于0.8787时，商品的最优补货量只受到货道容量约束，模型退化为只受货道容量约束的补货模型。随着服务水平的提高，商品的数量都在不断增加，当服务水平达到0.9时，商品可乐600 ml受到货道容量约束，达到了最大值。</p><table-wrap id="table5" ><label><xref ref-type="table" rid="table5">Table 5</xref></label><caption><title> The relationship between optimal inventory and </title></caption><table><tbody><thead><tr><th align="center" valign="middle" >TSL</th><th align="center" valign="middle" >原味奶茶 500 ml</th><th align="center" valign="middle" >矿泉水 570 ml</th><th align="center" valign="middle" >海之言柠檬味 500 ml</th><th align="center" valign="middle" >天然低钠矿泉水 500 ml</th><th align="center" valign="middle" >可乐600 ml</th><th align="center" valign="middle" >瓶装冰红茶 500 ml</th><th align="center" valign="middle" >无糖乌龙茶 500 ml</th><th align="center" valign="middle" >汽水 600 ml</th><th align="center" valign="middle" >乳酸菌饮品 420 ml</th><th align="center" valign="middle" >燕麦麦芽乳可可味250 ml</th><th align="center" valign="middle" >无糖大麦茶 500 ml</th><th align="center" valign="middle" >无糖绿茶 500 ml</th></tr></thead><tr><td align="center" valign="middle" >0.85</td><td align="center" valign="middle" >5.86</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >5.58</td><td align="center" valign="middle" >3.90</td><td align="center" valign="middle" >9.04</td><td align="center" valign="middle" >6.20</td><td align="center" valign="middle" >6.41</td><td align="center" valign="middle" >6.37</td><td align="center" valign="middle" >3.79</td><td align="center" valign="middle" >2.95</td><td align="center" valign="middle" >4.16</td><td align="center" valign="middle" >4.08</td></tr><tr><td align="center" valign="middle" >0.86</td><td align="center" valign="middle" >5.86</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >5.58</td><td align="center" valign="middle" >3.90</td><td align="center" valign="middle" >9.04</td><td align="center" valign="middle" >6.20</td><td align="center" valign="middle" >6.41</td><td align="center" valign="middle" >6.37</td><td align="center" valign="middle" >3.79</td><td align="center" valign="middle" >2.95</td><td align="center" valign="middle" >4.16</td><td align="center" valign="middle" >4.08</td></tr><tr><td align="center" valign="middle" >0.87</td><td align="center" valign="middle" >5.86</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >5.58</td><td align="center" valign="middle" >3.90</td><td align="center" valign="middle" >9.04</td><td align="center" valign="middle" >6.20</td><td align="center" valign="middle" >6.41</td><td align="center" valign="middle" >6.37</td><td align="center" valign="middle" >3.79</td><td align="center" valign="middle" >2.95</td><td align="center" valign="middle" >4.16</td><td align="center" valign="middle" >4.08</td></tr><tr><td align="center" valign="middle" >0.88</td><td align="center" valign="middle" >5.87</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >5.60</td><td align="center" valign="middle" >3.91</td><td align="center" valign="middle" >9.09</td><td align="center" valign="middle" >6.23</td><td align="center" valign="middle" >6.43</td><td align="center" valign="middle" >6.39</td><td align="center" valign="middle" >3.80</td><td align="center" valign="middle" >2.96</td><td align="center" valign="middle" >4.17</td><td align="center" valign="middle" >4.10</td></tr><tr><td align="center" valign="middle" >0.89</td><td align="center" valign="middle" >5.97</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >5.76</td><td align="center" valign="middle" >4.03</td><td align="center" valign="middle" >9.53</td><td align="center" valign="middle" >6.40</td><td align="center" valign="middle" >6.59</td><td align="center" valign="middle" >6.59</td><td align="center" valign="middle" >3.90</td><td align="center" valign="middle" >3.03</td><td align="center" valign="middle" >4.26</td><td align="center" valign="middle" >4.19</td></tr><tr><td align="center" valign="middle" >0.9</td><td align="center" valign="middle" >6.08</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >5.94</td><td align="center" valign="middle" >4.15</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >6.59</td><td align="center" valign="middle" >6.77</td><td align="center" valign="middle" >6.81</td><td align="center" valign="middle" >4.00</td><td align="center" valign="middle" >3.10</td><td align="center" valign="middle" >4.36</td><td align="center" valign="middle" >4.30</td></tr><tr><td align="center" valign="middle" >0.91</td><td align="center" valign="middle" >6.25</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >6.19</td><td align="center" valign="middle" >4.33</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >6.87</td><td align="center" valign="middle" >7.02</td><td align="center" valign="middle" >7.16</td><td align="center" valign="middle" >4.16</td><td align="center" valign="middle" >3.21</td><td align="center" valign="middle" >4.51</td><td align="center" valign="middle" >4.46</td></tr><tr><td align="center" valign="middle" >0.92</td><td align="center" valign="middle" >6.46</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >6.49</td><td align="center" valign="middle" >4.54</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >7.19</td><td align="center" valign="middle" >7.32</td><td align="center" valign="middle" >7.56</td><td align="center" valign="middle" >4.34</td><td align="center" valign="middle" >3.34</td><td align="center" valign="middle" >4.68</td><td align="center" valign="middle" >4.65</td></tr><tr><td align="center" valign="middle" >0.93</td><td align="center" valign="middle" >6.71</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >6.83</td><td align="center" valign="middle" >4.78</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >7.57</td><td align="center" valign="middle" >7.66</td><td align="center" valign="middle" >8.06</td><td align="center" valign="middle" >4.57</td><td align="center" valign="middle" >3.50</td><td align="center" valign="middle" >4.88</td><td align="center" valign="middle" >4.87</td></tr><tr><td align="center" valign="middle" >0.94</td><td align="center" valign="middle" >7.05</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >7.27</td><td align="center" valign="middle" >5.09</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >8.05</td><td align="center" valign="middle" >8.11</td><td align="center" valign="middle" >8.71</td><td align="center" valign="middle" >4.86</td><td align="center" valign="middle" >3.71</td><td align="center" valign="middle" >5.15</td><td align="center" valign="middle" >5.16</td></tr><tr><td align="center" valign="middle" >0.95</td><td align="center" valign="middle" >7.56</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >7.91</td><td align="center" valign="middle" >5.55</td><td align="center" valign="middle" >10.00</td><td align="center" valign="middle" >8.75</td><td align="center" valign="middle" >8.76</td><td align="center" valign="middle" >9.70</td><td align="center" valign="middle" >5.31</td><td align="center" valign="middle" >4.02</td><td align="center" valign="middle" >5.54</td><td align="center" valign="middle" >5.59</td></tr></tbody></table></table-wrap><p>表5. 最优库存量与S的关系表</p><p>对服务水平约束从0.85到0.95进行计算相应的期望利润如图5。当服务水平高于0.8787时，每种商品的最优补货量收到服务水平和货道容量的双重约束，随着服务水平的提高，期望利润下降速度越来越快，在TSL从0.85~0.90变化的过程中，期望利润的下降不明显，而当服务水平高于0.9时期望利润下降急剧增大。由于服务水平的提高与期望利润呈现反比关系，维持较高的服务水平需要付出的成本会增加，所以对于商家来说选择合适的服务水平尤为重要。在商品单位补货成本为0.5元的情况下，设定最低服务水平在0.9左右较为合适。</p><p>图5. 最优利润与服务水平的关系示意图</p><p>假定服务水平设定为0.95，当商品单位补货费用S发生变化时，商品的最优库存量如下表6所示。与不受服务水平约束的最优商品存量相比，在S值为0与0.1时存量值相同，此时商品只受货道容量约束，当S值开始增大时，商品受到服务水平和货道容量双重约束，此时需要补货更多的商品来维持总服务水平达到预期水平。当受到服务水平约束后，商品的最优货道存量几乎保持不变，所以此时商品的最优补货量几乎不受到商品单位补货费用的影响。</p><table-wrap id="table6" ><label><xref ref-type="table" rid="table6">Table 6</xref></label><caption><title> The change of optimal inventory with </title></caption><table><tbody><thead><tr><th align="center" valign="middle" >S</th><th align="center" valign="middle" >原味奶茶 500 ml</th><th align="center" valign="middle" >矿泉水570 ml</th><th align="center" valign="middle" >海之言柠檬味 500 ml</th><th align="center" valign="middle" >天然低钠矿泉水 500 ml</th><th align="center" valign="middle" >可乐 600 ml</th><th align="center" valign="middle" >瓶装冰红茶 500 ml</th><th align="center" valign="middle" >无糖乌龙茶 500 ml</th><th align="center" valign="middle" >汽水 600 ml</th><th align="center" valign="middle" >乳酸菌饮品 420 ml</th><th align="center" valign="middle" >燕麦麦芽乳可可味 250 ml</th><th align="center" valign="middle" >无糖大麦茶 500 ml</th><th align="center" valign="middle" >无糖绿茶 500 ml</th></tr></thead><tr><td align="center" valign="middle" >0</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >10.000</td></tr><tr><td align="center" valign="middle" >0.1</td><td align="center" valign="middle" >7.765</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >8.019</td><td align="center" valign="middle" >5.625</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >8.874</td><td align="center" valign="middle" >8.867</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >5.383</td><td align="center" valign="middle" >4.078</td><td align="center" valign="middle" >5.611</td><td align="center" valign="middle" >5.663</td></tr><tr><td align="center" valign="middle" >0.2</td><td align="center" valign="middle" >7.590</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >7.884</td><td align="center" valign="middle" >5.529</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >8.726</td><td align="center" valign="middle" >8.730</td><td align="center" valign="middle" >9.845</td><td align="center" valign="middle" >5.288</td><td align="center" valign="middle" >4.010</td><td align="center" valign="middle" >5.527</td><td align="center" valign="middle" >5.572</td></tr><tr><td align="center" valign="middle" >0.3</td><td align="center" valign="middle" >7.573</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >7.898</td><td align="center" valign="middle" >5.539</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >8.741</td><td align="center" valign="middle" >8.743</td><td align="center" valign="middle" >9.767</td><td align="center" valign="middle" >5.298</td><td align="center" valign="middle" >4.017</td><td align="center" valign="middle" >5.535</td><td align="center" valign="middle" >5.581</td></tr><tr><td align="center" valign="middle" >0.4</td><td align="center" valign="middle" >7.564</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >7.905</td><td align="center" valign="middle" >5.544</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >8.748</td><td align="center" valign="middle" >8.751</td><td align="center" valign="middle" >9.727</td><td align="center" valign="middle" >5.303</td><td align="center" valign="middle" >4.020</td><td align="center" valign="middle" >5.539</td><td align="center" valign="middle" >5.586</td></tr><tr><td align="center" valign="middle" >0.5</td><td align="center" valign="middle" >7.559</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >7.909</td><td align="center" valign="middle" >5.547</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >8.753</td><td align="center" valign="middle" >8.755</td><td align="center" valign="middle" >9.703</td><td align="center" valign="middle" >5.306</td><td align="center" valign="middle" >4.022</td><td align="center" valign="middle" >5.542</td><td align="center" valign="middle" >5.589</td></tr><tr><td align="center" valign="middle" >0.6</td><td align="center" valign="middle" >7.556</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >7.912</td><td align="center" valign="middle" >5.549</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >8.756</td><td align="center" valign="middle" >8.758</td><td align="center" valign="middle" >9.687</td><td align="center" valign="middle" >5.308</td><td align="center" valign="middle" >4.024</td><td align="center" valign="middle" >5.544</td><td align="center" valign="middle" >5.591</td></tr><tr><td align="center" valign="middle" >0.7</td><td align="center" valign="middle" >7.553</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >7.914</td><td align="center" valign="middle" >5.550</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >8.759</td><td align="center" valign="middle" >8.760</td><td align="center" valign="middle" >9.675</td><td align="center" valign="middle" >5.309</td><td align="center" valign="middle" >4.025</td><td align="center" valign="middle" >5.545</td><td align="center" valign="middle" >5.592</td></tr><tr><td align="center" valign="middle" >0.8</td><td align="center" valign="middle" >7.552</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >7.916</td><td align="center" valign="middle" >5.552</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >8.760</td><td align="center" valign="middle" >8.762</td><td align="center" valign="middle" >9.666</td><td align="center" valign="middle" >5.310</td><td align="center" valign="middle" >4.026</td><td align="center" valign="middle" >5.546</td><td align="center" valign="middle" >5.593</td></tr><tr><td align="center" valign="middle" >0.9</td><td align="center" valign="middle" >7.550</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >7.917</td><td align="center" valign="middle" >5.552</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >8.762</td><td align="center" valign="middle" >8.763</td><td align="center" valign="middle" >9.659</td><td align="center" valign="middle" >5.311</td><td align="center" valign="middle" >4.026</td><td align="center" valign="middle" >5.547</td><td align="center" valign="middle" >5.594</td></tr><tr><td align="center" valign="middle" >1</td><td align="center" valign="middle" >7.549</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >7.918</td><td align="center" valign="middle" >5.553</td><td align="center" valign="middle" >10.000</td><td align="center" valign="middle" >8.763</td><td align="center" valign="middle" >8.764</td><td align="center" valign="middle" >9.654</td><td align="center" valign="middle" >5.312</td><td align="center" valign="middle" >4.027</td><td align="center" valign="middle" >5.548</td><td align="center" valign="middle" >5.595</td></tr></tbody></table></table-wrap><p>表6. 商品的最优库存量随S的变化情况</p><p>图6是原味奶茶商品的受到约束之后的补货量对比，可以看到当S值为0.2时商品补货量受到了服务水平和货道容量的双重约束，不受服务水平约束时商品受到单位商品补货费用的影响，随着补货费用的增大而不断减小，使得期望利润达到最优，当S值为0.8时不再进行补货，而受到服务水平约束后，为了达到目标服务水平，商品最优补货量几乎不发生变化。</p><p>图6. 受到TSL约束后商品最优库存量</p><p>在服务水平设定为0.95时，将只受到货道容量约束，受到服务水平与货道容量约束，以及原有的补货方案进行对比如图7所示，可以看到随着单位商品补货费用的增大，原有的补货方案期望利润值最低，由于不考虑服务水平约束时，当补货后的期望无法达到不采取补货策略的利润时，及时停止补货，所以期望利润是最高的。但是这种模型有一个缺点，就是不考虑总体的服务水平，模型加入服务水平约束，虽然期望利润低于不受约束，但是能够将商品的服务水平维持在较优的水平，这对于商家维持良好的品牌形象，给消费者带来良好的消费体验是十分重要的。所以商家在指定补货策略时要选取一个平衡点，既能够保证较优的顾客服务水平，又能保证良好的期望利润。由于现在的人工成本在不断上涨，在今后的发展中，商品的单位补货成本会不断上涨，所以本文所构建的补货模型对于自动售货机的实际运营有着较好的现实意义。</p><p>图7. 模型利润与S的变化关系图</p></sec></sec><sec id="s9"><title>5. 结论</title><p>对文中构建的基于报童的自动售货机补货模型进行了实证研究，首先选取了某台自动售货机2018年6月份和7月份的销售流水细目作为数据来源，对数据进行清洗统计后，将统计数据作为补货模型的数据来源，构建了基于货道容量和服务水平双重约束的自动售货机补货模型。对模型进行实证研究后发现，相较于原先直接把货道补满的补货模型，该模型能够获得更大的期望收益，而且随着单位商品补货费用的增加，利润差越大，随着市场人工成本不断上涨的趋势，该模型具有较强的实用性。研究模型发现随着服务水平约束的增强，期望利润的下降速度越来越快，所以商家需要寻找一个平衡点使得既能够将服务水平维持较高的水平，又能够得到较好的期望收益。</p></sec><sec id="s10"><title>文章引用</title><p>鲁宇婷. 基于多产品报童模型的自动售货机补货策略研究Replenishment Strategy of Vending Machine Based on Multi Product Newsboy Model[J]. 服务科学和管理, 2020, 09(06): 414-428. https://doi.org/10.12677/SSEM.2020.96052</p></sec><sec id="s11"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.38816-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">Moon, I. and Silver, E.A. (2000) The Multi-Item Newsvendor Problem with a Budget Constraint and Fixed Ordering Costs. Journal of the Operational Research Society, 51, 602-608. &lt;br&gt;https://doi.org/10.1057/palgrave.jors.2600938</mixed-citation></ref><ref id="hanspub.38816-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">Abdel-Malek, L.L. and Montanari, R. (2005) On the Mul-ti-Product Newsboy Problem with Two Constraints. Computers &amp; Operations Research, 32, 2095-2116. &lt;br&gt;https://doi.org/10.1016/j.cor.2004.02.002</mixed-citation></ref><ref id="hanspub.38816-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">Abdel-Malek, L.L. and Areeratchakul, N. (2007) A Quadratic Pro-gramming Approach to the Multi-Product Newsvendor Problem with Side Constraints. European Journal of Operational Research, 176, 1607-1619.  
&lt;br&gt;https://doi.org/10.1016/j.ejor.2005.11.002</mixed-citation></ref><ref id="hanspub.38816-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">Niederhoff, J.A. (2007) Using Separable Programming to Solve the Multi-Product Multiple Ex-Ante Constraint Newsvendor Problem and Extensions. European Journal of Operational Research, 176, 941-955.  
&lt;br&gt;https://doi.org/10.1016/j.ejor.2005.09.046</mixed-citation></ref><ref id="hanspub.38816-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Erlebacher, S.J. (2000) Optimal and Heuristic Solutions for the Multi-Item Newsvendor Problem with a Single Capacity Constraint. Production and Operations Management, 9, 303-318</mixed-citation></ref><ref id="hanspub.38816-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">Zhang, G. (2010) The Multi-Product Newsboy Problem with Supplier Quantity Discounts and a Bud­Get Constraint. European Journal of Operational Research, 206, 350-360. &lt;br&gt;https://doi.org/10.1016/j.ejor.2010.02.038</mixed-citation></ref></ref-list></back></article>