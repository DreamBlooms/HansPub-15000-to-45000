<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">HJWC</journal-id><journal-title-group><journal-title>Hans Journal of Wireless Communications</journal-title></journal-title-group><issn pub-type="epub">2163-3983</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/HJWC.2020.103003</article-id><article-id pub-id-type="publisher-id">HJWC-36210</article-id><article-categories><subj-group subj-group-type="heading"><subject>HJWC20200300000_52258933.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于FPGA的平流层飞艇数传系统的设计与实现
  Design and Implementation of Stratospheric Airship Data Transmission System Based on FPGA
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>赵</surname><given-names>玉梅</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>桑</surname><given-names>明月</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>中国电子科技集团公司第二十七研究所，河南 郑州</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>22</day><month>06</month><year>2020</year></pub-date><volume>10</volume><issue>03</issue><fpage>19</fpage><lpage>27</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  
    目前，平流层飞艇在战场态势感知、情报侦察、电子对抗、遥感对地观测、自然灾害预警预报、中继通信等军用和民用领域具有广阔的应用前景。将飞艇艇上遥测信息通过数传系统传回地面，是实现飞艇各项应用的基础。同时，将艇上图像信息实时传回地面，可以监视飞艇运行状态、姿势等，便于地面及时做出调整和控制，确保飞艇长时间平稳的工作。基于这一目的，在FPGA平台上设计了飞艇遥测数传系统,并给出了各模块的详细设计。该系统已应用于飞艇的飞行实验，实验表明该系统可靠稳定，性能良好。
    At present, stratospheric airship has broad application prospects in military and civil fields such as battlefield situation awareness, intelligence reconnaissance, electronic countermeasures, remote sensing earth observation, natural disaster early warning and prediction, relay communication, etc. The real-time transmission of telemetry information to the ground station is the basis of implementing these applications. And, the real-time transmission of image information to the ground station can monitor the running state and attitude of the airship, which is easy to control and adjust the airship for the ground station. To achieve this point, this paper designs the data transmission system based on FPGA, and provides the operation principle of each module in detail. The system was used in flight test of the airship and excellent performance was achieved. 
  
 
</p></abstract><kwd-group><kwd>平流层飞艇，数传，遥测信息，FPGA, Stratospheric Airship</kwd><kwd> Data Transmission</kwd><kwd> Telemetry Information</kwd><kwd> FPGA</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>基于FPGA的平流层飞艇数传系统的 设计与实现<sup> </sup></title><p>赵玉梅，桑明月</p><p>中国电子科技集团公司第二十七研究所，河南 郑州</p><p>收稿日期：2020年5月21日；录用日期：2020年6月15日；发布日期：2020年6月22日</p><disp-formula id="hanspub.36210-formula1"><graphic xlink:href="//html.hanspub.org/file/1-1730354x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>目前，平流层飞艇在战场态势感知、情报侦察、电子对抗、遥感对地观测、自然灾害预警预报、中继通信等军用和民用领域具有广阔的应用前景。将飞艇艇上遥测信息通过数传系统传回地面，是实现飞艇各项应用的基础。同时，将艇上图像信息实时传回地面，可以监视飞艇运行状态、姿势等，便于地面及时做出调整和控制，确保飞艇长时间平稳的工作。基于这一目的，在FPGA平台上设计了飞艇遥测数传系统,并给出了各模块的详细设计。该系统已应用于飞艇的飞行实验，实验表明该系统可靠稳定，性能良好。</p><p>关键词 :平流层飞艇，数传，遥测信息，FPGA</p><disp-formula id="hanspub.36210-formula2"><graphic xlink:href="//html.hanspub.org/file/1-1730354x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2020 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/1-1730354x7_hanspub.png" /> <img src="//html.hanspub.org/file/1-1730354x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>作为临近空间的主要飞行器的平流层飞艇，由于其在中继通信、导航定位、战略预警、应急预警、遥感观测、情报侦察等领域广泛的应用前景 [<xref ref-type="bibr" rid="hanspub.36210-ref1">1</xref>] [<xref ref-type="bibr" rid="hanspub.36210-ref2">2</xref>] [<xref ref-type="bibr" rid="hanspub.36210-ref3">3</xref>]，受到越来越多的关注，美国、日本、韩国、俄罗斯等都对其展开了研究，并进行了相关实验。且相对于其他航天、航空飞行器，飞艇具有成本低、监视范围广、滞空时间长等优点，我国也对其进行了积极的研究。上海交通大学、中科院、航天科工、北京航天航空大学以及中电38所等国内多个研发单位，从平流层飞艇的通信、遥测遥感、控制等各个方面，对平流层飞艇进行了可行性验证。</p><p>本文设计的数传系统，是飞艇的空地数据通信链路，既可以传递遥测任务数据，又可以传递图像信息，对飞艇的实时监视，控制以及后续数据分析及应用具有十分重要的作用，是飞艇整个系统的关键部分。</p></sec><sec id="s4"><title>2. 飞艇视距测控设备总体设计</title><p>飞艇视距测控按功能主要由艇载视距测控设备、地面便携测控设备等两部分组成，如图1所示。艇载测控设备装载在飞艇上，艇载测控设备主要由数传测控天线、数传测控终端、视频处理机箱等设备组成。飞艇搭载的数传测控设备是飞艇任务的关键设备。主要完成遥测数据、图像数据的接收处理与调制发射任务，同时接收解调与处理后地面设备发射的遥控信号，并将遥控指令发送给艇务计算机和飞控计算机。地面便携测控设备主要由便携天线、收发组件、数传测控终端、数据处理终端、供电设备等组成。地面便携测控设备可根据飞艇飞行情况，运输到指定地点，快速展开部署工作。数传测控终端主要完成对飞艇信号跟踪，遥测数传信号接收解调、遥控指令转发、图像数据显示和视距测控设备监视控制等任务。本文主要分析数传测控设备中的数传系统。</p><p>数传系统收发原理框图如图2所示。艇载数传终端通过网络接收图像压缩编码器发送的图像数据进行缓存，同时将从艇务计算机传送来的遥测数据进行缓存，重新组成数传帧进行传输，产生数据码钟，将数据进行加扰、码型变换，送QPSK调制模块完成QPSK调制、D/A变换、频率变换后输出到天线，天线将数传信号发送回地面。</p><p>图1. 飞艇视距测控设备组成原理框图</p><p>图2. (a) 数传调制；(b) 数传解调原理框图</p><p>地面天线接收到信号后，送入地面数传终端。数传输入信号进行DA变换成数字信号，对数字信号进行数字下变频后得到基带信号，然后进行载波同步，位同步、帧同步和RS译码，将解调出的数据打包后通过网络传送到计算机，通过数据处理，得到遥测信息和图像信息。</p></sec><sec id="s5"><title>3. 系统的FPGA实现</title><sec id="s5_1"><title>3.1. 硬件平台设计</title><p>数传系统艇上调制，地面解调硬件平台框图如图3所示。该平台为软件无线电 [<xref ref-type="bibr" rid="hanspub.36210-ref4">4</xref>] (SDR)平台，通过下载程序可以实现不同的功能。</p><p>ADC选用AD9361，这是一款高性能的射频收发器，有效位数12位，支持频率高达6 G，该器件集射频前端与灵活的混合信号基带部分为一体，集成频率合成器，微处理器提供可配置数字接口。不用变频器便可配置发射频率47 MHz至6 G，接收频率70 M至6 G。通过配置寄存器便可灵活改变射频频率、发射衰减以及接收增益。</p><p>图3. 飞艇数传系统硬件平台原理框图</p><p>艇上数传信号发射时，首先通过网络配置得到图像数据、通过串口得到遥测数据，在FPGA内完成组帧，编码，加扰和调制，然后调制的基带信号经AD9361完成上DA转换、滤波和上变频，变为射频信号发射出去。地面接收到的天线信号送入AD9361进行下变频、滤波和AD变换，转换为数字基带信号进入FPGA进行信号处理，解调出的信号经过网络传给计算机。</p></sec><sec id="s5_2"><title>3.2. 遥测数传帧的产生</title><p>飞艇数传数据采用反码副帧结构，结构如下如表1所示，副帧长度为N帧，前M子帧为遥测数据，子帧序号标识有0-M-1，其余子帧为图像数据帧，通过帧表示XX YY来区分空帧和图像数据。该帧结构为副帧结构，地面通过检测反码结构来检测遥测帧起始和副帧结构结束。同时通过帧标识可以区分图像有效帧和空帧，便于地面快速得到图像信息。数传副帧结构即可传递遥测任务信息，又可传递图像信息，实现遥测数传双功能。同时在遥测固定帧中插入艇上设备状态信息，地面可实时获得艇上状态，便于监视。</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Subframe structure of data transmission syste</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >子帧序号</th><th align="center" valign="middle" >帧头</th><th align="center" valign="middle" >帧序号</th><th align="center" valign="middle" >数据</th></tr></thead><tr><td align="center" valign="middle" >0</td><td align="center" valign="middle" >帧头</td><td align="center" valign="middle" >0x00</td><td align="center" valign="middle" >遥测</td></tr><tr><td align="center" valign="middle" >1</td><td align="center" valign="middle" >帧头</td><td align="center" valign="middle" >0x01</td><td align="center" valign="middle" >遥测</td></tr><tr><td align="center" valign="middle" >2</td><td align="center" valign="middle" >帧头</td><td align="center" valign="middle" >0x02</td><td align="center" valign="middle" >遥测</td></tr><tr><td align="center" valign="middle" >……</td><td align="center" valign="middle" >帧头</td><td align="center" valign="middle" >……</td><td align="center" valign="middle" >遥测</td></tr><tr><td align="center" valign="middle" >M-1</td><td align="center" valign="middle" >帧头</td><td align="center" valign="middle" >0x0M</td><td align="center" valign="middle" >艇上设备状态</td></tr><tr><td align="center" valign="middle" >M</td><td align="center" valign="middle" >帧头</td><td align="center" valign="middle" >……</td><td align="center" valign="middle" >图像</td></tr><tr><td align="center" valign="middle" >M</td><td align="center" valign="middle" >帧头</td><td align="center" valign="middle" >XX</td><td align="center" valign="middle" >空帧</td></tr><tr><td align="center" valign="middle" >……</td><td align="center" valign="middle" >帧头</td><td align="center" valign="middle" >YY</td><td align="center" valign="middle" >图像</td></tr><tr><td align="center" valign="middle" >N-1</td><td align="center" valign="middle" >帧头取反</td><td align="center" valign="middle" >YY</td><td align="center" valign="middle" >图像</td></tr></tbody></table></table-wrap><p>表1. 数传副帧结构</p></sec><sec id="s5_3"><title>3.3. QPSK调制</title><p>QPSK星座相位为π/4、3π/4、5π/4、7π/4相位 [<xref ref-type="bibr" rid="hanspub.36210-ref5">5</xref>]，载波采用复数调制，实现框图如图4所示，QPSK串并变换每次把输入的2位二进制信号序列变换为一个符号的相位得到的IQ两路信号，再与载波复数相乘。</p><p>图4. QPSK调制原理框图</p><p>调制表达式为：</p><p>实部：</p><p>s P S K ( n ) = cos [ 2 π f c n T s + θ k ] = cos ( 2 π f c n T s ) cos ( θ k ) − sin ( 2 π f c n T s ) sin ( θ k )</p><p>虚部：</p><p>s P S K ( n ) = sin [ 2 π f c n T s + θ k ] = sin ( 2 π f c n T s ) cos ( θ k ) + cos ( 2 π f c n T s ) sin ( θ k )</p><p>其中 f c 为载波频率， θ k 为调制相位。</p><p>QPSK调制信号经AD9361输出，用频谱仪观测如图5所示。</p><p>图5. QPSK调制频谱图</p></sec><sec id="s5_4"><title>3.4. QPSK解调</title><p>QPSK解调原理框图如图6所示。</p><p>图6. QPSK解调FPGA实现原理图</p><p>AD9361输入的基带信号首先经过低通滤波器和降采样模块，滤除带外噪声并根据信息速率和多普勒频率降速到合适的数据率，便于节约资源和后端处理。相位旋转模块是和环路滤波器输出的正余弦信号进行正交下变频，滤除多普勒和消除相差。经过FFT模块得到的初始多普勒，送入载波环环路滤波器，最终相位旋转模块输出的信号是完全剥离了多普勒和相差的信号，经过进一步滤波和数字AGC调整幅度，得到的信号用chipscope采集如图7所示。</p><p>图7. 位同步之前信号波形</p><p>如图7所示，信号已经不含频率信息，说明载波环性能很好。解调的星座图如图8所示。从星座图可以看出经过解调处理，得到了正确的数据信息，再经过帧同步和后端基带数据处理，即可得到遥测信息和图像。</p><p>图8. 解调星座图</p></sec><sec id="s5_5"><title>3.5. 测试结果</title><p>在信息速率为4 Mbit/s，多普勒频率−100 kHz，高斯白噪声情形下，连接地面和艇载数传设备，为了便于观测数据，发射端发射55数据，然后进行加扰。通过状态上报可以看出，接收端解调得到了正确的数据。通过误码率统计可以看出在E<sub>b</sub>/N<sub>0</sub>为9.8 dB的时候，得到的实测误码率为1.4e<sup>−5</sup>，通过MATLAB查询QPSK在1.4e<sup>−5</sup>附近对应的理论值为为9.4，实测误码率和理论误码率相差0.4 dB，符合实际系统的要求(图9~图11)。<sup> </sup></p><p>图9. 解调状态及数据显示</p><p>图10. 误码率统计</p><p>图11. QPSK解调理论值</p></sec></sec><sec id="s6"><title>4. 结束语</title><p>本文基于FPGA的SDR硬件平台提出了一种应用于平流层飞艇的数传系统。从艇载数传帧结构可以看出，该数传系统既可以传递遥测任务数据，又可以传递图像信息，并且还可以实时传递艇载设备状态，对飞艇的实时监视、控制以及后续数据分析及应用具有十分重要的作用。通过误码率统计，可以看出地面解调性能良好，满足实际需求。该系统已应用于飞艇的飞行试验，在整个飞行试验中，该系统工作稳定，性能良好。同时，该系统也给后续平流层飞艇的应用提供了思路。</p></sec><sec id="s7"><title>文章引用</title><p>赵玉梅,桑明月. 基于FPGA的平流层飞艇数传系统的设计与实现Design and Implementation of Stratospheric Airship Data Transmission System Based on FPGA[J]. 无线通信, 2020, 10(03): 19-27. https://doi.org/10.12677/HJWC.2020.103003</p></sec><sec id="s8"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.36210-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">王彦广, 姚伟, 李勇. 平流层飞艇技术发展及其应用前景展望[J]. 卫星与网络, 2010(4): 18-21.</mixed-citation></ref><ref id="hanspub.36210-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">王建军, 曹泽阳, 张建航, 等. 构建临近空间预警探测体系的思考[J]. 飞航导弹, 2019(10): 57-60.</mixed-citation></ref><ref id="hanspub.36210-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">黄宛宁, 张晓军, 李智斌, 等. 临近空间科学技术的发展现状及应用前景[J]. 科技导报, 2019, 37(21): 46-62.</mixed-citation></ref><ref id="hanspub.36210-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">杨小牛, 楼才义, 徐建良. 软件无线电原理与应用[M]. 北京: 电子工业出版社, 2001: 179-190.</mixed-citation></ref><ref id="hanspub.36210-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">王士林, 陆存乐, 龚初光. 现代数字调制技术[M]. 北京: 人民邮电出版社, 1987.</mixed-citation></ref></ref-list></back></article>