<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">ORF</journal-id><journal-title-group><journal-title>Operations Research and Fuzziology</journal-title></journal-title-group><issn pub-type="epub">2163-1476</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/ORF.2019.94036</article-id><article-id pub-id-type="publisher-id">ORF-32923</article-id><article-categories><subj-group subj-group-type="heading"><subject>ORF20190400000_98956381.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>数学与物理</subject></subj-group></article-categories><title-group><article-title>
 
 
  求解云计算资源调度的免疫算法
  Research on Resource Scheduling Model and Algorithms of Cloud Computing
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>刘</surname><given-names>天</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>林</surname><given-names>耿</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>李</surname><given-names>燕珍</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>刘</surname><given-names>佳</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>闽江学院数学与数据科学学院，福州</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>16</day><month>09</month><year>2019</year></pub-date><volume>09</volume><issue>04</issue><fpage>307</fpage><lpage>312</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   随着信息社会的飞速发展，云计算不断渗入各界领域，成为处理海量信息数据的主要方式。任务调度问题是云计算研究的核心，其算法的效率对平台用户任务的执行效率和系统资源的使用效率起着决定性作用。本文针对云计算的资源调度问题，提出了一种基于人工免疫理论的云计算动态的任务调度算法。实验结果表明，本文提出的免疫算法能够有效提高云计算资源调度的效率。 With the rapid development of the information society, cloud computing has been infiltrating into all walks of life, becoming the main way to deal with massive information data. Task scheduling is the core of cloud computing research, and the efficiency of its algorithm plays a decisive role in the execution efficiency of platform users’ tasks and the utilization efficiency of system resources. Aiming at the resource scheduling problem of cloud computing, this paper proposes a dynamic task scheduling algorithm based on artificial immune theory for cloud computing. The experimental results show that the immune algorithm is able to effectively improve the efficiency of cloud computing resource scheduling. 
  
 
</p></abstract><kwd-group><kwd>云计算，免疫算法，任务调度, Cloud Computing</kwd><kwd> Immune Algorithm</kwd><kwd> Task Scheduling</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>求解云计算资源调度的免疫算法<sup> </sup></title><p>刘天，林耿，李燕珍，刘佳</p><p>闽江学院数学与数据科学学院，福州</p><p><img src="//html.hanspub.org/file/8-1700173x1_hanspub.png" /></p><p>收稿日期：2019年10月21日；录用日期：2019年11月5日；发布日期：2019年11月12日</p><disp-formula id="hanspub.32923-formula50"><graphic xlink:href="//html.hanspub.org/file/8-1700173x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>随着信息社会的飞速发展，云计算不断渗入各界领域，成为处理海量信息数据的主要方式。任务调度问题是云计算研究的核心，其算法的效率对平台用户任务的执行效率和系统资源的使用效率起着决定性作用。本文针对云计算的资源调度问题，提出了一种基于人工免疫理论的云计算动态的任务调度算法。实验结果表明，本文提出的免疫算法能够有效提高云计算资源调度的效率。</p><p>关键词 :云计算，免疫算法，任务调度</p><disp-formula id="hanspub.32923-formula51"><graphic xlink:href="//html.hanspub.org/file/8-1700173x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2019 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/8-1700173x7_hanspub.png" /> <img src="//html.hanspub.org/file/8-1700173x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>云计算是分布式计算、并行计算和网格计算的基础上发展而来的，是一种新兴的商业计算模式 [<xref ref-type="bibr" rid="hanspub.32923-ref1">1</xref>]。随着信息社会的飞速发展，云计算不断渗入各界领域，成为处理海量信息数据的主要方式。而任务调度问题是云计算研究的核心，其算法的效率对平台用户任务的执行效率和系统资源的使用效率起着决定性作用。因此如何有效地进行任务调度与资源分配来满足平台对于不同用户的需求，同时使得云计算资源利用率最大化，是当前云计算领域中一个重要而又复杂的研究课题。</p><p>免疫算法理论 [<xref ref-type="bibr" rid="hanspub.32923-ref2">2</xref>] 最早是由澳大利亚科学家Burnet提出的克隆选择理论 [<xref ref-type="bibr" rid="hanspub.32923-ref3">3</xref>]。此后，免疫学理论 [<xref ref-type="bibr" rid="hanspub.32923-ref4">4</xref>] 得到了迅速的发展，到了20世纪90年代，Bersini等人 [<xref ref-type="bibr" rid="hanspub.32923-ref5">5</xref>] 最早提出免疫算法，并将免疫算法应用于解决各个领域的现实问题。Hunt等人 [<xref ref-type="bibr" rid="hanspub.32923-ref6">6</xref>] 开始将免疫算法应用于机器学习领域。Naruaki等人 [<xref ref-type="bibr" rid="hanspub.32923-ref7">7</xref>] 提出了自适应免疫优化算法，并将其成功应用在智能体工作域分配问题中。Coello等人 [<xref ref-type="bibr" rid="hanspub.32923-ref8">8</xref>] 在免疫算法的基础上，提出一种多目标优化免疫算法，用于解决电力规划和智能控制等方面的问题。针对云计算领域的任务调度问题，先利用遗传算法处理虚拟机放置的组合优化问题，然后结合模糊逻辑进行多目标优化，但只考虑了静态虚拟机配置，忽视了虚拟机迁移的开销 [<xref ref-type="bibr" rid="hanspub.32923-ref9">9</xref>]。成都电子科大团队 [<xref ref-type="bibr" rid="hanspub.32923-ref10">10</xref>] 运用人工免疫理论的云计算平台动态任务调度算法得到不同虚拟机分配计算资源的近似最优配置，表明人工免疫调度算法具有较好实用性，但该算法针对元任务，对于现实集群中存在的大量依赖关系的任务存在较多问题。</p><p>本文基于免疫算法，对云计算任务调度问题进行研究。对随机生成的数据进行模拟实验，从执行效率和算法寻优性能这两个指标入手，改进免疫算法，得出任务调度方案。</p></sec><sec id="s4"><title>2. 免疫算法</title><p>图1给出了免疫算法的算法框架图。具体实现步骤如下：</p><p>1) 分析问题。对任务调度所研究的问题进行研究分析，构造实验的目标函数，模拟免疫系统中抗原产生形式。设计合理的目标函数表达式。</p><p>2) 产生初始抗体群。初始种群的生成需要两个步骤：一是随机生成N个个体，二是从记忆库里随机选取m个个体组成初始群体。即初步的解集，而每个个体对应任务调度的解。</p><p>3) 抗体识别抗原。按照个体的期望繁殖力p来进行评价对前两步骤中得到的抗体逐一进行评价。</p><p>4) 形成父代群体。按照繁殖率p对初始群体进行降序排列，父代群体取其中前N个个体组成。同时将前m个个体放入记忆库里。</p><p>5) 要对抗体适应度计算判断是否满足所设定的约束，满足则结束，否则执行下一步。</p><p>6) 抗体的繁殖——新群体的产生。对第四步取得的计算结果进行分析，然后对形成的抗体群体执行选择、交叉、变异等遗传变异步骤。以此得到一个新群体。再从记忆库若干解，与新群体一起构成总群体 [<xref ref-type="bibr" rid="hanspub.32923-ref3">3</xref>]。</p><p>7) 执行第3步。</p><p>图1. 免疫算法流程图</p><sec id="s4_1"><title>2.1. 基于免疫算法的任务调度模型</title><p>任务调度是操作系统的重要组成部分，而对于实时操作系统，任务调度直接影响其实时性能。免疫算法的任务调度属于事件驱动调度算法，即根据事件的先后以及任务的优先级安排任务的执行。图2给出了任务调度的示意图。</p><p>图2. 任务调度图</p><p>初始抗体群从两种途径取得：一是从记忆库中随机选择生成；二是在可行解的空间内随机产生。每个任务的分配方案都看作是一个长度为l的抗体(l表示虚拟机的数量)，其中抗体代表任务对虚拟机的需求指标点。</p><p>亲和力函数是用来计算抗体对抗原的识别程度。此处亲和力函数A<sub>v</sub>为：</p><p>A v = 1 F v = 1 ∑ i ∈ N ∑ j ∈ M i w i d i j Z i j − C ∑ i ∈ N min ( ∑ j ∈ M i Z i j − 1.0 ) (2-1)</p><p>其中，F<sub>v</sub>为目标函数，在分母中插入C，意为对违反任务调度时间约束的值给予惩罚，通常取一个比较大的正数。</p><p>抗体之间的亲和力函数是用来计算抗体之间的相似程度。当两个抗体中的编码超过R位相同时，表示这两种抗体近似“相同”，否则表示不同。在此处，排序不作考虑，因此得到抗体与抗体之间的亲和度亲和力函数S<sub>v</sub><sub>,s</sub>为：</p><p>S v , s = k v , s L (2-2)</p><p>其中，k<sub>v</sub><sub>,s</sub>表示抗体v与抗体s中位数相同的部分；L则表示抗体的长度。</p><p>抗体浓度表示的是群体中相似抗体所占全部抗体的比例，将设其为C<sub>v</sub>：</p><p>C v = 1 N ∑ i ∈ N S v , s (2-3)</p><p>其中，N表示抗体总数；当 S v , s &gt; T (T是事先设置的阈值)时， S v , s = 1 ；当 S v , s 为其他值时， S v , s = 0 。</p><p>繁殖概率是由抗体与抗原之间的亲和力A<sub>v</sub>和抗体浓度C<sub>v</sub>两部分一起决定，此处设函数为p：</p><p>p = α A v ∑ A v + ( 1 − α ) C v ∑ C v (2-4)</p><p>其中， α 为已知常数。</p><p>由(2-4)式可见，个体适应度、个体浓度均与期望繁殖率成正比。如此一来，在鼓励适应度高的个体同时，又可以一定程度上抑制浓度高的个体，由此确保所得个体具有多样性。</p><p>为了避免算法在抑制高浓度个体的时候导致与抗原亲和度最高的个体由于自身浓度过高受到抑制从而丢失。因此考虑在每次更新记忆库时，先将这样的个体存入记忆库中，然后按照期望繁殖率将其他优秀个体存入记忆库。</p></sec><sec id="s4_2"><title>2.2. 任务调度模型求解</title><p>现在假设有n个未完成的任务，需要在有m个可用的虚拟机的云端上执行，需要通过免疫算法将n个任务合理分配到m个可用虚拟机上运行，使得完成所有任务所耗费的时间MT最短。假设 Case i 表示第i ( i = 1 , 2 , ⋯ , n )个需要完成的任务， Machine j 表示第j ( j = 1 , 2 , ⋯ , m )个可用的虚拟机，GT是一个 n &#215; m 的二维矩阵，这个矩阵表示每个任务在相应的可用虚拟机上执行时所花费的时间，其中 G T i j 表示在 Machine j 上执行完 Case i 所需要的时间。</p></sec></sec><sec id="s5"><title>3. 实验仿真结果与分析</title><p>为验证免疫算法的对任务调度具有可行性，本实验选取随机数据，进行仿真模拟实验。</p><sec id="s5_1"><title>3.1. 实验假设</title><p>1) 本实验目标为计算任务时间的需求即任务最小完成时间，因此仅将完成任务的时间长短作为唯一考量。</p><p>2) 本实验仅考虑任务的大小和任务调度的难度，不考虑能耗以及其他因素带来的影响。</p></sec><sec id="s5_2"><title>3.2. 初始条件</title><p>1) 随机生成了31个任务(Case)数据，每个数据为二维向量，意在表示任务的两个参数：任务的大小和任务调度的难度。</p><p>2) 考虑实验需要，随机生成6台虚拟机(Machine)，将CPU容量和内存大小作为虚拟机的两个参数，默认硬盘大小一致且满足实验需要。</p><p>3) 根据任务调度的模型，按照上述免疫算法的基本流程进行求解，设置如下参数：将种群规模(sizepop)设为60，记忆库容量(overbest)设为15，迭代次数(max)设为100，变异概率(pumtation)设为0.4，交叉概率(pcross)设为0.5，虚拟机数(length)设为6，多样性评价参数(assessment)设为0.95。</p></sec><sec id="s5_3"><title>3.3. 终止条件</title><p>1) 迭代次数达到最大化(本实验迭代次数最高为120)。</p><p>2) 连续20代完成任务的总时间基本不变，认为算法基本收敛，求得任务调度方案以及总时间。</p></sec><sec id="s5_4"><title>3.4. 实验结果分析</title><p>相对于原始人工免疫算法，改进后的人工免疫算法有效避免了易陷入局部最优等难题，全局的搜索能力更强。我们通过一定的限制选择了6个虚拟机，把25任务按最优结果分配到6个虚拟机上工作，使得时间最短，6个虚拟机同时工作，在处理任务上就可以多个任务同时进行，因为每个任务所要求的虚拟机配置不同，通过免疫算法的任务最优的分配给虚拟机，最终结果如图3所示。</p><p>图3. 实验结果图</p><p>通过图3我们可以得到，这些任务通过免疫算法分配的时候不是每个虚拟机都会得到任务，他是根据最优和最合适的算法原理去把任务分配给虚拟机的，所以我们可以看到最终结果是，有一些虚拟机被分配了多个任务，但是有一个虚拟机没有分配到任务。免疫算法在应用资源调度的时候不是追求平均，而是最优。</p><p>随着迭代次数的增加，平均适应度值逐渐接近最优适应度值，并且收敛速度极快，由该算法在20代的时候就收敛，即产生满足要求的最优解所用时间较短。图3表示任务随着迭代次数的增加而减少并最终收敛趋于平稳，就是说在进行实验时，能够是每个任务所分配的虚拟机是最佳，而且整个任务调度过程所需的时间是最短。这说明了实验的可行性。</p></sec></sec><sec id="s6"><title>4. 结论</title><p>为了更好地对任务进行调配，本文对免疫算法进行了改进，使其能够更好地调度任务，所需的时间最少，调度最优。提出了一种基于人工免疫理论的云计算动态的任务调度算法.免疫算法对任务调度具有可行性。</p></sec><sec id="s7"><title>文章引用</title><p>刘 天,林 耿,李燕珍,刘 佳. 求解云计算资源调度的免疫算法Research on Resource Scheduling Model and Algorithms of Cloud Computing[J]. 运筹与模糊学, 2019, 09(04): 307-312. https://doi.org/10.12677/ORF.2019.94036</p></sec><sec id="s8"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.32923-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">程克非, 罗江华, 兰文富, 刘锐. 云计算基础教程[M]. 北京: 人民邮电出版社, 2018.</mixed-citation></ref><ref id="hanspub.32923-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">王磊, 潘进, 焦李成. 免疫算法[J]. 电子学报, 2008, 28(7): 74-78.</mixed-citation></ref><ref id="hanspub.32923-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">Burnet, F.M. (1959) The Clonal Selection Theory of Acquired Im-munity. Cambridge University Press, Cambridge．</mixed-citation></ref><ref id="hanspub.32923-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">陈仁. 免疫学基础[M]. 北京: 人民卫生出版社, 1982.</mixed-citation></ref><ref id="hanspub.32923-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Bersini, H. and Varela, F. (1990) Hints for Adaptive Problem Solving Gleaned from Immune Network. The Proceedings of the Workshop on Parallel Problem Solving from Nature, Dortmund, 1990, 343-354.</mixed-citation></ref><ref id="hanspub.32923-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">Cooke, D.E. and Hunt, J.E. (year) Recognizing Promoter Sequences Using an Artificial Immune System. Proceedings Intelligent Systems in Molecular Biology, Cambridge, 1995, 89-97.</mixed-citation></ref><ref id="hanspub.32923-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">Toma, N., Endo, S., Yamada, K., et al. (2000) The Im-mune Distributed Competitive Problem Solver with Major Histocompatibility Complex and Immune Network. The Conference on Systems, Man and Cybernetics, Nashville, 2000: 1865-1870.</mixed-citation></ref><ref id="hanspub.32923-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">Coello, C.A. and Cortes, N.C. (2002) An Approach to Solve Multi-Objective Optimization Problem Based on an Artificial Immune System. Proceedings of the First International Conference on Artificial Immune System, Inglaterra, 2002, 212-221.</mixed-citation></ref><ref id="hanspub.32923-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">Xu, J. and Fortes, J. (2010) Multi-Objective Virtual Machine Placement in Virtualized Data Environments. Proceedings of 2010 IEEE/ACM International Conference on Green Computing and Communications, Hangzhou, 18-20 December 2010, 179-188. &lt;br&gt;https://doi.org/10.1109/GreenCom-CPSCom.2010.137</mixed-citation></ref><ref id="hanspub.32923-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">杨镜, 吴磊, 吴德安, 王晓敏, 刘念伯. 云平台下动态任务调度人工免疫算法[J]. 计算机应用, 2014, 34(2): 351-356.</mixed-citation></ref></ref-list></back></article>