<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">IJM</journal-id><journal-title-group><journal-title>International Journal of Mechanics Research</journal-title></journal-title-group><issn pub-type="epub">2325-498X</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/IJM.2016.54013</article-id><article-id pub-id-type="publisher-id">IJM-19328</article-id><article-categories><subj-group subj-group-type="heading"><subject>IJM20160400000_81903980.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>数学与物理</subject></subj-group></article-categories><title-group><article-title>
 
 
  四足机器人基于功率最优原则的足端轨迹规划
  Trajectory Planning of Quadruped Robot Based on the Principle of Optimal Power
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>袁</surname><given-names>立鹏</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>张</surname><given-names>志宇</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>欧阳</surname><given-names>荣坚</given-names></name><xref ref-type="aff" rid="aff4"><sup>4</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><addr-line>常州恐龙园股份有限公司，江苏 常州；哈尔滨工业大学机电工程学院，黑龙江 哈尔滨</addr-line></aff><aff id="aff4"><addr-line>常州迪华数字科技有限公司，江苏 常州</addr-line></aff><aff id="aff3"><addr-line>哈尔滨工业大学机电工程学院，黑龙江 哈尔滨</addr-line></aff><aff id="aff2"><addr-line>null</addr-line></aff><author-notes><corresp id="cor1">* E-mail:<email>hitylp@126.com (袁立)</email>;</corresp></author-notes><pub-date pub-type="epub"><day>16</day><month>12</month><year>2016</year></pub-date><volume>05</volume><issue>04</issue><fpage>138</fpage><lpage>147</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   轨迹规划是四足机器人研究的关键，合理的足端轨迹有助于减少四足机器人足端触地时的冲击，本文根据零冲击原则规划了三条四足机器人的足端轨迹。对各条足端轨迹进行虚拟样机仿真分析，根据功率最优原则，针对不同的步态选择相应最优的足端轨迹,为类似问题的实现开辟了新思路和新途径。 Trajectory planning is the key of the quadruped robot. Reasonable foot trajectory is helpful for reducing the impact during the feet of quadruped robot striking the ground. According to the principle of the zero impact, this paper plans three trajectories of the quadruped robot, and con-ducts the virtual prototype simulation of the three trajectories. According to the principle of the optimal power, it chooses the optimal trajectory for different gaits. This paper provides reference for solving this kind of problem and related problems.
    
  
 
</p></abstract><kwd-group><kwd>四足机器人，步态规划，轨迹规划, Quadruped Robot</kwd><kwd> Gait Planning</kwd><kwd> Trajectory Planning</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>四足机器人基于功率最优原则的足端轨迹规划<sup> </sup></title><p>袁立鹏<sup>1,2</sup>，张志宇<sup>2</sup>，欧阳荣坚<sup>3</sup></p><p><sup>1</sup>常州恐龙园股份有限公司，江苏 常州</p><p><sup>2</sup>哈尔滨工业大学机电工程学院，黑龙江 哈尔滨</p><p><sup>3</sup>常州迪华数字科技有限公司，江苏 常州</p><disp-formula id="hanspub.19328-formula60"><graphic xlink:href="http://html.hanspub.org/file/3-2650070x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>收稿日期：2016年12月2日；录用日期：2016年12月19日；发布日期：2016年12月22日</p><disp-formula id="hanspub.19328-formula61"><graphic xlink:href="http://html.hanspub.org/file/3-2650070x7_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>轨迹规划是四足机器人研究的关键，合理的足端轨迹有助于减少四足机器人足端触地时的冲击，本文根据零冲击原则规划了三条四足机器人的足端轨迹。对各条足端轨迹进行虚拟样机仿真分析，根据功率最优原则，针对不同的步态选择相应最优的足端轨迹,为类似问题的实现开辟了新思路和新途径。</p><p>关键词 :四足机器人，步态规划，轨迹规划</p><disp-formula id="hanspub.19328-formula62"><graphic xlink:href="http://html.hanspub.org/file/3-2650070x8_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s3"><title>1. 引言</title><p>轨迹规划是四足机器人研究的关键，合理的足端轨迹有助于减少四足机器人足端触地时的冲击，而且，足端轨迹对四足机器人的动力学特性有着重要影响。由于本论文所研究的四足机器人几何尺寸较大，系统需要的总功率较大，而过大的系统总功率会造成动力系统的质量和几何尺寸增加，对四足机器人的运动特性不利 [<xref ref-type="bibr" rid="hanspub.19328-ref1">1</xref>] 。所以，减少驱动的功率，是本论文重要内容。这里提出的功率最优原则，即希望四足机器人在行走过程中的最大液压缸驱动功率最小。据此，可以降低系统总功率并减小动力系统的质量和几何尺寸。</p><p>本文将对四足机器人的足端轨迹进行规划。将数学中的复合摆线和多项式曲线引入到足端轨迹的规划中，根据零冲击原则 [<xref ref-type="bibr" rid="hanspub.19328-ref2">2</xref>] ，规划出3条满足要求的足端轨迹，包括：复合摆线轨迹、八次多项式轨迹和分段五次多项式轨迹。并基于功率最优原则选择最优的足端轨迹。</p><p>论文基于功率最优原则的足端轨迹规划，仅针对walk步态进行，即间歇步态和协调步态这两种典型的静步态。这是由于walk步态的稳定性较好，不同的足端轨迹对walk步态行走稳定性的影响可以忽略不计，但trot步态属于动步态，通过虚拟样机仿真发现足端轨迹对trot步态的稳定性有一定影响，足端冲击会因为足端轨迹的不同而产生很大的变化 [<xref ref-type="bibr" rid="hanspub.19328-ref3">3</xref>] 。因此，trot步态不适用于本章所进行的足端轨迹规划方法，本章的足端轨迹规划仅针对walk步态进行。</p></sec><sec id="s4"><title>2. 足端轨迹约束方程</title><sec id="s4_1"><title>2.1. 四足机器人几何结构</title><p>四足机器人的拓扑结构选择前肘后膝式 [<xref ref-type="bibr" rid="hanspub.19328-ref4">4</xref>] [<xref ref-type="bibr" rid="hanspub.19328-ref5">5</xref>] [<xref ref-type="bibr" rid="hanspub.19328-ref6">6</xref>] ，驱动方案选择液压驱动，四条腿尺寸相同，前后和左右腿对称，四足机器人的三维结构如图1所示。四足机器人的躯体和四条腿的主体材料选择7075航空合金铝，7075航空合金铝具有密度小、强度高的特点，适合本课题四足机器人的使用。</p><p>如表1所示，为四足机器人的结构参数表。</p></sec><sec id="s4_2"><title>2.2. 足端轨迹约束方程</title><p>令占空比<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x9_hanspub.png" xlink:type="simple"/></inline-formula>，则在<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x10_hanspub.png" xlink:type="simple"/></inline-formula>，足端处于摆动相，在<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x11_hanspub.png" xlink:type="simple"/></inline-formula>，足端处于支撑相，这样便于绘制足端轨迹的曲线 [<xref ref-type="bibr" rid="hanspub.19328-ref3">3</xref>] 。设水平方向为X方向，竖直方向为Y方向，根据四足机器人足端运动位置的要求，可确定足端轨迹在水平方向(X方向)和竖直方向(Y方向)的位移方程如下。</p><p>水平方向(X方向)：</p><p>图1. 四足机器人三维结构图</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Structure parameters of quadruped robo</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >参数</th><th align="center" valign="middle" >数值</th></tr></thead><tr><td align="center" valign="middle" >长度</td><td align="center" valign="middle" >2066 mm</td></tr><tr><td align="center" valign="middle" >宽度</td><td align="center" valign="middle" >840 mm</td></tr><tr><td align="center" valign="middle" >高度</td><td align="center" valign="middle" >1517 mm</td></tr><tr><td align="center" valign="middle" >质量</td><td align="center" valign="middle" >183.8 kg</td></tr></tbody></table></table-wrap><p>表1. 四足机器人结构参数表</p><disp-formula id="hanspub.19328-formula63"><label>(1)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x13_hanspub.png"  xlink:type="simple"/></disp-formula><p>竖直方向(Y方向)：</p><disp-formula id="hanspub.19328-formula64"><label>(2)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x14_hanspub.png"  xlink:type="simple"/></disp-formula><p>为了减小四足机器人在摆动相和支撑相切换瞬间的冲击和惯性力，基于零冲击原则，希望在理想状态下足端触地时的速度和加速为零。那么，需要足端轨迹曲线在水平方向和竖直方向上的速度和加速度满足如下公式。</p><p>水平方向(X方向)：</p><disp-formula id="hanspub.19328-formula65"><label>(3)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x15_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.19328-formula66"><label>(4)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x16_hanspub.png"  xlink:type="simple"/></disp-formula><p>竖直方向(Y方向)：</p><disp-formula id="hanspub.19328-formula67"><label>(5)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x17_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.19328-formula68"><label>(6)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x18_hanspub.png"  xlink:type="simple"/></disp-formula></sec></sec><sec id="s5"><title>3. 足端轨迹规划</title><p>根据足端轨迹约束方程可推导满足要求的足端轨迹方程，并利用MATLAB绘制相应的足端轨迹曲线。设<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x19_hanspub.png" xlink:type="simple"/></inline-formula>，在推导足端轨迹方程的过程中，用<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x20_hanspub.png" xlink:type="simple"/></inline-formula>代替<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x21_hanspub.png" xlink:type="simple"/></inline-formula>进行推导。设定步长<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x22_hanspub.png" xlink:type="simple"/></inline-formula>，步高<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x23_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x24_hanspub.png" xlink:type="simple"/></inline-formula>。</p><sec id="s5_1"><title>3.1. 复合摆线轨迹</title><sec id="s5_1_1"><title>3.1.1. 摆动相足端轨迹</title><p>对于水平方向(X方向)，为了满足加速度约束条件，即公式(4)，可令水平方向轨迹的加速度函数为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x25_hanspub.png" xlink:type="simple"/></inline-formula>。将上式对时间求积分，并代入水平方向速度约束条件，即公式(3)，可得到水平方向轨迹的速度函数为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x26_hanspub.png" xlink:type="simple"/></inline-formula>。将上式对时间求积分，并代入水平方向位移约束条件，即公式(1)，可求得<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x27_hanspub.png" xlink:type="simple"/></inline-formula>，水平方向足端轨迹曲线为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x28_hanspub.png" xlink:type="simple"/></inline-formula>。对于竖直方向(Y方向)，当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x29_hanspub.png" xlink:type="simple"/></inline-formula>时，为了满足加速度约束条件，即公式(6)，可令竖直方向轨迹的加速度函数为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x30_hanspub.png" xlink:type="simple"/></inline-formula>。将上式对时间求积分，并代入速度约束条件，即公式(5)，可得到竖直方向轨迹的速度函数为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x31_hanspub.png" xlink:type="simple"/></inline-formula>。将上式对时间求积分，并代入位移约束条件，即公式(5)，可求得<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x32_hanspub.png" xlink:type="simple"/></inline-formula>，竖直方向足端轨迹曲线为：<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x33_hanspub.png" xlink:type="simple"/></inline-formula>。同理可得，当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x34_hanspub.png" xlink:type="simple"/></inline-formula>时，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x35_hanspub.png" xlink:type="simple"/></inline-formula>。</p><p>综上，复合摆线轨迹的摆动相足端轨迹曲线函数为：</p><disp-formula id="hanspub.19328-formula69"><label>(7)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x36_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s5_1_2"><title>3.1.2. 支撑相足端轨迹</title><p>相比于摆动相的足端轨迹，支撑相的足端轨迹比较简单：支撑相水平方向的位移曲线与摆动相的关于<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x37_hanspub.png" xlink:type="simple"/></inline-formula>对称；竖直方向的位移始终为零。所以，复合摆线轨迹的支撑相足端轨迹曲线函数为：</p><disp-formula id="hanspub.19328-formula70"><label>(8)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x38_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s5_1_3"><title>3.1.3. 复合摆线轨迹的运动曲线</title><p>根据轨迹方程，利用MATLAB可得到复合摆线轨迹的运动曲线，如图2所示。</p></sec></sec><sec id="s5_2"><title>3.2. 八次多项式轨迹</title><sec id="s5_2_1"><title>3.2.1. 摆动相足端轨迹</title><p>除了复合摆线轨迹，高次多项式轨迹也能够很好地拟合足端轨迹曲线，并满足约束条件。所以，可以通过多项式推导足端轨迹方程。</p><p>图2. 复合摆线轨迹运动曲线</p><p>对于水平方向(X方向)，约束条件有6个，则设水平方向足端轨迹为五次多项式：</p><disp-formula id="hanspub.19328-formula71"><label>(9)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x43_hanspub.png"  xlink:type="simple"/></disp-formula><p>将上式代入到水平方向约束方程中，可得水平方向足端轨迹曲线为：<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x44_hanspub.png" xlink:type="simple"/></inline-formula>。对于竖直方向(Y方向)，约束条件有9个，则设竖直方向足端轨迹为八次多项式：</p><disp-formula id="hanspub.19328-formula72"><label>(10)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x45_hanspub.png"  xlink:type="simple"/></disp-formula><p>将上式代入到竖直方向约束方程中，即公式(2)、(5)和(6)，计算得到竖直方向足端轨迹曲线为：</p><disp-formula id="hanspub.19328-formula73"><label>(11)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x46_hanspub.png"  xlink:type="simple"/></disp-formula><p>综上，八次多项式轨迹的摆动相足端轨迹曲线函数为：</p><disp-formula id="hanspub.19328-formula74"><label>(12)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x47_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s5_2_2"><title>3.2.2. 支撑相足端轨迹</title><p>相比于摆动相的足端轨迹，支撑相的足端轨迹比较简单：支撑相水平方向的位移曲线与摆动相的关于<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x48_hanspub.png" xlink:type="simple"/></inline-formula>对称；竖直方向的位移始终为零。所以，八次多项式轨迹的支撑相足端轨迹曲线函数为：</p><disp-formula id="hanspub.19328-formula75"><label>(13)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x49_hanspub.png"  xlink:type="simple"/></disp-formula></sec></sec><sec id="s5_3"><title>3.3. 分段五次多项式轨迹</title><sec id="s5_3_1"><title>3.3.1. 摆动相足端轨迹</title><p>八次多项式轨迹的竖直方向轨迹利用了9个约束条件，如果能够采用分段多项式轨迹的方法，可以利用12个约束条件，拟合效果更好。</p><p>分段五次多项式轨迹的水平方向(X方向)轨迹与八次多项式轨迹的相同，都是五次多项式轨迹；竖直方向(Y方向)采用分段五次多项式轨迹。</p><p>当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x50_hanspub.png" xlink:type="simple"/></inline-formula>时，设竖直方向轨迹曲线为：</p><disp-formula id="hanspub.19328-formula76"><label>(14)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x51_hanspub.png"  xlink:type="simple"/></disp-formula><p>将上式代入到竖直方向约束方程中，即公式(2)、(5)和(6)，计算得到竖直方向足端轨迹曲线为：</p><disp-formula id="hanspub.19328-formula77"><label>(15)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x52_hanspub.png"  xlink:type="simple"/></disp-formula><p>同理可得，当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x53_hanspub.png" xlink:type="simple"/></inline-formula>时，竖直方向足端轨迹曲线为</p><disp-formula id="hanspub.19328-formula78"><label>(16)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x54_hanspub.png"  xlink:type="simple"/></disp-formula><p>综上，分段五次多项式轨迹的足端轨迹曲线函数为：</p><disp-formula id="hanspub.19328-formula79"><label>(17)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x55_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s5_3_2"><title>3.3.2. 支撑相足端轨迹</title><p>相比于摆动相的足端轨迹，支撑相的足端轨迹比较简单：分段五次多项式轨迹的支撑相水平方向的位移曲线与八次多项式轨迹的相同；竖直方向的位移始终为零。所以，八次多项式轨迹的支撑相足端轨迹曲线函数为：</p><disp-formula id="hanspub.19328-formula80"><label>(18)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x56_hanspub.png"  xlink:type="simple"/></disp-formula></sec></sec></sec><sec id="s6"><title>4. 基于功率最优的足端轨迹仿真</title><sec id="s6_1"><title>4.1. 足端接触力的设置</title><p>足端接触力(contact)的设置是ADAMS虚拟样机建模的重要内容。足端接触力由两部分力组成，即：接触正压力和摩擦力。接触正压力采用冲击函数法计算，摩擦力采用Coulomb法进行计算。</p><sec id="s6_1_1"><title>4.1.1. 接触正压力计算模型</title><p>根据赫兹接触理论，计算接触正压力时，采用冲击(impact)函数构造的非线性等效弹簧-阻尼模型作为计算模型。在该计算模型中，接触正压力由两部分组成，即：两个构件由于弹性变形而产生的相互之间的弹性力，以及由于相对速度产生的阻尼力。接触正压力满足下式：</p><disp-formula id="hanspub.19328-formula81"><label>(19)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x57_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中：<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x58_hanspub.png" xlink:type="simple"/></inline-formula>——接触正压力(N)；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x59_hanspub.png" xlink:type="simple"/></inline-formula>——赫兹接触刚度(N/mm<sup>3/2</sup>)；</p><p><inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x60_hanspub.png" xlink:type="simple"/></inline-formula>——接触点的法向穿透深度(mm)；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x61_hanspub.png" xlink:type="simple"/></inline-formula>——接触指数；</p><p><inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x62_hanspub.png" xlink:type="simple"/></inline-formula>——阻尼系数(N∙s/mm)；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x63_hanspub.png" xlink:type="simple"/></inline-formula>——接触点的法向相对速度(mm/s)。</p><p>接触刚度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x64_hanspub.png" xlink:type="simple"/></inline-formula>表示接触面的刚度。一般情况下，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x65_hanspub.png" xlink:type="simple"/></inline-formula>值越大，越能模拟接触的实际情况；但如果<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x66_hanspub.png" xlink:type="simple"/></inline-formula>值过大，会导致积分求解困难，仿真时间过长。对于旋转物体的碰撞，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x67_hanspub.png" xlink:type="simple"/></inline-formula>值可根据下式来确定：</p><disp-formula id="hanspub.19328-formula82"><label>(20)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x68_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中：<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x69_hanspub.png" xlink:type="simple"/></inline-formula>——碰撞半径(mm)，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x70_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x71_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x72_hanspub.png" xlink:type="simple"/></inline-formula>分别是两个构件在碰撞点的半径；</p><p><inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x73_hanspub.png" xlink:type="simple"/></inline-formula>——碰撞弹性模量(MPa)，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x74_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x75_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x76_hanspub.png" xlink:type="simple"/></inline-formula>分别代表两个构件的弹性模量，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x77_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x78_hanspub.png" xlink:type="simple"/></inline-formula>分别代表两个构件的泊松比。</p><p>阻尼系数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x79_hanspub.png" xlink:type="simple"/></inline-formula>表征碰撞能量损失的程度。当两构件开始接触后，阻尼系数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x80_hanspub.png" xlink:type="simple"/></inline-formula>是法向穿透深度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x81_hanspub.png" xlink:type="simple"/></inline-formula>的三次函数；当法向穿透深度增大到临界值<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x82_hanspub.png" xlink:type="simple"/></inline-formula>后，阻尼系数达到最大值<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x83_hanspub.png" xlink:type="simple"/></inline-formula>，并且随着法向穿透深度的继续增大，阻尼系数保持<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x84_hanspub.png" xlink:type="simple"/></inline-formula>不变。接触指数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x85_hanspub.png" xlink:type="simple"/></inline-formula>表征材料的非线性度，金属材料取1.3~1.5，橡胶材料取2~3。</p></sec><sec id="s6_1_2"><title>4.1.2. 摩擦力计算模型</title><p>接触力中的摩擦力可以表达为：接触正压力与摩擦系数的乘积，即：</p><disp-formula id="hanspub.19328-formula83"><label>(21)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/3-2650070x86_hanspub.png"  xlink:type="simple"/></disp-formula><p>摩擦力是非线性摩擦力，静摩擦和动摩擦根据接触物体的相对滑动速度进行切换，摩擦系数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x87_hanspub.png" xlink:type="simple"/></inline-formula>也随之变化。当相对滑动速度满足<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x88_hanspub.png" xlink:type="simple"/></inline-formula>时，即相对滑动速度小于静摩擦转变系数时，摩擦属于静摩擦，摩擦系数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x89_hanspub.png" xlink:type="simple"/></inline-formula>随着相对滑动速度的增大而逐渐增大到最大静摩擦系数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x90_hanspub.png" xlink:type="simple"/></inline-formula>；当相对滑动速度的绝对值大于静摩擦转变速度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x91_hanspub.png" xlink:type="simple"/></inline-formula>，且不大于动摩擦转变速度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x92_hanspub.png" xlink:type="simple"/></inline-formula>时，即<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x93_hanspub.png" xlink:type="simple"/></inline-formula>时，属于静摩擦向动摩擦的过渡状态，摩擦系数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x94_hanspub.png" xlink:type="simple"/></inline-formula>随着相对滑动速度的增大而逐渐减小到动摩擦系数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x95_hanspub.png" xlink:type="simple"/></inline-formula>；当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x96_hanspub.png" xlink:type="simple"/></inline-formula>后，即相对滑动速度大于动摩擦转变系数时，属于动摩擦状态，摩擦系数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x97_hanspub.png" xlink:type="simple"/></inline-formula>保持动摩擦系数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x98_hanspub.png" xlink:type="simple"/></inline-formula>值不变。</p></sec><sec id="s6_1_3"><title>4.1.3. 接触力参数</title><p>根据接触力模型原理，并参考其它文献中的相关内容，接触力(contact)模型的参数如表2所示。</p></sec></sec><sec id="s6_2"><title>4.2. 足端轨迹的虚拟样机仿真</title><p>利用第2节建立的四足机器人虚拟样机模型对规划的三种足端轨迹进行仿真，仿真时采用的步态为间歇步态和协调步态。步态参数：占空比<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x99_hanspub.png" xlink:type="simple"/></inline-formula>，步长<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x100_hanspub.png" xlink:type="simple"/></inline-formula>，步高<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x101_hanspub.png" xlink:type="simple"/></inline-formula>，周期<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x102_hanspub.png" xlink:type="simple"/></inline-formula>，仿真时长为4个步态周期。通过虚拟样机仿真得到液压缸驱动功率曲线，通过比较不同足端轨迹的驱动功率曲线，选出最优的足端轨迹。</p><sec id="s6_2_1"><title>4.2.1. 间歇步态足端轨迹仿真</title><p>以间歇步态对四足机器人虚拟样机进行仿真，得到左后大腿液压缸驱动功率曲线如图3所示。</p></sec><sec id="s6_2_2"><title>4.2.2. 协调步态足端轨迹仿真</title><p>以协调步态对四足机器人虚拟样机进行仿真，得到左后大腿液压缸驱动功率曲线如图4所示。</p></sec><sec id="s6_2_3"><title>4.2.3. 足端轨迹仿真分析</title><p>根据图3和图4可知，四足机器人的某一条腿在摆动相结束接触地面的瞬间，该腿上的液压缸驱动功率最大。这是由于足端接触地面时有冲击，液压缸推力瞬间增大造成的。通过比较图3的三条功率变化曲线，可以看出复合摆线轨迹的最大功率是三种足端轨迹中最小的；通过比较图4的三条功率变化曲线，可以看出分段五次多项式轨迹的最大功率是三种足端轨迹中最小的。所以，间歇步态采用复合摆线</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> Parameter table of contact force mode</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >名称</th><th align="center" valign="middle" >数值</th></tr></thead><tr><td align="center" valign="middle" >赫兹接触刚度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x103_hanspub.png" xlink:type="simple"/></inline-formula></td><td align="center" valign="middle" >50 N/mm<sup>3/2</sup></td></tr><tr><td align="center" valign="middle" >阻尼系数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x104_hanspub.png" xlink:type="simple"/></inline-formula></td><td align="center" valign="middle" >5 N∙s/mm</td></tr><tr><td align="center" valign="middle" >接触指数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x105_hanspub.png" xlink:type="simple"/></inline-formula></td><td align="center" valign="middle" >2.2</td></tr><tr><td align="center" valign="middle" >接触点临界法向穿透深度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x106_hanspub.png" xlink:type="simple"/></inline-formula></td><td align="center" valign="middle" >0.1 mm</td></tr><tr><td align="center" valign="middle" >最大静摩擦系数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x107_hanspub.png" xlink:type="simple"/></inline-formula></td><td align="center" valign="middle" >0.9</td></tr><tr><td align="center" valign="middle" >最大动摩擦系数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x108_hanspub.png" xlink:type="simple"/></inline-formula></td><td align="center" valign="middle" >0.9</td></tr><tr><td align="center" valign="middle" >静摩擦转变速度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x109_hanspub.png" xlink:type="simple"/></inline-formula></td><td align="center" valign="middle" >1.0 mm/s</td></tr><tr><td align="center" valign="middle" >动摩擦转变速度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/3-2650070x110_hanspub.png" xlink:type="simple"/></inline-formula></td><td align="center" valign="middle" >2.0 mm/s</td></tr></tbody></table></table-wrap><p>表2. 接触力模型参数表</p><p>图3. 间歇步态左后大腿液压缸驱动功率曲线</p><p>图4. 协调步态右后大腿液压缸驱动功率曲线</p><p>轨迹，协调步态采用分段五次多项式轨迹。</p></sec></sec></sec><sec id="s7"><title>5. 结论</title><p>本文首先从减少足端与地面接触冲击的角度，确定了四足机器人的足端轨迹约束方程。然后，在约束方程的基础上，规划了三种满足约束条件的足端轨迹：复合摆线轨迹、八次多项式轨迹和分段五次多项式轨迹。最后，建立四足机器人ADAMS虚拟样机模型，采用规划的间歇步态和协调步态，对三种足端轨迹进行虚拟样机仿真，并根据驱动功率最优的原则，优选合适的足端轨迹，即：间歇步态选择复合摆线轨迹，协调步态选择分段五次多项式轨迹。合理的足端轨迹规划和步态规划是四足机器人行走的必要条件，而基于驱动功率最优原则的足端轨迹规划，为四足机器人找到了最为节能的足端轨迹。</p></sec><sec id="s8"><title>基金项目</title><p>国家科技支撑计划，2013BAH57F00。</p></sec><sec id="s9"><title>文章引用</title><p>袁立鹏,张志宇,欧阳荣坚. 四足机器人基于功率最优原则的足端轨迹规划 Trajectory Planning of Quadruped Robot Based on the Principle of Optimal Power[J]. 力学研究, 2016, 05(04): 138-147. http://dx.doi.org/10.12677/IJM.2016.54013</p></sec><sec id="s10"><title>参考文献 (References)</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.19328-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">Nichol, J.G. (2005) Design for Energy Loss and Energy Control in a Galloping artifIcial Quadruped. Stanford University, Palo Alto, 78-83.</mixed-citation></ref><ref id="hanspub.19328-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">庄明. 基于虚拟样机技术的液压驱动四足机器人步态规划与仿真[D]: [硕士学位论文]. 南京: 南京航空航天大学, 2012: 59-64.</mixed-citation></ref><ref id="hanspub.19328-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">Xu, T., Chen, Q.J., et al. (2012) Learning Gait of Quadruped Robot without Prior Knowledge of the Environment. Chinese Journal of Mechanical Engineering, 25, 1068-1074. &lt;br&gt;https://doi.org/10.3901/CJME.2012.05.1068</mixed-citation></ref><ref id="hanspub.19328-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">Nichol, J.G. (2005) Design for Energy Loss and Energy Control in a Galloping Artificial Quadruped. Stanford University, Palo Alto.</mixed-citation></ref><ref id="hanspub.19328-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Witte, H., Hackert, R., Lilje, K.E., et al. (2001) Transfer of Biological Principles into the Construction of Quadruped Walking Machines. 2001 Proceedings of the Second International Workshop on Robot Motion and Control, IEEE, Bukowy Dworek, Poland, 18-20 October 2001, 245-249.</mixed-citation></ref><ref id="hanspub.19328-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">Zhang, X., Zheng, H., Guan, X., et al. (2005) A Biological Inspired Quadruped Robot: Structure And Control. 2005 IEEE International Conference on Robotics and Biomimetics (ROBIO), IEEE, Shatin, 5-9 July 2005, 387-392.</mixed-citation></ref></ref-list></back></article>