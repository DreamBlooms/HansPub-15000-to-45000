<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">DSC</journal-id><journal-title-group><journal-title>Dynamical Systems and Control</journal-title></journal-title-group><issn pub-type="epub">2325-677X</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/DSC.2017.62009</article-id><article-id pub-id-type="publisher-id">DSC-20416</article-id><article-categories><subj-group subj-group-type="heading"><subject>DSC20170200000_30997075.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  倒立摆系统PID控制方法仿真研究
  Simulation Research on PID Control Method of Inverted Pendulum System
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>任</surname><given-names>高月</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>王</surname><given-names>海旭</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>李</surname><given-names>思尧</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>李</surname><given-names>凌</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>沈阳化工大学信息工程学院，辽宁 沈阳</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>02</day><month>05</month><year>2017</year></pub-date><volume>06</volume><issue>02</issue><fpage>68</fpage><lpage>75</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  
    倒立摆系统作为一种天然不稳定的系统，经常被用作验证控制方案是否可行的实验平台。在研究系统组成的基础上，建立了直线倒立摆系统的数学模型。在MATLAB的Simulink中，分别利用模块搭建的方法和编写S函数的方法，建立了直线倒立摆系统的线性和非线性模型，利用GUI完成PID控制器的设计。利用PID控制算法对直线倒立摆系统进行控制。仿真结果表明所用方法的可行性，为PID控制算法在倒立摆实验装置中的应用奠定了基础。
    As a kind of natural unstable system, the inverted pendulum system is often used as a test platform to verify the feasibility of the control scheme. Based on the study of the system composition, the mathematical model of the linear inverted pendulum system is established. In Simulink MATLAB, the linear and nonlinear models of inverted pendulum system are established by using the method of module construction and the method of writing S function. And the PID controller is designed by using GUI. Inverted pendulum system is controlled based on PID control algorithm. The simulation results show the feasibility of the method, which lays the foundation for the application of the PID control algorithm in the inverted pendulum experiment equipment. 
  
 
</p></abstract><kwd-group><kwd>倒立摆系统，PID控制，MATLAB仿真，GUI, Inverted Pendulum System</kwd><kwd> PID Control</kwd><kwd> MATLAB Simulation</kwd><kwd> GUI</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>倒立摆系统PID控制方法仿真研究<sup> </sup></title><p>任高月，王海旭，李思尧，李凌</p><p>沈阳化工大学信息工程学院，辽宁 沈阳</p><p>收稿日期：2017年4月7日；录用日期：2017年4月26日；发布日期：2017年4月30日</p><disp-formula id="hanspub.20416-formula243"><graphic xlink:href="http://html.hanspub.org/file/5-2740108x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>倒立摆系统作为一种天然不稳定的系统，经常被用作验证控制方案是否可行的实验平台。在研究系统组成的基础上，建立了直线倒立摆系统的数学模型。在MATLAB的Simulink中，分别利用模块搭建的方法和编写S函数的方法，建立了直线倒立摆系统的线性和非线性模型，利用GUI完成PID控制器的设计。利用PID控制算法对直线倒立摆系统进行控制。仿真结果表明所用方法的可行性，为PID控制算法在倒立摆实验装置中的应用奠定了基础。</p><p>关键词 :倒立摆系统，PID控制，MATLAB仿真，GUI</p><disp-formula id="hanspub.20416-formula244"><graphic xlink:href="http://html.hanspub.org/file/5-2740108x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2017 by authors and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="http://image.hanspub.org:8080\Html/htmlimages\1-2890033x\e70a10f1-7c93-45ea-9603-062237856e4b.png" /><img src="http://image.hanspub.org:8080\Html\htmlimages\1-2890033x\e898c85e-ffc4-45c9-b817-14224a4d6960.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>倒立摆系统是一个非线性且不稳定的系统，是研究控制理论的经典实验装置。其结构简单、成本低廉的特点，使其成为进行控制理论教学及开展各种控制实验的理想实验平台，也是研究智能控制方法较为理想的实验装置 [<xref ref-type="bibr" rid="hanspub.20416-ref1">1</xref>] 。倒立摆结合了控制理论、计算机控制等多个领域，其自身又是一个绝对不稳定、高阶次、多变量、强耦合的非线性系统，因此许多研究控制的人都把它当做经典的控制对象来研究。在欧美等发达国家的高等院校，它已成为必备的控制理论教学实验设备 [<xref ref-type="bibr" rid="hanspub.20416-ref2">2</xref>] [<xref ref-type="bibr" rid="hanspub.20416-ref3">3</xref>] [<xref ref-type="bibr" rid="hanspub.20416-ref4">4</xref>] 。</p><p>1984年，Wattes首先研究了用LQR方法控制倒立摆 [<xref ref-type="bibr" rid="hanspub.20416-ref5">5</xref>] 。1994年，北京航空航天大学张明廉教授提出“拟人智能控制理论”框架，利用了人工智能与自动控制理论的结合，它是由规约规则和动态定性推理系统组成 [<xref ref-type="bibr" rid="hanspub.20416-ref6">6</xref>] 。这种理论从被控对象的物理模型出发，引入了规约的思想，在定性分析中融合了人的控制经验和知识，由规则直接形成控制方法，成功地实现三级倒立摆的实物控制。1995年，T.-H. Li等人利用两个并行的模糊控制来分别控制小车位置和摆杆角度，用实验证明了智能控制方法可以应用在倒立摆系统上 [<xref ref-type="bibr" rid="hanspub.20416-ref7">7</xref>] 。1996年，张乃尧等人采用模糊双闭环的控制方案成功地实现了对直线一级倒立摆的稳定控制 [<xref ref-type="bibr" rid="hanspub.20416-ref8">8</xref>] 。2002年，李洪兴教授采用变论域自适应模糊控制的控制方法，在世界上首次实现了四级直线倒立摆的稳定性控制。</p><p>以上各位学者的工作充分表明了研究倒立摆系统控制方法的重要性。本文在对直线倒立摆系统进行机理分析的基础上，建立了其完整的非线性模型和线性模型。利用MATLAB GUI开发出PID仿真平台，利用本仿真平台对PID的控制算法进行仿真并评估该控制方法应用到倒立摆系统的可行性。</p></sec><sec id="s4"><title>2. 倒立摆的数学模型</title><sec id="s4_1"><title>2.1. 直线一级倒立摆简介</title><p>完整的倒立摆系统包括计算机、运动控制卡、伺服系统、倒立摆本体和光电码盘、反馈测量元件等几大部分，共同组成一个闭环系统。闭环系统由控制器、受控对象和反馈通路组成。在倒立摆系统中控制器为计算机，受控对象为小车与摆杆。如图1所示。</p></sec><sec id="s4_2"><title>2.2. 模型的建立</title><p>忽略空气阻力及各种摩擦力，将倒立摆系统看成由小车和匀质刚性摆杆组成。系统内部各项参数见表1。</p><p>分析小车水平方向所受的合力，可得：</p><p>图1. 直线型倒立摆系统结构图</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> System resulting data of standard experimen</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >变量名称</th><th align="center" valign="middle" >数值</th></tr></thead><tr><td align="center" valign="middle" >小车质量(M)</td><td align="center" valign="middle" >0.5 kg</td></tr><tr><td align="center" valign="middle" >摆杆质量(m)</td><td align="center" valign="middle" >0.2 kg</td></tr><tr><td align="center" valign="middle" >小车摩擦系数(b)</td><td align="center" valign="middle" >0.1 N/m/sec</td></tr><tr><td align="center" valign="middle" >摆杆转动轴心到杆质心的长度(l)</td><td align="center" valign="middle" >0.3 m</td></tr><tr><td align="center" valign="middle" >摆杆转动惯量(I)</td><td align="center" valign="middle" >0.006 kg∙m<sup>2</sup></td></tr><tr><td align="center" valign="middle" >加在小车上的力(F)</td><td align="center" valign="middle" ></td></tr><tr><td align="center" valign="middle" >小车位置(x)</td><td align="center" valign="middle" ></td></tr><tr><td align="center" valign="middle" >摆杆与垂直向上方向的夹角(f)</td><td align="center" valign="middle" ></td></tr></tbody></table></table-wrap><p>表1. 标准试验系统结果数据</p><disp-formula id="hanspub.20416-formula245"><label>(1)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/5-2740108x10_hanspub.png"  xlink:type="simple"/></disp-formula><p>在摆杆水平方向的受力进行分析可得：</p><disp-formula id="hanspub.20416-formula246"><label>(2)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/5-2740108x12_hanspub.png"  xlink:type="simple"/></disp-formula><p>即：</p><disp-formula id="hanspub.20416-formula247"><graphic xlink:href="http://html.hanspub.org/file/5-2740108x14_hanspub.png"  xlink:type="simple"/></disp-formula><p>将(2)代入(1)可得：</p><disp-formula id="hanspub.20416-formula248"><label>(3)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/5-2740108x15_hanspub.png"  xlink:type="simple"/></disp-formula><p>对摆杆进行竖直方向的受力分析得：</p><disp-formula id="hanspub.20416-formula249"><label>(4)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/5-2740108x17_hanspub.png"  xlink:type="simple"/></disp-formula><p>力矩平衡方程：</p><disp-formula id="hanspub.20416-formula250"><label>(5)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/5-2740108x19_hanspub.png"  xlink:type="simple"/></disp-formula><p>将(4)、(5)合并得：</p><disp-formula id="hanspub.20416-formula251"><graphic xlink:href="http://html.hanspub.org/file/5-2740108x21_hanspub.png"  xlink:type="simple"/></disp-formula><p>设<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x22_hanspub.png" xlink:type="simple"/></inline-formula> 为倒立摆系统的竖直平衡状态，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x24_hanspub.png" xlink:type="simple"/></inline-formula> 为角度偏差，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x26_hanspub.png" xlink:type="simple"/></inline-formula> 一般不超过20˚。即</p><disp-formula id="hanspub.20416-formula252"><graphic xlink:href="http://html.hanspub.org/file/5-2740108x28_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.20416-formula253"><graphic xlink:href="http://html.hanspub.org/file/5-2740108x29_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.20416-formula254"><graphic xlink:href="http://html.hanspub.org/file/5-2740108x30_hanspub.png"  xlink:type="simple"/></disp-formula><p>用u来代表施加于小车上的力得：</p><disp-formula id="hanspub.20416-formula255"><graphic xlink:href="http://html.hanspub.org/file/5-2740108x31_hanspub.png"  xlink:type="simple"/></disp-formula><p>通过Laplace变换可以得到系统的传递函数模型：</p><disp-formula id="hanspub.20416-formula256"><graphic xlink:href="http://html.hanspub.org/file/5-2740108x33_hanspub.png"  xlink:type="simple"/></disp-formula><p>其中，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x34_hanspub.png" xlink:type="simple"/></inline-formula>。代入数值可得系统传函的表达式：</p><disp-formula id="hanspub.20416-formula257"><graphic xlink:href="http://html.hanspub.org/file/5-2740108x35_hanspub.png"  xlink:type="simple"/></disp-formula></sec></sec><sec id="s5"><title>3. PID控制器的建立</title><sec id="s5_1"><title>3.1. PID控制器设计MATLAB仿真</title><p>用MATLAB可以建立PID控制器的Simulink的模型仿真，既可以节省编程的工作量，也可以清楚直观的进行操作。当模拟运行遇到问题时，可以轻松改变仿真中的参数，完成对仿真系统的校正。如图2所示。</p></sec><sec id="s5_2"><title>3.2. 页面模块</title><p>这里使用GUI来完成页面的设计。页面包含三个数值输入文本框(edit)，分别对应K<sub>P</sub>、K<sub>I</sub>、K<sub>d</sub>。一个按钮(pushbutton)作为程序的运行按钮；一个图像显示的窗口(axes)作为图像的输出窗口。使用者只需在K<sub>P</sub>、K<sub>I</sub>、K<sub>d</sub>的文本框中输入想要仿真的数值然后单击上面的按钮即可进行仿真。</p></sec><sec id="s5_3"><title>3.3. 界面的设计过程及设计结果</title><p>在GUI中设计页面，设计步骤如下：</p><p>① 首先，新建一个GUI，在界面编辑窗口中放入三个静态文本(text)从上到下以此命名为K<sub>P</sub>、K<sub>I</sub>、K<sub>d</sub>。在它们的后边分别放一个输入文本框(edit)。在右侧空白的区域放一个大小合适的按钮(pushbutton)，在下方的空白区域放一个图像输出窗口(axes)。</p><p>② 给三个输入文本框创建独立的回调函数，将程序运行时操作者输入的数值从上到下依次保存为m</p><p>函数中的变量P、I、D。作为PID控制器的系数带入Simulink中，并将按钮单击动作时触发运行事件。</p><p>③ 将Simulink框图中的输出out1与GUI中的</p><p>axes相连接，使得仿真生成的曲线图在GUI的界面中显示。程序界面如图3所示</p><p>本模拟过程由软件来实现，只需要利用计算机就可以完成对PID算法的模拟，减少了实验的成本并提高了实验效率。</p></sec></sec><sec id="s6"><title>4. PID控制参数设定及仿真</title><sec id="s6_1"><title>4.1. PID控制器设计MATLAB仿真</title><p>在Simulink的模型仿真中，双击Scope打开图像生成窗口。在PID控制器中输入K<sub>P</sub>、K<sub>I</sub>、K<sub>d</sub>的系数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x36_hanspub.png" xlink:type="simple"/></inline-formula>；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x37_hanspub.png" xlink:type="simple"/></inline-formula>；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x38_hanspub.png" xlink:type="simple"/></inline-formula>；单击运行曲线图如图4所示。</p><p>图2. 倒立摆系统Simulink仿真结构图</p><p>图3. GUI程序界面</p><p>从图4可以看出，控制曲线不收敛，因此增大控制量。将PID控制器系数改为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x41_hanspub.png" xlink:type="simple"/></inline-formula>；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x42_hanspub.png" xlink:type="simple"/></inline-formula>；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x43_hanspub.png" xlink:type="simple"/></inline-formula>；曲线如图5所示。</p><p>为消除系统的振荡，增加微分控制参数K<sub>d</sub>。将PID控制器系数改为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x44_hanspub.png" xlink:type="simple"/></inline-formula>；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x45_hanspub.png" xlink:type="simple"/></inline-formula>；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x46_hanspub.png" xlink:type="simple"/></inline-formula>；曲线如图6所示。</p><p>图4. PID响应曲线(K<sub>P</sub> = 1; K<sub>I</sub> = 1; K<sub>d</sub> = 1)</p><p>图5. PID响应曲线(K<sub>P</sub> = 100; K<sub>I</sub> = 1; K<sub>d</sub> = 1)</p><p>图6. PID响应曲线(K<sub>P</sub> = 100; K<sub>I</sub> = 1; K<sub>d</sub> = 20)</p><p>从PID控制器系统响应曲线可以看出，系统在K<sub>P</sub>，K<sub>I</sub>，K<sub>d</sub>没有调整前是不稳定的。当<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x50_hanspub.png" xlink:type="simple"/></inline-formula>；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x51_hanspub.png" xlink:type="simple"/></inline-formula>；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x52_hanspub.png" xlink:type="simple"/></inline-formula>时系统经过3 s的波动达到稳定状态，此时稳态误差为0。此时调整微分系数K<sub>d</sub>，可以有效减小系统超调量，使系统到达稳定时间减少为2 s。成功实现尽量少的时间达到稳定的目的。</p></sec><sec id="s6_2"><title>4.2. PID控制实验</title><p>将参数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x53_hanspub.png" xlink:type="simple"/></inline-formula>；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x54_hanspub.png" xlink:type="simple"/></inline-formula>；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/5-2740108x55_hanspub.png" xlink:type="simple"/></inline-formula>在实验室直线一级倒立摆上进行控制实验，发现倒立摆可以实现较好的稳定性，摆杆的角度在3.14 rad左右。但是PID 控制器并不能对小车的位置进行控制，小车会沿滑杆有稍微的移动。当施加干扰后系统仍可以较好的抵换外界干扰，在干扰停止作用后，系统能很快回到平衡位置。证明了在PID控制器上仿真出的参数在实际的直线一级倒立摆控制上与仿真结果大致相同。</p></sec></sec><sec id="s7"><title>5. 结论</title><p>本文从倒立摆的数学建模入手，在此基础之上基于MATLAB中Simulink的仿真建模。并使用GUI设计并建立PID控制器，对K<sub>P</sub>、K<sub>I</sub>、K<sub>d</sub>的参数进行调整。通过生成的控制曲线来评估这一组参数的控制效果。将得到的参数在倒立摆系统上进行验证，减少了实验的时间与花费的精力。本课题经检验达到了预期的目标，取得了理想的结果。但平衡的时候出现的小幅的振荡等问题都有待于改善，今后会在单纯的PID控制中加入模糊控制，来进行PID控制器的优化设计。</p></sec><sec id="s8"><title>文章引用</title><p>任高月,王海旭,李思尧,李 凌. 倒立摆系统PID控制方法仿真研究 Simulation Research on PID Control Method of Inverted Pendulum System[J]. 动力系统与控制, 2017, 06(02): 68-75. http://dx.doi.org/10.12677/DSC.2017.62009</p></sec><sec id="s9"><title>参考文献 (References)</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.20416-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">李租枢, 陈庆春. 倒立摆系统的智能研究及其发展动向[M]. 西安: 西安交通大学出版社, 1997: 14-19.</mixed-citation></ref><ref id="hanspub.20416-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">徐莉苹, 杨世勇, 等. 单级倒立摆的PID控制研究[J]. 控制工程, 2007, 43(s1): 23-24, 53.</mixed-citation></ref><ref id="hanspub.20416-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">李明, 郭焕银. 基于MATLAB的倒立摆系统PID控制[J]. 宿州学院学报, 2010, 25(2): 58-60..</mixed-citation></ref><ref id="hanspub.20416-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">白金, 韩俊伟. 基于MATLAB/Simulink环境下的PID参数整定[J]. 哈尔滨商业大学学报自然科学版, 2007, 23(6): 673-677.</mixed-citation></ref><ref id="hanspub.20416-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Watts, J.W. (1984) Control of an inverted Pendulum. ASEE Annual Conference, Vol. 2527, 706-710.</mixed-citation></ref><ref id="hanspub.20416-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">张明廉, 陈伟基, 等. 拟人智能控制三级倒立摆机理的研究[J]. 北京航空航天大学学报, 1999, 25(2): 151-155.</mixed-citation></ref><ref id="hanspub.20416-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">Li, T.-H.S. and Tsai, C.-Y. (1995) Parallel Fuzzy Sliding Mode Control of the Cart-Pole System. Proceedings of the 1995 IEEE IECON 21st International Conference on Industrial Electronics, Control, and Instru-mentation, Orlando, 6-10 November 1995, 1468-1473.</mixed-citation></ref><ref id="hanspub.20416-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">张乃尧, Ebert, C.等. 倒立摆的双闭环模糊控制[J]. 控制与决策, 1996, 11(l): 85-88.</mixed-citation></ref></ref-list></back></article>