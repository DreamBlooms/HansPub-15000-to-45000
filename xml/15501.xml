<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">MET</journal-id><journal-title-group><journal-title>Mechanical Engineering and Technology</journal-title></journal-title-group><issn pub-type="epub">2167-6631</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/MET.2015.42016</article-id><article-id pub-id-type="publisher-id">MET-15501</article-id><article-categories><subj-group subj-group-type="heading"><subject>MET20150200000_23788968.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  三次三角插值样条曲线的数控插补计算方法
  An NC Interpolation Calculation Method of Cubic Trigonometric Cardinal Interpolation Spline
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>张</surname><given-names>益汉</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>宋</surname><given-names>爱平</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>刘</surname><given-names>祖奇</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>邱</surname><given-names>林</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>扬州大学机械工程学院，江苏 扬州</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>10</day><month>06</month><year>2015</year></pub-date><volume>04</volume><issue>02</issue><fpage>151</fpage><lpage>158</lpage><history><date date-type="received"><day>Jul.</day>	<month>15th,</month>	<year>2013</year></date><date date-type="rev-recd"><day>Aug.</day>	<month>21st,</month>	<year>2013</year>	</date><date date-type="accepted"><day>Aug.</day>	<month>29th,</month>	<year>2013</year></date></history><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   论文提出一种新的样条曲线——可调形三次三角插值样条曲线，该样条曲线实现了对直线、圆弧、椭圆以及自由曲线等常见数控运动轨迹曲线的统一精确表达，并根据参数曲线的数据采样插补原理，对三次三角插值样条曲线的插补算法进行了研究。在保证自由曲线数控插补运动高速同时兼顾运动的平稳性，采用一系列首尾相连的微小直线段逼近给定的插值样条曲线，再利用轨迹空间和参变量空间的对应关系，控制运动加速度，得到整个离散化插补轨迹。此算法提高了自由曲线的插补速度和运动平稳性，保证了曲面数控加工的表面质量。&lt;br/&gt;The paper proposes a new spline curve called cubic trigonometric cardinal interpolation spline with adjustable shape. The spline curve realized the unification to accurately represent some common NC tool motion path curves such as straight lines, arcs, ellipses and free curves, etc. An interpolation algorithm of cubic trigonometric cardinal interpolation spline based on data sampling interpolation theory is researched. This curve interpolation method ensures the high-speed of spline curve CNC interpolation while taking into account the smooth movement, using a series of conterminous short straight-line segments to approach the given interpolation spline, and then utilizing the relation between track space and parameter space to control motion acceleration and get the whole discrete interpolation trajectory. This algorithm improves the speed and motion stability of free curve interpolation and guarantees the surface quality of surface numerical control machining.
    
  
 
</p></abstract><kwd-group><kwd>数据采样插补，三次三角插值样条曲线，刀具运动轨迹，轨迹空间, Data Sampling Interpolation Theory</kwd><kwd> Cubic Trigonometric Interpolation Spline</kwd><kwd> Tool Motion Path Curves</kwd><kwd> Track Space</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>三次三角插值样条曲线的数控插补计算方法<sup> </sup></title><p>张益汉，宋爱平，刘祖奇，邱林</p><p>扬州大学机械工程学院，江苏 扬州</p><p>Email: ydzhangyihan@sina.com</p><p>收稿日期：2015年6月3日；录用日期：2015年6月22日；发布日期：2015年6月25日</p><disp-formula id="hanspub.15501-formula3213"><graphic xlink:href="http://html.hanspub.org/file/11-2340208x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>论文提出一种新的样条曲线——可调形三次三角插值样条曲线，该样条曲线实现了对直线、圆弧、椭圆以及自由曲线等常见数控运动轨迹曲线的统一精确表达，并根据参数曲线的数据采样插补原理，对三次三角插值样条曲线的插补算法进行了研究。在保证自由曲线数控插补运动高速同时兼顾运动的平稳性，采用一系列首尾相连的微小直线段逼近给定的插值样条曲线，再利用轨迹空间和参变量空间的对应关系，控制运动加速度，得到整个离散化插补轨迹。此算法提高了自由曲线的插补速度和运动平稳性，保证了曲面数控加工的表面质量。</p><p>关键词 :数据采样插补，三次三角插值样条曲线，刀具运动轨迹，轨迹空间</p><disp-formula id="hanspub.15501-formula3214"><graphic xlink:href="http://html.hanspub.org/file/11-2340208x6_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s3"><title>1. 引言</title><p>在数控加工中，经常遇到如飞机的的机翼、汽车流线型覆盖件成形模具型腔、汽轮机叶片等许多复杂外形型面的零件。面对这类曲线曲面的描述通常采用的方法是<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x7_hanspub.png" xlink:type="simple"/></inline-formula>方法，它既能表示自由曲线曲面，又能表示一些规则的二次曲线曲面。但NURBS曲线的参数表达式比较复杂，插补运算量大，且由型值点逆求控制点的反求运算较难实现，不易于实现直接插补。为此，本课题组在文献[<xref ref-type="bibr" rid="hanspub.15501-ref1">1</xref>] 中提出了一种新型样条曲线——可调形三次三角插值样条曲线，这种样条曲线的插值样条表达式中含有三角函数多项式，通过选择合适的控制点和形状可调参数，该插值样条可以精确表示直线、圆弧、椭圆以及自由曲线等常见工程曲线。由于该使用的三次三角插值样条避免了使用有理的数学表达形式，故其表达式比较简洁，所需的计算量也相对较小，并且能够实现实时插补，这很好的为插值曲线及曲面的设计，提供了一种全新的理论方法。</p><p>本文针对该三次三角样条曲线提出了一种新的插补计算方法，该法有效地提高了加工精度和加工过程的可靠性。其插补思想是：使用若干顺序连接的微小直线段逼近用户程序给定的插值样条曲线轮廓。将直线段映射到参变量空间，得到参变量的增量值，再通过控制参变量u，求取对应的轨迹空间中的映射点，最终得到插补点的坐标值。以此不断重复直到插补终点，可得到整个离散化插补轨迹。</p></sec><sec id="s4"><title>2. 三次三角插值样条曲线</title><p>定义 对任意给定实数k ≥ 0，参变量u：<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x8_hanspub.png" xlink:type="simple"/></inline-formula>，称以下一组关于u的函数为带形状可调参数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x9_hanspub.png" xlink:type="simple"/></inline-formula>的三次三角Cardinal样条基函数。</p><disp-formula id="hanspub.15501-formula3215"><label>(1)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x10_hanspub.png"  xlink:type="simple"/></disp-formula><p>其中<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x11_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x12_hanspub.png" xlink:type="simple"/></inline-formula>。</p><p>设q<sub>t<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x13_hanspub.png" xlink:type="simple"/></inline-formula></sub>为R<sup>2</sup>或R<sup>3</sup>中给定的一组控制点(n ≥ 3)，定义参数曲线段</p><disp-formula id="hanspub.15501-formula3216"><label>(2)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x14_hanspub.png"  xlink:type="simple"/></disp-formula><p>(<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x15_hanspub.png" xlink:type="simple"/></inline-formula>，i为曲线段号，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x16_hanspub.png" xlink:type="simple"/></inline-formula>)，为由每四个顺序控制点q<sub>i</sub><sub>-</sub><sub>1</sub>，q<sub>i</sub>，q<sub>i+</sub><sub>1</sub>，q<sub>i+</sub><sub>2</sub>所构造的分段三次三角样条曲线，所有曲线段P<sub>i</sub>(u)有序组成的曲线P(u)称为三次三角样条曲线。</p></sec><sec id="s5"><title>3. 三次三角插值样条曲线的插补计算方法</title><p>数据采样插补实质上是使用一系列首尾相连的微小直线段来逼近给定曲线。由于这些线段是按加工时间分割的，因此数据采样插补又称为时间分割法插补，近代数控系统轨迹插补在数据采样原理的基础上产生了很多新的插补算法。本文就数据采样插补原理产生的三次三角插值样条曲线的插补算法进行研究。</p><sec id="s5_1"><title>3.1. 三次三角插值样条曲线的插补原理</title><p>根据三次三角插值样条曲线的定义知，该曲线为多项式形式，可插值于所有给定的控制点，且整体达到C<sup>1</sup>连续，可以精确表示工程中一些常见的曲线，其具有计算简单、构造灵活、高精度等特点。下面讨论其插补原理：</p><p>由样条曲线原理可知，这类曲线为分段参数曲线，当参变量 在其取值期间上连续变化时，曲线上终点的位置矢量P(u)可公式(2)求出。</p><p>公式(2)的简化表达式为：</p><disp-formula id="hanspub.15501-formula3217"><label>(3)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x17_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中：a，b，c， d，e，f为常数矢量，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x18_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x19_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x20_hanspub.png" xlink:type="simple"/></inline-formula></p><p>各项系数将随插值点位置的变化而变化，即取不同的值，故三次三角插值样条曲线是一个变系数三次参数曲线插补问题。</p></sec><sec id="s5_2"><title>3.2. 三次三角插值样条曲线插补实现原理和步骤</title><p>三次三角样条曲线的插补过程的直接控制量是参变量u，而最终的被控量是插补点的坐标值以及插补点所沿插补轨迹的进给速度，先利用轨迹空间到参变量空间的映射和参变量，然后再通过参变量空间到轨迹空间的映射这两大步骤的相互转换来完成。具体步骤如下：1) 根据三次三角插值样条曲线现有的几何信息，确定轨迹计算公式中的相关系数。2) 按照用户程序的进给速度、加减速要求以及允许误差，在插补周期中产生空间小直线段<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x21_hanspub.png" xlink:type="simple"/></inline-formula>去逼近被插补曲线，逐步求得各插补直线端点<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x22_hanspub.png" xlink:type="simple"/></inline-formula>的坐标值。3) 将直线映射到参变量空间，得到与其对应的参变量空间中的微小直线段即参变量的增量值，求取与参变量空间中下一点插补点的坐标。</p></sec></sec><sec id="s6"><title>4. 三次三角插值样条曲线的插补的实现方法</title><sec id="s6_1"><title>4.1. 插补预处理</title><p>为了减少三次三插值样条曲线在插补中的计算量，可将插补算法中一些可以一次性计算的任务放在实时插补前的预处理阶段完成。这些任务主要包括轨迹表达系数的求取和导数表达式系数的求取 [<xref ref-type="bibr" rid="hanspub.15501-ref2">2</xref>] 。</p><p>轨迹表达式<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x23_hanspub.png" xlink:type="simple"/></inline-formula>系数的求取是根据CAD/CAM给出的样条曲线描述信息，在实时插补前一次性求解出轨迹计算公式所有系数a，b，c，d，e，f，对于三次三角插值样条曲线，如CAD/CAM给出的原始信息为控制点序列<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x24_hanspub.png" xlink:type="simple"/></inline-formula>，则曲线表达式为：</p><disp-formula id="hanspub.15501-formula3218"><label>(4)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x25_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中：<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x26_hanspub.png" xlink:type="simple"/></inline-formula>；M为常数矩阵；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x27_hanspub.png" xlink:type="simple"/></inline-formula>；i为曲线段号。</p><p>三次三角插值样条曲线的常数矩阵M为：</p><disp-formula id="hanspub.15501-formula3219"><graphic xlink:href="http://html.hanspub.org/file/11-2340208x28_hanspub.png"  xlink:type="simple"/></disp-formula><p>代入(4)式得：</p><disp-formula id="hanspub.15501-formula3220"><label>(5)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x29_hanspub.png"  xlink:type="simple"/></disp-formula><p>比较式(3)和(5)可得轨迹计算公式(3)的系数与控制点序列的关系为：</p><disp-formula id="hanspub.15501-formula3221"><label>(6)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x30_hanspub.png"  xlink:type="simple"/></disp-formula><p>在样条插补过程中需要计算曲线弧长对参变量的变化率之值<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x31_hanspub.png" xlink:type="simple"/></inline-formula>，为了减少实时计算的工作量，表达式中的导数表达式系数也在预处理阶段求出。设三次三角插值样条曲线表达式为：</p><disp-formula id="hanspub.15501-formula3222"><label>(7)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x32_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中：参数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x33_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x34_hanspub.png" xlink:type="simple"/></inline-formula>为常系数。</p><p>在分析自由曲面时，实时计算<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x35_hanspub.png" xlink:type="simple"/></inline-formula>的值为：</p><disp-formula id="hanspub.15501-formula3223"><label>(8)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x36_hanspub.png"  xlink:type="simple"/></disp-formula><p>其中：</p><disp-formula id="hanspub.15501-formula3224"><graphic xlink:href="http://html.hanspub.org/file/11-2340208x37_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.15501-formula3225"><graphic xlink:href="http://html.hanspub.org/file/11-2340208x38_hanspub.png"  xlink:type="simple"/></disp-formula><p>代入得：</p><disp-formula id="hanspub.15501-formula3226"><label>(9)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x39_hanspub.png"  xlink:type="simple"/></disp-formula><disp-formula id="hanspub.15501-formula3227"><label>(10)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x40_hanspub.png"  xlink:type="simple"/></disp-formula><p>多项式的系数的数值每一段曲线上的值分别是定值，因此可以在插补预处理阶段通过一次性计算预先求出，以便简化后续计算。</p></sec><sec id="s6_2"><title>4.2. 三次三角插值样条曲线实时插补计算</title><p>因为数控系统的插补过程实质是每个微小直线段的两端点坐标的过程，这些点都在参数曲线上，而参数曲线上的点又是与参数值一一对应的，所以参数曲线的插补过程可以转化成连续求解一系列参数值的问题，以此计算插补轨迹上的下一点P<sub>i</sub><sub>+1</sub>的坐标值<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x41_hanspub.png" xlink:type="simple"/></inline-formula>。为了使刀具在曲线插补过程中能够平滑运动，保证其加工产品的质量和精度，论文不采用等参数分割插补算法。而是采用以瞬时进给速度为控制目标，允许误差为约束条件的实时插补算法 [<xref ref-type="bibr" rid="hanspub.15501-ref3">3</xref>] - [<xref ref-type="bibr" rid="hanspub.15501-ref7">7</xref>] 。实现过程如下：</p><p>假设给定的瞬时进给速度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x42_hanspub.png" xlink:type="simple"/></inline-formula>，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x43_hanspub.png" xlink:type="simple"/></inline-formula>为所要插补的空间参数曲线，根据微分几何可知</p><disp-formula id="hanspub.15501-formula3228"><label>(11)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x44_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x45_hanspub.png" xlink:type="simple"/></inline-formula>是曲线的微分弧长，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x46_hanspub.png" xlink:type="simple"/></inline-formula>是时间微分，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x47_hanspub.png" xlink:type="simple"/></inline-formula>是参数<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x48_hanspub.png" xlink:type="simple"/></inline-formula>的微分。</p><p>设<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x49_hanspub.png" xlink:type="simple"/></inline-formula>为数控系统的插补周期ms；u是关于时间t的函数，有：</p><disp-formula id="hanspub.15501-formula3229"><graphic xlink:href="http://html.hanspub.org/file/11-2340208x50_hanspub.png"  xlink:type="simple"/></disp-formula><p>对上式进行微分得</p><disp-formula id="hanspub.15501-formula3230"><label>(12)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x52_hanspub.png"  xlink:type="simple"/></disp-formula><p>利用泰勒级数得展开式</p><disp-formula id="hanspub.15501-formula3231"><label>(13)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x53_hanspub.png"  xlink:type="simple"/></disp-formula><p>由插补递推公式的一阶近似得：</p><disp-formula id="hanspub.15501-formula3232"><label>(14)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x54_hanspub.png"  xlink:type="simple"/></disp-formula><p>二阶近似得：</p><disp-formula id="hanspub.15501-formula3233"><label>(15)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x55_hanspub.png"  xlink:type="simple"/></disp-formula><p>由于现在数控系统的插补周期T一般都很小，在曲率半径不太小的情况取一阶近似迭代求得的<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x56_hanspub.png" xlink:type="simple"/></inline-formula>，如果曲线曲率半径很小，便采用二阶近似下求得的<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x57_hanspub.png" xlink:type="simple"/></inline-formula>。</p><p>通过以上过程求出当前周期的<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x58_hanspub.png" xlink:type="simple"/></inline-formula>的值后，便可进一步计算下一插补周期参变量<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x59_hanspub.png" xlink:type="simple"/></inline-formula>的取值<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x60_hanspub.png" xlink:type="simple"/></inline-formula>为：</p><disp-formula id="hanspub.15501-formula3234"><label>(16)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x61_hanspub.png"  xlink:type="simple"/></disp-formula><p>然后，根据求得的<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x62_hanspub.png" xlink:type="simple"/></inline-formula>和轨迹计算公式，即可求出样条曲线的下一插补<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x63_hanspub.png" xlink:type="simple"/></inline-formula>点的坐标增量值<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x64_hanspub.png" xlink:type="simple"/></inline-formula>，从而可以求得下一插补点<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x65_hanspub.png" xlink:type="simple"/></inline-formula>的坐标值<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x66_hanspub.png" xlink:type="simple"/></inline-formula>。</p><p>计算<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x67_hanspub.png" xlink:type="simple"/></inline-formula>和<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x68_hanspub.png" xlink:type="simple"/></inline-formula>，即：</p><disp-formula id="hanspub.15501-formula3235"><graphic xlink:href="http://html.hanspub.org/file/11-2340208x69_hanspub.png"  xlink:type="simple"/></disp-formula><p>同理<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x70_hanspub.png" xlink:type="simple"/></inline-formula></p><disp-formula id="hanspub.15501-formula3236"><label>(17)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x71_hanspub.png"  xlink:type="simple"/></disp-formula><p>再令<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x72_hanspub.png" xlink:type="simple"/></inline-formula>，不断重复以上过程直至到达样条曲线终点就可以求出所有插补点，这样可得到整个离散化的插补轨迹。</p></sec></sec><sec id="s7"><title>5. 误差控制</title><p>我们知道数控系统实时插补是采用泰勒展开式计算各插补周期的参变量增量，然后由该参数值映射到轨迹空间实现轨迹插补不停向前进行，因此插补过程中并没有累积误差，但在一个插补周期内，插补轨迹使用小线段去逼近三次三角样条曲线，这样就会存在轮廓误差，近似地可以认为是弦高误差 [<xref ref-type="bibr" rid="hanspub.15501-ref8">8</xref>] 。插补误差图如图1所示。</p><disp-formula id="hanspub.15501-formula3237"><label>(18)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x73_hanspub.png"  xlink:type="simple"/></disp-formula><p>式中：<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x74_hanspub.png" xlink:type="simple"/></inline-formula>为前一插补点的曲率半径，其值等于该点曲率的倒数，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x75_hanspub.png" xlink:type="simple"/></inline-formula>；<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x76_hanspub.png" xlink:type="simple"/></inline-formula>近似看作一个插补周期的插补长度，有<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x77_hanspub.png" xlink:type="simple"/></inline-formula>。</p><p>其中局部的曲率<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x78_hanspub.png" xlink:type="simple"/></inline-formula>由如下公式所得：</p><disp-formula id="hanspub.15501-formula3238"><graphic xlink:href="http://html.hanspub.org/file/11-2340208x79_hanspub.png"  xlink:type="simple"/></disp-formula><p>当最大允许轮廓误差为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x80_hanspub.png" xlink:type="simple"/></inline-formula>时，则瞬时进给速度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x81_hanspub.png" xlink:type="simple"/></inline-formula>需要满足如下条件：</p><disp-formula id="hanspub.15501-formula3239"><label>(19)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x82_hanspub.png"  xlink:type="simple"/></disp-formula><p>当采用高速切削加工曲线曲面时，由于曲率的存在，必然会引起较大的进给加速度。若加速度过大，超过机床进给系统动态刚度的设计承受能力，就会给整个加工系统、加工过程和零件的加工质量造成严重影响。因此,必须将加工进给的加速度限制在允许的范围内。当最大允许法向加速度为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x83_hanspub.png" xlink:type="simple"/></inline-formula>时，进给速度<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x84_hanspub.png" xlink:type="simple"/></inline-formula>需要满足如下条件：</p><disp-formula id="hanspub.15501-formula3240"><label>(20)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x85_hanspub.png"  xlink:type="simple"/></disp-formula><p>为避免式中曲率半径<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x86_hanspub.png" xlink:type="simple"/></inline-formula>的计算不便，比较式(19)和(20)，有：</p><disp-formula id="hanspub.15501-formula3241"><label>(21)</label><graphic position="anchor" xlink:href="http://html.hanspub.org/file/11-2340208x87_hanspub.png"  xlink:type="simple"/></disp-formula><p>因此实际的瞬时进给速度的取值为：</p><p>图1. 插补误差示意图</p><p>式中<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x90_hanspub.png" xlink:type="simple"/></inline-formula>为给定的瞬时进给速度，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x91_hanspub.png" xlink:type="simple"/></inline-formula>为满足最大允许误差<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x92_hanspub.png" xlink:type="simple"/></inline-formula>的进给速度，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x93_hanspub.png" xlink:type="simple"/></inline-formula>为满足最大法向加速度的进给速度。该瞬时进给速度同时满足了给定进给速度、最大允许误差及最大法向加速度等约束条件，从而很好地满足了现代数控加工对于高速高精度的要求。</p><p>例如，现采用高速加工一段三次三角插值样条曲线，其最小曲率半径为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x94_hanspub.png" xlink:type="simple"/></inline-formula>，指令进给速度为21 m/min，要求零件的轮廓误差小于<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x95_hanspub.png" xlink:type="simple"/></inline-formula>，机床的进给加速度小于0.2g (g为重力加速度)。现在利用本文提出的插补算法控制，设插补周期为1 ms。计算可得<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x96_hanspub.png" xlink:type="simple"/></inline-formula>，即进给加速度较轮廓精度要求得到的进给速度长更小。当加工处于曲率较小的区域时,可以正常进给速度21 m/min加工，对应的插补进给步长为L = 0.35 mm。由式(20)可知，当曲率半径小于62.5 mm时，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x97_hanspub.png" xlink:type="simple"/></inline-formula>插补进给速度由<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x98_hanspub.png" xlink:type="simple"/></inline-formula>决定随着曲率的增大而逐渐下降，步长随之减少，至最小曲率半径50 mm处，进给速度降至最低，<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x99_hanspub.png" xlink:type="simple"/></inline-formula>，对应的步长为L = 0.313 mm，轮廓误差为<inline-formula><inline-graphic xlink:href="http://html.hanspub.org/file/11-2340208x100_hanspub.png" xlink:type="simple"/></inline-formula>。由此可见，该插补算法可以满足曲线高速高精度加工的各项要求。</p></sec><sec id="s8"><title>6. 结束语</title><p>1) 本文提出了一种自由曲线的简洁表达式，实现了对常见数控加工刀具运动轨迹曲线的统一精确数学表示和自由曲线的快速插补；</p><p>2) 基于数据采样插补原理，实现了三次三角插值样条曲线的实时插补计算；</p><p>3) 该算法插补弦长的波动较小，具有良好的速度稳定性从而提高加工精度。</p></sec><sec id="s9"><title>文章引用</title><p>张益汉,宋爱平,刘祖奇,邱 林, (2015) 三次三角插值样条曲线的数控插补计算方法 An NC Interpolation Calculation Method of Cubic Trigonometric Cardinal Interpolation Spline. 机械工程与技术,02,151-158. doi: 10.12677/MET.2015.42016</p></sec><sec id="s10"><title>参考文献 (References)</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.15501-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">宋爱平, 陶建明, 易旦萍, 等 (2015) 可调形三次三角Cardinal插值样条曲线. 计算数学, 1, 34-41.</mixed-citation></ref><ref id="hanspub.15501-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">黄建, 宋爱平, 陶建明, 等 (2012) 一种三次插值样条曲线的插补方法研究. 现代制造工程, 04, 46-49.</mixed-citation></ref><ref id="hanspub.15501-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">谭彦闻, 王小椿 (2008) 数控系统的刀具半径补偿和B样条曲线实时插补算法研究. 北京交通大学, 北京, 39- 42.</mixed-citation></ref><ref id="hanspub.15501-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">荆伟, 傅建中 (2007) 基于DSP的三次B样条曲线插补的实现. 浙江大学, 浙江.</mixed-citation></ref><ref id="hanspub.15501-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Yau, H.-T. and Wang, J.-B. (2007) Fast Bezier interpolator with real-time look ahead function for high-accuracy machining. International Journal of Machine Tools and Manufacture, 47, 66-68.</mixed-citation></ref><ref id="hanspub.15501-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">徐绍华, 田新诚, 方磊 (2007) 三次B样条参数曲线插补算法及其特性分析. 山东大学, 济南.</mixed-citation></ref><ref id="hanspub.15501-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">李芳, 刘凯, 任杰青, 等 (2013) 一种空间B样条曲线变步长离散插补算法. 制造业自动化, 9, 37-40.</mixed-citation></ref><ref id="hanspub.15501-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">叶丽, 谢明红 (2008) 三次Bezier曲线的插补算法及误差分析. 重庆工学院学报, 7, 34-39</mixed-citation></ref></ref-list></back></article>