<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">DSC</journal-id><journal-title-group><journal-title>Dynamical Systems and Control</journal-title></journal-title-group><issn pub-type="epub">2325-677X</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/DSC.2021.102011</article-id><article-id pub-id-type="publisher-id">DSC-41419</article-id><article-categories><subj-group subj-group-type="heading"><subject>DSC20210200000_66541010.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于模糊控制理论的数控加工参数的自适应控制研究
  Adaptive Control of CNC Machining Parameters Based on Fuzzy Control Theory
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>刘</surname><given-names>恒丽</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><label>1</label><addr-line>null</addr-line></aff><aff id="aff2"><label>1</label><addr-line>天津商业大学，天津</addr-line></aff><pub-date pub-type="epub"><day>29</day><month>03</month><year>2021</year></pub-date><volume>10</volume><issue>02</issue><fpage>100</fpage><lpage>105</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  
    针对数控加工参数对整个加工过程的重要性，阐述了一种基于模糊控制理论的数控加工参数自适应控制方法。根据建立的控制模型和模糊控制原理，编写C++源程序，并模拟实验数据进行验证程序的可行性，最后通过VC++可视化软件，将源程序嵌入到现有的数控系统中，实现了加工过程自适应控制的动态显示。结果表明了自适应控制模型的有效性，使数控机床在加工过程中保持良好的稳定性。
    For the importance of NC machining parameters on the machining process, the adaptive control method of NC machining parameters is elaborated based on fuzzy control theory. According to the established control model and the fuzzy control principle, this paper compiled C++ source procedure, and simulated the experimental data to verify the feasibility of procedures, and finally, embedded the procedures into the existing numerical control system by the VC++ visual software, achieved the dynamic display of adaptive control processing. The results showed the effectiveness of the adaptive control model and made NC machine maintain the good stability in the whole machining process. 
  
 
</p></abstract><kwd-group><kwd>数控加工参数，模糊控制理论，自适应控制, NC Machining Parameters</kwd><kwd> Fuzzy Control Theory</kwd><kwd> Adaptive Control</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>摘要</title><p>针对数控加工参数对整个加工过程的重要性，阐述了一种基于模糊控制理论的数控加工参数自适应控制方法。根据建立的控制模型和模糊控制原理，编写C++源程序，并模拟实验数据进行验证程序的可行性，最后通过VC++可视化软件，将源程序嵌入到现有的数控系统中，实现了加工过程自适应控制的动态显示。结果表明了自适应控制模型的有效性，使数控机床在加工过程中保持良好的稳定性。</p></sec><sec id="s2"><title>关键词</title><p>数控加工参数，模糊控制理论，自适应控制</p></sec><sec id="s3"><title>Adaptive Control of CNC Machining Parameters Based on Fuzzy Control Theory<sup> </sup></title><p>Hengli Liu</p><p>Tianjin Commerce University, Tianjin</p><p><img src="//html.hanspub.org/file/2-2740296x4_hanspub.png" /></p><p>Received: Mar. 5<sup>th</sup>, 2021; accepted: Mar. 24<sup>th</sup>, 2021; published: Mar. 31<sup>st</sup>, 2021</p><p><img src="//html.hanspub.org/file/2-2740296x5_hanspub.png" /></p></sec><sec id="s4"><title>ABSTRACT</title><p>For the importance of NC machining parameters on the machining process, the adaptive control method of NC machining parameters is elaborated based on fuzzy control theory. According to the established control model and the fuzzy control principle, this paper compiled C++ source procedure, and simulated the experimental data to verify the feasibility of procedures, and finally, embedded the procedures into the existing numerical control system by the VC++ visual software, achieved the dynamic display of adaptive control processing. The results showed the effectiveness of the adaptive control model and made NC machine maintain the good stability in the whole machining process.</p><p>Keywords:NC Machining Parameters, Fuzzy Control Theory, Adaptive Control</p><disp-formula id="hanspub.41419-formula107"><graphic xlink:href="//html.hanspub.org/file/2-2740296x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2021 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/2-2740296x7_hanspub.png" /> <img src="//html.hanspub.org/file/2-2740296x8_hanspub.png" /></p></sec><sec id="s5"><title>1. 引言</title><p>数控加工参数的选取直接决定了加工精度和效率，因此产生了越来越多的针对加工参数的优化及建立通用的优化参数数据库的研究。20世纪80年代，在国内有些科研院所研制了一些面向行业的小型数据库，但至今我国还不具有通用性的金属切削知识库系统 [<xref ref-type="bibr" rid="hanspub.41419-ref1">1</xref>]。截至目前，最常用的是离线切削参数优化技术，通常以加工效率、加工成本和加工质量中的一个或者多个为目标，建立数学模型，然后选用合适的寻优算法为特定零件的某一道工序选择一组最佳参数，如进给量、主轴转速等 [<xref ref-type="bibr" rid="hanspub.41419-ref2">2</xref>]。离线优化技术预测性强，不能反映真实的加工状态，且经查阅文献发现，现有的对数控加工切削参数优化的研究大多是离线优化，只不过运用的优化方法不同而已。因此，为了提高数控系统的加工性能，对加工参数在线优化的研究是迫切需要研究的课题。</p></sec><sec id="s6"><title>2. 基于模糊逻辑的加工参数自适应控制方法</title><sec id="s6_1"><title>2.1. 模糊控制方案</title><p>模糊集合理论是1965年美国伯克莱加州大学教授L.A. Zadeh提出的，它可以将人的判断、思维过程用比较简单的数学形式直接表达出来，从而使对复杂系统做出合乎实际的、符合人类思维方式的处理成为可能。基于模糊集合的模糊逻辑系统为人们解决缺乏精确被控对象模型的控制问题提供了有力的工具 [<xref ref-type="bibr" rid="hanspub.41419-ref3">3</xref>]。</p><p>对于数控加工过程而言，它是动态的，加工参数时刻发生着变化，很难对加工参数进行精确控制或优化 [<xref ref-type="bibr" rid="hanspub.41419-ref4">4</xref>]。因此，利用模糊控制理论正好能解决这一难题，实现加工参数的在线自适应控制。即通过加工过程中随时检测变量来实时调节切削参数，获得最优的切削效率，提高加工质量，使得数控系统能够随环境变化通过自适应调整切削用量实现加工过程的优化 [<xref ref-type="bibr" rid="hanspub.41419-ref5">5</xref>]。</p><p>对于数控加工参数，普遍认为切削力能够相对反应机床加工状态，并且它也是影响加工性能的最主要参数之一，在加工过程中应尽量保持其平稳，不出现较大波动，因此以切削力为对象开展的研究也最广泛 [<xref ref-type="bibr" rid="hanspub.41419-ref6">6</xref>]。但是由于加工环境和监测仪器设备的原因，使得目前很难提取监测力信号进行状态分析 [<xref ref-type="bibr" rid="hanspub.41419-ref7">7</xref>]。但实际上，切削力与主电机功率存在以下关系 [<xref ref-type="bibr" rid="hanspub.41419-ref8">8</xref>]。</p><p>P = F c v / ( 6 &#215; 10 4 &#215; η ) (1)</p><p>式中，P为主电机功率， F c 为圆周切削力，v为切削速度， η 为效率系数。由此可见，当其余参数保持不变时，切削力与机床功率成线性关系，因此选择用主电机电流I代替切削力作为监测信号来进行状态分析。</p></sec><sec id="s6_2"><title>2.2. 自适应控制模型</title><p>由上述，智能数控期望能通过对现场特征物理状态的监测实现数控加工的优化控制，使得在外界条件发生变化时加工系统能做出自适应调整，回归期望状态 [<xref ref-type="bibr" rid="hanspub.41419-ref9">9</xref>]。在此，状态监测参数取为主电机电流，根据分析影响切削力的各参数，选择进给速度的变化 U a f 作为系统调整量，以电流作为决策量构成加工系统的闭环反馈控制 [<xref ref-type="bibr" rid="hanspub.41419-ref10">10</xref>]。</p><p>根据模糊控制原理，模糊控制模型输入语言变量取为电流偏差 E I 及偏差变化率 E C I ，输出语言变量为进给速度变化 U a f ，建立基于主电机电流与电压信号监测的数控加工过程进给量自适应调整控制模型如图1所示 [<xref ref-type="bibr" rid="hanspub.41419-ref11">11</xref>] [<xref ref-type="bibr" rid="hanspub.41419-ref12">12</xref>]。此模糊控制器通过实时调整 U a f 实现对进给量的自适应调整。</p><p>图1. 基于模糊逻辑的数控加工自适应控制模型</p></sec><sec id="s6_3"><title>2.3. 模糊控制算法</title><p>根据模糊控制原理，把输入语言变量电流偏差 E I 及偏差变化率 E C I ，输出语言变量进给速度变化 U a f 的模糊集合论域量化档数为3。电流偏差实际取值范围 E I = [ − e , + e ] ，偏差变化率实际取值范围 E C I = [ − e ˙ , e ˙ ] ，量化因子 k e = k e c = 3 e 。为减少计算量，加快响应速度，隶属函数均以三角形函数表示。由</p><p>此，根据决策量与被控目标的联系建立49条模糊控制规则。根据给定的输入语言变量论域上的模糊集 E ˜ 与 E C ˜ ，利用推理合成规则得出输出语言变量模糊集 U ˜ a f = ( E ˜ &#215; E C ˜ ) ∘ R ，其中R为模糊关系矩阵。</p><p>首先，根据建立的49条模糊控制规则，求出每条规则的关系矩阵 R i ， R i = ( E ˜ &#215; E C ˜ ) T 1 &#215; U ˜ a f ，利用 R = R 1 ∨ R 2 ∨ ⋅ ⋅ ⋅ ∨ R 49 得到模糊关系矩阵R。再利用公式 U ˜ a f = ( E ˜ &#215; E C ˜ ) T 2 ∘ R ，设输入 E ˜ = 1 − 6 + 0.5 − 5 , E C ˜ = 0.1 − 1 + 0.5 2 + 1 4 ，</p><p>R = [ 0.5 0.5 0.5 0.5 1 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 ]</p><p>则 E ˜ &#215; E C ˜ [ 1 0.5 ] [ 0.1 0.5 1 ] = [ 0.1 0.5 1 0.1 0.5 0.5 ] 。再将所得模糊关系矩阵 E ˜ &#215; E C ˜ 写成行向量 ( E ˜ &#215; E C ˜ ) T 2 = [ 0.1 0.5 1 0.1 0.5 0.5 ] 的形式，则输出语言变量模糊集</p><p>U ˜ a f = ( E ˜ &#215; ( E ˜ &#215; E C ˜ ) ) T 2 ∘ R = [ 0.1 0.5 1 0.1 0.5 0.5 ] ∘ [ 0.5 0.5 0.5 0.5 1 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 ] = [ 0.5 0.5 0.5 ]</p><p>再将其数值具体化，得到被控加工系统的输入调节量</p><p>Δ a f = ∑ i 13 x i μ u ˜ a f L ( x i ) ∑ i 13 μ u ˜ a f L ( x i ) (2)</p><p>式中 x i = [ 0.5 0.5 0.5 ] ，输出模糊集合的隶属函数 μ u ˜ a f L ( x i ) = [ − 3 , − 2 , − 1 , 0 , 1 , 2 , 3 ] [<xref ref-type="bibr" rid="hanspub.41419-ref13">13</xref>]。</p></sec></sec><sec id="s7"><title>3. 加工参数自适应控制可视化实现</title><p>在上述模糊控制算法的基础上，为了方便编程，建立了系统参数运算流程图，如图2所示。根据实验台参数，取电流极限值为18 A，进给速度极限值为1500 mm/min，因此，电流偏差实际取值范围 E I = [ − 18 , 18 ] ，偏差变化率实际取值范围 E C I = [ − 36 , 36 ] ，程序运行结果如表1所示。其中，当电流偏差为−18，偏差变化率为−36时，输出进给速度变化值为1500，与模糊规则相符，从实际角度分析，当由于进给速度突然变小致使电流变小时，通过模糊控制，使得输出一个变大的进给速度变化值进行补偿，实现对进给速度的自适应调整，表现为电流的自适应调整，即当系统执行的程序段中进给速度发生变化时，通过自适应控制，使其缓慢变化到既定值，减少突变带来的对机床的冲击，增强系统的稳定性。</p><p>图2. 参数运算流程图</p><table-wrap-group id="1"><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Running result</title></caption><table-wrap id="1_1"><table><tbody><thead><tr><th align="center" valign="middle" >E C I Δ a f E I</th><th align="center" valign="middle" >−36</th><th align="center" valign="middle" >−24</th><th align="center" valign="middle" >−12</th><th align="center" valign="middle" >0</th><th align="center" valign="middle" >12</th><th align="center" valign="middle" >24</th><th align="center" valign="middle" >36</th></tr></thead><tr><td align="center" valign="middle" >−18</td><td align="center" valign="middle" >1500</td><td align="center" valign="middle" >1500</td><td align="center" valign="middle" >1000</td><td align="center" valign="middle" >1000</td><td align="center" valign="middle" >500</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >0</td></tr><tr><td align="center" valign="middle" >−12</td><td align="center" valign="middle" >1500</td><td align="center" valign="middle" >1500</td><td align="center" valign="middle" >1000</td><td align="center" valign="middle" >500</td><td align="center" valign="middle" >500</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >−500</td></tr><tr><td align="center" valign="middle" >−6</td><td align="center" valign="middle" >1500</td><td align="center" valign="middle" >1000</td><td align="center" valign="middle" >1000</td><td align="center" valign="middle" >500</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >−500</td><td align="center" valign="middle" >−500</td></tr></tbody></table></table-wrap><table-wrap id="1_2"><table><tbody><thead><tr><th align="center" valign="middle" >0</th><th align="center" valign="middle" >1000</th><th align="center" valign="middle" >1000</th><th align="center" valign="middle" >500</th><th align="center" valign="middle" >0</th><th align="center" valign="middle" >−500</th><th align="center" valign="middle" >−1000</th><th align="center" valign="middle" >−1000</th></tr></thead><tr><td align="center" valign="middle" >6</td><td align="center" valign="middle" >500</td><td align="center" valign="middle" >500</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >−500</td><td align="center" valign="middle" >−500</td><td align="center" valign="middle" >−1000</td><td align="center" valign="middle" >−1500</td></tr><tr><td align="center" valign="middle" >12</td><td align="center" valign="middle" >500</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >−500</td><td align="center" valign="middle" >−1000</td><td align="center" valign="middle" >−1000</td><td align="center" valign="middle" >−1000</td><td align="center" valign="middle" >−1500</td></tr><tr><td align="center" valign="middle" >18</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >−1000</td><td align="center" valign="middle" >−1000</td><td align="center" valign="middle" >−1000</td><td align="center" valign="middle" >−1500</td><td align="center" valign="middle" >−1500</td></tr></tbody></table></table-wrap></table-wrap-group><p>表1. 运行结果</p><p>把已经开发的源程序，利用VC可视化编程软件嵌入到已有的TDNC-H8系统，实现参数自适应控制过程的动态显示，以此验证模糊控制器的有效性并显示系统的智能控制功能。由进给速度与电流之间的关系，最终以负载率F = 实际电流/额定电流(%)为显示参数。由于系统的自适应控制过程是动态的，通过截图无法观看其动态效果，只能呈现静态结果。但尽管如此，仍然可以从图3看出，当进给速度F发生突变时，系统负载在模糊控制作用下会逐渐过渡到既定值，这一过程仅需要几秒，但减少了对机床的冲击，实现了平稳的自适应调整和加工过程的优化控制。</p><p>图3. 自适应控制过程图</p></sec><sec id="s8"><title>4. 结论</title><p>数控切削参数的选择是加工过程中的关键要素，它直接影响加工的效率和精度。针对数控加工过程中的不同程序段所设置的参数不同所带来的对系统的影响，采用了模糊控制理论实现加工参数的自适应控制。采用基于电流信号状态监测的模糊自适应控制方法，并建立了数控加工系统的自适应控制模型。同时基于VC的可视化功能实现了加工过程的智能控制动态显示。结果表明建立的模糊自适应控制系统能够以较高的辨识与控制精度达到预期的智能控制要求，减少了由于参数突变带来的对机床的冲击，使得加工较平稳地进行，提高加工稳定性和精度。</p></sec><sec id="s9"><title>文章引用</title><p>刘恒丽. 基于模糊控制理论的数控加工参数的自适应控制研究Adaptive Control of CNC Machining Parameters Based on Fuzzy Control Theory[J]. 动力系统与控制, 2021, 10(02): 100-105. https://doi.org/10.12677/DSC.2021.102011</p></sec><sec id="s10"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.41419-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">Benardos, P. and Vosniakos, G.C. (2014) Offline Flexible Optimisation of Feed and Speed in Computer Numerical Control Machining of Sculptured Surfaces Exploiting Dedicated Cutting Force Metamodels. Proceedings of the Institution of Mechanical Engineers Part B: Journal of Engineering Manufacture, 228, 878-892.  
https://doi.org/10.1177/0954405413508946</mixed-citation></ref><ref id="hanspub.41419-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">高亮, 杨杨, 李新宇. 数控加工参数优化的研究现状与进展[J]. 数字化制造, 2010(22): 48-51.</mixed-citation></ref><ref id="hanspub.41419-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">苏少普, 徐广涛, 董登科, 等. 基于Pareto遗传算法的腹板梁结构抗屈曲疲劳优化设计研究[J]. 机械强度, 2018, 40(6): 1371-1376.</mixed-citation></ref><ref id="hanspub.41419-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">周志恒, 张超勇, 谢阳, 等. 数控车床切削参数的能量效率优化[J]. 计算机集成制造系统, 2015, 21(9): 2410-2418.</mixed-citation></ref><ref id="hanspub.41419-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Zuperl, U. and Cus, F. (2012) System for Off-Line Feedrate Optimization and Neural Force Control in End Milling. International Journal of Adaptive Control and Signal Processing, 26, 105-123. https://doi.org/10.1002/acs.1277</mixed-citation></ref><ref id="hanspub.41419-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">李斌, 刘晓龙, 刘红奇, 等. 基于驱动电流的动态铣削力估计方法[J]. 华中科技大学学报(自然科学版), 2013, 41(6): 1-6.</mixed-citation></ref><ref id="hanspub.41419-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">Tseng, P.C. and Chou, A. (2002) The Intelligent On-Line Monitoring of End Milling. International Journal of Machine Tools &amp; Manufacture, 42, 89-97. https://doi.org/10.1016/S0890-6955(01)00091-8</mixed-citation></ref><ref id="hanspub.41419-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">李斌, 贾瑜, 吴波, 等. 伺服电流-铣削力关系间接建模的新方法[J]. 华中科技大学学报(自然科学版), 2000, 28(2): 51-53.</mixed-citation></ref><ref id="hanspub.41419-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">Zuperl, U. and Cus, F. (2015) Simulation and Visual Control of Chip Size for Constant Surface Roughness. International Journal of Simulation Modelling, 14, 392-403. https://doi.org/10.2507/IJSIMM14(3)2.282</mixed-citation></ref><ref id="hanspub.41419-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">Erkorkmaz, K. and Altintas, Y. (2001) High Speed CNC System Design. Part III: High Speed Tracking and Contouring Control of Feed Drives. International Journal of Machine Tools &amp; Manufacture, 41, 1637-1658. 
https://doi.org/10.1016/S0890-6955(01)00004-9</mixed-citation></ref><ref id="hanspub.41419-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">Tarng, Y.S., Chuang, H.Y. and Hsu, W.T. (1999) Intelligent Cross-Coupled Fuzzy Feedrate Controller Design for CNC Machine Tools Based on Genetic Algorithms. International Journal of Machine Tools &amp; Manufacture, 39, 1673-1692.  
https://doi.org/10.1016/S0890-6955(99)00012-7</mixed-citation></ref><ref id="hanspub.41419-ref12"><label>12</label><mixed-citation publication-type="other" xlink:type="simple">Liu, H.L., Wang, T.Y. and Wang, D. (2015) Constant Cutting Force Control for CNC Machining Using Dynamic Characteristic-Based Fuzzy Controller. Shock and Vibration, 2015, Article ID: 406294.  
https://doi.org/10.1155/2015/406294</mixed-citation></ref><ref id="hanspub.41419-ref13"><label>13</label><mixed-citation publication-type="other" xlink:type="simple">Zhang, W.G. (1999) The Theory and Application of Fuzzy Control. Northwestern Polytechnical University Press, Xi’an.</mixed-citation></ref></ref-list></back></article>