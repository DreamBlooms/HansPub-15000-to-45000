<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">CSA</journal-id><journal-title-group><journal-title>Computer Science and Application</journal-title></journal-title-group><issn pub-type="epub">2161-8801</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/CSA.2018.83045</article-id><article-id pub-id-type="publisher-id">CSA-24297</article-id><article-categories><subj-group subj-group-type="heading"><subject>CSA20180300000_77372583.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>信息通讯</subject></subj-group></article-categories><title-group><article-title>
 
 
  铝合金动车组车体焊接机器人焊缝跟踪系统研究
  Research on Welding Seam Tracking System of Car Body Welding Robot for Aluminum Alloy EMU
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>付</surname><given-names>宇</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>齐</surname><given-names>立哲</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff3"><addr-line>天津智通机器人有限公司，天津 武清</addr-line></aff><aff id="aff2"><addr-line>中车青岛四方机车车辆股份有限公司，山东 青岛</addr-line></aff><aff id="aff1"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>19</day><month>3</month><year>2018</year></pub-date><volume>08</volume><issue>03</issue><fpage>410</fpage><lpage>419</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   介绍了一种铝合金车体侧墙焊接机器人激光跟踪系统，该系统主要包括机器人系统、激光跟踪系统、龙门行走系统、焊接系统、侧墙安装系统、中央控制系统。采用激光跟踪系统，即可检测焊缝位置、形状数据，实时调整机器人行走路径和焊接参数。设计了试验系统对激光跟踪信号与焊接信号互通技术、激光跟踪数据与焊接即时数据逻辑分析模型进行了实验研究，验证了系统设计的有效性，采用此系统可以对焊接设备的运行状况、焊枪的行走路径以及焊接参数进行有效的反馈。避免焊接造成恶劣结果以及焊接工件报废现象的发生。 A laser tracking system for the welding robot of the side wall of aluminum alloy car body is introduced. The system mainly includes robot system, laser tracking system, Longmen walking system, welding system, side wall installation system and central control system. Using the laser tracking system, the position and shape data of the weld can be detected, and the walking path and welding parameters of the robot can be adjusted in real time. An experiment system was designed to test the laser tracking signal and welding signal interworking technology, laser tracking data and welding real-time data logic analysis model, and verified the effectiveness of the system design. With this system, effective feedback can be made on the operating conditions of the welding equipment, the travel path of the welding torch, and welding parameters. And it can avoid the occurrence of the bad results of welding and the scrap welding work pieces.
    
  
 
</p></abstract><kwd-group><kwd>机器人，激光跟踪，侧墙焊接，焊接, Robot</kwd><kwd> Laser Tracking</kwd><kwd> Side Wall Welding</kwd><kwd> Welding</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>铝合金动车组车体焊接机器人焊缝跟踪系统 研究<sup> </sup></title><p>付宇<sup>1</sup>，齐立哲<sup>2</sup></p><p><sup>1</sup>中车青岛四方机车车辆股份有限公司，山东 青岛</p><p><sup>2</sup>天津智通机器人有限公司，天津 武清</p><p>收稿日期：2018年3月9日；录用日期：2018年3月22日；发布日期：2018年3月30日</p><disp-formula id="hanspub.24297-formula18"><graphic xlink:href="//html.hanspub.org/file/18-1540964x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>介绍了一种铝合金车体侧墙焊接机器人激光跟踪系统，该系统主要包括机器人系统、激光跟踪系统、龙门行走系统、焊接系统、侧墙安装系统、中央控制系统。采用激光跟踪系统，即可检测焊缝位置、形状数据，实时调整机器人行走路径和焊接参数。设计了试验系统对激光跟踪信号与焊接信号互通技术、激光跟踪数据与焊接即时数据逻辑分析模型进行了实验研究，验证了系统设计的有效性，采用此系统可以对焊接设备的运行状况、焊枪的行走路径以及焊接参数进行有效的反馈。避免焊接造成恶劣结果以及焊接工件报废现象的发生。</p><p>关键词 :机器人，激光跟踪，侧墙焊接，焊接</p><disp-formula id="hanspub.24297-formula19"><graphic xlink:href="//html.hanspub.org/file/18-1540964x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2018 by authors and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/18-1540964x7_hanspub.png" /> <img src="//html.hanspub.org/file/18-1540964x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>目前自动化焊接已成为铝合金车体焊接的重要方法，每辆车体都有几十条长大焊缝，涵盖了地板、侧墙、车顶、车体等重要部件，采用自动化焊接的方法进行大批量生产充分提高生产效率，并且有利于保证焊接质量均匀一致，自动焊缝跟踪技术的使用为铝合金车体焊接质量提供了保障 [<xref ref-type="bibr" rid="hanspub.24297-ref1">1</xref>] 。但是车体自动化焊接设备的焊接信息仅仅采用PLC生产现场读取以及设备停台后存储信息拷贝两种方式。由于自动化焊接设备焊接过程中焊接设备的运行状况、焊枪的行走路径以及焊接参数没有有效的反馈模式，对于现场发生的异常状况只能依靠焊接操作人员或者是监督人员发现，但是当异常被发现并人为采取紧急措施时，往往已经造成了恶劣结果，严重的可能导致焊接工件的报废 [<xref ref-type="bibr" rid="hanspub.24297-ref2">2</xref>] [<xref ref-type="bibr" rid="hanspub.24297-ref3">3</xref>] [<xref ref-type="bibr" rid="hanspub.24297-ref4">4</xref>] [<xref ref-type="bibr" rid="hanspub.24297-ref5">5</xref>] [<xref ref-type="bibr" rid="hanspub.24297-ref6">6</xref>] 。</p><p>针对上述问题，本文介绍了一种铝合金车体侧墙焊接机器人激光跟踪系统，该系统主要包括机器人系统、激光跟踪系统、龙门行走系统、焊接系统、侧墙安装系统、中央控制系统。采用激光跟踪系统，即可检测焊缝位置、形状数据，实时调整机器人行走路径和焊接参数。设计了试验系统对激光跟踪信号与焊接信号互通技术、激光跟踪数据与焊接即时数据逻辑分析模型进行了实验研究，验证了系统设计的有效性，采用此系统可以对焊接设备的运行状况、焊枪的行走路径以及焊接参数进行有效的反馈。避免焊接造成恶劣结果以及焊接工件报废现象的发生。</p></sec><sec id="s4"><title>2. 铝合金车体侧墙焊接机器人激光跟踪系统介绍</title><p>如图1所示，此机器人焊接系统主要包括机器人及其控制器、龙门行走系统、焊接系统、侧墙安装系及激光跟踪系统等，其中激光跟踪系统采用廊坊智通机器人系统有限公司开发的机器人三维激光扫描系统。</p></sec><sec id="s5"><title>3. 激光跟踪信号与焊接信号互通技术方案介绍</title><p>为实现激光跟踪信号与焊接信号的互通，系统中激光跟踪系统、焊接系统都需要与机器人系统进行通讯，以下详细介绍激光跟踪系统和焊接系统分别与机器人系统的通讯原理。</p><p>图1. 系统仿真布局图</p><sec id="s5_1"><title>3.1. 机器人系统与激光跟踪系统通讯原理</title><p>CP\IP协议(以太网)是Internet最基本的协议、Internet国际互联网络的基础，由网络层的IP协议和传输层的TCP协议组成。TCP/IP定义了电子设备如何连入因特网，以及数据如何在它们之间传输的标准。协议采用了4层的层级结构，每一层都呼叫它的下一层所提供的协议来完成自己的需求。如图2所示。</p><p>通过在机器人系统与激光跟踪系统之间创建TCP\IP协议，使机器人系统之间和激光跟踪系统之间创建联系，实现通讯。</p></sec><sec id="s5_2"><title>3.2. 机器人系统与焊接系统通讯方案设计</title><p>Devicenet是一种低成本的通讯总线。它将工业设备(如：限位开关，光电传感器，阀组，马达启动器，过程传感器，条形码读取器，变频驱动器，面板显示器和操作员接口)连接到网络，从而消除了昂贵的硬接线成本。直接互连性改善了设备间的通讯，并同时提供了相当重要的设备级诊断功能，这是通过硬接线I/O接口很难实现的。如图3所示。</p><p>机器人系统DSQC651板主要提供8个数字输入信号、8个数字输出信号和2个模拟输出信号的处理。如下图所示：标号D处于机器人控制柜中的DeviceNet控制线连接，标号B处输出数字控制信号，标号C处输出模拟控制信号，标号F处输入数字控制信号。见表1和图4。</p></sec><sec id="s5_3"><title>3.3. 激光跟踪信号与焊接电源信号互通技术,及激光跟踪数据与焊接即时数据逻辑分析模型 建立设计</title><sec id="s5_3_1"><title>3.3.1. 激光跟踪信号与焊接电源信号互通技术</title><p>在建立激光跟踪信号与焊接信号互通技术系统中，机器人控制系统作为枢纽机构，通过TCP/IP协议进行通讯，而机器人控制系统与焊接系统，通过DeviceNet通讯。如图5所示。</p><p>图2. 机器人系统与激光跟踪系统通讯原理图</p><p>图3. DeviceNet通讯线缆</p><p>图4. DSQC651板</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> DSQC651 label descriptio</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >标号</th><th align="center" valign="middle" >说明</th></tr></thead><tr><td align="center" valign="middle" >A</td><td align="center" valign="middle" >数字输出信号指示灯</td></tr><tr><td align="center" valign="middle" >B</td><td align="center" valign="middle" >X1数字输出接口</td></tr><tr><td align="center" valign="middle" >C</td><td align="center" valign="middle" >X6模拟输出接口</td></tr><tr><td align="center" valign="middle" >D</td><td align="center" valign="middle" >X5是DeviceNet接口</td></tr><tr><td align="center" valign="middle" >E</td><td align="center" valign="middle" >模块状态指示灯</td></tr><tr><td align="center" valign="middle" >F</td><td align="center" valign="middle" >X3数字输入接口</td></tr><tr><td align="center" valign="middle" >G</td><td align="center" valign="middle" >数字输入信号指示灯</td></tr></tbody></table></table-wrap><p>表1. DSQC651标号说明</p><p>图5. 数据交互原理图</p></sec><sec id="s5_3_2"><title>3.3.2. 激光跟踪数据与焊接即时数据逻辑分析模型建立</title><p>在整个过程当中，激光跟踪系统通过激光器确定焊缝信息，例如坡口深度，坡口角度、焊缝间隙值等，并通过相关计算，得到焊缝截面积数值。根据焊丝送丝速度与焊接电流的相关性，可以计算出一定时间内的送丝长度，即可以计算出焊丝的填充体积，根据焊缝坡口体积与焊丝填充量的一致性，即可得到焊接时的焊接速度，相关参数见表2。</p><p>通过建立一定焊缝长度需要填充焊接材料的体积与一定焊接电流下，送丝机送出焊丝的体积相等的关系，建立两者之间的等式关系。即可得到如下表达式：</p><p>V 2 = ( ( ( D / 2 ) ^2 ) &#215; π &#215; V 1 ) / S (1)</p><p>例如，焊接过程中激光扫描系统检测焊缝宽度增大，便将焊缝尺寸信息发送至机器人控制系统，机器人控制系统根据信息调整机器人的焊接速度并将调整参数信息发送焊接系统，焊接系统根据信息进行执行，机器人控制系统对焊接系统运行参数进行监控，确认执行是否准确无误,完成激光跟踪数据与焊接即时数据逻辑分析模型。如图6所示。</p></sec></sec></sec><sec id="s6"><title>4. 实验过程</title><sec id="s6_1"><title>4.1. 实验系统介绍</title><p>其中：机器人采用ABB6620型机器人，它专为汽车工业客户度身定制，除ABB标志性的防碰撞、低维修成本之外，增添了紧凑性、敏捷性等多种特色；三维扫描仪采用廊坊智通机器人系统有限公司的三维激光扫描仪。如图7所示。</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> Parameter significance of wire feeding speed and welding curren</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >参数符号</th><th align="center" valign="middle" >参数意义</th><th align="center" valign="middle" >单位</th></tr></thead><tr><td align="center" valign="middle" >V 2</td><td align="center" valign="middle" >焊接速度</td><td align="center" valign="middle" >mm/s</td></tr><tr><td align="center" valign="middle" >B</td><td align="center" valign="middle" >焊丝直径</td><td align="center" valign="middle" >mm</td></tr><tr><td align="center" valign="middle" >V 1</td><td align="center" valign="middle" >送丝速度</td><td align="center" valign="middle" >m/min</td></tr><tr><td align="center" valign="middle" >D</td><td align="center" valign="middle" >焊缝截面积</td><td align="center" valign="middle" >mm2</td></tr></tbody></table></table-wrap><p>表2. 送丝速度与焊接电流相关参数意义</p><p>图6. 焊缝宽度变化示意图</p><p>图7. 实验系统组成</p></sec><sec id="s6_2"><title>4.2. 实验过程介绍</title><sec id="s6_2_1"><title>4.2.1. 机器人系统与焊接系统信号连接</title><p>ABB机器人通常通过模拟量AO和数字量DO来控制焊接电源。通常选择DSQC651板(8个数字量输出，8个数字量输入，2个模拟量输出(0~10V))，见表3。</p><p>当将机器人与焊接电源相关线缆衔接后，并通过机器人示教器进行相关信号设置，确定机器人发出的信号能够通过焊接电源系统相应。通过机器人示教器设定相关焊接参数。如图8，图9所示。</p><p>结论：通过建立机器人系统和焊接系统连接，机器人系统可将焊接参数发送至焊接设备。</p><table-wrap id="table3" ><label><xref ref-type="table" rid="table3">Table 3</xref></label><caption><title> Connection signal of robot system and welding power syste</title></caption><table><tbody><thead><tr><th align="center" valign="middle"  colspan="4"  >模拟量输出：</th></tr></thead><tr><td align="center" valign="middle" >AO1</td><td align="center" valign="middle" >Ao01_Weld_lg</td><td align="center" valign="middle" >地址：0~15</td><td align="center" valign="middle" >控制焊接电流</td></tr><tr><td align="center" valign="middle" >AO2</td><td align="center" valign="middle" >Ao02_Weld_Ug</td><td align="center" valign="middle" >地址：16~31</td><td align="center" valign="middle" >控制电弧电压</td></tr><tr><td align="center" valign="middle"  colspan="4"  >数字量输出：</td></tr><tr><td align="center" valign="middle" >DO1</td><td align="center" valign="middle" >do01GasOn</td><td align="center" valign="middle" >地址：32</td><td align="center" valign="middle" >控制送气信号</td></tr><tr><td align="center" valign="middle" >DO2</td><td align="center" valign="middle" >do02WeldOn</td><td align="center" valign="middle" >地址：33</td><td align="center" valign="middle" >控制起弧信号</td></tr><tr><td align="center" valign="middle" >DO3</td><td align="center" valign="middle" >do03FeedOn</td><td align="center" valign="middle" >地址：34</td><td align="center" valign="middle" >控制点动送丝信号</td></tr><tr><td align="center" valign="middle" >DO4</td><td align="center" valign="middle" >do04FeedReturn</td><td align="center" valign="middle" >地址：35</td><td align="center" valign="middle" >控制点动退丝信号</td></tr><tr><td align="center" valign="middle" >DO8</td><td align="center" valign="middle" >do08_CrashRecover</td><td align="center" valign="middle" >地址：39</td><td align="center" valign="middle" >防碰撞解除信号</td></tr><tr><td align="center" valign="middle" >数字量输入：</td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td></tr><tr><td align="center" valign="middle" >Dl1</td><td align="center" valign="middle" >di01ArcEst</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >起弧成功信号</td></tr></tbody></table></table-wrap><p>表3. 机器人系统与焊接电源系统接线信号</p><p>图8. 标准试验系统结果曲线机器人系统焊接参数设定图片</p><p>图9. 设备接收焊接参数图片</p><p>图10. 试验板图片</p><p>图11. A点扫描获取图像</p></sec><sec id="s6_2_2"><title>4.2.2. 激光跟踪数据与焊接即时数据逻辑分析模型试验</title><p>设计焊缝宽度渐变试验板，选取A、B、C三个特征位置进行参数提取，设置不同焊接参数，并观察最终焊接效果。如表4，图10，图11，图12，图13，图14所示。</p><table-wrap id="table4" ><label><xref ref-type="table" rid="table4">Table 4</xref></label><caption><title> A.B.C point width and welding parameter</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >标号</th><th align="center" valign="middle" >间隙/mm</th><th align="center" valign="middle" >焊接速度mm/s</th></tr></thead><tr><td align="center" valign="middle" >A</td><td align="center" valign="middle" >1.98</td><td align="center" valign="middle" >9.1</td></tr><tr><td align="center" valign="middle" >B</td><td align="center" valign="middle" >3.61</td><td align="center" valign="middle" >6.5</td></tr><tr><td align="center" valign="middle" >C</td><td align="center" valign="middle" >5.02</td><td align="center" valign="middle" >5.2</td></tr></tbody></table></table-wrap><p>表4. A.B.C点特征参数和焊接参数</p><p>图12. B点扫描获取图像</p><p>图13. C点扫描获取图像</p><p>图14. 焊接效果图</p><p>结论：激光跟踪系统可检测试验板不同部位焊缝宽度信息，并发送至机器人系统，机器人系统接收信息后针对不同部位输出不同焊接参数，焊接设备使用不同参数进行焊接，焊后焊缝均匀一致，符合试验设计要求。</p></sec></sec></sec><sec id="s7"><title>5. 结论</title><p>试验系统对激光跟踪信号与焊接信号互通技术、激光跟踪数据与焊接即时数据逻辑分析模型进行了实验研究，验证了系统设计的有效性，采用此系统可以对焊接设备的运行状况、焊枪的行走路径以及焊接参数进行有效的反馈。避免焊接造成恶劣结果以及焊接工件报废现象的发生。</p></sec><sec id="s8"><title>文章引用</title><p>付 宇,齐立哲. 铝合金动车组车体焊接机器人焊缝跟踪系统研究Research on Welding Seam Tracking System of Car Body Welding Robot for Aluminum Alloy EMU[J]. 计算机科学与应用, 2018, 08(03): 410-419. https://doi.org/10.12677/CSA.2018.83045</p></sec><sec id="s9"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.24297-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">谈成成. 焊接机器人的应用现状与发展趋势[J]. 中国新技术新产品, 2017(20): 13-14.</mixed-citation></ref><ref id="hanspub.24297-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">唐新华. 焊接机器人的现状及发展趋势(一) [J]. 电焊机, 2006, 36(4): 1-5.</mixed-citation></ref><ref id="hanspub.24297-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">陈善本, 林涛, 陈文杰, 邱涛. 智能化焊接制造工程的概念与技术[J]. 焊接学报, 2004, 25(6): 124-128.</mixed-citation></ref><ref id="hanspub.24297-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">陈善本, 林涛, 等. 智能化焊接机器人技术[M]. 北京: 机械工业出版社, 2006.</mixed-citation></ref><ref id="hanspub.24297-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">甄恒洲. 基于视觉测量激光焊接复杂焊缝跟踪控制[J]. 大连大学学报, 2013(3): 13-17.</mixed-citation></ref><ref id="hanspub.24297-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">Tsai, M.J., Lee, H.-W. and Ann, N.-J. (2011) Ma-chine Vision Based Path Planning for a Robotic Golf Club Head Welding System. Robotics and Computer Integrated Manufacturing, 27, 843-849.</mixed-citation></ref></ref-list></back></article>