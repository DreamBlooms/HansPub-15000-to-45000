<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">GST</journal-id><journal-title-group><journal-title>Geomatics Science and Technology</journal-title></journal-title-group><issn pub-type="epub">2329-549X</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/GST.2018.62010</article-id><article-id pub-id-type="publisher-id">GST-24605</article-id><article-categories><subj-group subj-group-type="heading"><subject>GST20180200000_71155934.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于BP神经网络的物镜畸变改正模型精度探讨
  The Discussion on the Precision of Lens Distortion Model Based on BP Neural Networks
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>尹</surname><given-names>梁波</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>邓</surname><given-names>兴升</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib></contrib-group><aff id="aff1"><addr-line>长沙理工大学，湖南 长沙</addr-line></aff><author-notes><corresp id="cor1">* E-mail:<email>1145285486@qq.com(尹梁)</email>;<email>whudxs@163.com(邓兴)</email>;</corresp></author-notes><pub-date pub-type="epub"><day>08</day><month>02</month><year>2018</year></pub-date><volume>06</volume><issue>02</issue><fpage>79</fpage><lpage>84</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   非量测数码相机的检校是近景摄影测量研究的热点问题。本文基于标准图像和畸变图像，采用BP神经网络建立物镜畸变改正模型，针对普通数码相机图像的像点坐标进行改正，并与传统Brown多项式畸变模型的结果进行对比分析。实验结果表明，BP神经网络改正模型的精度要优于传统多项式物理模型的精度，能够较好地满足高精度的近景摄影测量需要。 Non-metric digital camera calibration has become a research hotspot in the field of close-range photogrammetry. Based on the standard image and distorted image, this paper has corrected the point coordinates of the non-metric digital camera image by using BP neural network to establish the model of objective lens distortion correction, and the point coordinates were compared with the points corrected based on traditional polynomial distortion models proposed by Mr Brown. The result showed that the accuracy of BP neural network model would be higher and could meet the requirement of the close-range photogrammetry of high precision. 
  
 
</p></abstract><kwd-group><kwd>相机检校，BP神经网络，物镜畸变，近景摄影测量, Camera Calibration</kwd><kwd> BP Neural Networks</kwd><kwd> Lens Distortion</kwd><kwd> Close-Range Photogrammetry</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>基于BP神经网络的物镜畸变改正模型精度 探讨<sup> </sup></title><p>尹梁波<sup>1,2</sup>，邓兴升<sup>1</sup></p><p><sup>1</sup>长沙理工大学，湖南 长沙</p><p><sup>2</sup>湖南省第二测绘院，湖南 长沙</p><p><img src="//html.hanspub.org/file/5-2840166x1_hanspub.png" /></p><p>收稿日期：2018年4月8日；录用日期：2018年4月20日；发布日期：2018年4月27日</p><disp-formula id="hanspub.24605-formula104"><graphic xlink:href="//html.hanspub.org/file/5-2840166x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>非量测数码相机的检校是近景摄影测量研究的热点问题。本文基于标准图像和畸变图像，采用BP神经网络建立物镜畸变改正模型，针对普通数码相机图像的像点坐标进行改正，并与传统Brown多项式畸变模型的结果进行对比分析。实验结果表明，BP神经网络改正模型的精度要优于传统多项式物理模型的精度，能够较好地满足高精度的近景摄影测量需要。</p><p>关键词 :相机检校，BP神经网络，物镜畸变，近景摄影测量</p><disp-formula id="hanspub.24605-formula105"><graphic xlink:href="//html.hanspub.org/file/5-2840166x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2018 by authors and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/5-2840166x7_hanspub.png" /> <img src="//html.hanspub.org/file/5-2840166x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>近景摄影测量作为摄影测量学的一个重要分支，目前已经广泛应用于各类测绘生产实践。随着非量测数码相机的不断发展，使得近景摄影测量日趋数字化、自动化。然而，普通数码相机并不是专门为量测而设计生产的，尽管其具有价格低廉、携带方便、可随意调焦等优势，但非量测数码相机存在着较大的物镜畸变 [<xref ref-type="bibr" rid="hanspub.24605-ref1">1</xref>] ，必须经过可靠性检校才能达到近景摄影测量的相应精度需求 [<xref ref-type="bibr" rid="hanspub.24605-ref2">2</xref>] 。</p><p>传统的物镜畸变校正模型主要是把畸变类型分为径向畸变和偏心畸变 [<xref ref-type="bibr" rid="hanspub.24605-ref3">3</xref>] 等，基于共线方程及其改化式建立相应的物理模型，以求取相关的畸变参数 [<xref ref-type="bibr" rid="hanspub.24605-ref4">4</xref>] 。但是这类物理模型通常计算复杂，且一般只能满足中低精度的要求，在实际的高精度近景摄影测量生产实践中，必须要考虑完整的光学畸变模型 [<xref ref-type="bibr" rid="hanspub.24605-ref5">5</xref>] ，甚至包括电学畸变和机械畸变等 [<xref ref-type="bibr" rid="hanspub.24605-ref6">6</xref>] 。</p><p>采用BP神经网络算法来训练拟合物镜畸变函数，是将整个物镜畸变看成是一个整体，利用畸变图像与非畸变图像之间的某种映射关系来完成相机的高精度检校 [<xref ref-type="bibr" rid="hanspub.24605-ref7">7</xref>] 。该方法不仅简单易于实现，且能较全面的拟合畸变函数 [<xref ref-type="bibr" rid="hanspub.24605-ref8">8</xref>] 。本文基于BP神经网络的物镜畸变改正模型对像点坐标进行校正，通过不断的学习训练来优化模型的权值和阈值，以得到最优解。相较于传统Brown模型的物镜畸变模型而言，无需建立复杂的物理表达式。最后基于两种物镜畸变模型对畸变图像进行了像点坐标的校正实验，并通过实验结果论证了BP神经网络模型精度的可靠性。</p></sec><sec id="s4"><title>2. 非量测相机物镜畸变改正原理</title><sec id="s4_1"><title>2.1. BP神经网络物镜畸变改正模型</title><p>非量测数码相机检校的目的是恢复每张影像光束的正确形状，以保证摄影中心、像点、物点位于一条直线上。针对非量测数码相机，需要检校的内容主要有内方位元素(包括像主点坐标x<sub>0</sub>、y<sub>0</sub>及像主距f)和畸变差(△x，△y)。其中，物镜畸变是影响非量测数码相机精度的关键因素。畸变差通常指光学畸变差，是由物镜系统设计、制作和装配所引起的像点偏离其理想位置的点位误差，光学畸变差是影响像点坐标质量的一项重要误差源 [<xref ref-type="bibr" rid="hanspub.24605-ref1">1</xref>] 。</p><p>采用BP神经网络算法对像点进行校正，是将物镜畸变差看成是一个整体。BP神经网络是由非线性变换单元组成的多层前馈神经网络，也可被称为误差反向传播网络 [<xref ref-type="bibr" rid="hanspub.24605-ref9">9</xref>] 。一般分为输入层、隐藏层、输出层。本文所采用的BP神经网络拓扑结构如图1所示：</p><p>基于BP神经网络的畸变映射函数关系表达式为：</p><p>[ x ′ y ′ ] = f ( ∑ i = 1 m w i [ x i y i ] − θ ) (1)</p><p>其中： x i 、 y i 为畸变图像的标志点坐标，作为网络训练输入值； x ′ 、 y ′ 为标准图像中的对应标志点坐标，作为网络目标输出值； w i 是权系数，q为阈值。</p><p>BP神经网络可以实现从输入到输出之间的任意非线性映射关系的训练拟合，在调整权阈值的过程中常采用的训练方法有LM算法、动量BP算法、可变学习速率BP算法、弹性BP算法、拟牛顿法、最速梯度下降法等 [<xref ref-type="bibr" rid="hanspub.24605-ref10">10</xref>] 。在训练过程中，通过不断地调整网络权值和阈值，使得经过网络多次迭代后的输出值与目标值的最小均方误差逐渐达到最小，并将最终的权值和阈值分配在BP神经网络模型之中，得出最优畸变改正函数模型。</p></sec><sec id="s4_2"><title>2.2. Brown物镜畸变改正模型</title><p>根据摄影测量原理 [<xref ref-type="bibr" rid="hanspub.24605-ref11">11</xref>] ，考虑物镜畸变差，非量测数码相机的像点坐标可表示为：</p><p>x ″ = Δ x + x y ″ = Δ y + y (2)</p><p>其中， ( Δ x , Δ y ) 为像点畸变差； ( x , y ) 为像点坐标的量测值； ( x ″ , y ″ ) 为像点物镜畸变改正值。</p><p>Brown物镜畸变改正模型是根据几何光学的原理，将物镜畸变差分为径向畸变和偏心畸变以及CCD面阵内变形等 [<xref ref-type="bibr" rid="hanspub.24605-ref12">12</xref>] 。基于Brown模型的畸变差表达式如式(3)：</p><p>Δ x = x Δ ( r 2 K 1 + r 4 K 2 + r 6 K 3 ) + ( r 2 + 2 x Δ 2 ) P 1 + 2 x Δ y Δ P 2 + x Δ B 1 + y Δ B 2 Δ y = y Δ ( r 2 K 1 + r 4 K 2 + r 6 K 3 ) + ( r 2 + 2 y Δ 2 ) P 2 + 2 x Δ y Δ P 1 (3)</p></sec></sec><sec id="s5"><title>3. 实验及结果分析</title><p>选取一组对应的标准图像和畸变图像，分别对两图像进行灰度化和二值化处理，图像分辨率均为2368 &#215; 4208，如图2(a)、2(b)所示：</p><p>在图2中的畸变图像和标准图像中分别选取对应的56个标志点坐标作为训练集，8个未参与训练的标志点坐标作为畸变改正模型检测集。BP神经网络隐层神经元为10个，隐藏层传递函数为正切曲线函数tansig，输出层传递函数为线性函数pureline。量测相关标志点的坐标形成数据文件，由于隐层sigmoid</p><p>图1. BP神经网络拓扑结构图</p><p>图2. (a) 畸变图像；(b) 标准图像</p><p>函数的敏感性，需对数据进行归一化处理 [<xref ref-type="bibr" rid="hanspub.24605-ref13">13</xref>] 。本实验中，采用收敛速度快且精度较高的LM算法进行网络训练。</p><p>BP神经网络的训练集坐标取自图2畸变图像和标准图像中一一对应的56个标志点坐标，其中，训练样本占70%，测试样本15%，检验样本15%，均为随机产生；有效性检查次数设为6，网络的初始权值在［-0.5，0.5］之间随机给出，误差性能函数取最小均方误差MSE。当训练结束时，物镜畸变函数形式便已确立，相应的权值和阈值也就贮存在了BP神经网络之中。</p><p>通过对比多次训练拟合的结果，从中选出BP神经网络的一种最优模型，对应的训练曲线如图3所示。</p><p>图3中，Train代表训练样本学习曲线，Test代表测试样本学习曲线，Best代表当前模型最小均方误差，Validation表示模型第303次迭代时，有效性检查次数达到了预设值6，停止训练。运用该模型对未参与训练的8组检测点像点坐标进行仿真处理，并与相应的实际像点坐标真值对比。结果如表1所示。</p><p>为验证BP神经网络函数模型的精度，以Brown畸变改正模型为对比，采用56个像点坐标建立关于7个畸变参数的超定方程组，解算出7个畸变参数，再代入未参与训练的8组检测点对应的像点坐标值，求出对应像点的畸变改正值，并与实际像点坐标值对比分析误差，测试结果如表2所示。</p><p>综合表1、表2结果，分别计算模型中误差可知，BP神经网络畸变改正模型精度为0.00139；传统Brown模型精度为0.03143。BP神经网络畸变改正模型精度相对较优，能更好的满足高精度近景摄影测量的需求。</p></sec><sec id="s6"><title>4. 结束语</title><p>本文的BP算法对待定点校正误差在0.004~0.0001之间，相比传统Brown多项式模型误差0.06~0.001之间要低出很多。实验结果表明，采用BP神经网络可以更全面的拟合出畸变函数，能较好的满足近景摄影测量高精度的相关需求。但BP神经网络模型也存在不足，其解可能为局部最优而不是全局最优，如何快速准确地在多个局部最优解中选择出全局最优解需进行多次试算确定。此外，本文针对桶形畸变图像进行的训练，得出的畸变函数模型不能适用于枕形畸变等其他畸变类型，对于不同的畸变图像均需重新对其进行学习训练。</p><p>图3. BP神经网络学习曲线</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Results of BP neural network simulation experimen</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >点号</th><th align="center" valign="middle" >1</th><th align="center" valign="middle" >10</th><th align="center" valign="middle" >19</th><th align="center" valign="middle" >28</th><th align="center" valign="middle" >37</th><th align="center" valign="middle" >46</th><th align="center" valign="middle" >55</th><th align="center" valign="middle" >64</th></tr></thead><tr><td align="center" valign="middle" >x仿真值</td><td align="center" valign="middle" >0.123614</td><td align="center" valign="middle" >0.228764</td><td align="center" valign="middle" >0.338012</td><td align="center" valign="middle" >0.446923</td><td align="center" valign="middle" >0.555448</td><td align="center" valign="middle" >0.664219</td><td align="center" valign="middle" >0.773037</td><td align="center" valign="middle" >0.878391</td></tr><tr><td align="center" valign="middle" >y仿真值</td><td align="center" valign="middle" >0.874728</td><td align="center" valign="middle" >0.767690</td><td align="center" valign="middle" >0.657978</td><td align="center" valign="middle" >0.550385</td><td align="center" valign="middle" >0.442007</td><td align="center" valign="middle" >0.333076</td><td align="center" valign="middle" >0.223027</td><td align="center" valign="middle" >0.116705</td></tr><tr><td align="center" valign="middle" >x误差值</td><td align="center" valign="middle" >0.00371</td><td align="center" valign="middle" >0.00014</td><td align="center" valign="middle" >0.00021</td><td align="center" valign="middle" >0.00012</td><td align="center" valign="middle" >0.00035</td><td align="center" valign="middle" >0.00048</td><td align="center" valign="middle" >0.00064</td><td align="center" valign="middle" >0.00301</td></tr><tr><td align="center" valign="middle" >y误差值</td><td align="center" valign="middle" >0.00157</td><td align="center" valign="middle" >0.00039</td><td align="center" valign="middle" >0.00032</td><td align="center" valign="middle" >0.00021</td><td align="center" valign="middle" >0.00031</td><td align="center" valign="middle" >0.00038</td><td align="center" valign="middle" >0.00067</td><td align="center" valign="middle" >0.00200</td></tr></tbody></table></table-wrap><p>表1. BP网络仿真实验结果</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> Results of the brown model experimen</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >点号</th><th align="center" valign="middle" >1</th><th align="center" valign="middle" >10</th><th align="center" valign="middle" >19</th><th align="center" valign="middle" >28</th><th align="center" valign="middle" >37</th><th align="center" valign="middle" >46</th><th align="center" valign="middle" >55</th><th align="center" valign="middle" >64</th></tr></thead><tr><td align="center" valign="middle" >x校正值</td><td align="center" valign="middle" >0.157304</td><td align="center" valign="middle" >0.261964</td><td align="center" valign="middle" >0.362982</td><td align="center" valign="middle" >0.460333</td><td align="center" valign="middle" >0.556298</td><td align="center" valign="middle" >0.683749</td><td align="center" valign="middle" >0.812597</td><td align="center" valign="middle" >0.932161</td></tr><tr><td align="center" valign="middle" >y校正值</td><td align="center" valign="middle" >0.922988</td><td align="center" valign="middle" >0.80390</td><td align="center" valign="middle" >0.677978</td><td align="center" valign="middle" >0.554465</td><td align="center" valign="middle" >0.451207</td><td align="center" valign="middle" >0.354196</td><td align="center" valign="middle" >0.253807</td><td align="center" valign="middle" >0.152615</td></tr><tr><td align="center" valign="middle" >x误差</td><td align="center" valign="middle" >0.03740</td><td align="center" valign="middle" >0.03334</td><td align="center" valign="middle" >0.02518</td><td align="center" valign="middle" >0.01353</td><td align="center" valign="middle" >0.00120</td><td align="center" valign="middle" >0.02001</td><td align="center" valign="middle" >0.04020</td><td align="center" valign="middle" >0.05678</td></tr><tr><td align="center" valign="middle" >y误差</td><td align="center" valign="middle" >0.04983</td><td align="center" valign="middle" >0.03660</td><td align="center" valign="middle" >0.02032</td><td align="center" valign="middle" >0.00429</td><td align="center" valign="middle" >0.00951</td><td align="center" valign="middle" >0.02150</td><td align="center" valign="middle" >0.03145</td><td align="center" valign="middle" >0.03791</td></tr></tbody></table></table-wrap><p>表2. Brown模型实验结果</p></sec><sec id="s7"><title>基金项目</title><p>公路地质灾变预警空间信息技术湖南省工程实验室科研项目(kfj150602)。</p></sec><sec id="s8"><title>文章引用</title><p>尹梁波,邓兴升. 基于BP神经网络的物镜畸变改正模型精度探讨 The Discussion on the Precision of Lens Distortion Model Based on BP Neural Networks[J]. 测绘科学技术, 2018, 06(02): 79-84. https://doi.org/10.12677/GST.2018.62010</p></sec><sec id="s9"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.24605-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">冯文灏. 近景摄影测量[M]. 武汉: 武汉大学出版社, 2002.</mixed-citation></ref><ref id="hanspub.24605-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">张曼祺, 李浩, 陈新玺. 普通数码影像的光束法算法探讨[J]. 测绘通报, 2006(6): 10-12+16.</mixed-citation></ref><ref id="hanspub.24605-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">崔红霞, 孙杰, 林宗坚, 储美华. 非量测数码相机的畸变差检测研究[J]. 测绘科学, 2005(1): 105-107+112.</mixed-citation></ref><ref id="hanspub.24605-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">杨韫澜, 胡海彦. 非量测型数码相机检校及量测精度分析[J]. 测绘通报, 2017(S1): 206-209.</mixed-citation></ref><ref id="hanspub.24605-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">郭辉, 李天子, 徐克科. 数码相机畸变差模型中不同参数组合对物方坐标精度的影响[J]. 工程勘察, 2012(9): 62-64+68.</mixed-citation></ref><ref id="hanspub.24605-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">曹良中, 杨辽, 阚培涛, 贾洋, 张伟阁. 地面检校场的非量测型数码相机检校[J]. 测绘科学, 2015(2): 132-137.</mixed-citation></ref><ref id="hanspub.24605-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">王珂娜, 邹北骥, 黄文梅. 一种基于神经网络的畸变图像校正方法[J]. 中国图象图形学报, 2005(5): 603-607.</mixed-citation></ref><ref id="hanspub.24605-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">金元, 孟金宝, 王琨, 蔡汉辉, 席英, 朱近. 面阵相机几何畸变矫正方法研究[J]. 微电子学与计算机, 2011(10): 36-38+43.</mixed-citation></ref><ref id="hanspub.24605-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">Bryson, A.E. and Ho, Y.C. (1969) Applied Optional Control. Blaisdell, New York.</mixed-citation></ref><ref id="hanspub.24605-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">周开利, 康耀红. 神经网络模型及其 MATLAB 仿真程序设计[M]. 北京: 清华大学出版社, 2005.</mixed-citation></ref><ref id="hanspub.24605-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">王之卓. 摄影测量原理[M]. 北京: 测绘出版社, 1979.</mixed-citation></ref><ref id="hanspub.24605-ref12"><label>12</label><mixed-citation publication-type="other" xlink:type="simple">张本昀, 吴晓明, 喻铮铮, 王家耀, 张震宇. 非量测型相机检校及可靠性研究[J]. 测绘科学, 2008(S1): 84-86+94.</mixed-citation></ref><ref id="hanspub.24605-ref13"><label>13</label><mixed-citation publication-type="other" xlink:type="simple">陆懿, 陈光梦, 程松. 基于神经网络的数字图像几何畸变矫正方法[J]. 计算机工程与设计, 2007(17): 4290-4292.</mixed-citation></ref></ref-list></back></article>