<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">JWRR</journal-id><journal-title-group><journal-title>Journal of Water Resources Research</journal-title></journal-title-group><issn pub-type="epub">2166-6024</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/JWRR.2020.95059</article-id><article-id pub-id-type="publisher-id">JWRR-38296</article-id><article-categories><subj-group subj-group-type="heading"><subject>JWRR20200500000_88527948.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>地球与环境</subject><subject> 合作期刊</subject></subj-group></article-categories><title-group><article-title>
 
 
  面积控制法在水位固存数据处理中的应用
  Application of Area Control Method in Water Stage Data Processing of Solid State Storage
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>邓</surname><given-names>颂霖</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>许</surname><given-names>弟兵</given-names></name><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib></contrib-group><aff id="aff2"><addr-line>null</addr-line></aff><aff id="aff1"><addr-line>长江委水文局荆江水文水资源勘测局，湖北 荆州</addr-line></aff><pub-date pub-type="epub"><day>29</day><month>09</month><year>2020</year></pub-date><volume>09</volume><issue>05</issue><fpage>547</fpage><lpage>551</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   随着水文监测自动化程度越来越高数据采集量大幅度增长，若大量的数据直接汇编刊印将无法满足规范。为了刊印时用最少的数据量真实反映水文要素变化过程，采用“面积控制法”对水位固存数据精简处理进行了研究。该方法在长江中游荆江河段、西南山区测站以及巴基斯坦吉拉姆河流域水位固存数据处理中得到应用，数据摘录量仅为原始数据的2%~5%，获得了很好的效果，其可适应不同水文特性的河流和满足不同服务对象要求。 With the increasing automation of hydrological monitoring, if a large number of data are directly compiled and printed, it will not meet the specification. In order to reflect the change process of hydrological elements with the least amount of data, the area control method is used to simplify the water level data. This method has been applied to the data processing of stage retention in Jingjiang river section of the middle reaches of the Yangtze River, hydrological station in southwest mountainous area, Jhelum River Basin of Pakistan. The data extraction amount is only 2% - 5% of the original data which can obtain good results. It can adapt to rivers with different hydrological characteristics and meet the requirements of different service objects. 
  
 
</p></abstract><kwd-group><kwd>水位观测，固存数据处理，面积控制法, Stage Observation</kwd><kwd> Solid Storage Data Processing</kwd><kwd> Area Control Method</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>面积控制法在水位固存数据处理中的应用<sup> </sup></title><p>邓颂霖，许弟兵</p><p>长江委水文局荆江水文水资源勘测局，湖北 荆州</p><disp-formula id="hanspub.38296-formula16"><graphic xlink:href="//html.hanspub.org/file/11-2410952x5_hanspub.png"  xlink:type="simple"/></disp-formula><p>收稿日期：2020年9月29日；录用日期：2020年10月21日；发布日期：2020年10月28日</p><disp-formula id="hanspub.38296-formula17"><graphic xlink:href="//html.hanspub.org/file/11-2410952x6_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>随着水文监测自动化程度越来越高数据采集量大幅度增长，若大量的数据直接汇编刊印将无法满足规范。为了刊印时用最少的数据量真实反映水文要素变化过程，采用“面积控制法”对水位固存数据精简处理进行了研究。该方法在长江中游荆江河段、西南山区测站以及巴基斯坦吉拉姆河流域水位固存数据处理中得到应用，数据摘录量仅为原始数据的2%~5%，获得了很好的效果，其可适应不同水文特性的河流和满足不同服务对象要求。</p><p>关键词 :水位观测，固存数据处理，面积控制法</p><disp-formula id="hanspub.38296-formula18"><graphic xlink:href="//html.hanspub.org/file/11-2410952x7_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2020 by author(s) and Wuhan University.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/11-2410952x8_hanspub.png" /> <img src="//html.hanspub.org/file/11-2410952x9_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>近年来，随着水文监测自动化程度越来越高，水文固存数据量越来越大。水位监测仪器正常都是5 min自动采集一个水位数据，1个站点一年约有10.5万多条数据。数据量大虽增加了水文资料质量，但也增加了资料整编的工作量和难度，若将上述数据直接刊印，根据《水文年鉴汇编刊印规范》(SL460-2009)将无法满足要求。处理水位固存数据的研究方法主要集中在两方面。一方面为早期的用拟合曲线的方法消除水位固存数据的波动影响 [<xref ref-type="bibr" rid="hanspub.38296-ref1">1</xref>]；另一方面以孙永远、张玉田等 [<xref ref-type="bibr" rid="hanspub.38296-ref2">2</xref>] 和赵良田 [<xref ref-type="bibr" rid="hanspub.38296-ref3">3</xref>] 为代表的水位固存数据摘录精简研究，虽方法名称不同但核心内容皆为在固存水位过程线上通过找出控制点，计算控制点到某两个实测水位连线的距离并跟设置允许值作为比较，若计算的距离大于允许值则摘录，让摘录后实测过程与原始实测数据相比较，当两者相差较大时，再通过不断增加摘录点次使其不断逼近实测过程 [<xref ref-type="bibr" rid="hanspub.38296-ref4">4</xref>] [<xref ref-type="bibr" rid="hanspub.38296-ref5">5</xref>]。该法存在开始特征点不易找、计算迭代次数多和操作性不强等不足，另外是否满足不同水文特性水位变化摘录需求待研究。</p><p>为用最少的数据反映真实水位变化过程，并适应不同流域水文特性，满足各种水文服务成果的计算精度和规范要求，提出用“面积控制法”对水位固存数据进行精简处理。</p></sec><sec id="s4"><title>2. 原理</title><p>从水位固存数据第一个水位数据开始对水位过程线的面积进行累加，当取累计时段首尾两段计算的面积与累加面积之差超过某一控制标准(如2 cm∙min)时，摘录累计时段之末的前一次水位，然后将累计值清零并重新开始判断，原理示意见图1。</p><p>图1. 面积控制法原理图</p><p>具体步骤如下。</p><p>① 获得a，h点水位和时间，由梯形公式计算出面积A<sub>abch</sub><sub>；</sub></p><p>② 计算下一个梯形的面积。获得点a、h、j水位和时间坐标，计算出梯形面积A<sub>abdj</sub>和A<sub>cdjh</sub>，用A<sub>abdj</sub> − (A<sub>abch</sub> + A<sub>cdjh</sub>)得到三角形面积A<sub>ahj</sub>(取绝对值)，用A<sub>ahj</sub>来跟设置的限差值进行比对，如果大于限差值，那么就摘录h点；否则，跳过进行下一点，即f，计算面积A<sub>defj</sub>和A<sub>abef</sub>，用A<sub>abef</sub> − (A<sub>abch</sub> + A<sub>cdjh</sub> + A<sub>defj</sub>)得到三角形面积A<sub>ajf</sub>(取绝对值)，用限差值跟其差值比较，大于摘录，小于循环。</p><p>③ 摘录点作为第一点再次循环上述步骤直到数据结束。</p><p>④ 限差值根据流域水文特性进行设置。限差值表示精简摘录成果的精度，cm∙min。</p></sec><sec id="s5"><title>3. 实例运用</title><p>根据不同流域不同水文特性，选择长江中游荆江河段监利(二)水文站、巴基斯坦吉拉姆河流域卡洛特水电站专用水文站和中国西南山区某站进行应用分析，各测站基本参数见表1。</p><p>监利(二)水文站和卡洛特(专用)水文站用记录完整的2018~2019年水位固态存储资料，西南山区某站用2018年水位固态存储资料(2019年因其他原因数据不连续未统计)，根据每月水文特性选用合适的水位摘录限差值进行摘录，摘录后水位精简量都大于95% (见表2)，摘录精简后固存数据大幅减少。</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Hydrological characteristics and storage of station</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >站名</th><th align="center" valign="middle" >水系</th><th align="center" valign="middle" >水文特性</th><th align="center" valign="middle" >外界条件</th><th align="center" valign="middle" >存储器</th><th align="center" valign="middle" >采样间隔/min</th><th align="center" valign="middle" >测站功能</th></tr></thead><tr><td align="center" valign="middle" >监利(二)</td><td align="center" valign="middle" >长江中游干流</td><td align="center" valign="middle" >平原性河流，水流缓，水面宽</td><td align="center" valign="middle" >受下游洞庭湖来水顶托</td><td align="center" valign="middle" >长委YAC9900</td><td align="center" valign="middle" >5</td><td align="center" valign="middle" >国家基本站</td></tr><tr><td align="center" valign="middle" >卡洛特(专用)水文</td><td align="center" valign="middle" >印度河流域吉拉姆河</td><td align="center" valign="middle" >典型的山区性河流，汛期水位暴涨暴落</td><td align="center" valign="middle" >在建和已建电站</td><td align="center" valign="middle" >长委YAC9900</td><td align="center" valign="middle" >5</td><td align="center" valign="middle" >专用站</td></tr><tr><td align="center" valign="middle" >西南山区某站</td><td align="center" valign="middle" ></td><td align="center" valign="middle" >除暴雨陡涨外其它时水位平稳波动</td><td align="center" valign="middle" >上游来水</td><td align="center" valign="middle" >南瑞MM500</td><td align="center" valign="middle" >5</td><td align="center" valign="middle" >专用站</td></tr></tbody></table></table-wrap><p>表1. 测站水文特性及存储器</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> Simplified statistics of stages after extractio</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >站名</th><th align="center" valign="middle" >年份</th><th align="center" valign="middle" >摘录前</th><th align="center" valign="middle" >摘录后</th><th align="center" valign="middle" >限差值/cm∙h</th><th align="center" valign="middle" >精简量/%</th></tr></thead><tr><td align="center" valign="middle"  rowspan="2"  >监利(二)</td><td align="center" valign="middle" >2018年</td><td align="center" valign="middle" >105,083</td><td align="center" valign="middle" >2482</td><td align="center" valign="middle"  rowspan="2"  >3</td><td align="center" valign="middle" >97.64</td></tr><tr><td align="center" valign="middle" >2019年</td><td align="center" valign="middle" >104,796</td><td align="center" valign="middle" >2513</td><td align="center" valign="middle" >97.60</td></tr><tr><td align="center" valign="middle"  rowspan="2"  >卡洛特(专用)水文</td><td align="center" valign="middle" >2018年</td><td align="center" valign="middle" >103,785</td><td align="center" valign="middle" >4313</td><td align="center" valign="middle"  rowspan="2"  >2-6</td><td align="center" valign="middle" >95.84</td></tr><tr><td align="center" valign="middle" >2019年</td><td align="center" valign="middle" >103,892</td><td align="center" valign="middle" >3933</td><td align="center" valign="middle" >96.21</td></tr><tr><td align="center" valign="middle" >西南山区某站</td><td align="center" valign="middle" >2018年</td><td align="center" valign="middle" >102,008</td><td align="center" valign="middle" >2778</td><td align="center" valign="middle" >4</td><td align="center" valign="middle" >97.28</td></tr></tbody></table></table-wrap><p>表2. 摘录后水位精简统计表</p><p>用摘录后数据和原始固态数据分别计算日平均水位，最大误差为2 cm (见表3)，满足规范(2 cm内)要求，摘录前后水位过程见图2~4。表3说明面积控制法对受各种外界条件影响的固态水位数据都适用都满足规范要求，并对变化平稳的水位过程摘录效果最佳；另外，该方法可以一定程度的消除锯齿波，见图4西南山区某站2018年8月精简摘录成果。</p><table-wrap-group id="3"><label><xref ref-type="table" rid="table3">Table 3</xref></label><caption><title> Statistics of daily average stages erro</title></caption><table-wrap id="3_1"><table><tbody><thead><tr><th align="center" valign="middle"  rowspan="2"  >日</th><th align="center" valign="middle"  colspan="3"  >2019监利(二)站/m</th><th align="center" valign="middle"  colspan="3"  >2019年卡洛特(专用)站/m</th><th align="center" valign="middle"  colspan="3"  >2018年西南山区某站/m</th></tr></thead><tr><td align="center" valign="middle" >摘录前</td><td align="center" valign="middle" >摘录后</td><td align="center" valign="middle" >误差值</td><td align="center" valign="middle" >摘录前</td><td align="center" valign="middle" >摘录后</td><td align="center" valign="middle" >误差值</td><td align="center" valign="middle" >摘录前</td><td align="center" valign="middle" >摘录后</td><td align="center" valign="middle" >误差值</td></tr><tr><td align="center" valign="middle" >11</td><td align="center" valign="middle" >33.57</td><td align="center" valign="middle" >33.57</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >386.81</td><td align="center" valign="middle" >386.81</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >1519.34</td><td align="center" valign="middle" >1519.33</td><td align="center" valign="middle" >−0.01</td></tr><tr><td align="center" valign="middle" >12</td><td align="center" valign="middle" >33.42</td><td align="center" valign="middle" >33.42</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >386.51</td><td align="center" valign="middle" >386.50</td><td align="center" valign="middle" >−0.01</td><td align="center" valign="middle" >1519.51</td><td align="center" valign="middle" >1519.50</td><td align="center" valign="middle" >−0.01</td></tr><tr><td align="center" valign="middle" >13</td><td align="center" valign="middle" >33.24</td><td align="center" valign="middle" >33.24</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >386.47</td><td align="center" valign="middle" >386.47</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >1519.62</td><td align="center" valign="middle" >1519.62</td><td align="center" valign="middle" >0</td></tr></tbody></table></table-wrap><table-wrap id="3_2"><table><tbody><thead><tr><th align="center" valign="middle" >14</th><th align="center" valign="middle" >33.02</th><th align="center" valign="middle" >33.01</th><th align="center" valign="middle" >−0.01</th><th align="center" valign="middle" >387.18</th><th align="center" valign="middle" >387.18</th><th align="center" valign="middle" >0</th><th align="center" valign="middle" >1519.67</th><th align="center" valign="middle" >1519.65</th><th align="center" valign="middle" >−0.02</th></tr></thead><tr><td align="center" valign="middle" >15</td><td align="center" valign="middle" >32.74</td><td align="center" valign="middle" >32.74</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >386.56</td><td align="center" valign="middle" >386.56</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >1519.67</td><td align="center" valign="middle" >1519.66</td><td align="center" valign="middle" >−0.01</td></tr><tr><td align="center" valign="middle" >16</td><td align="center" valign="middle" >32.49</td><td align="center" valign="middle" >32.49</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >386.31</td><td align="center" valign="middle" >386.30</td><td align="center" valign="middle" >−0.01</td><td align="center" valign="middle" >1519.42</td><td align="center" valign="middle" >1519.41</td><td align="center" valign="middle" >−0.01</td></tr><tr><td align="center" valign="middle" >17</td><td align="center" valign="middle" >32.27</td><td align="center" valign="middle" >32.27</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >386.54</td><td align="center" valign="middle" >386.54</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >1519.32</td><td align="center" valign="middle" >1519.31</td><td align="center" valign="middle" >−0.01</td></tr><tr><td align="center" valign="middle" >18</td><td align="center" valign="middle" >31.98</td><td align="center" valign="middle" >31.98</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >386.22</td><td align="center" valign="middle" >386.21</td><td align="center" valign="middle" >−0.01</td><td align="center" valign="middle" >1519.24</td><td align="center" valign="middle" >1519.23</td><td align="center" valign="middle" >−0.01</td></tr><tr><td align="center" valign="middle" >19</td><td align="center" valign="middle" >31.71</td><td align="center" valign="middle" >31.71</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >386.05</td><td align="center" valign="middle" >386.06</td><td align="center" valign="middle" >0.01</td><td align="center" valign="middle" >1519.25</td><td align="center" valign="middle" >1519.24</td><td align="center" valign="middle" >−0.01</td></tr><tr><td align="center" valign="middle" >20</td><td align="center" valign="middle" >31.49</td><td align="center" valign="middle" >31.49</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >385.79</td><td align="center" valign="middle" >385.79</td><td align="center" valign="middle" >0</td><td align="center" valign="middle" >1519.17</td><td align="center" valign="middle" >1519.16</td><td align="center" valign="middle" >−0.01</td></tr></tbody></table></table-wrap></table-wrap-group><p>表3. 日平均水位误差统计</p><p>图2. 监利(二)站2019年8月精简摘录成果(部分)</p><p>图3. 卡洛特(专用)站2019年8月精简摘录成果(部分)</p><p>图4. 西南山区某站2018年8月精简摘录成果(部分)</p></sec><sec id="s6"><title>4. 结语</title><p>采用面积控制法，根据每月水文特性选用合适的水位摘录限差值(一般选1~6 cm∙min)进行摘录，能用较少数据量真实反映实测水位过程并满足相关规范要求。该法具有原理简单和较好的可操作性，可较好地满足各种水文服务成果的计算精度和规范要求，适合各种过程线类的数据处理。该方法在长江中游荆江河段、中国西南山区测站以及巴基斯坦吉拉姆河流域水文固存数据处理中得到实践应用，获得了很好的效果。</p></sec><sec id="s7"><title>文章引用</title><p>邓颂霖,许弟兵. 面积控制法在水位固存数据处理中的应用Application of Area Control Method in Water Stage Data Processing of Solid State Storage[J]. 水资源研究, 2020, 09(05): 547-551. https://doi.org/10.12677/JWRR.2020.95059</p></sec><sec id="s8"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.38296-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">李厚永, 刘凯芒. 用拟合曲线法消除水位固存数据的波动影响[J]. 人民长江, 2002, 33(9): 10-12. 
LI Houyong, LIU Kaiman. Eliminating the influence of fluctuation of water level data by fitting curve. Yangtze River, 2002, 33(9): 10-12. (in Chinese)</mixed-citation></ref><ref id="hanspub.38296-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">孙永远, 张玉田, 陈家大. 折线逼近法在水文遥测数据处理中的应用[J]. 水文, 2010, 30(2): 59. 
SUN Yongyuan, ZHANG Yutian and CHEN Jiada. Application of polyline approximation method in hydrological telemetry data processing. Journal of China Hydrology, 2010, 30(2): 59. (in Chinese)</mixed-citation></ref><ref id="hanspub.38296-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">赵良民. 固态存储水位精简摘录的研究[J]. 水文, 2014, 34(2): 84-85. 
ZHAO Liangmin. Extraction of simplified stage date from solid state storage. Journal of China Hydrology, 2014, 34(2): 84-85. (in Chinese)</mixed-citation></ref><ref id="hanspub.38296-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">王桂花. 基于CAD 平台的遥测水位精简方法探讨[J]. 科技推广与应用, 2018(1): 34-35. 
WANG Guihua. Discussion on the simplification method of telemetry water level based on CAD platform. Promotion and Application of Science and Technology, 2018(1): 34-35. (in Chinese)</mixed-citation></ref><ref id="hanspub.38296-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">曾义华, 刘家林, 邓荣. 水位摘录数学模型的探讨[J]. 企业技术开发, 2011, 30(19): 30-31. 
ZENG Yihua, LIU Jialin and DENG Rong. Mathematical model of water extract. Technological Development of Enterprise, 2011, 30(19): 30-31. (in Chinese)</mixed-citation></ref></ref-list></back></article>