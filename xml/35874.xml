<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">OJTT</journal-id><journal-title-group><journal-title>Open Journal of Transportation Technologies</journal-title></journal-title-group><issn pub-type="epub">2326-3431</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/OJTT.2020.93031</article-id><article-id pub-id-type="publisher-id">OJTT-35874</article-id><article-categories><subj-group subj-group-type="heading"><subject>OJTT20200300000_38862719.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于哑变量改进的NL模型在交通方式选择中的应用
  Application of Improved NL Model Based on Dummy Variables in Traffic Mode Selection
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>何</surname><given-names>旭</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>李</surname><given-names>文勇</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><addr-line>桂林电子科技大学，建筑与交通工程学院，广西 桂林</addr-line></aff><aff id="aff2"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>17</day><month>04</month><year>2020</year></pub-date><volume>09</volume><issue>03</issue><fpage>259</fpage><lpage>263</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
  论文通过对随机效用理论进行深度剖析，并在原有NL模型的基础上改进，提出了一种基于哑变量改进的NL模型。该模型可重新对效用选择函数的指标进行选取和分类，对于不可量化的性质指标则可以以哑变量赋值的方式注入到效用方程中，该方式能够使回归模型变量解释范围更广，进而达到扩量保质的作用，在面对现实问题的描述时能够起到以一抵多的联合效果。
   Based on the in-depth analysis of the random utility theory and the improvement of the original NL model, an improved NL model based on dummy variables is proposed. The model can select and classify the index of utility selection function again. The property of not quantitative indicators can be injected in the form of dummy variable assignment to the utility equation. This way can make variable regression model to explain widely, thus expanding quantity with good quality, in the face of the description of the realistic problems to have the joint effect that one is worth more.
 
</p></abstract><kwd-group><kwd>NL模型，哑变量，出行方式选择, NL Model</kwd><kwd> Dummy Variables</kwd><kwd> Traffic Mode Selection</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>基于哑变量改进的NL模型在交通方式选择中的应用<sup> </sup></title><p>何旭，李文勇</p><p>桂林电子科技大学，建筑与交通工程学院，广西 桂林</p><p>收稿日期：2020年5月8日；录用日期：2020年5月22日；发布日期：2020年5月29日</p><disp-formula id="hanspub.35874-formula35"><graphic xlink:href="//html.hanspub.org/file/17-2760488x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>论文通过对随机效用理论进行深度剖析，并在原有NL模型的基础上改进，提出了一种基于哑变量改进的NL模型。该模型可重新对效用选择函数的指标进行选取和分类，对于不可量化的性质指标则可以以哑变量赋值的方式注入到效用方程中，该方式能够使回归模型变量解释范围更广，进而达到扩量保质的作用，在面对现实问题的描述时能够起到以一抵多的联合效果。</p><p>关键词 :NL模型，哑变量，出行方式选择</p><disp-formula id="hanspub.35874-formula36"><graphic xlink:href="//html.hanspub.org/file/17-2760488x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2020 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/17-2760488x7_hanspub.png" /> <img src="//html.hanspub.org/file/17-2760488x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>随着我国城镇一体化建设已从慢车道建设步入了快车道，城市机动车的保有量呈高速几何趋势增长，交通运输的供给不平衡问题逐渐凸显居 [<xref ref-type="bibr" rid="hanspub.35874-ref1">1</xref>]。民出行前往往会结合自身的实际情况来选择不同的交通方式出行，不同的个体在出行前对于交通方式的选择会带来不同的效用意义 [<xref ref-type="bibr" rid="hanspub.35874-ref2">2</xref>]。在交通拥堵日益严峻的今天，通过站在出行者的视角下来解释人们在出行前的选择行为十分必要 [<xref ref-type="bibr" rid="hanspub.35874-ref3">3</xref>]。</p><p>交通出行不仅在时间分布上具有较为明显的周期性，而且个体选择的差异性往往又充满着离散性 [<xref ref-type="bibr" rid="hanspub.35874-ref4">4</xref>]。因此在基于简单出行链视角下来引入非集计NL模型，在分类分层的情况下研究居民关注的决策指标对其选择行为所衍生的效用有着重要的研究意义。</p></sec><sec id="s4"><title>2. 基础理论(RUT)</title><p>随机效用理论在个体出行的视角下，通过对出行者所选择的交通方式来综合评判总效用 [<xref ref-type="bibr" rid="hanspub.35874-ref5">5</xref>]。由于人在进行选择时并非是完全理性的，在决策者心里必然会存在一定的经验主义。这就使得总的综合效用由两部分组成，其一是与生活息息相关的可量化的具体效用，其二是由经验或出行习惯所带来的内在难以描述灰色效用 [<xref ref-type="bibr" rid="hanspub.35874-ref6">6</xref>]。具体表达式如下所示：</p><p>U j = V j + ε j (1)</p><p>V j = δ 0 + δ 1 x 1 + δ 2 x 2 2 + ⋯ + δ n x n n (2)</p><p>式中： U j 表示出行者选择第j种交通方式出行的总效用； V j 表示为出行者选择第j种交通方式出行的显性效用；<inline-formula><inline-graphic xlink:href="//html.hanspub.org/file/17-2760488x13_hanspub.png" xlink:type="simple"/></inline-formula>表示为指标变量； ε j 则表示灰色隐形效用。</p></sec><sec id="s5"><title>3. 建立模型</title><p>决策肢的几何结构决定了NL模型选择概率的体现形式 [<xref ref-type="bibr" rid="hanspub.35874-ref7">7</xref>]。因此，在运用Nested Logit模型分析前应将SP调查到的数据进行分类筛查，即：把出行特征类似的交通工具归为一类。结合本次调查本文将采用两层结构，其中上层为机动车、非机动车，下层为小汽车、公交车、电动车。结合上述结构，建立NL模型决策肢方案。</p><p>在诸多离散研究中MNL模型虽然能够解释决策树中各个方案的选择情况，但其要求各个备选项之间拥有较强的不相关性，而这也就是MNL所带来的IIA局限性 [<xref ref-type="bibr" rid="hanspub.35874-ref8">8</xref>]。Nested Logit模型作为离散选择模型中的最经典之一，其树形结构具有较强的柔性，弥补了MNL在分层分类上各选项间的不相关缺陷 [<xref ref-type="bibr" rid="hanspub.35874-ref9">9</xref>]。由于NL模型是在MNL的基础上改进而来，故Nested Logit也同样服从相同的Gumbel假设分布，各个综合效用函数体现形式仍然具有线性表达特点 [<xref ref-type="bibr" rid="hanspub.35874-ref10">10</xref>]。决策选择肢示意图见下图1所示。</p><p>图1. 交通方式决策示意图</p><p>ln ( P j 1 − P j ) = α + β 1 ( V 1 + ε 1 ) + β 2 ( V 2 + ε 2 ) + β 3 ( V 3 + ε 3 ) + ⋯ + β w ( V w + ε w ) (3)</p><p>式中： P j 为居民选择某种交通方式出行的概率； α 为常数项； β n = 1 , 2 , 3 , ⋯ , w 为效用函数系数： ε w 为隐性效用函数。</p><p>V w = bus , car , fei = a 0 + a 1 m mean w + a 2 d mean w + a 3 I n + a 4 s d 1 + a 5 s d 2 (4)</p><p>式中： V w = bus , car , fei 为选择不同交通方式出行时所带来的显性效用； m mean w 表示选择w种方式出行的平均出行费用； d mean w 表示选择第w种方式出行的平均距离； I n 表示居民收入水平； s d 1 、 s d 2 则表示哑变量优化赋值后的乘车满意度； a 0 , 1 , 2 , 3 , 4 , 5 为显性效用方程系数。</p><p>从决策肢上下层结构可知，每个具体方案的选择必然会优先触发上层选择概率，而下层则是在上层因素被选择的情况下条件性的发生。根据相关模型的理论可得：</p><p>P = e λ i ( V w + ε i ) ∑ i = 1 n e λ i ( V w + ε i ) , ( w = bus , car , 非 ) (5)</p></sec><sec id="s6"><title>4. 模型参数估计</title><p>极大似然求估法是一种基于观测变量分布明确或已知的前提下，通过对似然函数或方程进行对数变换，利用方程求导可积的特点来实现对原始方程降维，进而得出相关参数最佳近似值的方法 [<xref ref-type="bibr" rid="hanspub.35874-ref11">11</xref>]。由于NL模型表达式为对数函数与多项式的结合体，为了提高参数估计的准确性，本文通过SPSS软件来获取质量较高的参数估计值。</p></sec><sec id="s7"><title>5. SP调查问卷</title><p>SP调查全称为状态偏好调查(Stated Preference Survey)，该调查起初被用于了解消费者对于市场不同产品的喜好程度以及各种服务的满意度，随着交通专家学者的深入研究，SP调查渐渐地被引入到交通工程领域 [<xref ref-type="bibr" rid="hanspub.35874-ref12">12</xref>]。SP的调查数据可以在历史趋势分析的基础上适当地根据调查者来制定参数水平范围 [<xref ref-type="bibr" rid="hanspub.35874-ref13">13</xref>]，此外SP调查对样方容量要求较少，各个问题之间存在较好的关联性，可以侧面验证和获取多种类型的数据 [<xref ref-type="bibr" rid="hanspub.35874-ref14">14</xref>]，因此SP具有较小的样本量且可以获取较多高效数据的特点，更适合发起移动互联出行问卷调查活动 [<xref ref-type="bibr" rid="hanspub.35874-ref15">15</xref>]。</p></sec><sec id="s8"><title>6. 实例分析</title><p>本章主要以2019年1月SP问卷调查为基础，以桂林市七星区居民选择公交出行为例，结合前文理论分析与相关模型建立情况，计算桂林市居民在出行前关于出行方式选择效用函数并求解算出选择行为所对应的概率函数。具体调查结果见下表1所示。</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> A list of comprehensive information about household</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >家庭收入</th><th align="center" valign="middle" >人数</th><th align="center" valign="middle" >家庭人口总数</th><th align="center" valign="middle" >人数</th><th align="center" valign="middle" >家庭小汽车保有量</th><th align="center" valign="middle" >人数</th></tr></thead><tr><td align="center" valign="middle" >0~5万</td><td align="center" valign="middle" >301</td><td align="center" valign="middle" >1人</td><td align="center" valign="middle" >7</td><td align="center" valign="middle" >0辆</td><td align="center" valign="middle" >182</td></tr><tr><td align="center" valign="middle" >5~9万</td><td align="center" valign="middle" >105</td><td align="center" valign="middle" >2人</td><td align="center" valign="middle" >35</td><td align="center" valign="middle" >1辆</td><td align="center" valign="middle" >294</td></tr><tr><td align="center" valign="middle" >9~13万</td><td align="center" valign="middle" >84</td><td align="center" valign="middle" >3人</td><td align="center" valign="middle" >224</td><td align="center" valign="middle" >2辆</td><td align="center" valign="middle" >70</td></tr><tr><td align="center" valign="middle" >13~18万</td><td align="center" valign="middle" >35</td><td align="center" valign="middle" >4人</td><td align="center" valign="middle" >154</td><td align="center" valign="middle" >3辆</td><td align="center" valign="middle" >21</td></tr><tr><td align="center" valign="middle" >18万以上</td><td align="center" valign="middle" >56</td><td align="center" valign="middle" >5人</td><td align="center" valign="middle" >77</td><td align="center" valign="middle" >4辆</td><td align="center" valign="middle" >7</td></tr><tr><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" >6人</td><td align="center" valign="middle" >60</td><td align="center" valign="middle" >5辆</td><td align="center" valign="middle" >7</td></tr></tbody></table></table-wrap><p>表1. 居民家庭综合信息一览表</p><p>根据SP调查数据，低碳出行理念良好的人且愿意选择公交出门的人占比38.25%，此类居民的出行路线通常较为固定且对于出行效率要求不高；对于出行效率要求和出行路线自由度较高的居民通常愿意选择小汽车出行，其中占比36.44%；对于出行距离较短且经济条件较为普通的居民则多数以非机动车来作为自己的首选出行工具。相比其他交通工具，非机动车受交通拥堵的影响较小，且能够极易穿梭于巷子和街道，为该类出行者提供抄近道的便利，占比25.31%。具体哑变量编码结果见下表2所示。</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> List of dummy variable coding for qualitative indicators of travel mod</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >原定性变量编码值</th><th align="center" valign="middle" >哑变量赋值</th></tr></thead><tr><td align="center" valign="middle" >舒适度 = 1 (车内宽松舒畅)</td><td align="center" valign="middle" >所有 S D = 0</td></tr><tr><td align="center" valign="middle" >舒适度 = 2 (车内比较拥挤)</td><td align="center" valign="middle" >S D 2 = 1 ，其他 S D = 0</td></tr><tr><td align="center" valign="middle" >舒适度 = 3 (车内非常拥挤)</td><td align="center" valign="middle" >S D 3 = 1 ，其他 S D = 0</td></tr><tr><td align="center" valign="middle" >共享电动/单车资源 = 1 (资源充裕)</td><td align="center" valign="middle" >所有 F J D = 0</td></tr><tr><td align="center" valign="middle" >共享电动/单车资源 = 2 (资源紧张)</td><td align="center" valign="middle" >F J D 2 = 1 ，其他 F J D = 0</td></tr><tr><td align="center" valign="middle" >共享电动/单车资源 = 3 (资源缺乏)</td><td align="center" valign="middle" >F J D 3 = 1 ，其他 F J D = 0</td></tr></tbody></table></table-wrap><p>表2. 出行方式定性指标哑变量编码一览表</p><p>经SPSS软件求解可得，效用函数的参数估计值与置信度结果总体上符合预计估计，尽管有点局部参数置信水平收敛效果一般，但任然处于可接受的范围内。具体SPSS回归分析参数标定结果见下表3所示。</p><table-wrap id="table3" ><label><xref ref-type="table" rid="table3">Table 3</xref></label><caption><title> List of public transport utility function parameters calibratio</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >变量</th><th align="center" valign="middle" >B值</th><th align="center" valign="middle" >Sig值</th></tr></thead><tr><td align="center" valign="middle" >平均出行距离(d/km)</td><td align="center" valign="middle" >0.846</td><td align="center" valign="middle" >0.004</td></tr><tr><td align="center" valign="middle" >年收入情况(万元)</td><td align="center" valign="middle" >1.252</td><td align="center" valign="middle" >0.050</td></tr><tr><td align="center" valign="middle" >出行费用(元)</td><td align="center" valign="middle" >−1.318</td><td align="center" valign="middle" >0.034</td></tr><tr><td align="center" valign="middle" >满意度d<sub>1</sub></td><td align="center" valign="middle" >13.864</td><td align="center" valign="middle" >0.013</td></tr><tr><td align="center" valign="middle" >满意度d<sub>2</sub></td><td align="center" valign="middle" >12.467</td><td align="center" valign="middle" >0.023</td></tr></tbody></table></table-wrap><p>表3. 公交出行效用函数参数标定一览表</p><p>因此选择公交出行的效用选择函数可表示为：</p><p>V bus = − 12.255 − 1.318 ∗ M meanbus + 0.846 ∗ d meanbus + 1.252 ∗ I n c o m e     + 13.864 ∗ S D 1 + 12.467 ∗ S D 2 + 0 ∗ S D 3 + ε bus (6)</p><p>综上所述，桂林市居民选择公交出行的平均效用分为9.6分，平均选择概率为0.62，模型求解结果大体符合预期估计，具有一定的研究意义。</p></sec><sec id="s9"><title>7. 结论</title><p>该研究细化优化各个哑变量分组分类的情况，提高了模型的适用人群，但本文只考虑方式并没有考虑到人对于时间和方式同时选择同时考虑的这一情况，对此还需要开展进一步改善，对于超长距离或超短距离出行方面考虑不够，需要进一步研究和探讨。</p><p>本文在Gumbel假设分布的前提下，通过对随机效用模型进行深入剖析，在借鉴显性效用函数模型特点的基础上，引入了哑变量并对模型性质指标进行分类再赋值，在保证模型解释变量保质扩容的情况下，建立了个体选择各交通方式出行的通项效用函数，使得模型能够具有一定的普遍性。揭示了居民选择公交出行所衍生出的效用机制以及选择公交出行的不确定度。</p></sec><sec id="s10"><title>文章引用</title><p>何 旭,李文勇. 基于哑变量改进的NL模型在交通方式选择中的应用Application of Improved NL Model Based on Dummy Variables in Traffic Mode Selection[J]. 交通技术, 2020, 09(03): 259-263. https://doi.org/10.12677/OJTT.2020.93031</p></sec><sec id="s11"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.35874-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">Jin, F.L., An, K. and Yao, E.J. (2020) Mode Choice Analysis in Urban Transport with Shared Battery Electric Vehicles: A Stated-Preference Case Study in Beijing, China. Transportation Research Part A, 133, 95-108.  
&lt;br&gt;https://doi.org/10.1016/j.tra.2020.01.009</mixed-citation></ref><ref id="hanspub.35874-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">Thorhauge, M., Swait, J. and Cherchi, E. (2020) The Habit-Driven Life: Accounting for Inertia in Departure Time Choices for Commuting Trips. Transportation Research Part A, 133, 272-289.  
&lt;br&gt;https://doi.org/10.1016/j.tra.2020.01.023</mixed-citation></ref><ref id="hanspub.35874-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">米均. 考虑出行成本的城市居民出行方式选择研究[D]: [硕士学位论文]. 成都: 西南交通大学, 2015.</mixed-citation></ref><ref id="hanspub.35874-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">孙海云. Logit模型参数估计方法的研究[D]: [硕士学位论文]. 杭州: 浙江大学, 2016.</mixed-citation></ref><ref id="hanspub.35874-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Zhu, T.T., Long, J.C. and Liu, H.X. (2019) Optimal Official Work Start Times in Activity-Based Bottleneck Models with Staggered Work Hours. Transportmetrica B: Transport Dynamics, 7, 657-683.  
&lt;br&gt;https://doi.org/10.1080/21680566.2018.1460881</mixed-citation></ref><ref id="hanspub.35874-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">Yuan, Y.H., Raubal, M. and Liu, Y. (2012) Correlating Mobile Phone Usage and Travel Behavior—A Case Study of Harbin, China. Computers, Environment and Urban Systems, 36, 118-130.  
&lt;br&gt;https://doi.org/10.1016/j.compenvurbsys.2011.07.003</mixed-citation></ref><ref id="hanspub.35874-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">刘玲玲, 刘魏巍, 董洁霜. 基于交叉巢式logit模型的交通出行方式选择研究[J]. 物流工程与管理, 2017, 39(6): 126-128, 125.</mixed-citation></ref><ref id="hanspub.35874-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">Masoumi, H.E. (2019) A Discrete Choice Analysis of Transport Mode Choice Causality and Perceived Barriers of Sustainable Mobility in the MENA Region. Transport Policy, 79, 37-53. &lt;br&gt;https://doi.org/10.1016/j.tranpol.2019.04.005</mixed-citation></ref><ref id="hanspub.35874-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">李梦凡. 交通信息诱导下个体出行选择行为研究[D]: [硕士学位论文]. 合肥: 合肥工业大学, 2018.</mixed-citation></ref><ref id="hanspub.35874-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">邵昀泓, 王炜, 程琳. 出行方式决策的随机效用模型研究[J]. 公路交通科技, 2006(8): 110-115.</mixed-citation></ref><ref id="hanspub.35874-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">Mayo, F.L. and Taboada, E.B. (2019) Ranking Factors Affecting Public Transport Mode Choice of Commuters in an Urban City of a Developing Country Using Analytic Hierarchy Process: The Case of Metro Cebu, Philippines. Transportation Research Interdisciplinary Perspectives, 4, 100078. &lt;br&gt;https://doi.org/10.1016/j.trip.2019.100078</mixed-citation></ref><ref id="hanspub.35874-ref12"><label>12</label><mixed-citation publication-type="other" xlink:type="simple">唐立. 多元出行信息影响下的交通选择行为研究[D]: [博士学位论文]. 成都: 西南交通大学, 2015.</mixed-citation></ref><ref id="hanspub.35874-ref13"><label>13</label><mixed-citation publication-type="other" xlink:type="simple">Bergantino, A.S., Capurso, M. And Hess, S. (2020) Modelling Regional Accessibility to Airports Using Discrete Choice Models: An Application to a System of Regional Airports. Transportation Research Part A: Policy and Practice, 132, 855-871. &lt;br&gt;https://doi.org/10.1016/j.tra.2019.12.012</mixed-citation></ref><ref id="hanspub.35874-ref14"><label>14</label><mixed-citation publication-type="other" xlink:type="simple">温惠英, 汤左淦. 基于Nested Logit与Random Parameters Logit模型的摩托车事故伤害估计与对比[J]. 华南理工大学学报(自然科学版), 2018, 46(11): 83-91.</mixed-citation></ref><ref id="hanspub.35874-ref15"><label>15</label><mixed-citation publication-type="other" xlink:type="simple">刘梦琪. 基于Bootstrap法的城市居民出行行为Nested Logit模型研究[D]: [硕士学位论文]. 成都: 西南交通大学, 2018.</mixed-citation></ref></ref-list></back></article>