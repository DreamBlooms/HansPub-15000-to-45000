<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">JSTA</journal-id><journal-title-group><journal-title>Journal of Sensor Technology and Application</journal-title></journal-title-group><issn pub-type="epub">2331-0235</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/JSTA.2019.71001</article-id><article-id pub-id-type="publisher-id">JSTA-28349</article-id><article-categories><subj-group subj-group-type="heading"><subject>JSTA20190100000_85662955.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  多功能腰颈椎电动康复牵引床智能控制系统研究
  Research of Multi-Functional Lumbar and Cervical Spine Electric Rehabilitation Traction Bed Intelligent Control System
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>宋</surname><given-names>永献</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>吴</surname><given-names>传秀</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>唐</surname><given-names>峰</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>王</surname><given-names>经卓</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>董</surname><given-names>泽宇</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff3"><addr-line>江苏苏云医疗器材有限公司，江苏 连云港</addr-line></aff><aff id="aff1"><addr-line>淮海工学院，电子工程学院，江苏 连云港</addr-line></aff><aff id="aff2"><addr-line>null</addr-line></aff><pub-date pub-type="epub"><day>07</day><month>01</month><year>2019</year></pub-date><volume>07</volume><issue>01</issue><fpage>1</fpage><lpage>11</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   针对传统腰颈椎牵引设备牵引方式单一，不能满足病患不同的症状治疗，本文提出一种多功能腰颈椎电动康复牵引床智能控制系统。采用闭环控制方式，在单片机的控制下接收触摸屏输入和拉力传感器输入，驱动电机带动牵引机构实现牵引活动，同时将输入参数和运行状态输出显示，是一种数字式触摸屏用户界面的牵引装置。用户可以根据需要设定具有保持、休息和治疗时间的静态(持续)、间断和循环牵引功能，并能够用坐标图实时显示牵引力工作状态。通过设定持续时间和拉力大小，持续牵引床体，使颈、腰椎处于被牵引的状态，从而实现对腰颈椎疾病的治疗。实验结果表明：该牵引装置不仅具有较好动态响应性能、实现牵引力的精准控制、良好的人机交互、患者信息存储和动态显示牵引力大小，而且具有较好的治疗效果，牵引过程更加平稳、安全、可靠。 In view of a single traction way of the traditional lumbar and cervical spine traction equipment, the treatment of patients with different symptoms cannot be satisfied, and the intelligent control system of multi-functional lumbar and cervical spine electric rehabilitation traction bed was put forward. The system adopts the closed-loop control mode, receives the input of touch screen and tension sensor under the control of the microcontroller, and achieves traction activities by the traction drive mechanism with motor. The input parameters and operating status are displayed at the same time, and it is a traction device with digital touch screen user interface. The user can set the static (continuous), intermittent and cyclic traction functions which have hold time, rest time and treatment time based on needs, and can display the traction working status with the coordinate map in real time. By setting the duration time and the size of tension, lumbar and cervical spines are in the traction state by continuous traction bed, in order to achieve the treatment of lumbar and cervical spine disease. The experimental results have shown that the traction device has not only good dynamic response performance, precise control of traction, good human-computer interaction, patient information storage and dynamic traction, but also has good therapeutic effect, and the traction process is more stable, safe and reliable.
    
  
 
</p></abstract><kwd-group><kwd>腰颈椎牵引，保持时间，牵引力，动态牵引，智能控制系统, Lumbar and Cervical Spine Traction</kwd><kwd> Hold Time</kwd><kwd> Tension</kwd><kwd> Dynamic Traction</kwd><kwd> 
Intelligent Control System</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>多功能腰颈椎电动康复牵引床智能控制系统 研究<sup> </sup></title><p>宋永献<sup>1</sup>，吴传秀<sup>2</sup>，唐峰<sup>1</sup>，王经卓<sup>1</sup>，董泽宇<sup>1</sup></p><p><sup>1</sup>淮海工学院，电子工程学院，江苏 连云港</p><p><sup>2</sup>江苏苏云医疗器材有限公司，江苏 连云港</p><p><img src="//html.hanspub.org/file/1-2960104x1_hanspub.png" /></p><p>收稿日期：2018年12月13日；录用日期：2018年12月31日；发布日期：2019年1月7日</p><disp-formula id="hanspub.28349-formula13"><graphic xlink:href="//html.hanspub.org/file/1-2960104x5_hanspub.png"  xlink:type="simple"/></disp-formula></sec><sec id="s2"><title>摘 要</title><p>针对传统腰颈椎牵引设备牵引方式单一，不能满足病患不同的症状治疗，本文提出一种多功能腰颈椎电动康复牵引床智能控制系统。采用闭环控制方式，在单片机的控制下接收触摸屏输入和拉力传感器输入，驱动电机带动牵引机构实现牵引活动，同时将输入参数和运行状态输出显示，是一种数字式触摸屏用户界面的牵引装置。用户可以根据需要设定具有保持、休息和治疗时间的静态(持续)、间断和循环牵引功能，并能够用坐标图实时显示牵引力工作状态。通过设定持续时间和拉力大小，持续牵引床体，使颈、腰椎处于被牵引的状态，从而实现对腰颈椎疾病的治疗。实验结果表明：该牵引装置不仅具有较好动态响应性能、实现牵引力的精准控制、良好的人机交互、患者信息存储和动态显示牵引力大小，而且具有较好的治疗效果，牵引过程更加平稳、安全、可靠。</p><p>关键词 :腰颈椎牵引，保持时间，牵引力，动态牵引，智能控制系统</p><disp-formula id="hanspub.28349-formula14"><graphic xlink:href="//html.hanspub.org/file/1-2960104x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2019 by authors and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/1-2960104x7_hanspub.png" /> <img src="//html.hanspub.org/file/1-2960104x8_hanspub.png" /></p></sec><sec id="s3"><title>1. 引言</title><p>随着社会竞争加剧和生活条件改善，高速发展的现代社会使人们生活方式以及生活环境都发生巨大变化。腰颈椎病是一种严重影响人们工作生活能力的常见病、多发病。人们的身体多数处于亚健康状态，由于人体长时间缺乏活动锻炼，工作姿势长期不正确，持续时间较长，极易造成肌肉无力，血液循环不畅，引起肌肉韧带等软组织慢性劳损，导致腰椎、颈椎外源性不平衡，致使患病人群在加速增大。据国家卫生部统计，我国腰椎病患者己突破2亿，腰间盘突出症患者占全国总人数的15.2%，因腰椎病而丧失生活自理能力的人数仅次于脑血管病名列第二 [<xref ref-type="bibr" rid="hanspub.28349-ref1">1</xref>] [<xref ref-type="bibr" rid="hanspub.28349-ref2">2</xref>] 。多年以来腰颈椎病患者一直呈上升趋势，而且逐年以惊人的速度由中老年向青壮年扩展，腰颈椎疾病己逐渐成为威胁人民健康，阻碍经济文化发展的重要疾病之一 [<xref ref-type="bibr" rid="hanspub.28349-ref2">2</xref>] [<xref ref-type="bibr" rid="hanspub.28349-ref3">3</xref>] [<xref ref-type="bibr" rid="hanspub.28349-ref4">4</xref>] [<xref ref-type="bibr" rid="hanspub.28349-ref5">5</xref>] 。医学上治疗腰椎、颈椎疾病，一般采用推拿按摩的方法进行治疗，但是，由于医师推拿按摩过程不可能太久而且力度变化也不够精准，因此有必要借助先进医疗器械来对腰椎、颈椎病患者进行治疗。</p><p>我国的许多学者对腰颈椎牵引治疗系统进行了大量研究，山东建筑大学刘兆峰设计了一种新型随动慢牵治疗仪与信息管理系统，用于对腰椎、颈椎病的患者进行治疗，这种随动慢牵治疗仪采用永磁同步电机作为动力源，建立了随动慢牵治疗仪的矢量控制系统，研究了矢量控制的数学模型和矢量控制算法，并对矢量控制下的系统进行了仿真 [<xref ref-type="bibr" rid="hanspub.28349-ref6">6</xref>] ；哈尔滨工业大学刘健根据牵引手法治疗机理，设计了一种主要适用于家庭的新型腰椎间盘康复机构 [<xref ref-type="bibr" rid="hanspub.28349-ref7">7</xref>] ；山东大学仲为武采用混合式直流电机作为动力源，设计了三维牵引床 [<xref ref-type="bibr" rid="hanspub.28349-ref8">8</xref>] 等。但是，针对牵引治疗过程中存在的非线性和时变性的特点，上述牵引治疗设备的控制系统仅仅注重了功能的实现，牵引力的控制精度不高，直接影响牵引治疗效果。针对此研究现状，笔者提出一种多种执行结构联合执行以实现复合式牵引的多功能腰颈椎电动康复牵引床智能控制系统。为了达到理想的治疗效果，要求牵引治疗仪在施力过程中，既要精准，又要缓慢，牵引力不可有大的波动。因此，在电机速度控制环节提出一种基于指数趋近率的滑模变结构控制策略；同时，针对永磁无刷直流电机运行过程中换相转矩波动问题，提出一种基于泛模型思想与预测控制的无模型预测控制方法，该方法能够很好抑制无刷直流电机换相时的转矩波动。为了提高传感器的稳定性及其精度，消除非目标参量对传感器输出特性的影响，本文提出一种基于BP神经网络的数据融合算法。</p></sec><sec id="s4"><title>2. 系统总体方案设计</title><p>电动康复牵引床主要任务是实现角度、拉力的动态变化并加以控制，对患者的病例和治疗情况进行存储，从而达到治疗腰、颈椎疾病的目的。为了实现牵引角度、牵引力的动态变化和精准控制，系统采用无刷直流电机提供动力，并对电动康复牵引床的电机控制策略进行研究，使牵引力和牵引角度得到更加精准的控制。下位机完成实时控制，上位机(触摸屏)与单片机通过串口通讯，完成参数的设定、指令的发出、数据库的建立、状态的实时监控等。在上位机软件设计时，采用C编程语言建立良好的人机交互界面，通过人机界面完成参数和命令的输入，并获得牵引力的反馈数据，实时动态显示牵引力的变化。电动康复牵引床功能模块如图1所示。</p><p>图1. 电动康复牵引床控制系统总体结构</p><p>电动康复牵引床主要包括腰椎牵引治疗、颈椎牵引治疗、参数设置、病人数据库管理、绳子释放以及按键控制、床体位置调整、紧急中断保护等功能。腰(颈)椎牵引治主要包括静态牵引、间歇牵引和循环牵引，医生根据患者实际情况设置倾角大小、力度大小、牵引时间、渐退步数和渐进步数等牵引参数。病人数据库管理主要包括患者的基本信息、病状、日期、时间、牵引力参数、疼痛参数、治疗评估等信息。绳子释放以及按键控制主要包括牵引绳子的释放、牵引开始、牵引暂停、牵引停止等功能控制。床体位置调整主要根据病人的具体情况调整床体的旋角、倾角和摆角等。紧急中断保护主要用于病人出现异常情况或不适时停止牵引，如果该开关未连接或出现故障，系统不能正常工作。</p></sec><sec id="s5"><title>3. 系统硬件电路设计</title><p>硬件系统结构如图2所示，系统的硬件设计既要满足各种牵引模式、牵引角度、牵引力的不同变化，又要保证治疗的安全性，牵引角度和牵引力的准确度。系统硬件的设计包括PIC主控制板、数据采集输入电路、输出电路、电源等和触摸屏(上位机)部分，其中PIC主控制板负责对输入数据的处理、控制输出及数据通讯。数据采集输入电路从传感器获得数据，并将其传递给主控制板PIC单片机，输出电路主要是实现对无刷直流电机的控制，实现牵引角度和牵引力的控制，完成牵引动作。在治疗过程中，用户首先在上位机(触摸屏)设定好牵引模式和牵引力的大小等相关参数，上位机通过CAN接口电路，将命令传递给PIC控制器(下位机)，下位机执行命令，带动电机旋转，角度传感器获得牵引床的角度变化数值，并将数值传递给PIC单片机，当实际的牵引角度和设定的牵引角度一致时，电机停止转动。发出无刷直流电机转动命令，利用拉力传感器获得实时的牵引力的大小，传递给PIC单片机，PIC单片机将数据利用CAN接口电路，返回给上位机(触摸屏)，上位机将牵引力的变化情况实时显示出来。</p><p>图2. 系统硬件电路结构</p></sec><sec id="s6"><title>4. 牵引电机控制策略设计</title><p>在进行腰椎、颈椎牵引治疗时，为了达到理想的治疗效果，要求牵引治疗仪在施力过程中，既要精准，又要缓慢，牵引力不可有大的波动，这就要求牵引电机有较好的低速性能。以往的牵引在选择动力源时，大多选择异步电机或者液压电机，性能不稳定且难以维护，很难达到现在的设计要求。随着电机控制技术及各电力电子技术的迅猛发展，无刷直流电机(BLDCM)以其高性能高效率的特点脱颖而出。无刷直流电机具有调速范围宽、启动转矩大、易于控制、运行可靠等优势，被广泛应用于家用电器、汽车、航空以及康复医疗机械等行业领域 [<xref ref-type="bibr" rid="hanspub.28349-ref9">9</xref>] [<xref ref-type="bibr" rid="hanspub.28349-ref10">10</xref>] [<xref ref-type="bibr" rid="hanspub.28349-ref11">11</xref>] 。为了改善电机运行性能，提高系统鲁棒性，在电机速度控制环节提出一种基于指数趋近率的滑模变结构控制策略。针对永磁无刷直流电机运行过程中换相转矩波动问题，提出一种基于泛模型思想与预测控制的无模型预测控制方法，该方法能够很好抑制无刷直流电机换相时的转矩波动。无刷直流电机控制策略流程如图3所示。</p><p>图3. BLDCM控制原理</p><sec id="s6_1"><title>4.1. 滑模变结构控制策略设计</title><p>变结构控制(SMC)是一种控制方法简单、建模要求不高、鲁棒性好、不连续的控制策略，滑模变结构控制系统主要由切换函数和控制率两部分组成，选择合适的切换函数可以使滑动模态的运动品质得到保证和改善，为了能在一定范围内消除抖振，同时一又不会延长系统的响应时间，采用动态滑模切换函数为：</p><p>y = b x 1 + x 2 (1)</p><p>令状态变量为：</p><p>{ x 1 = n r e f − n x 2 = x ˙ 1 = − n ˙ (2)</p><p>其中， x 1 为速度误差， x 2 表示速度状态滑模变结构调节输入， n r e f 表示给定转速， n 表示电机的实际转速。</p><p>根据电机的机械运动方程 [<xref ref-type="bibr" rid="hanspub.28349-ref12">12</xref>] ，式(2)变为：</p><p>{ x ˙ 1 = − n ˙ x ˙ 2 = − K T J i ˙ (3)</p><p>其中 K T 表示转矩系数， J 表示转矩惯量， i 表示稳态时绕组相电流。</p><p>当滑模动态到达切换面，即 y = 0 时，根据(1)和(2)，可得：</p><p>n = n r e f − c e − b t (4)</p><p>由式(4)可看出，当 t → ∞ 时， n → n r e f ，即实际转速 n 趋近于给定转速 n r e f ，从而使系统最终达到稳定状态。</p><p>函数切换控制主要由等效控制部分和切换控制部分组成，通过函数切换机制可以减少扰动和摄动对系统带来的不确定影响。</p><p>f = f e q + f s w (5)</p><p>其中， f e q 为等效控制部分，保证系统滑模运动的控制， f s w 为切换控制部分，保证系统始终趋向于滑模面，减少扰动带来的影响。根据(1)和(3)可求得：</p><p>y ˙ = b x ˙ 1 + x ˙ 2 = b x 2 − K T J i ˙ (6)</p><p>当 y ˙ = 0 时，可求得等效控制部分函数控制率为：</p><p>f e q = J / K T ∫ ( d x 2 ) d t (7)</p><p>根据选取的指数趋进率以及式(4)和(6)，可求得滑模变结构调节器的输出：</p><p>f = J K T ∫ [ k s + ε s i g n ( s ) + x 2 ] d t (8)</p></sec><sec id="s6_2"><title>4.2. 无模型预测控制算法设计</title><p>从图3可以看出，系统采用速度、电流双闭环控制结构，为了更有效的减少电机转矩波动，在电流环中加入一种无模型预测控制算法。无模型预测控制算法采用无模型控制和预测控制相融合的算法。对于无刷直流电机控制系统而言，在换相期间对非换相相电流进行控制，将非换相相电流值作为控制器的输入，待预测的未来时刻的电流值作为控制器的输出。在换相期间，以 z 相为非换相相， x 相为关断相， y 相为开通相为例。无刷直流电机数学模型如(9)所示 [<xref ref-type="bibr" rid="hanspub.28349-ref10">10</xref>] [<xref ref-type="bibr" rid="hanspub.28349-ref13">13</xref>] [<xref ref-type="bibr" rid="hanspub.28349-ref14">14</xref>] 。</p><p>u x 0 + u y 0 − 2 u z 0 = − 3 R i z − 3 L s d i z d t + ( e x + e y − 2 e z ) (9)</p><p>将式(9)离散化简后得到：</p><p>( 1 + R T s / L s ) [ i z ( k + 1 ) − i z ( k ) ] − [ i z ( k ) − i z ( k − 1 ) ] = T s 3 L s { [ e ( k + 1 ) − e ( k ) ] − [ u ( k + 1 ) ) − u ( k ] } (10)</p><p>其中， T s 为采样时间， e ( k ) = e x ( k ) + e y ( k ) − 2 e z ( k ) ， u ( k ) = u x 0 ( k ) + u y 0 ( k ) − 2 u z 0 ( k ) 。</p><p>当采样时间足够短时， R T s / L s &lt; &lt; 1 ，因此在换相期间，式(10)可以进一步化简，从而获得BLDCM控制系统的泛模型。</p><p>[ i z ( k + 1 ) − i z ( k ) ] − [ i z ( k ) − i z ( k − 1 ) ] = φ ( k ) &#215; { [ i z ( k ) − i z ( k − 1 ) ] − [ i z ( k − 1 ) − i z ( k − 2 ) ] } (11)</p><p>其中泛模型的特征参量为：</p><p>φ ( k ) = [ e ( k + 1 ) − e ( k ) ] − [ u ( k + 1 ) − u ( k ) ] / [ e ( k ) − e ( k − 1 ) ] − [ u ( k ) − u ( k − 1 ) ] (12)</p><p>从而可以得到非换相相 z 相电流在 ( k + 1 ) T s 时刻的预测值为：</p><p>i z ( k + 1 ) = φ ( k ) [ i z ( k ) − 2 i z ( k − 1 ) + i z ( k − 2 ) ] + [ 2 i z ( k ) − i z ( k − 1 ) ] (13)</p><p>根据以上分析可知，如果电机电阻电感参数的大致范围已知，并当采样时间足够小时，如果满足 R T s / L s &lt; &lt; 1 ，就可以抑制换相转矩波动，提高电机稳态性能。</p></sec></sec><sec id="s7"><title>5. 压力传感器的数据融合算法</title><p>目前，压力传感器通常采用压阻式传感器，其广泛地应用于航天、航空、石油化工、医疗器械等各个领域 [<xref ref-type="bibr" rid="hanspub.28349-ref15">15</xref>] 。在医疗器械中压力是一个关键参数，传感器的输出值 u 不仅仅与被测压力 p 有关，当温度 T 或电源波动 δ 等非目标参量变化时，输出值也要变化 [<xref ref-type="bibr" rid="hanspub.28349-ref16">16</xref>] 。为了提高传感器的稳定性及其精度，消除非目标参量对传感器输出特性的影响，提出一种基于BP神经网络的数据融合算法。压力传感器的模型 u = f ( p , T , δ ) ，为了消除工作温度和供电电源波动两个非目标参量的影响，采用逆向建模方法，如图4所示，图中 u T ， u δ 为两个非目标参量的检测电压信号， p ′ 为补偿后的输出量。</p><p>图4. 传感器数据融合系统原理</p><p>逆向建模的目的是通过神经网络的非线性映射能力，逼近 p = f − 1 ( u , T , δ ) ， p ′ = p 为网络的期望输出值。将目标参量传感器输出及各种非目标参量敏感元件的输出作为BP神经网络输入，网络根据一定的算法不断调整权值和偏置，使目标输出 p ′ 在允许的范围之内，并消除非目标参量的影响。</p><p>神经网络采用多层感知机前向神经网络结构。选输入层结点数为3，输出结点数为1，故 i = 1 , 2 , 3 ，隐层结点数 j = 1 , 2 , 3 , ⋯ , l ， l 值根据网络训练结果而定。为了使神经网络输出 y = p ′ ，采用误差反向传播</p><p>算法，则压力传感器系统目标参量的标定值之间的均方差 e = 1 n ∑ m = 1 n ( p ′ − p &#175; m ) 2 ≤ ε 为最小。其中， ε 为任意</p><p>小的正实数，即给定的允许偏差， p ′ 和 p &#175; m 均为归一化值， n 为样本数， m 为样本号。BP网络训练过程及其算法如图5所示。</p><p>图5. BP神经网络训练过程及其算法</p></sec><sec id="s8"><title>6. 实验结果与分析</title><sec id="s8_1"><title>6.1. 无刷直流电机控制策略性能分析</title><p>为了验证无刷直流电机控制策略的可行性，对无刷直流电机运行性能进行仿真测试，其无刷直流电机相关测试参数如表1所示。仿真结果如图6，图7和图8所示。</p><p>由图6和图7可看出，转速在滑模变结构控制下很快达到给定值。负载转矩增加时，转速虽然会有所降落，但又立刻回到给定值，下降率几乎可视为0，实现无超调调速。因此，该系统极大地抑制了外界干扰的影响。</p><p>由图7可以看出，系统的启动转矩在滑模变结构控制下比较小，转矩达到稳定值所需时间也较短，增加负载转矩时的跟踪速度也较快。</p><table-wrap id="table1" ><label><xref ref-type="table" rid="table1">Table 1</xref></label><caption><title> Brushless DC motor related test parameter</title></caption><table><tbody><thead><tr><th align="center" valign="middle" >定子电阻</th><th align="center" valign="middle" >转动惯量</th><th align="center" valign="middle" >磁动系数</th><th align="center" valign="middle" >相电感</th></tr></thead><tr><td align="center" valign="middle" >R = 1.2 Ω</td><td align="center" valign="middle" >J = 0.0022 kg∙m<sup>2</sup></td><td align="center" valign="middle" >C e = 0.095</td><td align="center" valign="middle" >L − M = 6.3   mH</td></tr><tr><td align="center" valign="middle" >初始负载转矩</td><td align="center" valign="middle" >滑膜变结构参数</td><td align="center" valign="middle" >仿真时间</td><td align="center" valign="middle" >额定转速</td></tr><tr><td align="center" valign="middle" >T L = 2   N ⋅ m</td><td align="center" valign="middle" >k = 0.01 ， ε = 100</td><td align="center" valign="middle" >0.2   s</td><td align="center" valign="middle" >n e = 2500   rpm</td></tr></tbody></table></table-wrap><p>表1. 无刷直流电机相关测试参数</p><p>图6. SMC下的转速变化波形</p><p>图7. SMC电磁转矩变化波形</p><p>图8. SMC相电流变化波形</p><p>由图8可以看出，相电流从电机启动到达稳定时所需时间较短，也就是说，响应速度较快。当负载转矩增加时，相电流的跟踪速度也变快。</p></sec><sec id="s8_2"><title>6.2. 数据融合结果及性能分析</title><p>为验证神经网络法的有效性，根据传感器的5组实验标定值，利用神经网络计算出被测压力 p 的融合值，如表2所示。</p><table-wrap id="table2" ><label><xref ref-type="table" rid="table2">Table 2</xref></label><caption><title> Fusion result</title></caption><table><tbody><thead><tr><th align="center" valign="middle"  rowspan="2"  >温度/℃</th><th align="center" valign="middle"  rowspan="2"  >电源波动δ/%</th><th align="center" valign="middle"  colspan="10"  >被测压力p (10<sup>4</sup> Pa)</th></tr></thead><tr><td align="center" valign="middle"  colspan="2"  >标定值1</td><td align="center" valign="middle" >融合值1</td><td align="center" valign="middle" >标定值2</td><td align="center" valign="middle"  colspan="2"  >融合值2</td><td align="center" valign="middle"  colspan="2"  >标定值3</td><td align="center" valign="middle"  colspan="2"  >融合值3</td></tr><tr><td align="center" valign="middle" >21.5</td><td align="center" valign="middle" >3</td><td align="center" valign="middle"  rowspan="6"  >0</td><td align="center" valign="middle"  colspan="2"  >0.232</td><td align="center" valign="middle"  colspan="2"   rowspan="6"  >1</td><td align="center" valign="middle"  colspan="2"  >1.003</td><td align="center" valign="middle"  colspan="2"   rowspan="6"  >2</td><td align="center" valign="middle" >2.057</td></tr><tr><td align="center" valign="middle" >28</td><td align="center" valign="middle" >0</td><td align="center" valign="middle"  colspan="2"  >0.252</td><td align="center" valign="middle"  colspan="2"  >0.980</td><td align="center" valign="middle" >1.996</td></tr><tr><td align="center" valign="middle" >34</td><td align="center" valign="middle" >0</td><td align="center" valign="middle"  colspan="2"  >0.249</td><td align="center" valign="middle"  colspan="2"  >0.957</td><td align="center" valign="middle" >2.050</td></tr><tr><td align="center" valign="middle" >50</td><td align="center" valign="middle" >−2</td><td align="center" valign="middle"  colspan="2"  >0.233</td><td align="center" valign="middle"  colspan="2"  >1.033</td><td align="center" valign="middle" >2.023</td></tr><tr><td align="center" valign="middle" >70</td><td align="center" valign="middle" >−3</td><td align="center" valign="middle"  colspan="2"  >0.218</td><td align="center" valign="middle"  colspan="2"  >1.004</td><td align="center" valign="middle" >2.047</td></tr><tr><td align="center" valign="middle" >最大偏差</td><td align="center" valign="middle" >max | Δ p |</td><td align="center" valign="middle"  colspan="2"  >0.034</td><td align="center" valign="middle"  colspan="2"  >0.076</td><td align="center" valign="middle" >0.061</td></tr><tr><td align="center" valign="middle"  rowspan="2"  >温度/℃</td><td align="center" valign="middle"  rowspan="2"  >电源波动δ/%</td><td align="center" valign="middle"  colspan="10"  >被测压力p (10<sup>4</sup> Pa)</td></tr><tr><td align="center" valign="middle" >标定值4</td><td align="center" valign="middle"  colspan="2"  >融合值4</td><td align="center" valign="middle"  colspan="2"  >标定值5</td><td align="center" valign="middle"  colspan="2"  >融合值5</td><td align="center" valign="middle"  colspan="2"  >标定值6</td><td align="center" valign="middle" >融合值6</td></tr><tr><td align="center" valign="middle" >21.5</td><td align="center" valign="middle" >3</td><td align="center" valign="middle"  rowspan="6"  >3</td><td align="center" valign="middle"  colspan="2"  >3.008</td><td align="center" valign="middle"  colspan="2"   rowspan="6"  >4</td><td align="center" valign="middle"  colspan="2"  >3.998</td><td align="center" valign="middle"  colspan="2"   rowspan="6"  >5</td><td align="center" valign="middle" >4.997</td></tr><tr><td align="center" valign="middle" >28</td><td align="center" valign="middle" >2</td><td align="center" valign="middle"  colspan="2"  >3.032</td><td align="center" valign="middle"  colspan="2"  >4.001</td><td align="center" valign="middle" >4.999</td></tr><tr><td align="center" valign="middle" >34</td><td align="center" valign="middle" >1</td><td align="center" valign="middle"  colspan="2"  >3.029</td><td align="center" valign="middle"  colspan="2"  >4.003</td><td align="center" valign="middle" >5.001</td></tr><tr><td align="center" valign="middle" >50</td><td align="center" valign="middle" >−2</td><td align="center" valign="middle"  colspan="2"  >3.011</td><td align="center" valign="middle"  colspan="2"  >4.005</td><td align="center" valign="middle" >5.005</td></tr><tr><td align="center" valign="middle" >70</td><td align="center" valign="middle" >−3</td><td align="center" valign="middle"  colspan="2"  >3.016</td><td align="center" valign="middle"  colspan="2"  >4.007</td><td align="center" valign="middle" >5.007</td></tr><tr><td align="center" valign="middle" >最大偏差</td><td align="center" valign="middle" >max | Δ p |</td><td align="center" valign="middle"  colspan="2"  >0.024</td><td align="center" valign="middle"  colspan="2"  >0.009</td><td align="center" valign="middle" >0.010</td></tr><tr><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td><td align="center" valign="middle" ></td></tr></tbody></table></table-wrap><p>表2. 融合处理结果</p><p>从表2可以看出，神经网络对传感器数据进行融合处理后，利用式 α p = max | Δ p | / p F S 计算传感器输出电压波动的相对值， p F S 为满量程压力标定值 [<xref ref-type="bibr" rid="hanspub.28349-ref16">16</xref>] 。把 max | Δ p | = 0.076 &#215; 10 4   Pa 代入 α p ，可以获得传感器输出电压波动的相对值 α p = 1.5 % 。因此，采用BP神经网络算法进行数据融合，大大降低了非目标参量对压力传感器输出结果的影响，有效地提高了传感器的输出精度。</p></sec><sec id="s8_3"><title>6.3. 系统测试与分析</title><p>为了验证研究的智能牵引理疗系统可行性及其相关性能，整个测控系统进行了测试(以腰椎为例)。最大拉力设置为30 kg (最大拉力范围0~90 kg)，最小拉力为10 kg，最大拉力与最小拉力的差要大于等于2 kg。保持时间设置为50 s (范围0~99 s)，休息时间设置为50 s (范围0~99 s)。上升步数设置为5步(范围0~9步)，下降步数设置为4步 (范围0~9步)。减进模式为静态模式，减退模式为静态模式，牵引模式为间歇模式，牵引时间为80 min。系统运行效果图如图9所示。</p><p>图9. 系统运行效果图</p><p>测试结果表明，该牵引装置不仅具有较好动态响应性能、实现牵引力的精准控制、良好的人机交互、患者信息存储和动态显示牵引力大小，而且具有较好的治疗效果，牵引过程更加平稳、安全、可靠。</p></sec></sec><sec id="s9"><title>7. 结束语</title><p>本文研究的智能牵引理疗系统是采用单片机实现的用于颈椎、腰椎康复的牵引设备。该系统通过拉力传感器采集信号，单片机实时控制进行牵引理疗。本系统设计将各功能的算法分配于相应的单片机中，并对相关算法和样机进行了验证测试。该牵引装置不仅具有较好动态响应性能、实现牵引力的精准控制、良好的人机交互、患者信息存储和动态显示牵引力大小，而且具有较好的治疗效果，牵引过程更加平稳、安全、可靠。</p></sec><sec id="s10"><title>基金项目</title><p>连云港市科技计划项目(产业前瞻与共性关键技术) (CG1616)；江苏省第五期“333工程”科研资助项目(BRA2016292)。</p></sec><sec id="s11"><title>文章引用</title><p>宋永献,吴传秀,唐 峰,王经卓,董泽宇. 多功能腰颈椎电动康复牵引床智能控制系统研究Research of Multi-Functional Lumbar and Cervical Spine Electric Rehabilitation Traction Bed Intelligent Control System[J]. 传感器技术与应用, 2019, 07(01): 1-11. https://doi.org/10.12677/JSTA.2019.71001</p></sec><sec id="s12"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.28349-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">郭子豪. 基于LabVIEW和CAN总线的多功能颈椎牵引床控制系统设计[D]: [硕士学位论文]. 长春: 吉林大学, 2016.</mixed-citation></ref><ref id="hanspub.28349-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">茹意. 多功能智能化牵引床系统设计[D]: [硕士学位论文]. 成都: 电子科技大学, 2010.</mixed-citation></ref><ref id="hanspub.28349-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">王田田. 多功能智能颈椎康复治疗仪的研究[D]: [硕士学位论文]. 武汉: 华中科技大学, 2013.</mixed-citation></ref><ref id="hanspub.28349-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">Raja, R.A., Khemani, V.D., Lakhair, M.A., et al. (2012) Discectomy in Single Level Lumbar Disc Disease. Journal of Ayub Medical College Abbottabad, 24, 1131-1135.</mixed-citation></ref><ref id="hanspub.28349-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">Autio, R.A., Karppinen J., Niinimki, J., et al. (2006) Determinants of Spontaneous Resorption of Rote Rvertebral Disc Hermiations. Spine, 31, 1247-1252. &lt;br&gt;https://doi.org/10.1097/01.brs.0000217681.83524.4a</mixed-citation></ref><ref id="hanspub.28349-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">孔群. 随动慢牵治疗仪的控制与信息管理系统[D]: [硕士学位论文]. 济南: 山东建筑大学, 2015.</mixed-citation></ref><ref id="hanspub.28349-ref7"><label>7</label><mixed-citation publication-type="other" xlink:type="simple">刘健. 多功能腰椎间盘康复治疗装置的研制[D]: [硕士学位论文]. 哈尔滨: 哈尔滨工业大学, 2015.</mixed-citation></ref><ref id="hanspub.28349-ref8"><label>8</label><mixed-citation publication-type="other" xlink:type="simple">仲为武. 三维牵引床控制系统设计[D]: [硕士学位论文]. 济南: 山东大学, 2006.</mixed-citation></ref><ref id="hanspub.28349-ref9"><label>9</label><mixed-citation publication-type="other" xlink:type="simple">姜卫东, 黄辉, 王培侠, 张忠. 基于图解法的无刷直流电机抑制换相转矩脉动的方法[J]. 中国电机工程学报, 2016, 36(15): 4258-4265.</mixed-citation></ref><ref id="hanspub.28349-ref10"><label>10</label><mixed-citation publication-type="other" xlink:type="simple">史婷娜, 李聪, 姜国凯, 夏长亮. 基于无模型预测控制的无刷直流电机换相转矩波动抑制策略[J]. 电工技术学报, 2016, 31(5): 54-61.</mixed-citation></ref><ref id="hanspub.28349-ref11"><label>11</label><mixed-citation publication-type="other" xlink:type="simple">崔臣君, 刘刚, 郑世强. 基于线反电动势的高速磁悬浮无刷直流电机无位置换相策略[J]. 电工技术学报, 2014, 29(9): 119-128.</mixed-citation></ref><ref id="hanspub.28349-ref12"><label>12</label><mixed-citation publication-type="other" xlink:type="simple">柴俊, 李坤, 过磊. 无刷直流电机滑模变结构控制策略研究[J]. 齐鲁工业大学学报, 2016, 30(4): 55-59.</mixed-citation></ref><ref id="hanspub.28349-ref13"><label>13</label><mixed-citation publication-type="other" xlink:type="simple">郭鸿浩, 周波, 左广杰. 无刷直流电机反电势自适应滑模观测[J]. 中国电机工程学报, 2011, 31(21): 142-149.</mixed-citation></ref><ref id="hanspub.28349-ref14"><label>14</label><mixed-citation publication-type="other" xlink:type="simple">康忠健, 陈学允. 非线性扩张状态观测器的一种设计方法[J]. 电机与控制学报, 2001, 5(3): 199-203.</mixed-citation></ref><ref id="hanspub.28349-ref15"><label>15</label><mixed-citation publication-type="other" xlink:type="simple">刘二林. 基于BP神经网络的压力传感器数据融合研究[J]. 工业仪表与自动化装置, 2012(4): 7-11.</mixed-citation></ref><ref id="hanspub.28349-ref16"><label>16</label><mixed-citation publication-type="other" xlink:type="simple">韦以明. 基于神经网络的传感器数据融合处理[J]. 数据采集与处理, 2006(21): 218-221.</mixed-citation></ref></ref-list></back></article>