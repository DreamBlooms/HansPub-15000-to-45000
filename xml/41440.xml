<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd"><article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="3.0" xml:lang="en" article-type="research article"><front><journal-meta><journal-id journal-id-type="publisher-id">JSTA</journal-id><journal-title-group><journal-title>Journal of Sensor Technology and Application</journal-title></journal-title-group><issn pub-type="epub">2331-0235</issn><publisher><publisher-name>Scientific Research Publishing</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="doi">10.12677/JSTA.2021.92007</article-id><article-id pub-id-type="publisher-id">JSTA-41440</article-id><article-categories><subj-group subj-group-type="heading"><subject>JSTA20210200000_11562901.pdf</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>工程技术</subject></subj-group></article-categories><title-group><article-title>
 
 
  基于PLC的药液温度控制系统设计
   Design of Temperature Control System Based on PLC
 
</article-title></title-group><contrib-group><contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>张</surname><given-names>硕</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref></contrib></contrib-group><aff id="aff1"><label>1</label><addr-line>null</addr-line></aff><aff id="aff2"><label>1</label><addr-line>天津市静海城市基础设施建设投资集团有限公司，天津</addr-line></aff><pub-date pub-type="epub"><day>02</day><month>03</month><year>2021</year></pub-date><volume>09</volume><issue>02</issue><fpage>52</fpage><lpage>56</lpage><permissions><copyright-statement>&#169; Copyright  2014 by authors and Scientific Research Publishing Inc. </copyright-statement><copyright-year>2014</copyright-year><license><license-p>This work is licensed under the Creative Commons Attribution International License (CC BY). http://creativecommons.org/licenses/by/4.0/</license-p></license></permissions><abstract><p>
 
 
   
   随着现代工业自动化水平的提高，工业控制过程中对温度的控制要求也越来越高，尤其是在制药过程中对温度的要求尤其严格，为了确保药液的质量和产量，本文设计了专门针对制药过程的温度控制系统。本设计以制药厂温度控制为例进行设计，选用PLC作为控制核心，通过比较设定温度和实际温度的偏差，由PLC的PID控制器产生控制信号，调节进入药罐的蒸汽流量来实现温度控制。上下位机系统由组态王软件和S7-200 PLC构成，实现了对药液温度的实时监控。 With the improvement of modern industrial automation level, the requirements of temperature control in the process of industrial control are higher and higher, especially in the pharmaceutical process. In order to ensure the quality and output of liquid medicine, this paper designs a special temperature control system for the pharmaceutical process. This design takes the temperature control of pharmaceutical factory as an example to design. PLC is selected as the control core. By comparing the deviation between the set temperature and the actual temperature, the PID controller of PLC generates the control signal to adjust the steam flow into the medicine tank to realize the temperature control. The upper and lower computer system is composed of Kingview software and S7-200 PLC, which realizes the real-time monitoring of liquid temperature. 
  
 
</p></abstract><kwd-group><kwd>PLC，药液温度控制，组态王,  PLC</kwd><kwd> Temperature Control</kwd><kwd> Kingview</kwd></kwd-group></article-meta></front><body><sec id="s1"><title>摘要</title><p>随着现代工业自动化水平的提高，工业控制过程中对温度的控制要求也越来越高，尤其是在制药过程中对温度的要求尤其严格，为了确保药液的质量和产量，本文设计了专门针对制药过程的温度控制系统。本设计以制药厂温度控制为例进行设计，选用PLC作为控制核心，通过比较设定温度和实际温度的偏差，由PLC的PID控制器产生控制信号，调节进入药罐的蒸汽流量来实现温度控制。上下位机系统由组态王软件和S7-200 PLC构成，实现了对药液温度的实时监控。</p></sec><sec id="s2"><title>关键词</title><p>PLC，药液温度控制，组态王</p></sec><sec id="s3"><title>Design of Temperature Control System Based on PLC</title><p>Shuo Zhang</p><p>TIANJIN JINGHAI Infrastructure Construction Investment Group, Tianjin</p><p><img src="//html.hanspub.org/file/3-2960156x4_hanspub.png" /></p><p>Received: Feb. 28<sup>th</sup>, 2021; accepted: Mar. 30<sup>th</sup>, 2021; published: Apr. 6<sup>th</sup>, 2021</p><p><img src="//html.hanspub.org/file/3-2960156x5_hanspub.png" /></p></sec><sec id="s4"><title>ABSTRACT</title><p>With the improvement of modern industrial automation level, the requirements of temperature control in the process of industrial control are higher and higher, especially in the pharmaceutical process. In order to ensure the quality and output of liquid medicine, this paper designs a special temperature control system for the pharmaceutical process. This design takes the temperature control of pharmaceutical factory as an example to design. PLC is selected as the control core. By comparing the deviation between the set temperature and the actual temperature, the PID controller of PLC generates the control signal to adjust the steam flow into the medicine tank to realize the temperature control. The upper and lower computer system is composed of Kingview software and S7-200 PLC, which realizes the real-time monitoring of liquid temperature.</p><p>Keywords:PLC, Temperature Control, Kingview</p><disp-formula id="hanspub.41440-formula10"><graphic xlink:href="//html.hanspub.org/file/3-2960156x6_hanspub.png"  xlink:type="simple"/></disp-formula><p>Copyright &#169; 2021 by author(s) and Hans Publishers Inc.</p><p>This work is licensed under the Creative Commons Attribution International License (CC BY 4.0).</p><p>http://creativecommons.org/licenses/by/4.0/</p><p><img src="//html.hanspub.org/file/3-2960156x7_hanspub.png" /> <img src="//html.hanspub.org/file/3-2960156x8_hanspub.png" /></p></sec><sec id="s5"><title>1. 引言</title><p>温度是人们日常生活和工业生产过程中最常见的物理量，随着现代工业自动化水平的提高，工业控制过程中对温度的控制要求也越来越高，产品的质量和产量和生产过程中温度控制的精确度有很大关系，尤其是在制药过程中对温度的要求尤其严格，为了确保药液的质量和产量，设计专门针对制药过程的温度控制系统具有重要的实际意义。</p><p>此外，随着工业自动化水平的不断发展和提高，人们越来越重视控制系统的设计和监控，人机界面逐渐被研究设计出来并广泛应用于工业生产过程，通过人机控制界面可以实现对控制系统各个的参数实时监测、报警、数据和信息处理等。使工业控制过程更简洁化，操作更简便、直观 [<xref ref-type="bibr" rid="hanspub.41440-ref1">1</xref>]。</p></sec><sec id="s6"><title>2. PLC控制器</title><p>PLC具有可靠性高、使用方便、操作简单、控制功能完善、精度高等特点，是工业控制过程中最常用控制器。因此，在工业控制系统中，一般采用人机交互界面产品来实现对整个控制过程的实时监测，PLC为核心控制器和计算机共同组成完整的工业控制系统。本文以某药厂制药过程中的药罐为被控对象，药罐物料温度为被控量进行温度控制系统，采用PID控制，以PLC作为控制器完成温度控制系统设计，实现对药液温度的自动控制 [<xref ref-type="bibr" rid="hanspub.41440-ref2">2</xref>] [<xref ref-type="bibr" rid="hanspub.41440-ref3">3</xref>]。</p><p>PLC可以用来进行数字逻辑运算和操作，是一种具有微处理器的用于自动化控制的数字运算控制器，可以将控制指令随时载入内存进行储存与执行。PLC主要是由CPU模块、存储器、通信接口、I/O模块、扩展接口和电源等部分组成。结合实际控制需求，PLC选用西门子S7-200。</p></sec><sec id="s7"><title>3. 温度控制系统</title><sec id="s7_1"><title>3.1. 温度控制系统结构</title><p>本设计以制药厂温度控制为例进行设计，在该药液制作过程中，要求保持药罐温度在80℃~90℃保持2个小时。选用PLC作为控制核心，通过比较设定温度和实际温度的偏差，由PLC的PID控制器产生控制信号，来调节比例调节阀门的开度，以控制送入药罐的高温蒸汽的流量，从而实现药液温度控制的目的。同时，用流量计来监测加水流量和抽药流量，液位传感器来监测药罐液位和储药箱液位。这样系统不仅能进行温度调控，还能同时对其他物理量进行监测，这样系统更安全可靠。系统有自动控制和手动控制两种模式。</p><p>当处于自动控制时是闭环控制系统。系统工作时先用热电偶检测温度并将其转换为标准量程的电压然，在经过A/D转换后变换为数字量，与设定温度值进行比较，采用PID控制器对误差进行分析产生控制信号，最终控制信号经D/A转换后变为电压信号以控制加热器电压。</p><p>当处于手动控制时是开环控制。操作人员通过在上位机输入数字来改变控制电压，从而控制加热器的电压，实现对药液温度的控制。</p><p>综上所述，温度控制设置手动和自动两种方式。同时对温度、液位、流量等数据进行数据采集，对温控过程进行实时监控，可以通过上位机调看历史曲线。控制要求为：温度保持在规定区间范围，储罐液位低于设定值X2米时，抽药泵停止工作，高于设置值X1米后报警，药罐温度控制方案如图1所示。</p><p>图1. 药罐温度控制方案</p></sec><sec id="s7_2"><title>3.2. 传感器</title><p>在该系统中，我们选用热电偶温度传感器作为测量温度的工具。其原理为：如果两种不同成分的均质导体形成回路，直接测温端叫热端，接线端子端叫冷端，热电偶回路及其示意图如图2所示。当两端存在温差时，回路中将产生一个电动势，该电动势的方向和大小与导体的材料及两接点的温度有关。这种现象称为“热电效应”。热电势的大小只与热电偶导体材质以及两端温差有关，与热电偶导体的长度、直径无关。热电偶温度传感器将药液温度变化转化为电信号的变化，送入PLC中进行调节，从而达到温度控制的目的。该类传感器的测量范围为可达到0℃~1500℃，可以适应更广范围的测量要求。</p><p>图2. 热电偶回路及其示意图</p></sec><sec id="s7_3"><title>3.3. PID控制</title><p>比例、积分、微分控制简称PID控制，是最早发展起来的控制策略之一，由于其算法简单、鲁棒性好和可靠性高，被广泛应用于工业过程控制，至今仍有90%左右的控制回路具有PID结构。</p><p>比例控制可以调整系统的开环增益，提高系统的稳态精度，降低系统的惰性，积分控制其输出与输入误差信号的积分成正比关系，有利于消除系统的稳态误差，微分控制能够敏感感知输入量的变化，尽早做出反应，增加了系统的阻尼程度，提高系统的响应速度。比例、积分、微分三者有效地结合可以满足不同的控制要求。PLC自带PID控制器，是连续的PID控制器，信号为连续变化的模拟量。设p(t)为给定值y(t)为反馈值，误差 e ( t ) = p ( v ) − y ( t ) ，PID控制器的输出 = P + I + D + 初始值，其控制器表达式为：</p><p>u ( t ) = K p [ e ( t ) + 1 T I ∫ 0 t e ( t ) d t + T D d e ( t ) d t ] + u 0 (1)</p><p>式中：K<sub>p</sub>是比例系数，T<sub>I</sub>是积分时间常数，T<sub>D</sub>是微分时间常数，u<sub>0</sub>是输出的初始值。</p><p>通过S7-200的PID指令向导进行控制器设计，通过指令树中的“\向导\PID”图标进入设置界面完成采样时间等基本设置，这里需要注意的是比例、积分。微分时间是由上位机来进行调节控制的。通过向导自动生成PID1_INIT (初始化程序)、PID1_DATA (数据块)、PID1_SYM (符号表)以及PID_EXE (中断程序)。在控制过程中，通过调用PID_EXE执行PID运算。</p></sec><sec id="s7_4"><title>3.4. 控制系统设计</title><p>根据系统设计要求，在PLC中完成药液温度控制系统的设计，首先进行内存地址分配，其次通过PLC程序自带的PID指令向导完成控制器设计，最后根据实际要求完成整体控制系统控制梯形图设计。主程序包括1个子程序和1个中断程序 [<xref ref-type="bibr" rid="hanspub.41440-ref4">4</xref>]。如图3。</p><p>图3. 程序流程图：(a) 主程序；(b) 子程序；(c) 中断程序</p></sec><sec id="s7_5"><title>3.5. 人机交互设计</title><p>组态王，即组态王开发监控系统软件，是新型的工业自动控制系统，它以标准的工业计算机软、硬件平台构成的集成系统取代传统的封闭式系统。具有适应性强、开放性好、易于扩展、经济、开发周期短等优点。通常可以把这样的系统划分为控制层、监控层、管理层三个层次结构。其中，监控层对下连接控制层，对上连接管理层，实现对现场的实时监测与控制，并在自动控制系统中完成上传下达、组态开发的重要作用。结合本设计的应用特点，控制系统的人机交互界面设计选用组态王6.55 [<xref ref-type="bibr" rid="hanspub.41440-ref5">5</xref>] [<xref ref-type="bibr" rid="hanspub.41440-ref6">6</xref>]。</p><p>本系统的上下位机系统由组态王软件和S7-200 PLC构成，人机交互界主界面如图4所示。主要实现以下功能，并在实际制药过程中使用得到了良好的效果。</p><p>1) 药液温度控制系统的启动、停止，手/自动切换；</p><p>2) 药液温度控制过程显示：通过组态王窗口界面可以看到完整控制流程；</p><p>3) 实时监测：药液温度变化实时曲线；</p><p>4) 故障报警：高/低温限报警、高/低液位限报警。</p><p>图4. 药液温度控制系统主界面</p></sec></sec><sec id="s8"><title>4. 总结</title><p>本文以某药厂制药过程中温度为被控量，以PLC作为控制器完成温度控制系统设计，并基于组态王设计了人机界面，实现了对温控过程的实时监控。整体设计可以实现对温度的控制及监控，但是设计、应用环境较为简单，今后继续研究在更复杂的工况下实现温度控制。</p></sec><sec id="s9"><title>文章引用</title><p>张 硕. 基于PLC的药液温度控制系统设计 Design of Temperature Control System Based on PLC[J]. 传感器技术与应用, 2021, 09(02): 52-56. https://doi.org/10.12677/JSTA.2021.92007</p></sec><sec id="s10"><title>参考文献</title></sec></body><back><ref-list><title>References</title><ref id="hanspub.41440-ref1"><label>1</label><mixed-citation publication-type="other" xlink:type="simple">严留俊. 制药生产中罐类设备温度控制系统设计探讨[J]. 化工与医药程, 2018, 39(4): 23-27.</mixed-citation></ref><ref id="hanspub.41440-ref2"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">范强, 董洪波, 马斌. 基于PLC和触摸屏的温度控制系统设计[J]. 机械研究与应用, 2019, 32(3): 154-155+158.</mixed-citation></ref><ref id="hanspub.41440-ref3"><label>3</label><mixed-citation publication-type="other" xlink:type="simple">李国萍. 基于PLC的温度控制系统设计[J]. 科技创新导报, 2010(7): 86.</mixed-citation></ref><ref id="hanspub.41440-ref4"><label>4</label><mixed-citation publication-type="other" xlink:type="simple">李军. 基于西门子S7-200PLC温度控制系统设计[J]. 科技资讯, 2019, 17(8): 73-74.</mixed-citation></ref><ref id="hanspub.41440-ref5"><label>5</label><mixed-citation publication-type="other" xlink:type="simple">李军. 组态软件在PLC教学仿真实验中的应用[J]. 智慧工厂, 2017(10): 40-41+47.</mixed-citation></ref><ref id="hanspub.41440-ref6"><label>6</label><mixed-citation publication-type="other" xlink:type="simple">郭志冬. 基于PLC和组态技术的温度湿度控制系统设计[J]. 济源职业技术学院学报, 2018, 17(3): 79-82.</mixed-citation></ref></ref-list></back></article>